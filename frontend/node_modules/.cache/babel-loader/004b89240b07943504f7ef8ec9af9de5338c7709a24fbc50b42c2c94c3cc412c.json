{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Dropdown,DropdownToggle,DropdownMenu,DropdownItem}from'reactstrap';import moment from'moment';import cookie from'react-cookies';import{Link,navigate}from'@gatsbyjs/reach-router';import{gettext,siteRoot,isPro}from'../../utils/constants';import{seafileAPI}from'../../utils/seafile-api';import{Utils}from'../../utils/utils';import toaster from'../../components/toast';import Repo from'../../models/repo';import Loading from'../../components/loading';import EmptyTip from'../../components/empty-tip';import LibsMobileThead from'../../components/libs-mobile-thead';import ModalPotal from'../../components/modal-portal';import ShareDialog from'../../components/dialog/share-dialog';import SortOptionsDialog from'../../components/dialog/sort-options';import RepoMonitoredIcon from'../../components/repo-monitored-icon';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.freezeItem=function(freezed){_this.setState({isItemFreezed:freezed});};_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.sortByTime=function(e){e.preventDefault();var sortBy='time';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.sortBySize=function(e){e.preventDefault();var sortBy='size';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.state={isItemFreezed:false};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,sortBy=_this$props.sortBy,sortOrder=_this$props.sortOrder;var emptyTip=/*#__PURE__*/_jsxs(EmptyTip,{children:[/*#__PURE__*/_jsx(\"h2\",{children:gettext('No shared libraries')}),/*#__PURE__*/_jsx(\"p\",{children:gettext('No libraries have been shared directly with you. A shared library can be shared with full or restricted permission. If you need access to a library owned by another user, ask the user to share the library with you.')})]});if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center\",children:errorMsg});}else{// sort\nvar sortByName=sortBy=='name';var sortByTime=sortBy=='time';var sortBySize=sortBy=='size';var sortIcon=sortOrder=='asc'?/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-up\"}):/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-down\"});var desktopThead=/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"4%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"4%\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:gettext('Library Type')})}),/*#__PURE__*/_jsx(\"th\",{width:\"34%\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:this.sortByName,children:[gettext('Name'),\" \",sortByName&&sortIcon]})}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:gettext('Actions')})}),/*#__PURE__*/_jsx(\"th\",{width:\"14%\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:this.sortBySize,children:[gettext('Size'),\" \",sortBySize&&sortIcon]})}),/*#__PURE__*/_jsx(\"th\",{width:\"18%\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:this.sortByTime,children:[gettext('Last Update'),\" \",sortByTime&&sortIcon]})}),/*#__PURE__*/_jsx(\"th\",{width:\"16%\",children:gettext('Owner')})]})});var isDesktop=Utils.isDesktop();var table=/*#__PURE__*/_jsxs(\"table\",{className:isDesktop?'':'table-thead-hidden',children:[isDesktop?desktopThead:/*#__PURE__*/_jsx(LibsMobileThead,{}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{data:item,isDesktop:isDesktop,isItemFreezed:_this2.state.isItemFreezed,freezeItem:_this2.freezeItem,onMonitorRepo:_this2.props.onMonitorRepo},index);})})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super2.call(this,props);_this3.toggleOpMenu=function(){_this3.setState({isOpMenuOpen:!_this3.state.isOpMenuOpen},function(){_this3.props.freezeItem(_this3.state.isOpMenuOpen);});};_this3.handleMouseOver=function(){if(!_this3.props.isItemFreezed){_this3.setState({highlight:true,showOpIcon:true});}};_this3.handleMouseOut=function(){if(!_this3.props.isItemFreezed){_this3.setState({highlight:false,showOpIcon:false});}};_this3.share=function(e){e.preventDefault();_this3.setState({isShowSharedDialog:true});};_this3.leaveShare=function(e){e.preventDefault();var data=_this3.props.data;var request;if(data.owner_email.indexOf('@seafile_group')==-1){var options={'share_type':'personal','from':data.owner_email};request=seafileAPI.leaveShareRepo(data.repo_id,options);}else{request=seafileAPI.leaveShareGroupOwnedRepo(data.repo_id);}request.then(function(res){_this3.setState({unshared:true});var message=gettext('Successfully unshared {name}').replace('{name}',data.repo_name);toaster.success(message);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);if(errMessage===gettext('Error')){errMessage=gettext('Failed to unshare {name}').replace('{name}',data.repo_name);}toaster(errMessage);});};_this3.toggleShareDialog=function(){_this3.setState({isShowSharedDialog:false});};_this3.onToggleStarRepo=function(e){e.preventDefault();var repoName=_this3.props.data.repo_name;if(_this3.state.isStarred){seafileAPI.unstarItem(_this3.props.data.repo_id,'/').then(function(){_this3.setState({isStarred:!_this3.state.isStarred});var msg=gettext('Successfully unstarred {library_name_placeholder}.').replace('{library_name_placeholder}',repoName);toaster.success(msg);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});}else{seafileAPI.starItem(_this3.props.data.repo_id,'/').then(function(){_this3.setState({isStarred:!_this3.state.isStarred});var msg=gettext('Successfully starred {library_name_placeholder}.').replace('{library_name_placeholder}',repoName);toaster.success(msg);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});}};_this3.visitRepo=function(){navigate(_this3.repoURL);};_this3.watchFileChanges=function(){var repo=_this3.props.data;seafileAPI.monitorRepo(repo.repo_id).then(function(){_this3.props.onMonitorRepo(repo,true);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.unwatchFileChanges=function(){var repo=_this3.props.data;seafileAPI.unMonitorRepo(repo.repo_id).then(function(){_this3.props.onMonitorRepo(repo,false);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.state={highlight:false,showOpIcon:false,unshared:false,isShowSharedDialog:false,isStarred:_this3.props.data.starred,isOpMenuOpen:false};return _this3;}_createClass(Item,[{key:\"render\",value:function render(){if(this.state.unshared){return null;}var data=this.props.data;data.icon_url=Utils.getLibIconUrl(data);data.icon_title=Utils.getLibIconTitle(data);var iconVisibility=this.state.showOpIcon?'':' invisible';var shareIconClassName='op-icon sf2-icon-share repo-share-btn'+iconVisibility;var leaveShareIconClassName='op-icon sf2-icon-x3'+iconVisibility;var shareRepoUrl=this.repoURL=\"\".concat(siteRoot,\"library/\").concat(data.repo_id,\"/\").concat(Utils.encodePath(data.repo_name),\"/\");// at present, only repo shared with 'r', 'rw' can be monitored.(Fri Feb 10 16:24:49 CST 2023)\nvar enableMonitorRepo=isPro&&(data.permission=='r'||data.permission=='rw');var desktopItem=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleMouseOver,children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",role:\"button\",\"aria-label\":this.state.isStarred?gettext('Unstar'):gettext('Star'),onClick:this.onToggleStarRepo,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-star \".concat(this.state.isStarred?'fas':'far star-empty')})})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:data.icon_url,title:data.icon_title,alt:data.icon_title,width:\"24\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Link,{to:shareRepoUrl,children:data.repo_name}),data.monitored&&/*#__PURE__*/_jsx(RepoMonitoredIcon,{repoID:data.repo_id})]})}),/*#__PURE__*/_jsxs(\"td\",{children:[isPro&&data.is_admin&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:shareIconClassName,title:gettext('Share'),role:\"button\",\"aria-label\":gettext('Share'),onClick:this.share}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:leaveShareIconClassName,title:gettext('Leave Share'),role:\"button\",\"aria-label\":gettext('Leave Share'),onClick:this.leaveShare}),enableMonitorRepo&&/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isOpMenuOpen,toggle:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"i\",role:\"button\",tabIndex:\"0\",className:\"sf-dropdown-toggle sf2-icon-caret-down\".concat(iconVisibility),title:gettext('More operations'),\"aria-label\":gettext('More operations'),\"data-toggle\":\"dropdown\",\"aria-expanded\":this.state.isOpMenuOpen}),/*#__PURE__*/_jsx(DropdownMenu,{children:/*#__PURE__*/_jsx(DropdownItem,{onClick:data.monitored?this.unwatchFileChanges:this.watchFileChanges,children:data.monitored?gettext('Unwatch File Changes'):gettext('Watch File Changes')})})]})]}),/*#__PURE__*/_jsx(\"td\",{children:data.size}),/*#__PURE__*/_jsx(\"td\",{title:moment(data.last_modified).format('llll'),children:moment(data.last_modified).fromNow()}),/*#__PURE__*/_jsx(\"td\",{title:data.owner_contact_email,children:data.owner_name})]}),this.state.isShowSharedDialog&&/*#__PURE__*/_jsx(ModalPotal,{children:/*#__PURE__*/_jsx(ShareDialog,{itemType:'library',itemName:data.repo_name,itemPath:'/',repoID:data.repo_id,repoEncrypted:data.encrypted,enableDirPrivateShare:true,userPerm:data.permission,isAdmin:true,toggleDialog:this.toggleShareDialog})})]});var mobileItem=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,children:[/*#__PURE__*/_jsx(\"td\",{onClick:this.visitRepo,children:/*#__PURE__*/_jsx(\"img\",{src:data.icon_url,title:data.icon_title,alt:data.icon_title,width:\"24\"})}),/*#__PURE__*/_jsxs(\"td\",{onClick:this.visitRepo,children:[/*#__PURE__*/_jsx(Link,{to:shareRepoUrl,children:data.repo_name}),data.monitored&&/*#__PURE__*/_jsx(RepoMonitoredIcon,{repoID:data.repo_id}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info\",title:data.owner_contact_email,children:data.owner_name}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info\",children:data.size}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info\",title:moment(data.last_modified).format('llll'),children:moment(data.last_modified).fromNow()})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isOpMenuOpen,toggle:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"i\",className:\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\",title:gettext('More operations'),\"data-toggle\":\"dropdown\",\"aria-expanded\":this.state.isOpMenuOpen}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.isOpMenuOpen?'':'d-none',onClick:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mobile-operation-menu-bg-layer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-operation-menu\",children:[/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.onToggleStarRepo,children:this.state.isStarred?gettext('Unstar'):gettext('Star')}),isPro&&data.is_admin&&/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.share,children:gettext('Share')}),/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.leaveShare,children:gettext('Leave Share')}),enableMonitorRepo&&/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:data.monitored?this.unwatchFileChanges:this.watchFileChanges,children:data.monitored?gettext('Unwatch File Changes'):gettext('Watch File Changes')})]})]})]})})]}),this.state.isShowSharedDialog&&/*#__PURE__*/_jsx(ModalPotal,{children:/*#__PURE__*/_jsx(ShareDialog,{itemType:'library',itemName:data.repo_name,itemPath:'/',repoID:data.repo_id,repoEncrypted:data.encrypted,enableDirPrivateShare:true,userPerm:data.permission,isAdmin:true,toggleDialog:this.toggleShareDialog})})]});return this.props.isDesktop?desktopItem:mobileItem;}}]);return Item;}(Component);var SharedLibraries=/*#__PURE__*/function(_Component3){_inherits(SharedLibraries,_Component3);var _super3=_createSuper(SharedLibraries);function SharedLibraries(props){var _this4;_classCallCheck(this,SharedLibraries);_this4=_super3.call(this,props);_this4.sortItems=function(sortBy,sortOrder){cookie.save('seafile-repo-dir-sort-by',sortBy);cookie.save('seafile-repo-dir-sort-order',sortOrder);_this4.setState({sortBy:sortBy,sortOrder:sortOrder,items:Utils.sortRepos(_this4.state.items,sortBy,sortOrder)});};_this4.toggleSortOptionsDialog=function(){_this4.setState({isSortOptionsDialogOpen:!_this4.state.isSortOptionsDialogOpen});};_this4.onMonitorRepo=function(repo,monitored){var items=_this4.state.items.map(function(item){if(item.repo_id===repo.repo_id){item.monitored=monitored;}return item;});_this4.setState({items:items});};_this4.state={loading:true,errorMsg:'',items:[],sortBy:cookie.load('seafile-repo-dir-sort-by')||'name',// 'name' or 'time' or 'size'\nsortOrder:cookie.load('seafile-repo-dir-sort-order')||'asc',// 'asc' or 'desc'\nisSortOptionsDialogOpen:false};return _this4;}_createClass(SharedLibraries,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;seafileAPI.listRepos({type:'shared'}).then(function(res){var repoList=res.data.repos.map(function(item){return new Repo(item);});_this5.setState({loading:false,items:Utils.sortRepos(repoList,_this5.state.sortBy,_this5.state.sortOrder)});}).catch(function(error){_this5.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-path\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"sf-heading m-0\",children:gettext('Shared with me')}),!Utils.isDesktop()&&this.state.items.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"sf3-font sf3-font-sort action-icon\",onClick:this.toggleSortOptionsDialog})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.items,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,onMonitorRepo:this.onMonitorRepo})})]})}),this.state.isSortOptionsDialogOpen&&/*#__PURE__*/_jsx(SortOptionsDialog,{toggleDialog:this.toggleSortOptionsDialog,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems})]});}}]);return SharedLibraries;}(Component);export default SharedLibraries;","map":{"version":3,"names":["React","Component","Fragment","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","moment","cookie","Link","navigate","gettext","siteRoot","isPro","seafileAPI","Utils","toaster","Repo","Loading","EmptyTip","LibsMobileThead","ModalPotal","ShareDialog","SortOptionsDialog","RepoMonitoredIcon","jsx","_jsx","jsxs","_jsxs","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","freezeItem","freezed","setState","isItemFreezed","sortByName","e","preventDefault","sortBy","sortOrder","sortItems","sortByTime","sortBySize","state","_createClass","key","value","render","_this2","_this$props","loading","errorMsg","items","emptyTip","children","className","sortIcon","desktopThead","width","href","onClick","isDesktop","table","map","item","index","Item","data","onMonitorRepo","length","_Component2","_super2","_this3","toggleOpMenu","isOpMenuOpen","handleMouseOver","highlight","showOpIcon","handleMouseOut","share","isShowSharedDialog","leaveShare","request","owner_email","indexOf","options","leaveShareRepo","repo_id","leaveShareGroupOwnedRepo","then","res","unshared","message","replace","repo_name","success","catch","error","errMessage","getErrorMsg","toggleShareDialog","onToggleStarRepo","repoName","isStarred","unstarItem","msg","danger","starItem","visitRepo","repoURL","watchFileChanges","repo","monitorRepo","unwatchFileChanges","unMonitorRepo","starred","icon_url","getLibIconUrl","icon_title","getLibIconTitle","iconVisibility","shareIconClassName","leaveShareIconClassName","shareRepoUrl","concat","encodePath","enableMonitorRepo","permission","desktopItem","onMouseOver","onMouseOut","onFocus","role","src","title","alt","to","monitored","repoID","is_admin","isOpen","toggle","tag","tabIndex","size","last_modified","format","fromNow","owner_contact_email","owner_name","itemType","itemName","itemPath","repoEncrypted","encrypted","enableDirPrivateShare","userPerm","isAdmin","toggleDialog","mobileItem","SharedLibraries","_Component3","_super3","_this4","save","sortRepos","toggleSortOptionsDialog","isSortOptionsDialogOpen","load","componentDidMount","_this5","listRepos","type","repoList","repos"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/shared-libs/shared-libs.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport cookie from 'react-cookies';\nimport { Link, navigate } from '@gatsbyjs/reach-router';\nimport { gettext, siteRoot, isPro } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport Repo from '../../models/repo';\nimport Loading from '../../components/loading';\nimport EmptyTip from '../../components/empty-tip';\nimport LibsMobileThead from '../../components/libs-mobile-thead';\nimport ModalPotal from '../../components/modal-portal';\nimport ShareDialog from '../../components/dialog/share-dialog';\nimport SortOptionsDialog from '../../components/dialog/sort-options';\nimport RepoMonitoredIcon from '../../components/repo-monitored-icon';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  freezeItem = (freezed) => {\n    this.setState({\n      isItemFreezed: freezed\n    });\n  };\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  };\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    const sortBy = 'time';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  };\n\n  sortBySize = (e) => {\n    e.preventDefault();\n    const sortBy = 'size';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  };\n\n  render() {\n    const { loading, errorMsg, items, sortBy, sortOrder } = this.props;\n\n    const emptyTip = (\n      <EmptyTip>\n        <h2>{gettext('No shared libraries')}</h2>\n        <p>{gettext('No libraries have been shared directly with you. A shared library can be shared with full or restricted permission. If you need access to a library owned by another user, ask the user to share the library with you.')}</p>\n      </EmptyTip>\n    );\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      // sort\n      const sortByName = sortBy == 'name';\n      const sortByTime = sortBy == 'time';\n      const sortBySize = sortBy == 'size';\n      const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n      const desktopThead = (\n        <thead>\n          <tr>\n            <th width=\"4%\"></th>\n            <th width=\"4%\"><span className=\"sr-only\">{gettext('Library Type')}</span></th>\n            <th width=\"34%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n            <th width=\"10%\"><span className=\"sr-only\">{gettext('Actions')}</span></th>\n            <th width=\"14%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortBySize}>{gettext('Size')} {sortBySize && sortIcon}</a></th>\n            <th width=\"18%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Last Update')} {sortByTime && sortIcon}</a></th>\n            <th width=\"16%\">{gettext('Owner')}</th>\n          </tr>\n        </thead>\n      );\n\n      const isDesktop = Utils.isDesktop();\n      const table = (\n        <table className={isDesktop ? '' : 'table-thead-hidden'}>\n          {isDesktop ? desktopThead : <LibsMobileThead />}\n          <tbody>\n            {items.map((item, index) => {\n              return <Item\n                key={index}\n                data={item}\n                isDesktop={isDesktop}\n                isItemFreezed={this.state.isItemFreezed}\n                freezeItem={this.freezeItem}\n                onMonitorRepo={this.props.onMonitorRepo}\n              />;\n            })}\n          </tbody>\n        </table>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  onMonitorRepo: PropTypes.func.isRequired\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showOpIcon: false,\n      unshared: false,\n      isShowSharedDialog: false,\n      isStarred: this.props.data.starred,\n      isOpMenuOpen: false\n    };\n  }\n\n  toggleOpMenu = () => {\n    this.setState({\n      isOpMenuOpen: !this.state.isOpMenuOpen\n    }, () => {\n      this.props.freezeItem(this.state.isOpMenuOpen);\n    });\n  };\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: true,\n        showOpIcon: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: false,\n        showOpIcon: false\n      });\n    }\n  };\n\n  share = (e) => {\n    e.preventDefault();\n    this.setState({isShowSharedDialog: true});\n  };\n\n  leaveShare = (e) => {\n    e.preventDefault();\n\n    const data = this.props.data;\n\n    let request;\n    if (data.owner_email.indexOf('@seafile_group') == -1) {\n      let options = {\n        'share_type': 'personal',\n        'from': data.owner_email\n      };\n      request = seafileAPI.leaveShareRepo(data.repo_id, options);\n    } else {\n      request = seafileAPI.leaveShareGroupOwnedRepo(data.repo_id);\n    }\n\n    request.then((res) => {\n      this.setState({unshared: true});\n      let message = gettext('Successfully unshared {name}').replace('{name}', data.repo_name);\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      if (errMessage === gettext('Error')) {\n        errMessage = gettext('Failed to unshare {name}').replace('{name}', data.repo_name);\n      }\n      toaster(errMessage);\n    });\n  };\n\n  toggleShareDialog = () => {\n    this.setState({isShowSharedDialog: false});\n  };\n\n  onToggleStarRepo = (e) => {\n    e.preventDefault();\n    const repoName = this.props.data.repo_name;\n    if (this.state.isStarred) {\n      seafileAPI.unstarItem(this.props.data.repo_id, '/').then(() => {\n        this.setState({isStarred: !this.state.isStarred});\n        const msg = gettext('Successfully unstarred {library_name_placeholder}.')\n          .replace('{library_name_placeholder}', repoName);\n        toaster.success(msg);\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      seafileAPI.starItem(this.props.data.repo_id, '/').then(() => {\n        this.setState({isStarred: !this.state.isStarred});\n        const msg = gettext('Successfully starred {library_name_placeholder}.')\n          .replace('{library_name_placeholder}', repoName);\n        toaster.success(msg);\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    }\n  };\n\n  visitRepo = () => {\n    navigate(this.repoURL);\n  };\n\n  watchFileChanges = () => {\n    const { data: repo } = this.props;\n    seafileAPI.monitorRepo(repo.repo_id).then(() => {\n      this.props.onMonitorRepo(repo, true);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  unwatchFileChanges = () => {\n    const { data: repo } = this.props;\n    seafileAPI.unMonitorRepo(repo.repo_id).then(() => {\n      this.props.onMonitorRepo(repo, false);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    if (this.state.unshared) {\n      return null;\n    }\n\n    const data = this.props.data;\n\n    data.icon_url = Utils.getLibIconUrl(data);\n    data.icon_title = Utils.getLibIconTitle(data);\n\n    let iconVisibility = this.state.showOpIcon ? '' : ' invisible';\n    let shareIconClassName = 'op-icon sf2-icon-share repo-share-btn' + iconVisibility;\n    let leaveShareIconClassName = 'op-icon sf2-icon-x3' + iconVisibility;\n    let shareRepoUrl = this.repoURL = `${siteRoot}library/${data.repo_id}/${Utils.encodePath(data.repo_name)}/`;\n\n    // at present, only repo shared with 'r', 'rw' can be monitored.(Fri Feb 10 16:24:49 CST 2023)\n    const enableMonitorRepo = isPro && (data.permission == 'r' || data.permission == 'rw');\n\n    const desktopItem = (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut} onFocus={this.handleMouseOver}>\n          <td className=\"text-center\">\n            <a href=\"#\" role=\"button\" aria-label={this.state.isStarred ? gettext('Unstar') : gettext('Star')} onClick={this.onToggleStarRepo}>\n              <i className={`fa-star ${this.state.isStarred ? 'fas' : 'far star-empty'}`}></i>\n            </a>\n          </td>\n          <td><img src={data.icon_url} title={data.icon_title} alt={data.icon_title} width=\"24\" /></td>\n          <td>\n            <Fragment>\n              <Link to={shareRepoUrl}>{data.repo_name}</Link>\n              {data.monitored && <RepoMonitoredIcon repoID={data.repo_id} />}\n            </Fragment>\n          </td>\n          <td>\n            {(isPro && data.is_admin) &&\n              <a href=\"#\" className={shareIconClassName} title={gettext('Share')} role=\"button\" aria-label={gettext('Share')} onClick={this.share}></a>\n            }\n            <a href=\"#\" className={leaveShareIconClassName} title={gettext('Leave Share')} role=\"button\" aria-label={gettext('Leave Share')} onClick={this.leaveShare}></a>\n            {enableMonitorRepo &&\n            <Dropdown isOpen={this.state.isOpMenuOpen} toggle={this.toggleOpMenu}>\n              <DropdownToggle\n                tag=\"i\"\n                role=\"button\"\n                tabIndex=\"0\"\n                className={`sf-dropdown-toggle sf2-icon-caret-down${iconVisibility}`}\n                title={gettext('More operations')}\n                aria-label={gettext('More operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isOpMenuOpen}\n              />\n              <DropdownMenu>\n                <DropdownItem onClick={data.monitored ? this.unwatchFileChanges : this.watchFileChanges}>{data.monitored ? gettext('Unwatch File Changes') : gettext('Watch File Changes')}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </td>\n          <td>{data.size}</td>\n          <td title={moment(data.last_modified).format('llll')}>{moment(data.last_modified).fromNow()}</td>\n          <td title={data.owner_contact_email}>{data.owner_name}</td>\n        </tr>\n        {this.state.isShowSharedDialog && (\n          <ModalPotal>\n            <ShareDialog\n              itemType={'library'}\n              itemName={data.repo_name}\n              itemPath={'/'}\n              repoID={data.repo_id}\n              repoEncrypted={data.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={data.permission}\n              isAdmin={true}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPotal>\n        )}\n      </Fragment>\n    );\n\n    const mobileItem = (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td onClick={this.visitRepo}><img src={data.icon_url} title={data.icon_title} alt={data.icon_title} width=\"24\" /></td>\n          <td onClick={this.visitRepo}>\n            <Link to={shareRepoUrl}>{data.repo_name}</Link>\n            {data.monitored && <RepoMonitoredIcon repoID={data.repo_id} />}\n            <br />\n            <span className=\"item-meta-info\" title={data.owner_contact_email}>{data.owner_name}</span>\n            <span className=\"item-meta-info\">{data.size}</span>\n            <span className=\"item-meta-info\" title={moment(data.last_modified).format('llll')}>{moment(data.last_modified).fromNow()}</span>\n          </td>\n          <td>\n            <Dropdown isOpen={this.state.isOpMenuOpen} toggle={this.toggleOpMenu}>\n              <DropdownToggle\n                tag=\"i\"\n                className=\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\"\n                title={gettext('More operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isOpMenuOpen}\n              />\n              <div className={this.state.isOpMenuOpen ? '' : 'd-none'} onClick={this.toggleOpMenu}>\n                <div className=\"mobile-operation-menu-bg-layer\"></div>\n                <div className=\"mobile-operation-menu\">\n                  <DropdownItem className=\"mobile-menu-item\" onClick={this.onToggleStarRepo}>{this.state.isStarred ? gettext('Unstar') : gettext('Star')}</DropdownItem>\n                  {(isPro && data.is_admin) && <DropdownItem className=\"mobile-menu-item\" onClick={this.share}>{gettext('Share')}</DropdownItem>}\n                  <DropdownItem className=\"mobile-menu-item\" onClick={this.leaveShare}>{gettext('Leave Share')}</DropdownItem>\n                  {enableMonitorRepo && <DropdownItem className=\"mobile-menu-item\" onClick={data.monitored ? this.unwatchFileChanges : this.watchFileChanges}>{data.monitored ? gettext('Unwatch File Changes') : gettext('Watch File Changes')}</DropdownItem>}\n                </div>\n              </div>\n            </Dropdown>\n          </td>\n        </tr>\n        {this.state.isShowSharedDialog && (\n          <ModalPotal>\n            <ShareDialog\n              itemType={'library'}\n              itemName={data.repo_name}\n              itemPath={'/'}\n              repoID={data.repo_id}\n              repoEncrypted={data.encrypted}\n              enableDirPrivateShare={true}\n              userPerm={data.permission}\n              isAdmin={true}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPotal>\n        )}\n      </Fragment>\n    );\n\n    return this.props.isDesktop ? desktopItem : mobileItem;\n  }\n}\n\nItem.propTypes = {\n  isDesktop: PropTypes.bool.isRequired,\n  data: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  freezeItem: PropTypes.func.isRequired,\n  onMonitorRepo: PropTypes.func.isRequired\n};\n\nclass SharedLibraries extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      sortBy: cookie.load('seafile-repo-dir-sort-by') || 'name', // 'name' or 'time' or 'size'\n      sortOrder: cookie.load('seafile-repo-dir-sort-order') || 'asc', // 'asc' or 'desc'\n      isSortOptionsDialogOpen: false\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listRepos({type:'shared'}).then((res) => {\n      let repoList = res.data.repos.map((item) => {\n        return new Repo(item);\n      });\n      this.setState({\n        loading: false,\n        items: Utils.sortRepos(repoList, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    cookie.save('seafile-repo-dir-sort-by', sortBy);\n    cookie.save('seafile-repo-dir-sort-order', sortOrder);\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: Utils.sortRepos(this.state.items, sortBy, sortOrder)\n    });\n  };\n\n  toggleSortOptionsDialog = () => {\n    this.setState({\n      isSortOptionsDialogOpen: !this.state.isSortOptionsDialogOpen\n    });\n  };\n\n  onMonitorRepo = (repo, monitored) => {\n    let items = this.state.items.map(item => {\n      if (item.repo_id === repo.repo_id) {\n        item.monitored = monitored;\n      }\n      return item;\n    });\n    this.setState({items: items});\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading m-0\">{gettext('Shared with me')}</h3>\n              {(!Utils.isDesktop() && this.state.items.length > 0) && <span className=\"sf3-font sf3-font-sort action-icon\" onClick={this.toggleSortOptionsDialog}></span>}\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortItems={this.sortItems}\n                onMonitorRepo={this.onMonitorRepo}\n              />\n            </div>\n          </div>\n        </div>\n        {this.state.isSortOptionsDialogOpen &&\n        <SortOptionsDialog\n          toggleDialog={this.toggleSortOptionsDialog}\n          sortBy={this.state.sortBy}\n          sortOrder={this.state.sortOrder}\n          sortItems={this.sortItems}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default SharedLibraries;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,QAAQ,CAAEC,cAAc,CAAEC,YAAY,CAAEC,YAAY,KAAQ,YAAY,CAEjF,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,MAAO,CAAAC,MAAM,KAAM,eAAe,CAClC,OAASC,IAAI,CAAEC,QAAQ,KAAQ,wBAAwB,CACvD,OAASC,OAAO,CAAEC,QAAQ,CAAEC,KAAK,KAAQ,uBAAuB,CAChE,OAASC,UAAU,KAAQ,yBAAyB,CACpD,OAASC,KAAK,KAAQ,mBAAmB,CACzC,MAAO,CAAAC,OAAO,KAAM,wBAAwB,CAC5C,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,MAAO,CAAAC,OAAO,KAAM,0BAA0B,CAC9C,MAAO,CAAAC,QAAQ,KAAM,4BAA4B,CACjD,MAAO,CAAAC,eAAe,KAAM,oCAAoC,CAChE,MAAO,CAAAC,UAAU,KAAM,+BAA+B,CACtD,MAAO,CAAAC,WAAW,KAAM,sCAAsC,CAC9D,MAAO,CAAAC,iBAAiB,KAAM,sCAAsC,CACpE,MAAO,CAAAC,iBAAiB,KAAM,sCAAsC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAE/D,CAAAC,OAAO,uBAAAC,UAAA,EAAAC,SAAA,CAAAF,OAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,OAAA,EAEX,SAAAA,QAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,OAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAMfG,UAAU,CAAG,SAACC,OAAO,CAAK,CACxBJ,KAAA,CAAKK,QAAQ,CAAC,CACZC,aAAa,CAAEF,OACjB,CAAC,CAAC,CACJ,CAAC,CAAAJ,KAAA,CAEDO,UAAU,CAAG,SAACC,CAAC,CAAK,CAClBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAM,CAAAC,MAAM,CAAG,MAAM,CACrB,GAAM,CAAAC,SAAS,CAAGX,KAAA,CAAKD,KAAK,CAACY,SAAS,EAAI,KAAK,CAAG,MAAM,CAAG,KAAK,CAChEX,KAAA,CAAKD,KAAK,CAACa,SAAS,CAACF,MAAM,CAAEC,SAAS,CAAC,CACzC,CAAC,CAAAX,KAAA,CAEDa,UAAU,CAAG,SAACL,CAAC,CAAK,CAClBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAM,CAAAC,MAAM,CAAG,MAAM,CACrB,GAAM,CAAAC,SAAS,CAAGX,KAAA,CAAKD,KAAK,CAACY,SAAS,EAAI,KAAK,CAAG,MAAM,CAAG,KAAK,CAChEX,KAAA,CAAKD,KAAK,CAACa,SAAS,CAACF,MAAM,CAAEC,SAAS,CAAC,CACzC,CAAC,CAAAX,KAAA,CAEDc,UAAU,CAAG,SAACN,CAAC,CAAK,CAClBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAM,CAAAC,MAAM,CAAG,MAAM,CACrB,GAAM,CAAAC,SAAS,CAAGX,KAAA,CAAKD,KAAK,CAACY,SAAS,EAAI,KAAK,CAAG,MAAM,CAAG,KAAK,CAChEX,KAAA,CAAKD,KAAK,CAACa,SAAS,CAACF,MAAM,CAAEC,SAAS,CAAC,CACzC,CAAC,CA9BCX,KAAA,CAAKe,KAAK,CAAG,CACXT,aAAa,CAAE,KACjB,CAAC,CAAC,OAAAN,KAAA,CACJ,CAACgB,YAAA,CAAAtB,OAAA,GAAAuB,GAAA,UAAAC,KAAA,CA6BD,SAAAC,OAAA,CAAS,KAAAC,MAAA,MACP,IAAAC,WAAA,CAAwD,IAAI,CAACtB,KAAK,CAA1DuB,OAAO,CAAAD,WAAA,CAAPC,OAAO,CAAEC,QAAQ,CAAAF,WAAA,CAARE,QAAQ,CAAEC,KAAK,CAAAH,WAAA,CAALG,KAAK,CAAEd,MAAM,CAAAW,WAAA,CAANX,MAAM,CAAEC,SAAS,CAAAU,WAAA,CAATV,SAAS,CAEnD,GAAM,CAAAc,QAAQ,cACZhC,KAAA,CAACT,QAAQ,EAAA0C,QAAA,eACPnC,IAAA,OAAAmC,QAAA,CAAKlD,OAAO,CAAC,qBAAqB,CAAC,CAAK,CAAC,cACzCe,IAAA,MAAAmC,QAAA,CAAIlD,OAAO,CAAC,wNAAwN,CAAC,CAAI,CAAC,EAClO,CACX,CAED,GAAI8C,OAAO,CAAE,CACX,mBAAO/B,IAAA,CAACR,OAAO,GAAE,CAAC,CACpB,CAAC,IAAM,IAAIwC,QAAQ,CAAE,CACnB,mBAAOhC,IAAA,MAAGoC,SAAS,CAAC,mBAAmB,CAAAD,QAAA,CAAEH,QAAQ,CAAI,CAAC,CACxD,CAAC,IAAM,CACL;AACA,GAAM,CAAAhB,UAAU,CAAGG,MAAM,EAAI,MAAM,CACnC,GAAM,CAAAG,UAAU,CAAGH,MAAM,EAAI,MAAM,CACnC,GAAM,CAAAI,UAAU,CAAGJ,MAAM,EAAI,MAAM,CACnC,GAAM,CAAAkB,QAAQ,CAAGjB,SAAS,EAAI,KAAK,cAAGpB,IAAA,SAAMoC,SAAS,CAAC,iBAAiB,CAAO,CAAC,cAAGpC,IAAA,SAAMoC,SAAS,CAAC,mBAAmB,CAAO,CAAC,CAE7H,GAAM,CAAAE,YAAY,cAChBtC,IAAA,UAAAmC,QAAA,cACEjC,KAAA,OAAAiC,QAAA,eACEnC,IAAA,OAAIuC,KAAK,CAAC,IAAI,CAAK,CAAC,cACpBvC,IAAA,OAAIuC,KAAK,CAAC,IAAI,CAAAJ,QAAA,cAACnC,IAAA,SAAMoC,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAElD,OAAO,CAAC,cAAc,CAAC,CAAO,CAAC,CAAI,CAAC,cAC9Ee,IAAA,OAAIuC,KAAK,CAAC,KAAK,CAAAJ,QAAA,cAACjC,KAAA,MAAGkC,SAAS,CAAC,uBAAuB,CAACI,IAAI,CAAC,GAAG,CAACC,OAAO,CAAE,IAAI,CAACzB,UAAW,CAAAmB,QAAA,EAAElD,OAAO,CAAC,MAAM,CAAC,CAAC,GAAC,CAAC+B,UAAU,EAAIqB,QAAQ,EAAI,CAAC,CAAI,CAAC,cAC3IrC,IAAA,OAAIuC,KAAK,CAAC,KAAK,CAAAJ,QAAA,cAACnC,IAAA,SAAMoC,SAAS,CAAC,SAAS,CAAAD,QAAA,CAAElD,OAAO,CAAC,SAAS,CAAC,CAAO,CAAC,CAAI,CAAC,cAC1Ee,IAAA,OAAIuC,KAAK,CAAC,KAAK,CAAAJ,QAAA,cAACjC,KAAA,MAAGkC,SAAS,CAAC,uBAAuB,CAACI,IAAI,CAAC,GAAG,CAACC,OAAO,CAAE,IAAI,CAAClB,UAAW,CAAAY,QAAA,EAAElD,OAAO,CAAC,MAAM,CAAC,CAAC,GAAC,CAACsC,UAAU,EAAIc,QAAQ,EAAI,CAAC,CAAI,CAAC,cAC3IrC,IAAA,OAAIuC,KAAK,CAAC,KAAK,CAAAJ,QAAA,cAACjC,KAAA,MAAGkC,SAAS,CAAC,uBAAuB,CAACI,IAAI,CAAC,GAAG,CAACC,OAAO,CAAE,IAAI,CAACnB,UAAW,CAAAa,QAAA,EAAElD,OAAO,CAAC,aAAa,CAAC,CAAC,GAAC,CAACqC,UAAU,EAAIe,QAAQ,EAAI,CAAC,CAAI,CAAC,cAClJrC,IAAA,OAAIuC,KAAK,CAAC,KAAK,CAAAJ,QAAA,CAAElD,OAAO,CAAC,OAAO,CAAC,CAAK,CAAC,EACrC,CAAC,CACA,CACR,CAED,GAAM,CAAAyD,SAAS,CAAGrD,KAAK,CAACqD,SAAS,CAAC,CAAC,CACnC,GAAM,CAAAC,KAAK,cACTzC,KAAA,UAAOkC,SAAS,CAAEM,SAAS,CAAG,EAAE,CAAG,oBAAqB,CAAAP,QAAA,EACrDO,SAAS,CAAGJ,YAAY,cAAGtC,IAAA,CAACN,eAAe,GAAE,CAAC,cAC/CM,IAAA,UAAAmC,QAAA,CACGF,KAAK,CAACW,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAK,CAC1B,mBAAO9C,IAAA,CAAC+C,IAAI,EAEVC,IAAI,CAAEH,IAAK,CACXH,SAAS,CAAEA,SAAU,CACrB3B,aAAa,CAAEc,MAAI,CAACL,KAAK,CAACT,aAAc,CACxCH,UAAU,CAAEiB,MAAI,CAACjB,UAAW,CAC5BqC,aAAa,CAAEpB,MAAI,CAACrB,KAAK,CAACyC,aAAc,EALnCH,KAMN,CAAC,CACJ,CAAC,CAAC,CACG,CAAC,EACH,CACR,CAED,MAAO,CAAAb,KAAK,CAACiB,MAAM,CAAGP,KAAK,CAAGT,QAAQ,CACxC,CACF,CAAC,WAAA/B,OAAA,GA5FmB5B,SAAS,KAyGzB,CAAAwE,IAAI,uBAAAI,WAAA,EAAA9C,SAAA,CAAA0C,IAAA,CAAAI,WAAA,MAAAC,OAAA,CAAA7C,YAAA,CAAAwC,IAAA,EAER,SAAAA,KAAYvC,KAAK,CAAE,KAAA6C,MAAA,CAAA3C,eAAA,MAAAqC,IAAA,EACjBM,MAAA,CAAAD,OAAA,CAAAzC,IAAA,MAAMH,KAAK,EAAE6C,MAAA,CAWfC,YAAY,CAAG,UAAM,CACnBD,MAAA,CAAKvC,QAAQ,CAAC,CACZyC,YAAY,CAAE,CAACF,MAAA,CAAK7B,KAAK,CAAC+B,YAC5B,CAAC,CAAE,UAAM,CACPF,MAAA,CAAK7C,KAAK,CAACI,UAAU,CAACyC,MAAA,CAAK7B,KAAK,CAAC+B,YAAY,CAAC,CAChD,CAAC,CAAC,CACJ,CAAC,CAAAF,MAAA,CAEDG,eAAe,CAAG,UAAM,CACtB,GAAI,CAACH,MAAA,CAAK7C,KAAK,CAACO,aAAa,CAAE,CAC7BsC,MAAA,CAAKvC,QAAQ,CAAC,CACZ2C,SAAS,CAAE,IAAI,CACfC,UAAU,CAAE,IACd,CAAC,CAAC,CACJ,CACF,CAAC,CAAAL,MAAA,CAEDM,cAAc,CAAG,UAAM,CACrB,GAAI,CAACN,MAAA,CAAK7C,KAAK,CAACO,aAAa,CAAE,CAC7BsC,MAAA,CAAKvC,QAAQ,CAAC,CACZ2C,SAAS,CAAE,KAAK,CAChBC,UAAU,CAAE,KACd,CAAC,CAAC,CACJ,CACF,CAAC,CAAAL,MAAA,CAEDO,KAAK,CAAG,SAAC3C,CAAC,CAAK,CACbA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBmC,MAAA,CAAKvC,QAAQ,CAAC,CAAC+C,kBAAkB,CAAE,IAAI,CAAC,CAAC,CAC3C,CAAC,CAAAR,MAAA,CAEDS,UAAU,CAAG,SAAC7C,CAAC,CAAK,CAClBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAElB,GAAM,CAAA8B,IAAI,CAAGK,MAAA,CAAK7C,KAAK,CAACwC,IAAI,CAE5B,GAAI,CAAAe,OAAO,CACX,GAAIf,IAAI,CAACgB,WAAW,CAACC,OAAO,CAAC,gBAAgB,CAAC,EAAI,CAAC,CAAC,CAAE,CACpD,GAAI,CAAAC,OAAO,CAAG,CACZ,YAAY,CAAE,UAAU,CACxB,MAAM,CAAElB,IAAI,CAACgB,WACf,CAAC,CACDD,OAAO,CAAG3E,UAAU,CAAC+E,cAAc,CAACnB,IAAI,CAACoB,OAAO,CAAEF,OAAO,CAAC,CAC5D,CAAC,IAAM,CACLH,OAAO,CAAG3E,UAAU,CAACiF,wBAAwB,CAACrB,IAAI,CAACoB,OAAO,CAAC,CAC7D,CAEAL,OAAO,CAACO,IAAI,CAAC,SAACC,GAAG,CAAK,CACpBlB,MAAA,CAAKvC,QAAQ,CAAC,CAAC0D,QAAQ,CAAE,IAAI,CAAC,CAAC,CAC/B,GAAI,CAAAC,OAAO,CAAGxF,OAAO,CAAC,8BAA8B,CAAC,CAACyF,OAAO,CAAC,QAAQ,CAAE1B,IAAI,CAAC2B,SAAS,CAAC,CACvFrF,OAAO,CAACsF,OAAO,CAACH,OAAO,CAAC,CAC1B,CAAC,CAAC,CAACI,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChB,GAAI,CAAAC,UAAU,CAAG1F,KAAK,CAAC2F,WAAW,CAACF,KAAK,CAAC,CACzC,GAAIC,UAAU,GAAK9F,OAAO,CAAC,OAAO,CAAC,CAAE,CACnC8F,UAAU,CAAG9F,OAAO,CAAC,0BAA0B,CAAC,CAACyF,OAAO,CAAC,QAAQ,CAAE1B,IAAI,CAAC2B,SAAS,CAAC,CACpF,CACArF,OAAO,CAACyF,UAAU,CAAC,CACrB,CAAC,CAAC,CACJ,CAAC,CAAA1B,MAAA,CAED4B,iBAAiB,CAAG,UAAM,CACxB5B,MAAA,CAAKvC,QAAQ,CAAC,CAAC+C,kBAAkB,CAAE,KAAK,CAAC,CAAC,CAC5C,CAAC,CAAAR,MAAA,CAED6B,gBAAgB,CAAG,SAACjE,CAAC,CAAK,CACxBA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAM,CAAAiE,QAAQ,CAAG9B,MAAA,CAAK7C,KAAK,CAACwC,IAAI,CAAC2B,SAAS,CAC1C,GAAItB,MAAA,CAAK7B,KAAK,CAAC4D,SAAS,CAAE,CACxBhG,UAAU,CAACiG,UAAU,CAAChC,MAAA,CAAK7C,KAAK,CAACwC,IAAI,CAACoB,OAAO,CAAE,GAAG,CAAC,CAACE,IAAI,CAAC,UAAM,CAC7DjB,MAAA,CAAKvC,QAAQ,CAAC,CAACsE,SAAS,CAAE,CAAC/B,MAAA,CAAK7B,KAAK,CAAC4D,SAAS,CAAC,CAAC,CACjD,GAAM,CAAAE,GAAG,CAAGrG,OAAO,CAAC,oDAAoD,CAAC,CACtEyF,OAAO,CAAC,4BAA4B,CAAES,QAAQ,CAAC,CAClD7F,OAAO,CAACsF,OAAO,CAACU,GAAG,CAAC,CACtB,CAAC,CAAC,CAACT,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChB,GAAI,CAAAC,UAAU,CAAG1F,KAAK,CAAC2F,WAAW,CAACF,KAAK,CAAC,CACzCxF,OAAO,CAACiG,MAAM,CAACR,UAAU,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,IAAM,CACL3F,UAAU,CAACoG,QAAQ,CAACnC,MAAA,CAAK7C,KAAK,CAACwC,IAAI,CAACoB,OAAO,CAAE,GAAG,CAAC,CAACE,IAAI,CAAC,UAAM,CAC3DjB,MAAA,CAAKvC,QAAQ,CAAC,CAACsE,SAAS,CAAE,CAAC/B,MAAA,CAAK7B,KAAK,CAAC4D,SAAS,CAAC,CAAC,CACjD,GAAM,CAAAE,GAAG,CAAGrG,OAAO,CAAC,kDAAkD,CAAC,CACpEyF,OAAO,CAAC,4BAA4B,CAAES,QAAQ,CAAC,CAClD7F,OAAO,CAACsF,OAAO,CAACU,GAAG,CAAC,CACtB,CAAC,CAAC,CAACT,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChB,GAAI,CAAAC,UAAU,CAAG1F,KAAK,CAAC2F,WAAW,CAACF,KAAK,CAAC,CACzCxF,OAAO,CAACiG,MAAM,CAACR,UAAU,CAAC,CAC5B,CAAC,CAAC,CACJ,CACF,CAAC,CAAA1B,MAAA,CAEDoC,SAAS,CAAG,UAAM,CAChBzG,QAAQ,CAACqE,MAAA,CAAKqC,OAAO,CAAC,CACxB,CAAC,CAAArC,MAAA,CAEDsC,gBAAgB,CAAG,UAAM,CACvB,GAAc,CAAAC,IAAI,CAAKvC,MAAA,CAAK7C,KAAK,CAAzBwC,IAAI,CACZ5D,UAAU,CAACyG,WAAW,CAACD,IAAI,CAACxB,OAAO,CAAC,CAACE,IAAI,CAAC,UAAM,CAC9CjB,MAAA,CAAK7C,KAAK,CAACyC,aAAa,CAAC2C,IAAI,CAAE,IAAI,CAAC,CACtC,CAAC,CAAC,CAACf,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChB,GAAI,CAAAC,UAAU,CAAG1F,KAAK,CAAC2F,WAAW,CAACF,KAAK,CAAC,CACzCxF,OAAO,CAACiG,MAAM,CAACR,UAAU,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAA1B,MAAA,CAEDyC,kBAAkB,CAAG,UAAM,CACzB,GAAc,CAAAF,IAAI,CAAKvC,MAAA,CAAK7C,KAAK,CAAzBwC,IAAI,CACZ5D,UAAU,CAAC2G,aAAa,CAACH,IAAI,CAACxB,OAAO,CAAC,CAACE,IAAI,CAAC,UAAM,CAChDjB,MAAA,CAAK7C,KAAK,CAACyC,aAAa,CAAC2C,IAAI,CAAE,KAAK,CAAC,CACvC,CAAC,CAAC,CAACf,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChB,GAAI,CAAAC,UAAU,CAAG1F,KAAK,CAAC2F,WAAW,CAACF,KAAK,CAAC,CACzCxF,OAAO,CAACiG,MAAM,CAACR,UAAU,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CA1HC1B,MAAA,CAAK7B,KAAK,CAAG,CACXiC,SAAS,CAAE,KAAK,CAChBC,UAAU,CAAE,KAAK,CACjBc,QAAQ,CAAE,KAAK,CACfX,kBAAkB,CAAE,KAAK,CACzBuB,SAAS,CAAE/B,MAAA,CAAK7C,KAAK,CAACwC,IAAI,CAACgD,OAAO,CAClCzC,YAAY,CAAE,KAChB,CAAC,CAAC,OAAAF,MAAA,CACJ,CAAC5B,YAAA,CAAAsB,IAAA,GAAArB,GAAA,UAAAC,KAAA,CAoHD,SAAAC,OAAA,CAAS,CACP,GAAI,IAAI,CAACJ,KAAK,CAACgD,QAAQ,CAAE,CACvB,MAAO,KAAI,CACb,CAEA,GAAM,CAAAxB,IAAI,CAAG,IAAI,CAACxC,KAAK,CAACwC,IAAI,CAE5BA,IAAI,CAACiD,QAAQ,CAAG5G,KAAK,CAAC6G,aAAa,CAAClD,IAAI,CAAC,CACzCA,IAAI,CAACmD,UAAU,CAAG9G,KAAK,CAAC+G,eAAe,CAACpD,IAAI,CAAC,CAE7C,GAAI,CAAAqD,cAAc,CAAG,IAAI,CAAC7E,KAAK,CAACkC,UAAU,CAAG,EAAE,CAAG,YAAY,CAC9D,GAAI,CAAA4C,kBAAkB,CAAG,uCAAuC,CAAGD,cAAc,CACjF,GAAI,CAAAE,uBAAuB,CAAG,qBAAqB,CAAGF,cAAc,CACpE,GAAI,CAAAG,YAAY,CAAG,IAAI,CAACd,OAAO,IAAAe,MAAA,CAAMvH,QAAQ,aAAAuH,MAAA,CAAWzD,IAAI,CAACoB,OAAO,MAAAqC,MAAA,CAAIpH,KAAK,CAACqH,UAAU,CAAC1D,IAAI,CAAC2B,SAAS,CAAC,KAAG,CAE3G;AACA,GAAM,CAAAgC,iBAAiB,CAAGxH,KAAK,GAAK6D,IAAI,CAAC4D,UAAU,EAAI,GAAG,EAAI5D,IAAI,CAAC4D,UAAU,EAAI,IAAI,CAAC,CAEtF,GAAM,CAAAC,WAAW,cACf3G,KAAA,CAAC1B,QAAQ,EAAA2D,QAAA,eACPjC,KAAA,OAAIkC,SAAS,CAAE,IAAI,CAACZ,KAAK,CAACiC,SAAS,CAAG,cAAc,CAAG,EAAG,CAACqD,WAAW,CAAE,IAAI,CAACtD,eAAgB,CAACuD,UAAU,CAAE,IAAI,CAACpD,cAAe,CAACqD,OAAO,CAAE,IAAI,CAACxD,eAAgB,CAAArB,QAAA,eAC3JnC,IAAA,OAAIoC,SAAS,CAAC,aAAa,CAAAD,QAAA,cACzBnC,IAAA,MAAGwC,IAAI,CAAC,GAAG,CAACyE,IAAI,CAAC,QAAQ,CAAC,aAAY,IAAI,CAACzF,KAAK,CAAC4D,SAAS,CAAGnG,OAAO,CAAC,QAAQ,CAAC,CAAGA,OAAO,CAAC,MAAM,CAAE,CAACwD,OAAO,CAAE,IAAI,CAACyC,gBAAiB,CAAA/C,QAAA,cAC/HnC,IAAA,MAAGoC,SAAS,YAAAqE,MAAA,CAAa,IAAI,CAACjF,KAAK,CAAC4D,SAAS,CAAG,KAAK,CAAG,gBAAgB,CAAG,CAAI,CAAC,CAC/E,CAAC,CACF,CAAC,cACLpF,IAAA,OAAAmC,QAAA,cAAInC,IAAA,QAAKkH,GAAG,CAAElE,IAAI,CAACiD,QAAS,CAACkB,KAAK,CAAEnE,IAAI,CAACmD,UAAW,CAACiB,GAAG,CAAEpE,IAAI,CAACmD,UAAW,CAAC5D,KAAK,CAAC,IAAI,CAAE,CAAC,CAAI,CAAC,cAC7FvC,IAAA,OAAAmC,QAAA,cACEjC,KAAA,CAAC1B,QAAQ,EAAA2D,QAAA,eACPnC,IAAA,CAACjB,IAAI,EAACsI,EAAE,CAAEb,YAAa,CAAArE,QAAA,CAAEa,IAAI,CAAC2B,SAAS,CAAO,CAAC,CAC9C3B,IAAI,CAACsE,SAAS,eAAItH,IAAA,CAACF,iBAAiB,EAACyH,MAAM,CAAEvE,IAAI,CAACoB,OAAQ,CAAE,CAAC,EACtD,CAAC,CACT,CAAC,cACLlE,KAAA,OAAAiC,QAAA,EACIhD,KAAK,EAAI6D,IAAI,CAACwE,QAAQ,eACtBxH,IAAA,MAAGwC,IAAI,CAAC,GAAG,CAACJ,SAAS,CAAEkE,kBAAmB,CAACa,KAAK,CAAElI,OAAO,CAAC,OAAO,CAAE,CAACgI,IAAI,CAAC,QAAQ,CAAC,aAAYhI,OAAO,CAAC,OAAO,CAAE,CAACwD,OAAO,CAAE,IAAI,CAACmB,KAAM,CAAI,CAAC,cAE3I5D,IAAA,MAAGwC,IAAI,CAAC,GAAG,CAACJ,SAAS,CAAEmE,uBAAwB,CAACY,KAAK,CAAElI,OAAO,CAAC,aAAa,CAAE,CAACgI,IAAI,CAAC,QAAQ,CAAC,aAAYhI,OAAO,CAAC,aAAa,CAAE,CAACwD,OAAO,CAAE,IAAI,CAACqB,UAAW,CAAI,CAAC,CAC9J6C,iBAAiB,eAClBzG,KAAA,CAACzB,QAAQ,EAACgJ,MAAM,CAAE,IAAI,CAACjG,KAAK,CAAC+B,YAAa,CAACmE,MAAM,CAAE,IAAI,CAACpE,YAAa,CAAAnB,QAAA,eACnEnC,IAAA,CAACtB,cAAc,EACbiJ,GAAG,CAAC,GAAG,CACPV,IAAI,CAAC,QAAQ,CACbW,QAAQ,CAAC,GAAG,CACZxF,SAAS,0CAAAqE,MAAA,CAA2CJ,cAAc,CAAG,CACrEc,KAAK,CAAElI,OAAO,CAAC,iBAAiB,CAAE,CAClC,aAAYA,OAAO,CAAC,iBAAiB,CAAE,CACvC,cAAY,UAAU,CACtB,gBAAe,IAAI,CAACuC,KAAK,CAAC+B,YAAa,CACxC,CAAC,cACFvD,IAAA,CAACrB,YAAY,EAAAwD,QAAA,cACXnC,IAAA,CAACpB,YAAY,EAAC6D,OAAO,CAAEO,IAAI,CAACsE,SAAS,CAAG,IAAI,CAACxB,kBAAkB,CAAG,IAAI,CAACH,gBAAiB,CAAAxD,QAAA,CAAEa,IAAI,CAACsE,SAAS,CAAGrI,OAAO,CAAC,sBAAsB,CAAC,CAAGA,OAAO,CAAC,oBAAoB,CAAC,CAAe,CAAC,CAC9K,CAAC,EACP,CAAC,EAET,CAAC,cACLe,IAAA,OAAAmC,QAAA,CAAKa,IAAI,CAAC6E,IAAI,CAAK,CAAC,cACpB7H,IAAA,OAAImH,KAAK,CAAEtI,MAAM,CAACmE,IAAI,CAAC8E,aAAa,CAAC,CAACC,MAAM,CAAC,MAAM,CAAE,CAAA5F,QAAA,CAAEtD,MAAM,CAACmE,IAAI,CAAC8E,aAAa,CAAC,CAACE,OAAO,CAAC,CAAC,CAAK,CAAC,cACjGhI,IAAA,OAAImH,KAAK,CAAEnE,IAAI,CAACiF,mBAAoB,CAAA9F,QAAA,CAAEa,IAAI,CAACkF,UAAU,CAAK,CAAC,EACzD,CAAC,CACJ,IAAI,CAAC1G,KAAK,CAACqC,kBAAkB,eAC5B7D,IAAA,CAACL,UAAU,EAAAwC,QAAA,cACTnC,IAAA,CAACJ,WAAW,EACVuI,QAAQ,CAAE,SAAU,CACpBC,QAAQ,CAAEpF,IAAI,CAAC2B,SAAU,CACzB0D,QAAQ,CAAE,GAAI,CACdd,MAAM,CAAEvE,IAAI,CAACoB,OAAQ,CACrBkE,aAAa,CAAEtF,IAAI,CAACuF,SAAU,CAC9BC,qBAAqB,CAAE,IAAK,CAC5BC,QAAQ,CAAEzF,IAAI,CAAC4D,UAAW,CAC1B8B,OAAO,CAAE,IAAK,CACdC,YAAY,CAAE,IAAI,CAAC1D,iBAAkB,CACtC,CAAC,CACQ,CACb,EACO,CACX,CAED,GAAM,CAAA2D,UAAU,cACd1I,KAAA,CAAC1B,QAAQ,EAAA2D,QAAA,eACPjC,KAAA,OAAI4G,WAAW,CAAE,IAAI,CAACtD,eAAgB,CAACuD,UAAU,CAAE,IAAI,CAACpD,cAAe,CAAAxB,QAAA,eACrEnC,IAAA,OAAIyC,OAAO,CAAE,IAAI,CAACgD,SAAU,CAAAtD,QAAA,cAACnC,IAAA,QAAKkH,GAAG,CAAElE,IAAI,CAACiD,QAAS,CAACkB,KAAK,CAAEnE,IAAI,CAACmD,UAAW,CAACiB,GAAG,CAAEpE,IAAI,CAACmD,UAAW,CAAC5D,KAAK,CAAC,IAAI,CAAE,CAAC,CAAI,CAAC,cACtHrC,KAAA,OAAIuC,OAAO,CAAE,IAAI,CAACgD,SAAU,CAAAtD,QAAA,eAC1BnC,IAAA,CAACjB,IAAI,EAACsI,EAAE,CAAEb,YAAa,CAAArE,QAAA,CAAEa,IAAI,CAAC2B,SAAS,CAAO,CAAC,CAC9C3B,IAAI,CAACsE,SAAS,eAAItH,IAAA,CAACF,iBAAiB,EAACyH,MAAM,CAAEvE,IAAI,CAACoB,OAAQ,CAAE,CAAC,cAC9DpE,IAAA,QAAK,CAAC,cACNA,IAAA,SAAMoC,SAAS,CAAC,gBAAgB,CAAC+E,KAAK,CAAEnE,IAAI,CAACiF,mBAAoB,CAAA9F,QAAA,CAAEa,IAAI,CAACkF,UAAU,CAAO,CAAC,cAC1FlI,IAAA,SAAMoC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAEa,IAAI,CAAC6E,IAAI,CAAO,CAAC,cACnD7H,IAAA,SAAMoC,SAAS,CAAC,gBAAgB,CAAC+E,KAAK,CAAEtI,MAAM,CAACmE,IAAI,CAAC8E,aAAa,CAAC,CAACC,MAAM,CAAC,MAAM,CAAE,CAAA5F,QAAA,CAAEtD,MAAM,CAACmE,IAAI,CAAC8E,aAAa,CAAC,CAACE,OAAO,CAAC,CAAC,CAAO,CAAC,EAC9H,CAAC,cACLhI,IAAA,OAAAmC,QAAA,cACEjC,KAAA,CAACzB,QAAQ,EAACgJ,MAAM,CAAE,IAAI,CAACjG,KAAK,CAAC+B,YAAa,CAACmE,MAAM,CAAE,IAAI,CAACpE,YAAa,CAAAnB,QAAA,eACnEnC,IAAA,CAACtB,cAAc,EACbiJ,GAAG,CAAC,GAAG,CACPvF,SAAS,CAAC,0CAA0C,CACpD+E,KAAK,CAAElI,OAAO,CAAC,iBAAiB,CAAE,CAClC,cAAY,UAAU,CACtB,gBAAe,IAAI,CAACuC,KAAK,CAAC+B,YAAa,CACxC,CAAC,cACFrD,KAAA,QAAKkC,SAAS,CAAE,IAAI,CAACZ,KAAK,CAAC+B,YAAY,CAAG,EAAE,CAAG,QAAS,CAACd,OAAO,CAAE,IAAI,CAACa,YAAa,CAAAnB,QAAA,eAClFnC,IAAA,QAAKoC,SAAS,CAAC,gCAAgC,CAAM,CAAC,cACtDlC,KAAA,QAAKkC,SAAS,CAAC,uBAAuB,CAAAD,QAAA,eACpCnC,IAAA,CAACpB,YAAY,EAACwD,SAAS,CAAC,kBAAkB,CAACK,OAAO,CAAE,IAAI,CAACyC,gBAAiB,CAAA/C,QAAA,CAAE,IAAI,CAACX,KAAK,CAAC4D,SAAS,CAAGnG,OAAO,CAAC,QAAQ,CAAC,CAAGA,OAAO,CAAC,MAAM,CAAC,CAAe,CAAC,CACpJE,KAAK,EAAI6D,IAAI,CAACwE,QAAQ,eAAKxH,IAAA,CAACpB,YAAY,EAACwD,SAAS,CAAC,kBAAkB,CAACK,OAAO,CAAE,IAAI,CAACmB,KAAM,CAAAzB,QAAA,CAAElD,OAAO,CAAC,OAAO,CAAC,CAAe,CAAC,cAC9He,IAAA,CAACpB,YAAY,EAACwD,SAAS,CAAC,kBAAkB,CAACK,OAAO,CAAE,IAAI,CAACqB,UAAW,CAAA3B,QAAA,CAAElD,OAAO,CAAC,aAAa,CAAC,CAAe,CAAC,CAC3G0H,iBAAiB,eAAI3G,IAAA,CAACpB,YAAY,EAACwD,SAAS,CAAC,kBAAkB,CAACK,OAAO,CAAEO,IAAI,CAACsE,SAAS,CAAG,IAAI,CAACxB,kBAAkB,CAAG,IAAI,CAACH,gBAAiB,CAAAxD,QAAA,CAAEa,IAAI,CAACsE,SAAS,CAAGrI,OAAO,CAAC,sBAAsB,CAAC,CAAGA,OAAO,CAAC,oBAAoB,CAAC,CAAe,CAAC,EAC1O,CAAC,EACH,CAAC,EACE,CAAC,CACT,CAAC,EACH,CAAC,CACJ,IAAI,CAACuC,KAAK,CAACqC,kBAAkB,eAC5B7D,IAAA,CAACL,UAAU,EAAAwC,QAAA,cACTnC,IAAA,CAACJ,WAAW,EACVuI,QAAQ,CAAE,SAAU,CACpBC,QAAQ,CAAEpF,IAAI,CAAC2B,SAAU,CACzB0D,QAAQ,CAAE,GAAI,CACdd,MAAM,CAAEvE,IAAI,CAACoB,OAAQ,CACrBkE,aAAa,CAAEtF,IAAI,CAACuF,SAAU,CAC9BC,qBAAqB,CAAE,IAAK,CAC5BC,QAAQ,CAAEzF,IAAI,CAAC4D,UAAW,CAC1B8B,OAAO,CAAE,IAAK,CACdC,YAAY,CAAE,IAAI,CAAC1D,iBAAkB,CACtC,CAAC,CACQ,CACb,EACO,CACX,CAED,MAAO,KAAI,CAACzE,KAAK,CAACkC,SAAS,CAAGmE,WAAW,CAAG+B,UAAU,CACxD,CAAC,WAAA7F,IAAA,GAlQgBxE,SAAS,KA6QtB,CAAAsK,eAAe,uBAAAC,WAAA,EAAAzI,SAAA,CAAAwI,eAAA,CAAAC,WAAA,MAAAC,OAAA,CAAAxI,YAAA,CAAAsI,eAAA,EACnB,SAAAA,gBAAYrI,KAAK,CAAE,KAAAwI,MAAA,CAAAtI,eAAA,MAAAmI,eAAA,EACjBG,MAAA,CAAAD,OAAA,CAAApI,IAAA,MAAMH,KAAK,EAAEwI,MAAA,CA4Bf3H,SAAS,CAAG,SAACF,MAAM,CAAEC,SAAS,CAAK,CACjCtC,MAAM,CAACmK,IAAI,CAAC,0BAA0B,CAAE9H,MAAM,CAAC,CAC/CrC,MAAM,CAACmK,IAAI,CAAC,6BAA6B,CAAE7H,SAAS,CAAC,CACrD4H,MAAA,CAAKlI,QAAQ,CAAC,CACZK,MAAM,CAAEA,MAAM,CACdC,SAAS,CAAEA,SAAS,CACpBa,KAAK,CAAE5C,KAAK,CAAC6J,SAAS,CAACF,MAAA,CAAKxH,KAAK,CAACS,KAAK,CAAEd,MAAM,CAAEC,SAAS,CAC5D,CAAC,CAAC,CACJ,CAAC,CAAA4H,MAAA,CAEDG,uBAAuB,CAAG,UAAM,CAC9BH,MAAA,CAAKlI,QAAQ,CAAC,CACZsI,uBAAuB,CAAE,CAACJ,MAAA,CAAKxH,KAAK,CAAC4H,uBACvC,CAAC,CAAC,CACJ,CAAC,CAAAJ,MAAA,CAED/F,aAAa,CAAG,SAAC2C,IAAI,CAAE0B,SAAS,CAAK,CACnC,GAAI,CAAArF,KAAK,CAAG+G,MAAA,CAAKxH,KAAK,CAACS,KAAK,CAACW,GAAG,CAAC,SAAAC,IAAI,CAAI,CACvC,GAAIA,IAAI,CAACuB,OAAO,GAAKwB,IAAI,CAACxB,OAAO,CAAE,CACjCvB,IAAI,CAACyE,SAAS,CAAGA,SAAS,CAC5B,CACA,MAAO,CAAAzE,IAAI,CACb,CAAC,CAAC,CACFmG,MAAA,CAAKlI,QAAQ,CAAC,CAACmB,KAAK,CAAEA,KAAK,CAAC,CAAC,CAC/B,CAAC,CAnDC+G,MAAA,CAAKxH,KAAK,CAAG,CACXO,OAAO,CAAE,IAAI,CACbC,QAAQ,CAAE,EAAE,CACZC,KAAK,CAAE,EAAE,CACTd,MAAM,CAAErC,MAAM,CAACuK,IAAI,CAAC,0BAA0B,CAAC,EAAI,MAAM,CAAE;AAC3DjI,SAAS,CAAEtC,MAAM,CAACuK,IAAI,CAAC,6BAA6B,CAAC,EAAI,KAAK,CAAE;AAChED,uBAAuB,CAAE,KAC3B,CAAC,CAAC,OAAAJ,MAAA,CACJ,CAACvH,YAAA,CAAAoH,eAAA,GAAAnH,GAAA,qBAAAC,KAAA,CAED,SAAA2H,kBAAA,CAAoB,KAAAC,MAAA,MAClBnK,UAAU,CAACoK,SAAS,CAAC,CAACC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAACnF,IAAI,CAAC,SAACC,GAAG,CAAK,CAClD,GAAI,CAAAmF,QAAQ,CAAGnF,GAAG,CAACvB,IAAI,CAAC2G,KAAK,CAAC/G,GAAG,CAAC,SAACC,IAAI,CAAK,CAC1C,MAAO,IAAI,CAAAtD,IAAI,CAACsD,IAAI,CAAC,CACvB,CAAC,CAAC,CACF0G,MAAI,CAACzI,QAAQ,CAAC,CACZiB,OAAO,CAAE,KAAK,CACdE,KAAK,CAAE5C,KAAK,CAAC6J,SAAS,CAACQ,QAAQ,CAAEH,MAAI,CAAC/H,KAAK,CAACL,MAAM,CAAEoI,MAAI,CAAC/H,KAAK,CAACJ,SAAS,CAC1E,CAAC,CAAC,CACJ,CAAC,CAAC,CAACyD,KAAK,CAAC,SAACC,KAAK,CAAK,CAClByE,MAAI,CAACzI,QAAQ,CAAC,CACZiB,OAAO,CAAE,KAAK,CACdC,QAAQ,CAAE3C,KAAK,CAAC2F,WAAW,CAACF,KAAK,CAAE,IAAI,CAAE;AAC3C,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,GAAApD,GAAA,UAAAC,KAAA,CA4BD,SAAAC,OAAA,CAAS,CACP,mBACE1B,KAAA,CAAC1B,QAAQ,EAAA2D,QAAA,eACPnC,IAAA,QAAKoC,SAAS,CAAC,mBAAmB,CAAAD,QAAA,cAChCjC,KAAA,QAAKkC,SAAS,CAAC,oBAAoB,CAAAD,QAAA,eACjCjC,KAAA,QAAKkC,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5BnC,IAAA,OAAIoC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAElD,OAAO,CAAC,gBAAgB,CAAC,CAAK,CAAC,CAC7D,CAACI,KAAK,CAACqD,SAAS,CAAC,CAAC,EAAI,IAAI,CAAClB,KAAK,CAACS,KAAK,CAACiB,MAAM,CAAG,CAAC,eAAKlD,IAAA,SAAMoC,SAAS,CAAC,oCAAoC,CAACK,OAAO,CAAE,IAAI,CAAC0G,uBAAwB,CAAO,CAAC,EACxJ,CAAC,cACNnJ,IAAA,QAAKoC,SAAS,CAAC,kBAAkB,CAAAD,QAAA,cAC/BnC,IAAA,CAACG,OAAO,EACN4B,OAAO,CAAE,IAAI,CAACP,KAAK,CAACO,OAAQ,CAC5BC,QAAQ,CAAE,IAAI,CAACR,KAAK,CAACQ,QAAS,CAC9BC,KAAK,CAAE,IAAI,CAACT,KAAK,CAACS,KAAM,CACxBd,MAAM,CAAE,IAAI,CAACK,KAAK,CAACL,MAAO,CAC1BC,SAAS,CAAE,IAAI,CAACI,KAAK,CAACJ,SAAU,CAChCC,SAAS,CAAE,IAAI,CAACA,SAAU,CAC1B4B,aAAa,CAAE,IAAI,CAACA,aAAc,CACnC,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,CACL,IAAI,CAACzB,KAAK,CAAC4H,uBAAuB,eACnCpJ,IAAA,CAACH,iBAAiB,EAChB8I,YAAY,CAAE,IAAI,CAACQ,uBAAwB,CAC3ChI,MAAM,CAAE,IAAI,CAACK,KAAK,CAACL,MAAO,CAC1BC,SAAS,CAAE,IAAI,CAACI,KAAK,CAACJ,SAAU,CAChCC,SAAS,CAAE,IAAI,CAACA,SAAU,CAC3B,CAAC,EAEM,CAAC,CAEf,CAAC,WAAAwH,eAAA,GAxF2BtK,SAAS,EA2FvC,cAAe,CAAAsK,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}