{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _helper = require(\"../helper\");\nrequire(\"./style.css\");\nvar TableSizeSelector = /*#__PURE__*/_react.default.forwardRef(function (_ref, ref) {\n  var editor = _ref.editor,\n    onHideSelector = _ref.onHideSelector;\n  var _ref2 = (0, _react.useState)({\n      row: 0,\n      column: 0\n    }),\n    _ref3 = _slicedToArray(_ref2, 2),\n    selectedGridInfo = _ref3[0],\n    setSelectedGridInfo = _ref3[1];\n  var _ref4 = (0, _react.useState)({\n      row: 4,\n      column: 4\n    }),\n    _ref5 = _slicedToArray(_ref4, 2),\n    showingGridInfo = _ref5[0],\n    setShowingGridInfo = _ref5[1];\n  var preRenderTableGrid = (0, _react.useCallback)(function (rowIndex, columnIndex) {\n    var selectedRowNums = rowIndex + 1;\n    var selectedColumnNums = columnIndex + 1;\n    var preRenderRowNum = selectedRowNums + 1;\n    var preRenderColumnNum = selectedColumnNums + 1;\n    if (preRenderRowNum < 4) {\n      preRenderRowNum = 4;\n    } else if (preRenderRowNum > 10) {\n      preRenderRowNum = 10;\n    }\n    if (preRenderColumnNum < 4) {\n      preRenderColumnNum = 4;\n    } else if (preRenderColumnNum > 10) {\n      preRenderColumnNum = 10;\n    }\n    setSelectedGridInfo({\n      row: selectedRowNums,\n      column: selectedColumnNums\n    });\n    setShowingGridInfo({\n      row: preRenderRowNum,\n      column: preRenderColumnNum\n    });\n  }, []);\n  var handleClickTableCell = (0, _react.useCallback)(function () {\n    (0, _helper.insertTable)(editor, selectedGridInfo.row, selectedGridInfo.column);\n    onHideSelector();\n  }, [editor, onHideSelector, selectedGridInfo.column, selectedGridInfo.row]);\n  var generateTableGrid = (0, _react.useCallback)(function (rowNum, columnNum) {\n    var selectedRowIndex = selectedGridInfo.row,\n      selectedColumnIndex = selectedGridInfo.column;\n    var rowElements = [];\n    var _loop = function _loop(rowIndex) {\n      var columnElements = [];\n      var _loop2 = function _loop2(columnIndex) {\n        var isCellSelected = selectedRowIndex > rowIndex && selectedColumnIndex > columnIndex;\n        columnElements.push( /*#__PURE__*/_react.default.createElement(\"div\", {\n          onClick: handleClickTableCell,\n          onMouseEnter: function onMouseEnter() {\n            return preRenderTableGrid(rowIndex, columnIndex);\n          },\n          className: (0, _classnames.default)('sf-table-selector-cell', {\n            selected: isCellSelected\n          }),\n          key: \"\".concat(rowIndex, \"-\").concat(columnIndex)\n        }));\n      };\n      for (var columnIndex = 0; columnIndex < columnNum; columnIndex++) {\n        _loop2(columnIndex);\n      }\n      rowElements.push( /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"sf-table-row\",\n        key: rowIndex\n      }, columnElements));\n    };\n    for (var rowIndex = 0; rowIndex < rowNum; rowIndex++) {\n      _loop(rowIndex);\n    }\n    return rowElements;\n  }, [handleClickTableCell, preRenderTableGrid, selectedGridInfo]);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  var tableGridElement = (0, _react.useMemo)(function () {\n    return generateTableGrid(showingGridInfo.row, showingGridInfo.column);\n  }, [generateTableGrid]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-table-size-selector-card\",\n    ref: ref\n  }, /*#__PURE__*/_react.default.createElement(\"p\", {\n    className: \"sf-table-grid-info\"\n  }, \"\".concat(selectedGridInfo.row, \" x \").concat(selectedGridInfo.column)), tableGridElement);\n});\nvar _default = exports.default = TableSizeSelector;","map":{"version":3,"names":["_slicedToArray","require","default","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","value","_react","_classnames","_helper","TableSizeSelector","forwardRef","_ref","ref","editor","onHideSelector","_ref2","useState","row","column","_ref3","selectedGridInfo","setSelectedGridInfo","_ref4","_ref5","showingGridInfo","setShowingGridInfo","preRenderTableGrid","useCallback","rowIndex","columnIndex","selectedRowNums","selectedColumnNums","preRenderRowNum","preRenderColumnNum","handleClickTableCell","insertTable","generateTableGrid","rowNum","columnNum","selectedRowIndex","selectedColumnIndex","rowElements","_loop","columnElements","_loop2","isCellSelected","push","createElement","onClick","onMouseEnter","className","selected","key","concat","tableGridElement","useMemo","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/table/menu/table-size-selector.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _helper = require(\"../helper\");\nrequire(\"./style.css\");\nconst TableSizeSelector = /*#__PURE__*/_react.default.forwardRef((_ref, ref) => {\n  let {\n    editor,\n    onHideSelector\n  } = _ref;\n  const [selectedGridInfo, setSelectedGridInfo] = (0, _react.useState)({\n    row: 0,\n    column: 0\n  });\n  const [showingGridInfo, setShowingGridInfo] = (0, _react.useState)({\n    row: 4,\n    column: 4\n  });\n  const preRenderTableGrid = (0, _react.useCallback)((rowIndex, columnIndex) => {\n    const selectedRowNums = rowIndex + 1;\n    const selectedColumnNums = columnIndex + 1;\n    let preRenderRowNum = selectedRowNums + 1;\n    let preRenderColumnNum = selectedColumnNums + 1;\n    if (preRenderRowNum < 4) {\n      preRenderRowNum = 4;\n    } else if (preRenderRowNum > 10) {\n      preRenderRowNum = 10;\n    }\n    if (preRenderColumnNum < 4) {\n      preRenderColumnNum = 4;\n    } else if (preRenderColumnNum > 10) {\n      preRenderColumnNum = 10;\n    }\n    setSelectedGridInfo({\n      row: selectedRowNums,\n      column: selectedColumnNums\n    });\n    setShowingGridInfo({\n      row: preRenderRowNum,\n      column: preRenderColumnNum\n    });\n  }, []);\n  const handleClickTableCell = (0, _react.useCallback)(() => {\n    (0, _helper.insertTable)(editor, selectedGridInfo.row, selectedGridInfo.column);\n    onHideSelector();\n  }, [editor, onHideSelector, selectedGridInfo.column, selectedGridInfo.row]);\n  const generateTableGrid = (0, _react.useCallback)((rowNum, columnNum) => {\n    const {\n      row: selectedRowIndex,\n      column: selectedColumnIndex\n    } = selectedGridInfo;\n    const rowElements = [];\n    for (let rowIndex = 0; rowIndex < rowNum; rowIndex++) {\n      const columnElements = [];\n      for (let columnIndex = 0; columnIndex < columnNum; columnIndex++) {\n        const isCellSelected = selectedRowIndex > rowIndex && selectedColumnIndex > columnIndex;\n        columnElements.push( /*#__PURE__*/_react.default.createElement(\"div\", {\n          onClick: handleClickTableCell,\n          onMouseEnter: () => preRenderTableGrid(rowIndex, columnIndex),\n          className: (0, _classnames.default)('sf-table-selector-cell', {\n            selected: isCellSelected\n          }),\n          key: \"\".concat(rowIndex, \"-\").concat(columnIndex)\n        }));\n      }\n      rowElements.push( /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"sf-table-row\",\n        key: rowIndex\n      }, columnElements));\n    }\n    return rowElements;\n  }, [handleClickTableCell, preRenderTableGrid, selectedGridInfo]);\n\n  // eslint-disable-next-line react-hooks/exhaustive-deps\n  const tableGridElement = (0, _react.useMemo)(() => generateTableGrid(showingGridInfo.row, showingGridInfo.column), [generateTableGrid]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-table-size-selector-card\",\n    ref: ref\n  }, /*#__PURE__*/_react.default.createElement(\"p\", {\n    className: \"sf-table-grid-info\"\n  }, \"\".concat(selectedGridInfo.row, \" x \").concat(selectedGridInfo.column)), tableGridElement);\n});\nvar _default = exports.default = TableSizeSelector;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}