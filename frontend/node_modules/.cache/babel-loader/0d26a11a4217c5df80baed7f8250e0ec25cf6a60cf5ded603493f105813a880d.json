{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{processor}from'@seafile/seafile-editor';import Loading from'./loading';import{jsx as _jsx}from\"react/jsx-runtime\";var TermsPreviewWidget=/*#__PURE__*/function(_React$Component){_inherits(TermsPreviewWidget,_React$Component);var _super=_createSuper(TermsPreviewWidget);function TermsPreviewWidget(props){var _this;_classCallCheck(this,TermsPreviewWidget);_this=_super.call(this,props);_this.formatterLongTextValue=function(mdFile){processor.process(mdFile).then(function(result){var innerHtml=String(result);_this.setState({isFormatValue:false,innerHtml:innerHtml});});};_this.state={innerHtml:null,isFormatValue:true};return _this;}_createClass(TermsPreviewWidget,[{key:\"componentDidMount\",value:function componentDidMount(){var content=this.props.content;if(content){this.formatterLongTextValue(content);}else{this.setState({isFormatValue:false,innerHtml:''});}}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){var mdFile=nextProps.content;this.formatterLongTextValue(mdFile);}},{key:\"render\",value:function render(){if(this.state.isFormatValue){return/*#__PURE__*/_jsx(Loading,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"conditions-preview-container\",onClick:this.props.onContentClick,children:/*#__PURE__*/_jsx(\"div\",{dangerouslySetInnerHTML:{__html:this.state.innerHtml}})});}}]);return TermsPreviewWidget;}(React.Component);export default TermsPreviewWidget;","map":{"version":3,"names":["React","processor","Loading","jsx","_jsx","TermsPreviewWidget","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","formatterLongTextValue","mdFile","process","then","result","innerHtml","String","setState","isFormatValue","state","_createClass","key","value","componentDidMount","content","UNSAFE_componentWillReceiveProps","nextProps","render","className","onClick","onContentClick","children","dangerouslySetInnerHTML","__html","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/terms-preview-widget.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { processor } from '@seafile/seafile-editor';\nimport Loading from './loading';\n\nconst propTypes = {\n  content: PropTypes.string,\n  onContentClick: PropTypes.func,\n};\n\nclass TermsPreviewWidget extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      innerHtml: null,\n      isFormatValue: true,\n    };\n  }\n\n  componentDidMount() {\n    let content = this.props.content;\n    if (content) {\n      this.formatterLongTextValue(content);\n    } else {\n      this.setState({\n        isFormatValue: false,\n        innerHtml: ''\n      });\n    }\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    let mdFile = nextProps.content;\n    this.formatterLongTextValue(mdFile);\n  }\n\n  formatterLongTextValue = (mdFile) => {\n    processor.process(mdFile).then((result) => {\n      let innerHtml = String(result);\n      this.setState({\n        isFormatValue: false,\n        innerHtml: innerHtml\n      });\n    });\n  };\n\n  render() {\n    if (this.state.isFormatValue) {\n      return <Loading />;\n    }\n\n    return (\n      <div className=\"conditions-preview-container\" onClick={this.props.onContentClick}>\n        <div dangerouslySetInnerHTML={{__html: this.state.innerHtml}}></div>\n      </div>\n    );\n  }\n\n}\n\nTermsPreviewWidget.propTypes = propTypes;\n\nexport default TermsPreviewWidget;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,SAAS,KAAQ,yBAAyB,CACnD,MAAO,CAAAC,OAAO,KAAM,WAAW,CAAC,OAAAC,GAAA,IAAAC,IAAA,4BAO1B,CAAAC,kBAAkB,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,kBAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,kBAAA,EAEtB,SAAAA,mBAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,kBAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAwBfG,sBAAsB,CAAG,SAACC,MAAM,CAAK,CACnCd,SAAS,CAACe,OAAO,CAACD,MAAM,CAAC,CAACE,IAAI,CAAC,SAACC,MAAM,CAAK,CACzC,GAAI,CAAAC,SAAS,CAAGC,MAAM,CAACF,MAAM,CAAC,CAC9BP,KAAA,CAAKU,QAAQ,CAAC,CACZC,aAAa,CAAE,KAAK,CACpBH,SAAS,CAAEA,SACb,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CA/BCR,KAAA,CAAKY,KAAK,CAAG,CACXJ,SAAS,CAAE,IAAI,CACfG,aAAa,CAAE,IACjB,CAAC,CAAC,OAAAX,KAAA,CACJ,CAACa,YAAA,CAAAnB,kBAAA,GAAAoB,GAAA,qBAAAC,KAAA,CAED,SAAAC,kBAAA,CAAoB,CAClB,GAAI,CAAAC,OAAO,CAAG,IAAI,CAAClB,KAAK,CAACkB,OAAO,CAChC,GAAIA,OAAO,CAAE,CACX,IAAI,CAACd,sBAAsB,CAACc,OAAO,CAAC,CACtC,CAAC,IAAM,CACL,IAAI,CAACP,QAAQ,CAAC,CACZC,aAAa,CAAE,KAAK,CACpBH,SAAS,CAAE,EACb,CAAC,CAAC,CACJ,CACF,CAAC,GAAAM,GAAA,oCAAAC,KAAA,CAED,SAAAG,iCAAiCC,SAAS,CAAE,CAC1C,GAAI,CAAAf,MAAM,CAAGe,SAAS,CAACF,OAAO,CAC9B,IAAI,CAACd,sBAAsB,CAACC,MAAM,CAAC,CACrC,CAAC,GAAAU,GAAA,UAAAC,KAAA,CAYD,SAAAK,OAAA,CAAS,CACP,GAAI,IAAI,CAACR,KAAK,CAACD,aAAa,CAAE,CAC5B,mBAAOlB,IAAA,CAACF,OAAO,GAAE,CAAC,CACpB,CAEA,mBACEE,IAAA,QAAK4B,SAAS,CAAC,8BAA8B,CAACC,OAAO,CAAE,IAAI,CAACvB,KAAK,CAACwB,cAAe,CAAAC,QAAA,cAC/E/B,IAAA,QAAKgC,uBAAuB,CAAE,CAACC,MAAM,CAAE,IAAI,CAACd,KAAK,CAACJ,SAAS,CAAE,CAAM,CAAC,CACjE,CAAC,CAEV,CAAC,WAAAd,kBAAA,GA/C8BL,KAAK,CAACsC,SAAS,EAqDhD,cAAe,CAAAjC,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}