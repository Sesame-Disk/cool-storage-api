{"ast":null,"code":"import _objectSpread from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Utils}from'../../../utils/utils';import{seafileAPI}from'../../../utils/seafile-api';import{gettext}from'../../../utils/constants';import toaster from'../../../components/toast';import EmptyTip from'../../../components/empty-tip';import Loading from'../../../components/loading';import OpMenu from'../../../components/dialog/op-menu';import LinkDialog from'../../../components/dialog/share-admin-link';import MainPanelTopbar from'../main-panel-topbar';import Nav from'./user-nav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.state={isItemFreezed:false};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center mt-4\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsx(EmptyTip,{children:/*#__PURE__*/_jsx(\"h2\",{children:gettext('No shared links')})});var table=/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"5%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Size')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Type')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Visits')}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{item:item,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem,deleteItem:_this2.props.deleteItem},index);})})]})});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super2.call(this,props);_this3.handleMouseEnter=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:true,highlight:true});}};_this3.handleMouseLeave=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:false,highlight:false});}};_this3.onUnfreezedItem=function(){_this3.setState({highlight:false,isOpIconShow:false});_this3.props.onUnfreezedItem();};_this3.toggleLinkDialog=function(){_this3.setState({isLinkDialogOpen:!_this3.state.isLinkDialogOpen});};_this3.deleteItem=function(){_this3.props.deleteItem(_this3.props.item);};_this3.translateOperations=function(item){var translateResult='';switch(item){case'View':translateResult=gettext('View');break;case'Delete':translateResult=gettext('Delete');break;}return translateResult;};_this3.onMenuItemClick=function(operation){switch(operation){case'View':_this3.toggleLinkDialog();break;case'Delete':_this3.deleteItem();break;}};_this3.getRoleText=function(){var roleText;var item=_this3.props.item;switch(item.role){case'Owner':roleText=gettext('Owner');break;case'Admin':roleText=gettext('Admin');break;case'Member':roleText=gettext('Member');break;}return roleText;};_this3.getIconUrl=function(){var item=_this3.props.item;var url;if(item.type=='upload'){url=Utils.getFolderIconUrl();}else{// share link\nif(item.is_dir){url=Utils.getFolderIconUrl();}else{url=Utils.getFileIconUrl(item.obj_name);}}return url;};_this3.state={isOpIconShown:false,highlight:false,isLinkDialogOpen:false};return _this3;}_createClass(Item,[{key:\"render\",value:function render(){var item=this.props.item;var _this$state=this.state,isOpIconShown=_this$state.isOpIconShown,isLinkDialogOpen=_this$state.isLinkDialogOpen;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:this.getIconUrl(),alt:\"\",width:\"24\"})}),/*#__PURE__*/_jsx(\"td\",{children:item.obj_name=='/'?item.repo_name:item.obj_name}),item.type=='upload'?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:gettext('Upload')})]}):/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"td\",{children:item.is_dir?null:Utils.bytesToSize(item.size)}),/*#__PURE__*/_jsx(\"td\",{children:gettext('Download')})]}),/*#__PURE__*/_jsx(\"td\",{children:item.view_cnt}),/*#__PURE__*/_jsx(\"td\",{children:isOpIconShown&&/*#__PURE__*/_jsx(OpMenu,{operations:['View','Delete'],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem})})]}),isLinkDialogOpen&&/*#__PURE__*/_jsx(LinkDialog,{link:item.link,toggleDialog:this.toggleLinkDialog})]});}}]);return Item;}(Component);var Links=/*#__PURE__*/function(_Component3){_inherits(Links,_Component3);var _super3=_createSuper(Links);function Links(props){var _this4;_classCallCheck(this,Links);_this4=_super3.call(this,props);_this4.deleteItem=function(item){var type=item.type;var token=item.token;if(type=='download'){seafileAPI.sysAdminDeleteShareLink(token).then(function(res){var items=_this4.state.shareLinkItems.filter(function(item){return item.token!=token;});_this4.setState({shareLinkItems:items});toaster.success(gettext('Successfully deleted 1 item.'));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});}else{seafileAPI.sysAdminDeleteUploadLink(token).then(function(res){var items=_this4.state.uploadLinkItems.filter(function(item){return item.token!=token;});_this4.setState({uploadLinkItems:items});toaster.success(gettext('Successfully deleted 1 item.'));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});}};_this4.state={loading:true,errorMsg:'',userInfo:{},uploadLinkItems:[],shareLinkItems:[]};return _this4;}_createClass(Links,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;var email=decodeURIComponent(this.props.email);seafileAPI.sysAdminGetUser(email).then(function(res){_this5.setState({userInfo:res.data});});seafileAPI.sysAdminListShareLinksByUser(email).then(function(res){var items=res.data.share_link_list.map(function(item){item.type='download';return item;});items.sort(function(a,b){return a.is_dir?-1:1;});_this5.setState({loading:false,shareLinkItems:items});});seafileAPI.sysAdminListUploadLinksByUser(email).then(function(res){var items=res.data.upload_link_list.map(function(item){item.type='upload';return item;});_this5.setState({loading:false,uploadLinkItems:items});}).catch(function(error){_this5.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});}},{key:\"render\",value:function render(){var _this$state2=this.state,shareLinkItems=_this$state2.shareLinkItems,uploadLinkItems=_this$state2.uploadLinkItems;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,_objectSpread({},this.props)),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(Nav,{currentItem:\"links\",email:this.props.email,userName:this.state.userInfo.name}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:[].concat(uploadLinkItems,shareLinkItems),deleteItem:this.deleteItem})})]})})]});}}]);return Links;}(Component);export default Links;","map":{"version":3,"names":["React","Component","Fragment","Utils","seafileAPI","gettext","toaster","EmptyTip","Loading","OpMenu","LinkDialog","MainPanelTopbar","Nav","jsx","_jsx","jsxs","_jsxs","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onFreezedItem","setState","isItemFreezed","onUnfreezedItem","state","_createClass","key","value","render","_this2","_this$props","loading","errorMsg","items","className","children","emptyTip","table","width","map","item","index","Item","deleteItem","length","_Component2","_super2","_this3","handleMouseEnter","isOpIconShown","highlight","handleMouseLeave","isOpIconShow","toggleLinkDialog","isLinkDialogOpen","translateOperations","translateResult","onMenuItemClick","operation","getRoleText","roleText","role","getIconUrl","url","type","getFolderIconUrl","is_dir","getFileIconUrl","obj_name","_this$state","onMouseEnter","onMouseLeave","src","alt","repo_name","bytesToSize","size","view_cnt","operations","link","toggleDialog","Links","_Component3","_super3","_this4","token","sysAdminDeleteShareLink","then","res","shareLinkItems","filter","success","catch","error","errMessage","getErrorMsg","danger","sysAdminDeleteUploadLink","uploadLinkItems","userInfo","componentDidMount","_this5","email","decodeURIComponent","sysAdminGetUser","data","sysAdminListShareLinksByUser","share_link_list","sort","a","b","sysAdminListUploadLinksByUser","upload_link_list","_this$state2","_objectSpread","currentItem","userName","name","concat"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/users/user-links.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport LinkDialog from '../../../components/dialog/share-admin-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No shared links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/* icon */}</th>\n                <th width=\"30%\">{gettext('Name')}</th>\n                <th width=\"20%\">{gettext('Size')}</th>\n                <th width=\"20%\">{gettext('Type')}</th>\n                <th width=\"20%\">{gettext('Visits')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  email: PropTypes.string,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isLinkDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleLinkDialog = () => {\n    this.setState({isLinkDialogOpen: !this.state.isLinkDialogOpen});\n  };\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'View':\n        translateResult = gettext('View');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'View':\n        this.toggleLinkDialog();\n        break;\n      case 'Delete':\n        this.deleteItem();\n        break;\n    }\n  };\n\n  getRoleText = () => {\n    let roleText;\n    const { item } = this.props;\n    switch(item.role) {\n      case 'Owner':\n        roleText = gettext('Owner');\n        break;\n      case 'Admin':\n        roleText = gettext('Admin');\n        break;\n      case 'Member':\n        roleText = gettext('Member');\n        break;\n    }\n    return roleText;\n  };\n\n  getIconUrl = () => {\n    const { item } = this.props;\n    let url;\n    if (item.type == 'upload') {\n      url = Utils.getFolderIconUrl();\n    } else { // share link\n      if (item.is_dir) {\n        url = Utils.getFolderIconUrl();\n      } else {\n        url = Utils.getFileIconUrl(item.obj_name);\n      }\n    }\n    return url;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isLinkDialogOpen } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={this.getIconUrl()} alt=\"\" width=\"24\" /></td>\n          <td>{item.obj_name == '/' ? item.repo_name : item.obj_name}</td>\n          {item.type == 'upload' ?\n            <Fragment>\n              <td></td>\n              <td>{gettext('Upload')}</td>\n            </Fragment> :\n            <Fragment>\n              <td>{item.is_dir ? null : Utils.bytesToSize(item.size)}</td>\n              <td>{gettext('Download')}</td>\n            </Fragment>\n          }\n          <td>{item.view_cnt}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['View', 'Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isLinkDialogOpen &&\n          <LinkDialog\n            link={item.link}\n            toggleDialog={this.toggleLinkDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  email: PropTypes.string,\n};\n\nclass Links extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      uploadLinkItems: [],\n      shareLinkItems: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n\n    seafileAPI.sysAdminListShareLinksByUser(email).then(res => {\n      const items = res.data.share_link_list.map(item => {\n        item.type = 'download';\n        return item;\n      });\n      items.sort((a, b) => {\n        return a.is_dir ? -1 : 1;\n      });\n      this.setState({\n        loading: false,\n        shareLinkItems: items\n      });\n    });\n    seafileAPI.sysAdminListUploadLinksByUser(email).then(res => {\n      const items = res.data.upload_link_list.map(item => {\n        item.type = 'upload';\n        return item;\n      });\n      this.setState({\n        loading: false,\n        uploadLinkItems: items\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteItem = (item) => {\n    const type = item.type;\n    const token = item.token;\n    if (type == 'download') {\n      seafileAPI.sysAdminDeleteShareLink(token).then(res => {\n        let items = this.state.shareLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          shareLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      seafileAPI.sysAdminDeleteUploadLink(token).then(res => {\n        let items = this.state.uploadLinkItems.filter(item=> {\n          return item.token != token;\n        });\n        this.setState({\n          uploadLinkItems: items\n        });\n        toaster.success(gettext('Successfully deleted 1 item.'));\n      }).catch((error) => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    }\n  };\n\n  render() {\n    const { shareLinkItems, uploadLinkItems } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"links\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={[].concat(uploadLinkItems, shareLinkItems)}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nLinks.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Links;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}