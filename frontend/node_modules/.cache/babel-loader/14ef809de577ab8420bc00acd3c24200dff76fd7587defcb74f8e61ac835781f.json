{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Button,Modal,ModalHeader,ModalBody,ModalFooter,Alert}from'reactstrap';import{gettext}from'../../utils/constants';import FileChooser from'../file-chooser/file-chooser';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SaveSharedDirDialog=/*#__PURE__*/function(_React$Component){_inherits(SaveSharedDirDialog,_React$Component);var _super=_createSuper(SaveSharedDirDialog);function SaveSharedDirDialog(props){var _this;_classCallCheck(this,SaveSharedDirDialog);_this=_super.call(this,props);_this.onSaveSharedFile=function(){_this.props.handleSaveSharedDir(_this.state.repo.repo_id,_this.state.selectedPath);};_this.onDirentItemClick=function(repo,selectedPath,dirent){if(dirent.type==='dir'){_this.setState({repo:repo,selectedPath:selectedPath});}else{_this.setState({repo:null,selectedPath:''});}};_this.onRepoItemClick=function(repo){_this.setState({repo:repo,selectedPath:'/'});};_this.state={repo:null,selectedPath:'',errMessage:''};return _this;}_createClass(SaveSharedDirDialog,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Modal,{isOpen:true,className:\"sf-save-file\",toggle:this.props.toggleCancel,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.props.toggleCancel,children:gettext('Save to:')}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsx(FileChooser,{isShowFile:false,onDirentItemClick:this.onDirentItemClick,onRepoItemClick:this.onRepoItemClick,mode:\"only_all_repos\"}),this.state.errMessage&&/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:this.state.errMessage})]}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:this.props.toggleCancel,children:gettext('Cancel')}),this.state.selectedPath?/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:this.onSaveSharedFile,children:gettext('Submit')}):/*#__PURE__*/_jsx(Button,{color:\"primary\",disabled:true,children:gettext('Submit')})]})]});}}]);return SaveSharedDirDialog;}(React.Component);export default SaveSharedDirDialog;","map":{"version":3,"names":["React","Button","Modal","ModalHeader","ModalBody","ModalFooter","Alert","gettext","FileChooser","jsx","_jsx","jsxs","_jsxs","SaveSharedDirDialog","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onSaveSharedFile","handleSaveSharedDir","state","repo","repo_id","selectedPath","onDirentItemClick","dirent","type","setState","onRepoItemClick","errMessage","_createClass","key","value","render","isOpen","className","toggle","toggleCancel","children","isShowFile","mode","color","onClick","disabled","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/save-shared-dir-dialog.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Alert } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport FileChooser from '../file-chooser/file-chooser';\n\nconst propTypes = {\n  sharedToken: PropTypes.string.isRequired,\n  parentDir: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n  handleSaveSharedDir: PropTypes.func.isRequired,\n};\n\nclass SaveSharedDirDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      repo: null,\n      selectedPath: '',\n      errMessage: '',\n    };\n  }\n\n  onSaveSharedFile = () => {\n    this.props.handleSaveSharedDir(this.state.repo.repo_id, this.state.selectedPath);\n  };\n\n  onDirentItemClick = (repo, selectedPath, dirent) => {\n    if (dirent.type === 'dir') {\n      this.setState({\n        repo: repo,\n        selectedPath: selectedPath,\n      });\n    }\n    else {\n      this.setState({\n        repo: null,\n        selectedPath: '',\n      });\n    }\n  };\n\n  onRepoItemClick = (repo) => {\n    this.setState({\n      repo: repo,\n      selectedPath: '/',\n    });\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} className=\"sf-save-file\" toggle={this.props.toggleCancel}>\n        <ModalHeader toggle={this.props.toggleCancel}>{gettext('Save to:')}</ModalHeader>\n        <ModalBody>\n          <FileChooser\n            isShowFile={false}\n            onDirentItemClick={this.onDirentItemClick}\n            onRepoItemClick={this.onRepoItemClick}\n            mode=\"only_all_repos\"\n          />\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.props.toggleCancel}>{gettext('Cancel')}</Button>\n          { this.state.selectedPath ?\n            <Button color=\"primary\" onClick={this.onSaveSharedFile}>{gettext('Submit')}</Button>\n            :\n            <Button color=\"primary\" disabled>{gettext('Submit')}</Button>\n          }\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSaveSharedDirDialog.propTypes = propTypes;\n\nexport default SaveSharedDirDialog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}