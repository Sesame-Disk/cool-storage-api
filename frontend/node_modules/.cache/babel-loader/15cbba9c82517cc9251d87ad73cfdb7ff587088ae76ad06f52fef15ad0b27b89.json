{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _slateReact = require(\"slate-react\");\nvar _slate = require(\"slate\");\nvar _extension = require(\"../../extension\");\nvar _eventBus = _interopRequireDefault(require(\"../../utils/event-bus\"));\nvar _eventHandler = _interopRequireDefault(require(\"../../utils/event-handler\"));\nvar _withPropsEditor = _interopRequireDefault(require(\"./with-props-editor\"));\nvar _core = require(\"../../extension/core\");\nvar _common = require(\"../../utils/common\");\nrequire(\"./index.css\");\nvar isMacOS = (0, _common.isMac)();\nvar InlineEditor = function InlineEditor(_ref) {\n  var enableEdit = _ref.enableEdit,\n    value = _ref.value,\n    editorApi = _ref.editorApi,\n    onSave = _ref.onSave,\n    columns = _ref.columns,\n    onContentChanged = _ref.onContentChanged,\n    isSupportFormula = _ref.isSupportFormula,\n    onExpandEditorToggle = _ref.onExpandEditorToggle,\n    handelEnableEdit = _ref.handelEnableEdit;\n  var _ref2 = (0, _react.useState)(value),\n    _ref3 = _slicedToArray(_ref2, 2),\n    slateValue = _ref3[0],\n    setSlateValue = _ref3[1];\n  var focusRangeRef = (0, _react.useRef)(null);\n  var editor = (0, _react.useMemo)(function () {\n    var baseEditor = (0, _extension.inlineEditor)();\n    return (0, _withPropsEditor.default)(baseEditor, {\n      editorApi: editorApi,\n      onSave: onSave,\n      columns: columns\n    });\n  }, [columns, editorApi, onSave]);\n  var eventProxy = (0, _react.useMemo)(function () {\n    return new _eventHandler.default(editor);\n  }, [editor]);\n  var decorate = (0, _extension.useHighlight)(editor);\n  var onChange = (0, _react.useCallback)(function (value) {\n    setSlateValue(value);\n    if (editor.forceNormalize) return;\n    var operations = editor.operations;\n    var modifyOps = operations.filter(function (o) {\n      return o.type !== 'set_selection';\n    });\n    if (modifyOps.length > 0) {\n      onContentChanged && onContentChanged(value);\n    }\n    var eventBus = _eventBus.default.getInstance();\n    eventBus.dispatch('change');\n  }, [editor, onContentChanged]);\n  var focusNode = (0, _react.useCallback)(function (editor, focusRange) {\n    var _editor$children = _slicedToArray(editor.children, 1),\n      firstNode = _editor$children[0];\n    if (!firstNode) return;\n    if (focusRange && focusRange !== null && focusRange !== void 0 && focusRange.anchor) {\n      var startOfFirstNode = _slate.Editor.start(editor, focusRange.anchor.path);\n      var range = {\n        anchor: startOfFirstNode,\n        focus: startOfFirstNode\n      };\n      (0, _core.focusEditor)(editor, range);\n      setTimeout(function () {\n        return (0, _core.focusEditor)(editor, focusRange);\n      }, 0);\n      focusRangeRef.current = null;\n      return;\n    }\n    var _firstNode$children = _slicedToArray(firstNode.children, 1),\n      firstNodeFirstChild = _firstNode$children[0];\n    if (firstNodeFirstChild) {\n      var _startOfFirstNode = _slate.Editor.start(editor, [0, 0]);\n      var _range = {\n        anchor: _startOfFirstNode,\n        focus: _startOfFirstNode\n      };\n      (0, _core.focusEditor)(editor, _range);\n    }\n  }, []);\n\n  // useMount: focus editor\n  (0, _react.useEffect)(function () {\n    editor.forceNormalize = true;\n    _slate.Editor.normalize(editor, {\n      force: true\n    });\n    var timer = setTimeout(function () {\n      editor.forceNormalize = false;\n      if (!enableEdit) return;\n      focusNode(editor);\n    }, 300);\n    return function () {\n      editor.forceNormalize = false;\n      clearTimeout(timer);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  (0, _react.useEffect)(function () {\n    if (!enableEdit) return;\n    focusNode(editor, focusRangeRef.current);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [enableEdit]);\n\n  // willUnmount\n  (0, _react.useEffect)(function () {\n    return function () {\n      editor.selection = null;\n      editor.history = {\n        redos: [],\n        undos: []\n      };\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var onEditorClick = (0, _react.useCallback)(function () {\n    if (!enableEdit) {\n      focusRangeRef.current = editor.selection;\n      handelEnableEdit();\n      return;\n    }\n    var value = editor.children;\n    var isDocumentEmpty = value.length === 1 && _slate.Node.string(value[0]).length === 0 && _slate.Text.isText(value[0]);\n    if (isDocumentEmpty) {\n      focusNode(editor);\n    }\n  }, [enableEdit, editor, focusNode, handelEnableEdit]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-simple-slate-editor-container\"\n  }, enableEdit && /*#__PURE__*/_react.default.createElement(_extension.InlineToolbar, {\n    editor: editor,\n    isSupportFormula: isSupportFormula,\n    isSupportColumn: !!columns,\n    onExpandEditorToggle: onExpandEditorToggle\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-slate-editor-content\",\n    onClick: onEditorClick\n  }, /*#__PURE__*/_react.default.createElement(_slateReact.Slate, {\n    editor: editor,\n    initialValue: slateValue,\n    onChange: onChange\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-slate-scroll-container \".concat(isMacOS ? '' : 'isWin')\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-slate-article-container\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"article\"\n  }, /*#__PURE__*/_react.default.createElement(_extension.SetNodeToDecorations, null), /*#__PURE__*/_react.default.createElement(_slateReact.Editable, {\n    readOnly: !enableEdit,\n    decorate: decorate,\n    renderElement: _extension.renderElement,\n    renderLeaf: _extension.renderLeaf,\n    onKeyDown: eventProxy.onKeyDown,\n    onCopy: eventProxy.onCopy\n  })))))));\n};\nvar _default = exports.default = InlineEditor;","map":{"version":3,"names":["_slicedToArray","require","default","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","value","_react","_slateReact","_slate","_extension","_eventBus","_eventHandler","_withPropsEditor","_core","_common","isMacOS","isMac","InlineEditor","_ref","enableEdit","editorApi","onSave","columns","onContentChanged","isSupportFormula","onExpandEditorToggle","handelEnableEdit","_ref2","useState","_ref3","slateValue","setSlateValue","focusRangeRef","useRef","editor","useMemo","baseEditor","inlineEditor","eventProxy","decorate","useHighlight","onChange","useCallback","forceNormalize","operations","modifyOps","filter","o","type","length","eventBus","getInstance","dispatch","focusNode","focusRange","_editor$children","children","firstNode","anchor","startOfFirstNode","Editor","start","path","range","focus","focusEditor","setTimeout","current","_firstNode$children","firstNodeFirstChild","useEffect","normalize","force","timer","clearTimeout","selection","history","redos","undos","onEditorClick","isDocumentEmpty","Node","string","Text","isText","createElement","className","InlineToolbar","isSupportColumn","onClick","Slate","initialValue","concat","SetNodeToDecorations","Editable","readOnly","renderElement","renderLeaf","onKeyDown","onCopy","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/editors/inline-editor/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _slateReact = require(\"slate-react\");\nvar _slate = require(\"slate\");\nvar _extension = require(\"../../extension\");\nvar _eventBus = _interopRequireDefault(require(\"../../utils/event-bus\"));\nvar _eventHandler = _interopRequireDefault(require(\"../../utils/event-handler\"));\nvar _withPropsEditor = _interopRequireDefault(require(\"./with-props-editor\"));\nvar _core = require(\"../../extension/core\");\nvar _common = require(\"../../utils/common\");\nrequire(\"./index.css\");\nconst isMacOS = (0, _common.isMac)();\nconst InlineEditor = _ref => {\n  let {\n    enableEdit,\n    value,\n    editorApi,\n    onSave,\n    columns,\n    onContentChanged,\n    isSupportFormula,\n    onExpandEditorToggle,\n    handelEnableEdit\n  } = _ref;\n  const [slateValue, setSlateValue] = (0, _react.useState)(value);\n  const focusRangeRef = (0, _react.useRef)(null);\n  const editor = (0, _react.useMemo)(() => {\n    const baseEditor = (0, _extension.inlineEditor)();\n    return (0, _withPropsEditor.default)(baseEditor, {\n      editorApi,\n      onSave,\n      columns\n    });\n  }, [columns, editorApi, onSave]);\n  const eventProxy = (0, _react.useMemo)(() => {\n    return new _eventHandler.default(editor);\n  }, [editor]);\n  const decorate = (0, _extension.useHighlight)(editor);\n  const onChange = (0, _react.useCallback)(value => {\n    setSlateValue(value);\n    if (editor.forceNormalize) return;\n    const operations = editor.operations;\n    const modifyOps = operations.filter(o => o.type !== 'set_selection');\n    if (modifyOps.length > 0) {\n      onContentChanged && onContentChanged(value);\n    }\n    const eventBus = _eventBus.default.getInstance();\n    eventBus.dispatch('change');\n  }, [editor, onContentChanged]);\n  const focusNode = (0, _react.useCallback)((editor, focusRange) => {\n    const [firstNode] = editor.children;\n    if (!firstNode) return;\n    if (focusRange && focusRange !== null && focusRange !== void 0 && focusRange.anchor) {\n      const startOfFirstNode = _slate.Editor.start(editor, focusRange.anchor.path);\n      const range = {\n        anchor: startOfFirstNode,\n        focus: startOfFirstNode\n      };\n      (0, _core.focusEditor)(editor, range);\n      setTimeout(() => (0, _core.focusEditor)(editor, focusRange), 0);\n      focusRangeRef.current = null;\n      return;\n    }\n    const [firstNodeFirstChild] = firstNode.children;\n    if (firstNodeFirstChild) {\n      const startOfFirstNode = _slate.Editor.start(editor, [0, 0]);\n      const range = {\n        anchor: startOfFirstNode,\n        focus: startOfFirstNode\n      };\n      (0, _core.focusEditor)(editor, range);\n    }\n  }, []);\n\n  // useMount: focus editor\n  (0, _react.useEffect)(() => {\n    editor.forceNormalize = true;\n    _slate.Editor.normalize(editor, {\n      force: true\n    });\n    const timer = setTimeout(() => {\n      editor.forceNormalize = false;\n      if (!enableEdit) return;\n      focusNode(editor);\n    }, 300);\n    return () => {\n      editor.forceNormalize = false;\n      clearTimeout(timer);\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  (0, _react.useEffect)(() => {\n    if (!enableEdit) return;\n    focusNode(editor, focusRangeRef.current);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [enableEdit]);\n\n  // willUnmount\n  (0, _react.useEffect)(() => {\n    return () => {\n      editor.selection = null;\n      editor.history = {\n        redos: [],\n        undos: []\n      };\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onEditorClick = (0, _react.useCallback)(() => {\n    if (!enableEdit) {\n      focusRangeRef.current = editor.selection;\n      handelEnableEdit();\n      return;\n    }\n    const value = editor.children;\n    const isDocumentEmpty = value.length === 1 && _slate.Node.string(value[0]).length === 0 && _slate.Text.isText(value[0]);\n    if (isDocumentEmpty) {\n      focusNode(editor);\n    }\n  }, [enableEdit, editor, focusNode, handelEnableEdit]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-simple-slate-editor-container\"\n  }, enableEdit && /*#__PURE__*/_react.default.createElement(_extension.InlineToolbar, {\n    editor: editor,\n    isSupportFormula: isSupportFormula,\n    isSupportColumn: !!columns,\n    onExpandEditorToggle: onExpandEditorToggle\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-slate-editor-content\",\n    onClick: onEditorClick\n  }, /*#__PURE__*/_react.default.createElement(_slateReact.Slate, {\n    editor: editor,\n    initialValue: slateValue,\n    onChange: onChange\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-slate-scroll-container \".concat(isMacOS ? '' : 'isWin')\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-slate-article-container\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"article\"\n  }, /*#__PURE__*/_react.default.createElement(_extension.SetNodeToDecorations, null), /*#__PURE__*/_react.default.createElement(_slateReact.Editable, {\n    readOnly: !enableEdit,\n    decorate: decorate,\n    renderElement: _extension.renderElement,\n    renderLeaf: _extension.renderLeaf,\n    onKeyDown: eventProxy.onKeyDown,\n    onCopy: eventProxy.onCopy\n  })))))));\n};\nvar _default = exports.default = InlineEditor;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}