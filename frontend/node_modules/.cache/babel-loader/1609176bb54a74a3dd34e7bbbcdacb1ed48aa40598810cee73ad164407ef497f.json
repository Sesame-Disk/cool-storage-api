{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { useEffect, useState } from 'react';\nimport { useCommentContext } from './use-comment-context';\nimport { COMMENT_TYPES, DOC_COMMENT_ELEMENT_ID } from '../../constants';\nvar useCommentList = function useCommentList() {\n  var _useCommentContext = useCommentContext(),\n    commentsInfo = _useCommentContext.commentsInfo;\n  var _ref = commentsInfo || [],\n    comment_list = _ref.comment_list;\n  var _useState = useState(COMMENT_TYPES.ALL),\n    _useState2 = _slicedToArray(_useState, 2),\n    commentType = _useState2[0],\n    setCommentType = _useState2[1];\n  var _useState3 = useState([comment_list]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    commentList = _useState4[0],\n    setCommentList = _useState4[1];\n  useEffect(function () {\n    if (commentType === COMMENT_TYPES.ALL) {\n      setCommentList(comment_list);\n    } else if (commentType === COMMENT_TYPES.RESOLVED) {\n      var _commentList = comment_list.filter(function (item) {\n        return item.resolved;\n      });\n      setCommentList(_commentList);\n    } else if (commentType === COMMENT_TYPES.UNRESOLVED) {\n      var _commentList2 = comment_list.filter(function (item) {\n        return !item.resolved;\n      });\n      setCommentList(_commentList2);\n    } else if (commentType === COMMENT_TYPES.DOC) {\n      var _commentList3 = comment_list.filter(function (comment) {\n        return comment.detail.element_id === DOC_COMMENT_ELEMENT_ID;\n      });\n      setCommentList(_commentList3);\n    }\n  }, [commentType, comment_list]);\n  return {\n    commentList: commentList,\n    commentType: commentType,\n    setCommentType: setCommentType\n  };\n};\nexport default useCommentList;","map":{"version":3,"names":["useEffect","useState","useCommentContext","COMMENT_TYPES","DOC_COMMENT_ELEMENT_ID","useCommentList","_useCommentContext","commentsInfo","_ref","comment_list","_useState","ALL","_useState2","_slicedToArray","commentType","setCommentType","_useState3","_useState4","commentList","setCommentList","RESOLVED","filter","item","resolved","UNRESOLVED","DOC","comment","detail","element_id"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/comment/hooks/comment-hooks/use-comment-list.js"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { useCommentContext } from './use-comment-context';\nimport { COMMENT_TYPES, DOC_COMMENT_ELEMENT_ID } from '../../constants';\nconst useCommentList = () => {\n  const {\n    commentsInfo\n  } = useCommentContext();\n  const {\n    comment_list\n  } = commentsInfo || [];\n  const [commentType, setCommentType] = useState(COMMENT_TYPES.ALL);\n  const [commentList, setCommentList] = useState([comment_list]);\n  useEffect(() => {\n    if (commentType === COMMENT_TYPES.ALL) {\n      setCommentList(comment_list);\n    } else if (commentType === COMMENT_TYPES.RESOLVED) {\n      const commentList = comment_list.filter(item => item.resolved);\n      setCommentList(commentList);\n    } else if (commentType === COMMENT_TYPES.UNRESOLVED) {\n      const commentList = comment_list.filter(item => !item.resolved);\n      setCommentList(commentList);\n    } else if (commentType === COMMENT_TYPES.DOC) {\n      const commentList = comment_list.filter(comment => comment.detail.element_id === DOC_COMMENT_ELEMENT_ID);\n      setCommentList(commentList);\n    }\n  }, [commentType, comment_list]);\n  return {\n    commentList,\n    commentType,\n    setCommentType\n  };\n};\nexport default useCommentList;"],"mappings":";AAAA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,SAASC,iBAAiB,QAAQ,uBAAuB;AACzD,SAASC,aAAa,EAAEC,sBAAsB,QAAQ,iBAAiB;AACvE,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;EAC3B,IAAAC,kBAAA,GAEIJ,iBAAiB,CAAC,CAAC;IADrBK,YAAY,GAAAD,kBAAA,CAAZC,YAAY;EAEd,IAAAC,IAAA,GAEID,YAAY,IAAI,EAAE;IADpBE,YAAY,GAAAD,IAAA,CAAZC,YAAY;EAEd,IAAAC,SAAA,GAAsCT,QAAQ,CAACE,aAAa,CAACQ,GAAG,CAAC;IAAAC,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAA1DI,WAAW,GAAAF,UAAA;IAAEG,cAAc,GAAAH,UAAA;EAClC,IAAAI,UAAA,GAAsCf,QAAQ,CAAC,CAACQ,YAAY,CAAC,CAAC;IAAAQ,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAAvDE,WAAW,GAAAD,UAAA;IAAEE,cAAc,GAAAF,UAAA;EAClCjB,SAAS,CAAC,YAAM;IACd,IAAIc,WAAW,KAAKX,aAAa,CAACQ,GAAG,EAAE;MACrCQ,cAAc,CAACV,YAAY,CAAC;IAC9B,CAAC,MAAM,IAAIK,WAAW,KAAKX,aAAa,CAACiB,QAAQ,EAAE;MACjD,IAAMF,YAAW,GAAGT,YAAY,CAACY,MAAM,CAAC,UAAAC,IAAI;QAAA,OAAIA,IAAI,CAACC,QAAQ;MAAA,EAAC;MAC9DJ,cAAc,CAACD,YAAW,CAAC;IAC7B,CAAC,MAAM,IAAIJ,WAAW,KAAKX,aAAa,CAACqB,UAAU,EAAE;MACnD,IAAMN,aAAW,GAAGT,YAAY,CAACY,MAAM,CAAC,UAAAC,IAAI;QAAA,OAAI,CAACA,IAAI,CAACC,QAAQ;MAAA,EAAC;MAC/DJ,cAAc,CAACD,aAAW,CAAC;IAC7B,CAAC,MAAM,IAAIJ,WAAW,KAAKX,aAAa,CAACsB,GAAG,EAAE;MAC5C,IAAMP,aAAW,GAAGT,YAAY,CAACY,MAAM,CAAC,UAAAK,OAAO;QAAA,OAAIA,OAAO,CAACC,MAAM,CAACC,UAAU,KAAKxB,sBAAsB;MAAA,EAAC;MACxGe,cAAc,CAACD,aAAW,CAAC;IAC7B;EACF,CAAC,EAAE,CAACJ,WAAW,EAAEL,YAAY,CAAC,CAAC;EAC/B,OAAO;IACLS,WAAW,EAAXA,WAAW;IACXJ,WAAW,EAAXA,WAAW;IACXC,cAAc,EAAdA;EACF,CAAC;AACH,CAAC;AACD,eAAeV,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}