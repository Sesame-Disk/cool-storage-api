{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import ReactDom from'react-dom';import{navigate}from'@gatsbyjs/reach-router';import{Utils}from'./utils/utils';import{gettext,siteRoot,mediaUrl,logoPath,logoWidth,logoHeight,siteTitle}from'./utils/constants';import{seafileAPI}from'./utils/seafile-api';import Loading from'./components/loading';import ModalPortal from'./components/modal-portal';import toaster from'./components/toast';import CommonToolbar from'./components/toolbar/common-toolbar';import ConfirmRestoreRepo from'./components/dialog/confirm-restore-repo';import'./css/toolbar.css';import'./css/search.css';import'./css/repo-snapshot.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _window$app$pageOptio=window.app.pageOptions,repoID=_window$app$pageOptio.repoID,repoName=_window$app$pageOptio.repoName,canRestoreRepo=_window$app$pageOptio.canRestoreRepo,commitID=_window$app$pageOptio.commitID,commitTime=_window$app$pageOptio.commitTime,commitDesc=_window$app$pageOptio.commitDesc,commitRelativeTime=_window$app$pageOptio.commitRelativeTime,showAuthor=_window$app$pageOptio.showAuthor,authorAvatarURL=_window$app$pageOptio.authorAvatarURL,authorName=_window$app$pageOptio.authorName,authorNickName=_window$app$pageOptio.authorNickName;var RepoSnapshot=/*#__PURE__*/function(_React$Component){_inherits(RepoSnapshot,_React$Component);var _super=_createSuper(RepoSnapshot);function RepoSnapshot(props){var _this;_classCallCheck(this,RepoSnapshot);_this=_super.call(this,props);_this.toggleDialog=function(){_this.setState({isConfirmDialogOpen:!_this.state.isConfirmDialogOpen});};_this.onSearchedClick=function(selectedItem){if(selectedItem.is_dir===true){var url=siteRoot+'library/'+selectedItem.repo_id+'/'+selectedItem.repo_name+selectedItem.path;navigate(url,{repalce:true});}else{var _url=siteRoot+'lib/'+selectedItem.repo_id+'/file'+Utils.encodePath(selectedItem.path);var newWindow=window.open('about:blank');newWindow.location.href=_url;}};_this.goBack=function(e){e.preventDefault();window.history.back();};_this.renderFolder=function(folderPath){_this.setState({folderPath:folderPath,folderItems:[],isLoading:true});seafileAPI.listCommitDir(repoID,commitID,folderPath).then(function(res){_this.setState({isLoading:false,folderItems:res.data.dirent_list});}).catch(function(error){_this.setState({isLoading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this.clickFolderPath=function(folderPath,e){e.preventDefault();_this.renderFolder(folderPath);};_this.renderPath=function(){var path=_this.state.folderPath;var pathList=path.split('/');if(path=='/'){return/*#__PURE__*/_jsx(\"span\",{className:\"text-truncate\",title:repoName,children:repoName});}return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:_this.clickFolderPath.bind(_assertThisInitialized(_this),'/'),className:\"text-truncate\",title:repoName,children:repoName}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-1\",children:\"/\"}),pathList.map(function(item,index){if(index>0&&index!=pathList.length-1){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:_this.clickFolderPath.bind(_assertThisInitialized(_this),pathList.slice(0,index+1).join('/')),className:\"text-truncate\",title:pathList[index],children:pathList[index]}),/*#__PURE__*/_jsx(\"span\",{className:\"mx-1\",children:\"/\"})]},index);}return null;}),/*#__PURE__*/_jsx(\"span\",{className:\"text-truncate\",title:pathList[pathList.length-1],children:pathList[pathList.length-1]})]});};_this.restoreRepo=function(){seafileAPI.revertRepo(repoID,commitID).then(function(res){_this.toggleDialog();toaster.success(gettext('Successfully restored the library.'));}).catch(function(error){var errorMsg=Utils.getErrorMsg(error);_this.toggleDialog();toaster.danger(errorMsg);});};_this.state={isLoading:true,errorMsg:'',folderPath:'/',folderItems:[],isConfirmDialogOpen:false};return _this;}_createClass(RepoSnapshot,[{key:\"componentDidMount\",value:function componentDidMount(){this.renderFolder(this.state.folderPath);}},{key:\"render\",value:function render(){var _this$state=this.state,isConfirmDialogOpen=_this$state.isConfirmDialogOpen,folderPath=_this$state.folderPath;var title=gettext('{placeholder} Snapshot');title=title.replace('{placeholder}','<span class=\"op-target text-truncate mx-1\">'+Utils.HTMLescape(repoName)+'</span>');return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"h-100 d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-header d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"a\",{href:siteRoot,children:/*#__PURE__*/_jsx(\"img\",{src:mediaUrl+logoPath,height:logoHeight,width:logoWidth,title:siteTitle,alt:\"logo\"})}),/*#__PURE__*/_jsx(CommonToolbar,{onSearchedClick:this.onSearchedClick})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-auto container-fluid pt-4 pb-6 o-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"col-md-10 offset-md-1\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:title},className:\"d-flex mw-100\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"heading-commit-time ml-1\",children:[\"(\",commitTime,\")\"]})]}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"go-back\",title:gettext('Back'),role:\"button\",\"aria-label\":gettext('Back'),onClick:this.goBack,children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-chevron-left\"})}),folderPath=='/'&&/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex mb-2 align-items-center\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"m-0 text-truncate\",title:commitDesc,children:commitDesc}),/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4 border-left pl-4 d-flex align-items-center flex-shrink-0\",children:[showAuthor?/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"img\",{src:authorAvatarURL,width:\"20\",height:\"20\",alt:\"\",className:\"rounded mr-1\"}),/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"profile/\").concat(encodeURIComponent(authorName),\"/\"),children:authorNickName})]}):/*#__PURE__*/_jsx(\"span\",{children:gettext('Unknown')}),/*#__PURE__*/_jsx(\"p\",{className:\"m-0 ml-2\",dangerouslySetInnerHTML:{__html:commitRelativeTime}})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center op-bar\",children:[/*#__PURE__*/_jsxs(\"p\",{className:\"m-0 text-truncate d-flex\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"mr-1\",children:gettext('Current path: ')}),this.renderPath()]}),folderPath=='/'&&canRestoreRepo&&/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-secondary op-bar-btn flex-shrink-0 ml-4\",onClick:this.toggleDialog,children:gettext('Restore')})]}),/*#__PURE__*/_jsx(Content,{data:this.state,renderFolder:this.renderFolder})]})})})]}),isConfirmDialogOpen&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(ConfirmRestoreRepo,{restoreRepo:this.restoreRepo,toggle:this.toggleDialog})})]});}}]);return RepoSnapshot;}(React.Component);var Content=/*#__PURE__*/function(_React$Component2){_inherits(Content,_React$Component2);var _super2=_createSuper(Content);function Content(props){var _this2;_classCallCheck(this,Content);_this2=_super2.call(this,props);_this2.theadData=[{width:'5%',text:''},{width:'55%',text:gettext('Name')},{width:'20%',text:gettext('Size')},{width:'20%',text:''}];return _this2;}_createClass(Content,[{key:\"render\",value:function render(){var _this3=this;var _this$props$data=this.props.data,isLoading=_this$props$data.isLoading,errorMsg=_this$props$data.errorMsg,folderPath=_this$props$data.folderPath,folderItems=_this$props$data.folderItems;if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error mt-6 text-center\",children:errorMsg});}return/*#__PURE__*/_jsxs(\"table\",{className:\"table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:this.theadData.map(function(item,index){return/*#__PURE__*/_jsx(\"th\",{width:item.width,children:item.text},index);})})}),/*#__PURE__*/_jsx(\"tbody\",{children:folderItems.map(function(item,index){return/*#__PURE__*/_jsx(FolderItem,{item:item,folderPath:folderPath,renderFolder:_this3.props.renderFolder},index);})})]});}}]);return Content;}(React.Component);var FolderItem=/*#__PURE__*/function(_React$Component3){_inherits(FolderItem,_React$Component3);var _super3=_createSuper(FolderItem);function FolderItem(props){var _this4;_classCallCheck(this,FolderItem);_this4=_super3.call(this,props);_this4.handleMouseOver=function(){_this4.setState({isIconShown:true});};_this4.handleMouseOut=function(){_this4.setState({isIconShown:false});};_this4.restoreItem=function(e){e.preventDefault();var item=_this4.props.item;var path=Utils.joinPath(_this4.props.folderPath,item.name);var request=item.type=='dir'?seafileAPI.revertFolder(repoID,path,commitID):seafileAPI.revertFile(repoID,path,commitID);request.then(function(res){toaster.success(gettext('Successfully restored 1 item.'));}).catch(function(error){var errorMsg=Utils.getErrorMsg(error);toaster.danger(errorMsg);});};_this4.renderFolder=function(e){e.preventDefault();var item=_this4.props.item;var folderPath=_this4.props.folderPath;_this4.props.renderFolder(Utils.joinPath(folderPath,item.name));};_this4.state={isIconShown:false};return _this4;}_createClass(FolderItem,[{key:\"render\",value:function render(){var item=this.props.item;var isIconShown=this.state.isIconShown;var folderPath=this.props.folderPath;return item.type=='dir'?/*#__PURE__*/_jsxs(\"tr\",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleMouseOver,children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:Utils.getFolderIconUrl(),alt:gettext('Directory'),width:\"24\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:this.renderFolder,children:item.name})}),/*#__PURE__*/_jsx(\"td\",{}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"action-icon sf2-icon-reply \".concat(isIconShown?'':'invisible'),onClick:this.restoreItem,title:gettext('Restore'),\"aria-label\":gettext('Restore'),role:\"button\"})})]}):/*#__PURE__*/_jsxs(\"tr\",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onFocus:this.handleMouseOver,children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:Utils.getFileIconUrl(item.name),alt:gettext('File'),width:\"24\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"repo/\").concat(repoID,\"/snapshot/files/?obj_id=\").concat(item.obj_id,\"&commit_id=\").concat(commitID,\"&p=\").concat(encodeURIComponent(Utils.joinPath(folderPath,item.name))),target:\"_blank\",rel:\"noreferrer\",children:item.name})}),/*#__PURE__*/_jsx(\"td\",{children:Utils.bytesToSize(item.size)}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"action-icon sf2-icon-reply \".concat(isIconShown?'':'invisible'),onClick:this.restoreItem,title:gettext('Restore'),\"aria-label\":gettext('Restore'),role:\"button\"}),/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"repo/\").concat(repoID,\"/\").concat(item.obj_id,\"/download/?file_name=\").concat(encodeURIComponent(item.name),\"&p=\").concat(encodeURIComponent(Utils.joinPath(folderPath,item.name))),className:\"action-icon sf2-icon-download \".concat(isIconShown?'':'invisible'),title:gettext('Download')})]})]});}}]);return FolderItem;}(React.Component);ReactDom.render(/*#__PURE__*/_jsx(RepoSnapshot,{}),document.getElementById('wrapper'));","map":{"version":3,"names":["React","ReactDom","navigate","Utils","gettext","siteRoot","mediaUrl","logoPath","logoWidth","logoHeight","siteTitle","seafileAPI","Loading","ModalPortal","toaster","CommonToolbar","ConfirmRestoreRepo","jsx","_jsx","jsxs","_jsxs","_window$app$pageOptio","window","app","pageOptions","repoID","repoName","canRestoreRepo","commitID","commitTime","commitDesc","commitRelativeTime","showAuthor","authorAvatarURL","authorName","authorNickName","RepoSnapshot","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","toggleDialog","setState","isConfirmDialogOpen","state","onSearchedClick","selectedItem","is_dir","url","repo_id","repo_name","path","repalce","encodePath","newWindow","open","location","href","goBack","e","preventDefault","history","back","renderFolder","folderPath","folderItems","isLoading","listCommitDir","then","res","data","dirent_list","catch","error","errorMsg","getErrorMsg","clickFolderPath","renderPath","pathList","split","className","title","children","Fragment","onClick","bind","_assertThisInitialized","map","item","index","length","slice","join","restoreRepo","revertRepo","success","danger","_createClass","key","value","componentDidMount","render","_this$state","replace","HTMLescape","src","height","width","alt","dangerouslySetInnerHTML","__html","role","concat","encodeURIComponent","Content","toggle","Component","_React$Component2","_super2","_this2","theadData","text","_this3","_this$props$data","FolderItem","_React$Component3","_super3","_this4","handleMouseOver","isIconShown","handleMouseOut","restoreItem","joinPath","name","request","type","revertFolder","revertFile","onMouseOver","onMouseOut","onFocus","getFolderIconUrl","getFileIconUrl","obj_id","target","rel","bytesToSize","size","document","getElementById"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/repo-snapshot.js"],"sourcesContent":["import React from 'react';\nimport ReactDom from 'react-dom';\nimport PropTypes from 'prop-types';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport { Utils } from './utils/utils';\nimport { gettext, siteRoot, mediaUrl, logoPath, logoWidth, logoHeight, siteTitle } from './utils/constants';\nimport { seafileAPI } from './utils/seafile-api';\nimport Loading from './components/loading';\nimport ModalPortal from './components/modal-portal';\nimport toaster from './components/toast';\nimport CommonToolbar from './components/toolbar/common-toolbar';\nimport ConfirmRestoreRepo from './components/dialog/confirm-restore-repo';\n\nimport './css/toolbar.css';\nimport './css/search.css';\n\nimport './css/repo-snapshot.css';\n\nconst {\n  repoID, repoName, canRestoreRepo,\n  commitID, commitTime, commitDesc, commitRelativeTime,\n  showAuthor, authorAvatarURL, authorName, authorNickName\n} = window.app.pageOptions;\n\nclass RepoSnapshot extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      errorMsg: '',\n      folderPath: '/',\n      folderItems: [],\n      isConfirmDialogOpen: false\n    };\n  }\n\n  componentDidMount() {\n    this.renderFolder(this.state.folderPath);\n  }\n\n  toggleDialog = () => {\n    this.setState({\n      isConfirmDialogOpen: !this.state.isConfirmDialogOpen\n    });\n  };\n\n  onSearchedClick = (selectedItem) => {\n    if (selectedItem.is_dir === true) {\n      let url = siteRoot + 'library/' + selectedItem.repo_id + '/' + selectedItem.repo_name + selectedItem.path;\n      navigate(url, {repalce: true});\n    } else {\n      let url = siteRoot + 'lib/' + selectedItem.repo_id + '/file' + Utils.encodePath(selectedItem.path);\n      let newWindow = window.open('about:blank');\n      newWindow.location.href = url;\n    }\n  };\n\n  goBack = (e) => {\n    e.preventDefault();\n    window.history.back();\n  };\n\n  renderFolder = (folderPath) => {\n    this.setState({\n      folderPath: folderPath,\n      folderItems: [],\n      isLoading: true\n    });\n\n    seafileAPI.listCommitDir(repoID, commitID, folderPath).then((res) => {\n      this.setState({\n        isLoading: false,\n        folderItems: res.data.dirent_list\n      });\n    }).catch((error) => {\n      this.setState({\n        isLoading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  clickFolderPath = (folderPath, e) => {\n    e.preventDefault();\n    this.renderFolder(folderPath);\n  };\n\n  renderPath = () => {\n    const path = this.state.folderPath;\n    const pathList = path.split('/');\n\n    if (path == '/') {\n      return <span className=\"text-truncate\" title={repoName}>{repoName}</span>;\n    }\n\n    return (\n      <React.Fragment>\n        <a href=\"#\" onClick={this.clickFolderPath.bind(this, '/')} className=\"text-truncate\" title={repoName}>{repoName}</a>\n        <span className=\"mx-1\">/</span>\n        {pathList.map((item, index) => {\n          if (index > 0 && index != pathList.length - 1) {\n            return (\n              <React.Fragment key={index}>\n                <a href=\"#\" onClick={this.clickFolderPath.bind(this, pathList.slice(0, index+1).join('/'))} className=\"text-truncate\" title={pathList[index]}>{pathList[index]}</a>\n                <span className=\"mx-1\">/</span>\n              </React.Fragment>\n            );\n          }\n          return null;\n        }\n        )}\n        <span className=\"text-truncate\" title={pathList[pathList.length - 1]}>{pathList[pathList.length - 1]}</span>\n      </React.Fragment>\n    );\n  };\n\n  restoreRepo = () => {\n    seafileAPI.revertRepo(repoID, commitID).then((res) => {\n      this.toggleDialog();\n      toaster.success(gettext('Successfully restored the library.'));\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      this.toggleDialog();\n      toaster.danger(errorMsg);\n    });\n  };\n\n  render() {\n    const { isConfirmDialogOpen, folderPath } = this.state;\n\n    let title = gettext('{placeholder} Snapshot');\n    title = title.replace('{placeholder}', '<span class=\"op-target text-truncate mx-1\">' + Utils.HTMLescape(repoName) + '</span>');\n    return (\n      <React.Fragment>\n        <div className=\"h-100 d-flex flex-column\">\n          <div className=\"top-header d-flex justify-content-between\">\n            <a href={siteRoot}>\n              <img src={mediaUrl + logoPath} height={logoHeight} width={logoWidth} title={siteTitle} alt=\"logo\" />\n            </a>\n            <CommonToolbar onSearchedClick={this.onSearchedClick} />\n          </div>\n          <div className=\"flex-auto container-fluid pt-4 pb-6 o-auto\">\n            <div className=\"row\">\n              <div className=\"col-md-10 offset-md-1\">\n                <h2>\n                  <span dangerouslySetInnerHTML={{__html: title}} className=\"d-flex mw-100\"></span>\n                  <span className=\"heading-commit-time ml-1\">({commitTime})</span>\n                </h2>\n                <a href=\"#\" className=\"go-back\" title={gettext('Back')} role=\"button\" aria-label={gettext('Back')} onClick={this.goBack}>\n                  <span className=\"fas fa-chevron-left\"></span>\n                </a>\n                {folderPath == '/' && (\n                  <div className=\"d-flex mb-2 align-items-center\">\n                    <p className=\"m-0 text-truncate\" title={commitDesc}>{commitDesc}</p>\n                    <div className=\"ml-4 border-left pl-4 d-flex align-items-center flex-shrink-0\">\n                      {showAuthor ? (\n                        <React.Fragment>\n                          <img src={authorAvatarURL} width=\"20\" height=\"20\" alt=\"\" className=\"rounded mr-1\" />\n                          <a href={`${siteRoot}profile/${encodeURIComponent(authorName)}/`}>{authorNickName}</a>\n                        </React.Fragment>\n                      ) : <span>{gettext('Unknown')}</span>}\n                      <p className=\"m-0 ml-2\" dangerouslySetInnerHTML={{__html: commitRelativeTime}}></p>\n                    </div>\n                  </div>\n                )}\n                <div className=\"d-flex justify-content-between align-items-center op-bar\">\n                  <p className=\"m-0 text-truncate d-flex\"><span className=\"mr-1\">{gettext('Current path: ')}</span>{this.renderPath()}</p>\n                  {(folderPath == '/' && canRestoreRepo) &&\n                  <button className=\"btn btn-secondary op-bar-btn flex-shrink-0 ml-4\" onClick={this.toggleDialog}>{gettext('Restore')}</button>\n                  }\n                </div>\n                <Content\n                  data={this.state}\n                  renderFolder={this.renderFolder}\n                />\n              </div>\n            </div>\n          </div>\n        </div>\n        {isConfirmDialogOpen &&\n        <ModalPortal>\n          <ConfirmRestoreRepo\n            restoreRepo={this.restoreRepo}\n            toggle={this.toggleDialog}\n          />\n        </ModalPortal>\n        }\n      </React.Fragment>\n    );\n  }\n}\n\nclass Content extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.theadData = [\n      {width: '5%', text: ''},\n      {width: '55%', text: gettext('Name')},\n      {width: '20%', text: gettext('Size')},\n      {width: '20%', text: ''}\n    ];\n  }\n\n  render() {\n    const { isLoading, errorMsg, folderPath, folderItems } = this.props.data;\n\n    if (isLoading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error mt-6 text-center\">{errorMsg}</p>;\n    }\n\n    return (\n      <table className=\"table-hover\">\n        <thead>\n          <tr>\n            {this.theadData.map((item, index) => {\n              return <th key={index} width={item.width}>{item.text}</th>;\n            })}\n          </tr>\n        </thead>\n        <tbody>\n          {folderItems.map((item, index) => {\n            return <FolderItem\n              key={index}\n              item={item}\n              folderPath={folderPath}\n              renderFolder={this.props.renderFolder}\n            />;\n          })\n          }\n        </tbody>\n      </table>\n    );\n  }\n}\n\nContent.propTypes = {\n  data: PropTypes.object.isRequired,\n  renderFolder: PropTypes.func.isRequired,\n};\n\nclass FolderItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isIconShown: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isIconShown: true});\n  };\n\n  handleMouseOut = () => {\n    this.setState({isIconShown: false});\n  };\n\n  restoreItem = (e) => {\n    e.preventDefault();\n\n    const item = this.props.item;\n    const path = Utils.joinPath(this.props.folderPath, item.name);\n    const request = item.type == 'dir' ?\n      seafileAPI.revertFolder(repoID, path, commitID):\n      seafileAPI.revertFile(repoID, path, commitID);\n    request.then((res) => {\n      toaster.success(gettext('Successfully restored 1 item.'));\n    }).catch((error) => {\n      let errorMsg = Utils.getErrorMsg(error);\n      toaster.danger(errorMsg);\n    });\n  };\n\n  renderFolder = (e) => {\n    e.preventDefault();\n\n    const item = this.props.item;\n    const { folderPath } = this.props;\n    this.props.renderFolder(Utils.joinPath(folderPath, item.name));\n  };\n\n  render() {\n    const item = this.props.item;\n    const { isIconShown } = this.state;\n    const { folderPath } = this.props;\n\n    return item.type == 'dir' ? (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut} onFocus={this.handleMouseOver}>\n        <td className=\"text-center\"><img src={Utils.getFolderIconUrl()} alt={gettext('Directory')} width=\"24\" /></td>\n        <td><a href=\"#\" onClick={this.renderFolder}>{item.name}</a></td>\n        <td></td>\n        <td>\n          <a href=\"#\" className={`action-icon sf2-icon-reply ${isIconShown ? '': 'invisible'}`} onClick={this.restoreItem} title={gettext('Restore')} aria-label={gettext('Restore')} role=\"button\"></a>\n        </td>\n      </tr>\n    ) : (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut} onFocus={this.handleMouseOver}>\n        <td className=\"text-center\"><img src={Utils.getFileIconUrl(item.name)} alt={gettext('File')} width=\"24\" /></td>\n        <td><a href={`${siteRoot}repo/${repoID}/snapshot/files/?obj_id=${item.obj_id}&commit_id=${commitID}&p=${encodeURIComponent(Utils.joinPath(folderPath, item.name))}`} target=\"_blank\" rel=\"noreferrer\">{item.name}</a></td>\n        <td>{Utils.bytesToSize(item.size)}</td>\n        <td>\n          <a href=\"#\" className={`action-icon sf2-icon-reply ${isIconShown ? '': 'invisible'}`} onClick={this.restoreItem} title={gettext('Restore')} aria-label={gettext('Restore')} role=\"button\"></a>\n          <a href={`${siteRoot}repo/${repoID}/${item.obj_id}/download/?file_name=${encodeURIComponent(item.name)}&p=${encodeURIComponent(Utils.joinPath(folderPath, item.name))}`} className={`action-icon sf2-icon-download ${isIconShown ? '': 'invisible'}`} title={gettext('Download')}></a>\n        </td>\n      </tr>\n    );\n  }\n}\n\nFolderItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  folderPath: PropTypes.string.isRequired,\n  renderFolder: PropTypes.func.isRequired,\n};\n\nReactDom.render(<RepoSnapshot />, document.getElementById('wrapper'));\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}