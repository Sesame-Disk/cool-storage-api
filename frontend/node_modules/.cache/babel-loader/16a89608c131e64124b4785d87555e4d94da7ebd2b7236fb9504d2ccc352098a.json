{"ast":null,"code":"import _regeneratorRuntime from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _toConsumableArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useCallback, useState, useRef, useEffect } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport classnames from 'classnames';\nimport slugid from 'slugid';\nimport context from '../../../../../context';\nimport { getErrorMsg } from '../../../../../utils/';\nimport toaster from '../../../../../components/toast';\nimport { addDataToTree } from '../helpers';\nimport './index.css';\nvar LocalFiles = function LocalFiles(_ref) {\n  var onSelectedFile = _ref.onSelectedFile,\n    toggle = _ref.toggle,\n    fileType = _ref.fileType,\n    t = _ref.t;\n  var folderRef = useRef(null);\n  var _useState = useState(new Set([])),\n    _useState2 = _slicedToArray(_useState, 2),\n    expandedFolder = _useState2[0],\n    setExpandedFolder = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currentActiveItem = _useState4[0],\n    setCurrentActiveItem = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    treeData = _useState6[0],\n    setTreeData = _useState6[1];\n  var collapsedFolder = useCallback(function (data, indexId) {\n    for (var i = 0; i < data.length; i++) {\n      var _data$i;\n      if (data[i].indexId === indexId) {\n        data[i].children = null;\n        break;\n      }\n      if ((_data$i = data[i]) === null || _data$i === void 0 ? void 0 : _data$i.children) {\n        collapsedFolder(data[i].children, indexId);\n      }\n    }\n    setTreeData(_toConsumableArray(data));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var getTreeData = useCallback(function (p, indexId, treeData) {\n    return context.getSdocLocalFiles(p, fileType).then(function (res) {\n      res.data.forEach(function (item) {\n        item.indexId = slugid.nice();\n      });\n      // Open folder\n      if (indexId && treeData.length > 0) {\n        var newFileListData = addDataToTree(treeData, indexId, res.data, p);\n        setTreeData(_toConsumableArray(newFileListData));\n        return;\n      }\n      // First loads\n      res.data.forEach(function (item) {\n        item.path = \"/\".concat(item.name);\n      });\n      setTreeData(res.data);\n    }).catch(function (error) {\n      toggle();\n      var errorMessage = getErrorMsg(error);\n      toaster.danger(errorMessage);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(function () {\n    var rootPath = '/';\n    getTreeData(rootPath);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var onToggle = useCallback( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e, item, treeData) {\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            e.stopPropagation();\n            if (!expandedFolder.has(item.indexId)) {\n              _context.next = 6;\n              break;\n            }\n            collapsedFolder(treeData, item.indexId);\n            expandedFolder.delete(item.indexId);\n            _context.next = 9;\n            break;\n          case 6:\n            _context.next = 8;\n            return getTreeData(item.path, item.indexId, treeData);\n          case 8:\n            expandedFolder.add(item.indexId);\n          case 9:\n            onSelectedFile(null);\n            setCurrentActiveItem(item);\n            setExpandedFolder(new Set(Array.from(expandedFolder)));\n            // eslint-disable-next-line react-hooks/exhaustive-deps\n          case 12:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x, _x2, _x3) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [expandedFolder]);\n  var onSelectFile = useCallback(function (e, file) {\n    e.stopPropagation();\n    setCurrentActiveItem(file);\n    onSelectedFile(file);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var renderFileTree = useCallback(function (data) {\n    if (!Array.isArray(data) || data.length === 0) return null;\n    return data.map(function (item) {\n      var _item$children, _item$children2;\n      if (!item) return null;\n      var type = item.type,\n        indexId = item.indexId,\n        name = item.name;\n      var selected = (currentActiveItem === null || currentActiveItem === void 0 ? void 0 : currentActiveItem.indexId) === indexId;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: indexId,\n        className: \"sdoc-folder-container\"\n      }, type === 'dir' && /*#__PURE__*/React.createElement(\"div\", {\n        ref: folderRef,\n        className: \"sdoc-folder\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames('sdoc-folder-info sdoc-file-info', {\n          'active': selected,\n          'expanded': expandedFolder.has(indexId)\n        }),\n        onClick: function onClick(e) {\n          return onToggle(e, item, treeData);\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sdoc-file-icon-container\"\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"sdoc-file-icon sdoc-file-icon-toggle sdocfont sdoc-right-slide\"\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"sdoc-file-icon sdocfont sdoc-file sdoc-folder-icon\"\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sdoc-folder-name sdoc-file-name\"\n      }, name)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sdoc-folder-children\"\n      }, ((_item$children = item.children) === null || _item$children === void 0 ? void 0 : _item$children.length) === 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sdoc-folder-children-empty\"\n      }, \"(\".concat(t('Empty'), \")\")), ((_item$children2 = item.children) === null || _item$children2 === void 0 ? void 0 : _item$children2.length) > 0 && renderFileTree(item.children))), type === 'file' && /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames('sdoc-file-info', {\n          'active': selected\n        }),\n        onClick: function onClick(e) {\n          onSelectFile(e, item);\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sdoc-file-icon-container\"\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: classnames('sdoc-file-icon sdocfont', {\n          'sdoc-document': fileType === 'sdoc'\n        }, {\n          'sdoc-link-file': fileType === 'file'\n        })\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sdoc-file-name\"\n      }, name)));\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [treeData, currentActiveItem, expandedFolder]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-files-tree\"\n  }, renderFileTree(treeData));\n};\nexport default withTranslation('sdoc-editor')(LocalFiles);","map":{"version":3,"names":["React","useCallback","useState","useRef","useEffect","withTranslation","classnames","slugid","context","getErrorMsg","toaster","addDataToTree","LocalFiles","_ref","onSelectedFile","toggle","fileType","t","folderRef","_useState","Set","_useState2","_slicedToArray","expandedFolder","setExpandedFolder","_useState3","_useState4","currentActiveItem","setCurrentActiveItem","_useState5","_useState6","treeData","setTreeData","collapsedFolder","data","indexId","i","length","_data$i","children","_toConsumableArray","getTreeData","p","getSdocLocalFiles","then","res","forEach","item","nice","newFileListData","path","concat","name","catch","error","errorMessage","danger","rootPath","onToggle","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","stopPropagation","has","delete","add","Array","from","stop","_x","_x2","_x3","apply","arguments","onSelectFile","file","renderFileTree","isArray","map","_item$children","_item$children2","type","selected","createElement","key","className","ref","onClick"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/commons/select-file-dialog/local-files/index.js"],"sourcesContent":["import React, { useCallback, useState, useRef, useEffect } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport classnames from 'classnames';\nimport slugid from 'slugid';\nimport context from '../../../../../context';\nimport { getErrorMsg } from '../../../../../utils/';\nimport toaster from '../../../../../components/toast';\nimport { addDataToTree } from '../helpers';\nimport './index.css';\nconst LocalFiles = _ref => {\n  let {\n    onSelectedFile,\n    toggle,\n    fileType,\n    t\n  } = _ref;\n  const folderRef = useRef(null);\n  const [expandedFolder, setExpandedFolder] = useState(new Set([]));\n  const [currentActiveItem, setCurrentActiveItem] = useState(null);\n  const [treeData, setTreeData] = useState([]);\n  const collapsedFolder = useCallback((data, indexId) => {\n    for (let i = 0; i < data.length; i++) {\n      var _data$i;\n      if (data[i].indexId === indexId) {\n        data[i].children = null;\n        break;\n      }\n      if ((_data$i = data[i]) === null || _data$i === void 0 ? void 0 : _data$i.children) {\n        collapsedFolder(data[i].children, indexId);\n      }\n    }\n    setTreeData([...data]);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const getTreeData = useCallback((p, indexId, treeData) => {\n    return context.getSdocLocalFiles(p, fileType).then(res => {\n      res.data.forEach(item => {\n        item.indexId = slugid.nice();\n      });\n      // Open folder\n      if (indexId && treeData.length > 0) {\n        const newFileListData = addDataToTree(treeData, indexId, res.data, p);\n        setTreeData([...newFileListData]);\n        return;\n      }\n      // First loads\n      res.data.forEach(item => {\n        item.path = \"/\".concat(item.name);\n      });\n      setTreeData(res.data);\n    }).catch(error => {\n      toggle();\n      const errorMessage = getErrorMsg(error);\n      toaster.danger(errorMessage);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    const rootPath = '/';\n    getTreeData(rootPath);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onToggle = useCallback(async (e, item, treeData) => {\n    e.stopPropagation();\n    if (expandedFolder.has(item.indexId)) {\n      collapsedFolder(treeData, item.indexId);\n      expandedFolder.delete(item.indexId);\n    } else {\n      await getTreeData(item.path, item.indexId, treeData);\n      expandedFolder.add(item.indexId);\n    }\n    onSelectedFile(null);\n    setCurrentActiveItem(item);\n    setExpandedFolder(new Set(Array.from(expandedFolder)));\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [expandedFolder]);\n  const onSelectFile = useCallback((e, file) => {\n    e.stopPropagation();\n    setCurrentActiveItem(file);\n    onSelectedFile(file);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const renderFileTree = useCallback(data => {\n    if (!Array.isArray(data) || data.length === 0) return null;\n    return data.map(item => {\n      var _item$children, _item$children2;\n      if (!item) return null;\n      const {\n        type,\n        indexId,\n        name\n      } = item;\n      const selected = (currentActiveItem === null || currentActiveItem === void 0 ? void 0 : currentActiveItem.indexId) === indexId;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        key: indexId,\n        className: \"sdoc-folder-container\"\n      }, type === 'dir' && /*#__PURE__*/React.createElement(\"div\", {\n        ref: folderRef,\n        className: \"sdoc-folder\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames('sdoc-folder-info sdoc-file-info', {\n          'active': selected,\n          'expanded': expandedFolder.has(indexId)\n        }),\n        onClick: e => onToggle(e, item, treeData)\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sdoc-file-icon-container\"\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: \"sdoc-file-icon sdoc-file-icon-toggle sdocfont sdoc-right-slide\"\n      }), /*#__PURE__*/React.createElement(\"i\", {\n        className: \"sdoc-file-icon sdocfont sdoc-file sdoc-folder-icon\"\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sdoc-folder-name sdoc-file-name\"\n      }, name)), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sdoc-folder-children\"\n      }, ((_item$children = item.children) === null || _item$children === void 0 ? void 0 : _item$children.length) === 0 && /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sdoc-folder-children-empty\"\n      }, \"(\".concat(t('Empty'), \")\")), ((_item$children2 = item.children) === null || _item$children2 === void 0 ? void 0 : _item$children2.length) > 0 && renderFileTree(item.children))), type === 'file' && /*#__PURE__*/React.createElement(\"div\", {\n        className: classnames('sdoc-file-info', {\n          'active': selected\n        }),\n        onClick: e => {\n          onSelectFile(e, item);\n        }\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        className: \"sdoc-file-icon-container\"\n      }, /*#__PURE__*/React.createElement(\"i\", {\n        className: classnames('sdoc-file-icon sdocfont', {\n          'sdoc-document': fileType === 'sdoc'\n        }, {\n          'sdoc-link-file': fileType === 'file'\n        })\n      })), /*#__PURE__*/React.createElement(\"span\", {\n        className: \"sdoc-file-name\"\n      }, name)));\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [treeData, currentActiveItem, expandedFolder]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-files-tree\"\n  }, renderFileTree(treeData));\n};\nexport default withTranslation('sdoc-editor')(LocalFiles);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}