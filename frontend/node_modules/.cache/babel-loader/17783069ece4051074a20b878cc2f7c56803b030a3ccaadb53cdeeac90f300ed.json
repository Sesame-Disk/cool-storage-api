{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unwrapList = void 0;\nvar _slate = require(\"slate\");\nvar _core = require(\"../../../core\");\nvar _constant = require(\"../constant\");\nvar _elementTypes = require(\"../../../constants/element-types\");\nvar unwrapList = function unwrapList(editor) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    at = _ref.at;\n  var ancestorListTypeCheck = function ancestorListTypeCheck() {\n    if ((0, _core.getAboveNode)(editor, {\n      match: {\n        type: _constant.LIST_TYPES\n      }\n    })) {\n      return true;\n    }\n\n    // The selection's common node might be a list type\n    if (!at && editor.selection) {\n      var commonNode = _slate.Node.common(editor, editor.selection.anchor.path, editor.selection.focus.path);\n      if (_slate.Element.isElement(commonNode[0]) && _constant.LIST_TYPES.includes(commonNode[0].type)) {\n        return true;\n      }\n    }\n    return false;\n  };\n  _slate.Editor.withoutNormalizing(editor, function () {\n    do {\n      _slate.Transforms.unwrapNodes(editor, {\n        at: at,\n        match: function match(n) {\n          return (0, _core.getNodeType)(n) === _elementTypes.LIST_ITEM;\n        },\n        split: true\n      });\n      _slate.Transforms.unwrapNodes(editor, {\n        at: at,\n        match: function match(n) {\n          return _constant.LIST_TYPES.includes((0, _core.getNodeType)(n));\n        },\n        split: true\n      });\n    } while (ancestorListTypeCheck());\n  });\n};\nexports.unwrapList = unwrapList;","map":{"version":3,"names":["Object","defineProperty","exports","value","unwrapList","_slate","require","_core","_constant","_elementTypes","editor","_ref","arguments","length","undefined","at","ancestorListTypeCheck","getAboveNode","match","type","LIST_TYPES","selection","commonNode","Node","common","anchor","path","focus","Element","isElement","includes","Editor","withoutNormalizing","Transforms","unwrapNodes","n","getNodeType","LIST_ITEM","split"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/list/transforms/unwrap-list.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unwrapList = void 0;\nvar _slate = require(\"slate\");\nvar _core = require(\"../../../core\");\nvar _constant = require(\"../constant\");\nvar _elementTypes = require(\"../../../constants/element-types\");\nconst unwrapList = function (editor) {\n  let {\n    at\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const ancestorListTypeCheck = () => {\n    if ((0, _core.getAboveNode)(editor, {\n      match: {\n        type: _constant.LIST_TYPES\n      }\n    })) {\n      return true;\n    }\n\n    // The selection's common node might be a list type\n    if (!at && editor.selection) {\n      const commonNode = _slate.Node.common(editor, editor.selection.anchor.path, editor.selection.focus.path);\n      if (_slate.Element.isElement(commonNode[0]) && _constant.LIST_TYPES.includes(commonNode[0].type)) {\n        return true;\n      }\n    }\n    return false;\n  };\n  _slate.Editor.withoutNormalizing(editor, () => {\n    do {\n      _slate.Transforms.unwrapNodes(editor, {\n        at,\n        match: n => (0, _core.getNodeType)(n) === _elementTypes.LIST_ITEM,\n        split: true\n      });\n      _slate.Transforms.unwrapNodes(editor, {\n        at,\n        match: n => _constant.LIST_TYPES.includes((0, _core.getNodeType)(n)),\n        split: true\n      });\n    } while (ancestorListTypeCheck());\n  });\n};\nexports.unwrapList = unwrapList;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,UAAU,GAAG,KAAK,CAAC;AAC3B,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC7B,IAAIC,KAAK,GAAGD,OAAO,CAAC,eAAe,CAAC;AACpC,IAAIE,SAAS,GAAGF,OAAO,CAAC,aAAa,CAAC;AACtC,IAAIG,aAAa,GAAGH,OAAO,CAAC,kCAAkC,CAAC;AAC/D,IAAMF,UAAU,GAAG,SAAbA,UAAUA,CAAaM,MAAM,EAAE;EACnC,IAAAC,IAAA,GAEIC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IADxEG,EAAE,GAAAJ,IAAA,CAAFI,EAAE;EAEJ,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAA,EAAS;IAClC,IAAI,CAAC,CAAC,EAAET,KAAK,CAACU,YAAY,EAAEP,MAAM,EAAE;MAClCQ,KAAK,EAAE;QACLC,IAAI,EAAEX,SAAS,CAACY;MAClB;IACF,CAAC,CAAC,EAAE;MACF,OAAO,IAAI;IACb;;IAEA;IACA,IAAI,CAACL,EAAE,IAAIL,MAAM,CAACW,SAAS,EAAE;MAC3B,IAAMC,UAAU,GAAGjB,MAAM,CAACkB,IAAI,CAACC,MAAM,CAACd,MAAM,EAAEA,MAAM,CAACW,SAAS,CAACI,MAAM,CAACC,IAAI,EAAEhB,MAAM,CAACW,SAAS,CAACM,KAAK,CAACD,IAAI,CAAC;MACxG,IAAIrB,MAAM,CAACuB,OAAO,CAACC,SAAS,CAACP,UAAU,CAAC,CAAC,CAAC,CAAC,IAAId,SAAS,CAACY,UAAU,CAACU,QAAQ,CAACR,UAAU,CAAC,CAAC,CAAC,CAACH,IAAI,CAAC,EAAE;QAChG,OAAO,IAAI;MACb;IACF;IACA,OAAO,KAAK;EACd,CAAC;EACDd,MAAM,CAAC0B,MAAM,CAACC,kBAAkB,CAACtB,MAAM,EAAE,YAAM;IAC7C,GAAG;MACDL,MAAM,CAAC4B,UAAU,CAACC,WAAW,CAACxB,MAAM,EAAE;QACpCK,EAAE,EAAFA,EAAE;QACFG,KAAK,EAAE,SAAAA,MAAAiB,CAAC;UAAA,OAAI,CAAC,CAAC,EAAE5B,KAAK,CAAC6B,WAAW,EAAED,CAAC,CAAC,KAAK1B,aAAa,CAAC4B,SAAS;QAAA;QACjEC,KAAK,EAAE;MACT,CAAC,CAAC;MACFjC,MAAM,CAAC4B,UAAU,CAACC,WAAW,CAACxB,MAAM,EAAE;QACpCK,EAAE,EAAFA,EAAE;QACFG,KAAK,EAAE,SAAAA,MAAAiB,CAAC;UAAA,OAAI3B,SAAS,CAACY,UAAU,CAACU,QAAQ,CAAC,CAAC,CAAC,EAAEvB,KAAK,CAAC6B,WAAW,EAAED,CAAC,CAAC,CAAC;QAAA;QACpEG,KAAK,EAAE;MACT,CAAC,CAAC;IACJ,CAAC,QAAQtB,qBAAqB,CAAC,CAAC;EAClC,CAAC,CAAC;AACJ,CAAC;AACDd,OAAO,CAACE,UAAU,GAAGA,UAAU"},"metadata":{},"sourceType":"script","externalDependencies":[]}