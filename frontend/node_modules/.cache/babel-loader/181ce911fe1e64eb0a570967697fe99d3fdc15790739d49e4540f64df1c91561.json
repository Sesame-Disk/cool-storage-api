{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useCallback } from 'react';\nimport { MENUS_CONFIG_MAP, ELEMENT_TYPE } from '../../../constants';\nimport { isMenuDisabled } from '../helpers';\nimport DropdownMenuItem from '../../../commons/dropdown-menu-item';\nimport { COMMENT_EDITOR, INTERNAL_EVENT } from '../../../../constants';\nimport { MenuItem } from '../../../commons';\nvar LinkMenu = function LinkMenu(_ref) {\n  var editor = _ref.editor,\n    readonly = _ref.readonly,\n    toggle = _ref.toggle,\n    eventBus = _ref.eventBus,\n    isRichEditor = _ref.isRichEditor,\n    className = _ref.className;\n  var disabled = isMenuDisabled(editor, readonly);\n  var menuConfig = MENUS_CONFIG_MAP[ELEMENT_TYPE.LINK];\n  var openLinkDialog = useCallback(function () {\n    eventBus.dispatch(INTERNAL_EVENT.INSERT_ELEMENT, {\n      type: ELEMENT_TYPE.LINK,\n      editor: editor\n    });\n    toggle && toggle();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [toggle, eventBus]);\n\n  // Apply for comment Editor\n  if (editor.editorType === COMMENT_EDITOR) {\n    var menuProps = _objectSpread(_objectSpread({\n      isRichEditor: isRichEditor,\n      className: className\n    }, menuConfig), {}, {\n      disabled: disabled,\n      isActive: false,\n      onMouseDown: openLinkDialog\n    });\n    menuProps.id = 'sdoc-comment-editor' + menuConfig.id;\n    return /*#__PURE__*/React.createElement(MenuItem, menuProps);\n  }\n  return /*#__PURE__*/React.createElement(DropdownMenuItem, {\n    disabled: disabled,\n    menuConfig: menuConfig,\n    onClick: openLinkDialog\n  });\n};\nexport default LinkMenu;","map":{"version":3,"names":["_objectSpread","React","useCallback","MENUS_CONFIG_MAP","ELEMENT_TYPE","isMenuDisabled","DropdownMenuItem","COMMENT_EDITOR","INTERNAL_EVENT","MenuItem","LinkMenu","_ref","editor","readonly","toggle","eventBus","isRichEditor","className","disabled","menuConfig","LINK","openLinkDialog","dispatch","INSERT_ELEMENT","type","editorType","menuProps","isActive","onMouseDown","id","createElement","onClick"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/link/menu/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useCallback } from 'react';\nimport { MENUS_CONFIG_MAP, ELEMENT_TYPE } from '../../../constants';\nimport { isMenuDisabled } from '../helpers';\nimport DropdownMenuItem from '../../../commons/dropdown-menu-item';\nimport { COMMENT_EDITOR, INTERNAL_EVENT } from '../../../../constants';\nimport { MenuItem } from '../../../commons';\nconst LinkMenu = _ref => {\n  let {\n    editor,\n    readonly,\n    toggle,\n    eventBus,\n    isRichEditor,\n    className\n  } = _ref;\n  const disabled = isMenuDisabled(editor, readonly);\n  const menuConfig = MENUS_CONFIG_MAP[ELEMENT_TYPE.LINK];\n  const openLinkDialog = useCallback(() => {\n    eventBus.dispatch(INTERNAL_EVENT.INSERT_ELEMENT, {\n      type: ELEMENT_TYPE.LINK,\n      editor\n    });\n    toggle && toggle();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [toggle, eventBus]);\n\n  // Apply for comment Editor\n  if (editor.editorType === COMMENT_EDITOR) {\n    const menuProps = _objectSpread(_objectSpread({\n      isRichEditor,\n      className\n    }, menuConfig), {}, {\n      disabled: disabled,\n      isActive: false,\n      onMouseDown: openLinkDialog\n    });\n    menuProps.id = 'sdoc-comment-editor' + menuConfig.id;\n    return /*#__PURE__*/React.createElement(MenuItem, menuProps);\n  }\n  return /*#__PURE__*/React.createElement(DropdownMenuItem, {\n    disabled: disabled,\n    menuConfig: menuConfig,\n    onClick: openLinkDialog\n  });\n};\nexport default LinkMenu;"],"mappings":"AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,gBAAgB,EAAEC,YAAY,QAAQ,oBAAoB;AACnE,SAASC,cAAc,QAAQ,YAAY;AAC3C,OAAOC,gBAAgB,MAAM,qCAAqC;AAClE,SAASC,cAAc,EAAEC,cAAc,QAAQ,uBAAuB;AACtE,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,IAAMC,QAAQ,GAAG,SAAXA,QAAQA,CAAGC,IAAI,EAAI;EACvB,IACEC,MAAM,GAMJD,IAAI,CANNC,MAAM;IACNC,QAAQ,GAKNF,IAAI,CALNE,QAAQ;IACRC,MAAM,GAIJH,IAAI,CAJNG,MAAM;IACNC,QAAQ,GAGNJ,IAAI,CAHNI,QAAQ;IACRC,YAAY,GAEVL,IAAI,CAFNK,YAAY;IACZC,SAAS,GACPN,IAAI,CADNM,SAAS;EAEX,IAAMC,QAAQ,GAAGb,cAAc,CAACO,MAAM,EAAEC,QAAQ,CAAC;EACjD,IAAMM,UAAU,GAAGhB,gBAAgB,CAACC,YAAY,CAACgB,IAAI,CAAC;EACtD,IAAMC,cAAc,GAAGnB,WAAW,CAAC,YAAM;IACvCa,QAAQ,CAACO,QAAQ,CAACd,cAAc,CAACe,cAAc,EAAE;MAC/CC,IAAI,EAAEpB,YAAY,CAACgB,IAAI;MACvBR,MAAM,EAANA;IACF,CAAC,CAAC;IACFE,MAAM,IAAIA,MAAM,CAAC,CAAC;;IAElB;EACF,CAAC,EAAE,CAACA,MAAM,EAAEC,QAAQ,CAAC,CAAC;;EAEtB;EACA,IAAIH,MAAM,CAACa,UAAU,KAAKlB,cAAc,EAAE;IACxC,IAAMmB,SAAS,GAAG1B,aAAa,CAACA,aAAa,CAAC;MAC5CgB,YAAY,EAAZA,YAAY;MACZC,SAAS,EAATA;IACF,CAAC,EAAEE,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE;MAClBD,QAAQ,EAAEA,QAAQ;MAClBS,QAAQ,EAAE,KAAK;MACfC,WAAW,EAAEP;IACf,CAAC,CAAC;IACFK,SAAS,CAACG,EAAE,GAAG,qBAAqB,GAAGV,UAAU,CAACU,EAAE;IACpD,OAAO,aAAa5B,KAAK,CAAC6B,aAAa,CAACrB,QAAQ,EAAEiB,SAAS,CAAC;EAC9D;EACA,OAAO,aAAazB,KAAK,CAAC6B,aAAa,CAACxB,gBAAgB,EAAE;IACxDY,QAAQ,EAAEA,QAAQ;IAClBC,UAAU,EAAEA,UAAU;IACtBY,OAAO,EAAEV;EACX,CAAC,CAAC;AACJ,CAAC;AACD,eAAeX,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}