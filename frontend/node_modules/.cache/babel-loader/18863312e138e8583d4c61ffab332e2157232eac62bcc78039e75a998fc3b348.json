{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Tooltip}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ButtonItem=/*#__PURE__*/function(_React$Component){_inherits(ButtonItem,_React$Component);var _super=_createSuper(ButtonItem);function ButtonItem(props){var _this;_classCallCheck(this,ButtonItem);_this=_super.call(this,props);_this.toggle=function(){var disabled=_this.props.disabled;if(disabled)return;var _this$state=_this.state,isFreezed=_this$state.isFreezed,tooltipOpen=_this$state.tooltipOpen;if(isFreezed&&!tooltipOpen)return;_this.setState({tooltipOpen:!tooltipOpen,isFreezed:true});setTimeout(function(){_this.setState({isFreezed:false});},100);};_this.onClick=function(event){if(!_this.props.disabled){_this.props.onClick&&_this.props.onClick(event);}};_this.onMouseDown=function(event){if(!_this.props.disabled){_this.props.onMouseDown(event);}};_this.getClassName=function(){var _this$props=_this.props,isRichEditor=_this$props.isRichEditor,className=_this$props.className,disabled=_this$props.disabled;var itemClass='btn btn-icon btn-secondary btn-active';if(!isRichEditor)return itemClass+' '+className;itemClass=\"rich-icon-btn \".concat(disabled?'rich-icon-btn-disabled':'rich-icon-btn-hover');return itemClass+' '+className;};_this.state={tooltipOpen:false,isFreezed:false};_this.timer=null;return _this;}_createClass(ButtonItem,[{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.timer&&clearTimeout(this.timer);}},{key:\"shouldComponentUpdate\",value:function shouldComponentUpdate(nextProps,nextState){var disabled=nextProps.disabled,isActive=nextProps.isActive;var _this$props2=this.props,oldDisabled=_this$props2.disabled,oldIsActive=_this$props2.isActive;if(disabled!==oldDisabled){this.setState({tooltipOpen:false});return true;}// only render iconButton when the button is active or show show tooltip\nvar tooltipOpen=nextState.tooltipOpen;var oldTooltipOpen=this.state.tooltipOpen;if(tooltipOpen===oldTooltipOpen&&isActive===oldIsActive){return false;}return true;}},{key:\"render\",value:function render(){var tooltipOpen=this.state.tooltipOpen;var _this$props3=this.props,id=_this$props3.id,isActive=_this$props3.isActive,disabled=_this$props3.disabled,icon=_this$props3.icon,text=_this$props3.text;var className=this.getClassName();var delay={show:0,hide:0};return/*#__PURE__*/_jsxs(\"button\",{type:\"button\",id:id,className:className,\"data-active\":isActive,disabled:disabled,onClick:this.onClick,onMouseDown:this.onMouseDown,children:[/*#__PURE__*/_jsx(\"i\",{className:icon}),/*#__PURE__*/_jsx(Tooltip,{target:id,isOpen:tooltipOpen,delay:delay,placement:\"bottom\",toggle:this.toggle,children:text})]});}}]);return ButtonItem;}(React.Component);ButtonItem.defaultProps={className:'',isActive:false};export default ButtonItem;","map":{"version":3,"names":["React","Tooltip","jsx","_jsx","jsxs","_jsxs","ButtonItem","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","toggle","disabled","_this$state","state","isFreezed","tooltipOpen","setState","setTimeout","onClick","event","onMouseDown","getClassName","_this$props","isRichEditor","className","itemClass","concat","timer","_createClass","key","value","componentWillUnmount","clearTimeout","shouldComponentUpdate","nextProps","nextState","isActive","_this$props2","oldDisabled","oldIsActive","oldTooltipOpen","render","_this$props3","id","icon","text","delay","show","hide","type","children","target","isOpen","placement","Component","defaultProps"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/markdown-editor/header-toolbar/button-item.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Tooltip } from 'reactstrap';\n\nconst propTypes = {\n  id: PropTypes.string.isRequired,\n  isActive: PropTypes.bool,\n  disabled: PropTypes.bool,\n  isRichEditor: PropTypes.bool,\n  className: PropTypes.string,\n  icon: PropTypes.string,\n  text: PropTypes.string,\n  onClick: PropTypes.func,\n  onMouseDown: PropTypes.func,\n};\n\nclass ButtonItem extends React.Component {\n\n  static defaultProps = {\n    className: '',\n    isActive: false,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      tooltipOpen: false,\n      isFreezed: false,\n    };\n    this.timer = null;\n  }\n\n  componentWillUnmount() {\n    this.timer && clearTimeout(this.timer);\n  }\n\n  toggle = () => {\n    const { disabled } = this.props;\n    if (disabled) return;\n\n    const { isFreezed, tooltipOpen } = this.state;\n    if (isFreezed && !tooltipOpen) return;\n    this.setState({tooltipOpen: !tooltipOpen, isFreezed: true});\n\n    setTimeout(() => {\n      this.setState({ isFreezed: false });\n    }, 100);\n  };\n\n  shouldComponentUpdate (nextProps, nextState) {\n    const { disabled, isActive } = nextProps;\n    const { disabled: oldDisabled, isActive: oldIsActive } = this.props;\n    if (disabled !== oldDisabled) {\n      this.setState({tooltipOpen: false});\n      return true;\n    }\n    // only render iconButton when the button is active or show show tooltip\n    const { tooltipOpen } = nextState;\n    const { tooltipOpen: oldTooltipOpen } = this.state;\n    if (tooltipOpen === oldTooltipOpen && isActive === oldIsActive) {\n      return false;\n    }\n\n    return true;\n  }\n\n  onClick = (event) => {\n    if (!this.props.disabled) {\n      this.props.onClick && this.props.onClick(event);\n    }\n  };\n\n  onMouseDown = (event) => {\n    if (!this.props.disabled) {\n      this.props.onMouseDown(event);\n    }\n  };\n\n  getClassName = () => {\n    const { isRichEditor, className, disabled } = this.props;\n    let itemClass = 'btn btn-icon btn-secondary btn-active';\n    if (!isRichEditor) return itemClass + ' ' + className;\n\n    itemClass = `rich-icon-btn ${disabled ? 'rich-icon-btn-disabled' : 'rich-icon-btn-hover'}`;\n    return itemClass + ' ' + className;\n  };\n\n  render() {\n    const { tooltipOpen } = this.state;\n    const { id, isActive, disabled, icon, text } = this.props;\n    const className = this.getClassName();\n    const delay = {show: 0, hide: 0};\n    return (\n      <button\n        type=\"button\"\n        id={id}\n        className={className}\n        data-active={isActive }\n        disabled={disabled}\n        onClick ={this.onClick}\n        onMouseDown={this.onMouseDown}\n      >\n        <i className={icon} />\n        <Tooltip target={id} isOpen={tooltipOpen} delay={delay} placement='bottom' toggle={this.toggle}>\n          {text}\n        </Tooltip>\n      </button>\n    );\n  }\n}\n\nButtonItem.propTypes = propTypes;\n\nexport default ButtonItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}