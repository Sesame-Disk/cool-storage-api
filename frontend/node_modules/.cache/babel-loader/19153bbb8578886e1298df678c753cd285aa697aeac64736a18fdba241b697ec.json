{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import{Modal,ModalHeader,ModalBody,TabContent,TabPane,Nav,NavItem,NavLink}from'reactstrap';import{gettext}from'../../../utils/constants';import SysAdminShareToUser from'./sysadmin-share-to-user';import SysAdminShareToGroup from'./sysadmin-share-to-group';import'../../../css/share-link-dialog.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SysAdminShareDialog=/*#__PURE__*/function(_React$Component){_inherits(SysAdminShareDialog,_React$Component);var _super=_createSuper(SysAdminShareDialog);function SysAdminShareDialog(props){var _this;_classCallCheck(this,SysAdminShareDialog);_this=_super.call(this,props);_this.getInitialActiveTab=function(){return'shareToUser';};_this.toggle=function(tab){if(_this.state.activeTab!==tab){_this.setState({activeTab:tab});}};_this.renderDirContent=function(){var activeTab=_this.state.activeTab;var _this$props=_this.props,enableDirPrivateShare=_this$props.enableDirPrivateShare,isGroupOwnedRepo=_this$props.isGroupOwnedRepo;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"share-dialog-side\",children:/*#__PURE__*/_jsx(Nav,{pills:true,children:enableDirPrivateShare&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='shareToUser'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'shareToUser'),children:gettext('Share to user')})}),/*#__PURE__*/_jsx(NavItem,{children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='shareToGroup'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'shareToGroup'),children:gettext('Share to group')})})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"share-dialog-main\",children:/*#__PURE__*/_jsx(TabContent,{activeTab:_this.state.activeTab,children:enableDirPrivateShare&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(TabPane,{tabId:\"shareToUser\",children:/*#__PURE__*/_jsx(SysAdminShareToUser,{itemType:'library',isGroupOwnedRepo:isGroupOwnedRepo,itemPath:_this.props.itemPath,repoID:_this.props.repoID,isRepoOwner:_this.state.isRepoOwner})}),/*#__PURE__*/_jsx(TabPane,{tabId:\"shareToGroup\",children:/*#__PURE__*/_jsx(SysAdminShareToGroup,{itemType:'library',isGroupOwnedRepo:isGroupOwnedRepo,itemPath:_this.props.itemPath,repoID:_this.props.repoID,isRepoOwner:_this.state.isRepoOwner})})]})})})]});};_this.state={activeTab:_this.getInitialActiveTab(),isRepoOwner:false};return _this;}_createClass(SysAdminShareDialog,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Modal,{isOpen:true,style:{maxWidth:'720px'},className:\"share-dialog\",toggle:this.props.toggleDialog,children:[/*#__PURE__*/_jsxs(ModalHeader,{toggle:this.props.toggleDialog,children:[gettext('Share'),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"op-target\",title:this.props.itemName,children:this.props.itemName})]}),/*#__PURE__*/_jsx(ModalBody,{className:\"share-dialog-content\",children:this.renderDirContent()})]})});}}]);return SysAdminShareDialog;}(React.Component);export default SysAdminShareDialog;","map":{"version":3,"names":["React","Fragment","Modal","ModalHeader","ModalBody","TabContent","TabPane","Nav","NavItem","NavLink","gettext","SysAdminShareToUser","SysAdminShareToGroup","jsx","_jsx","jsxs","_jsxs","SysAdminShareDialog","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","getInitialActiveTab","toggle","tab","state","activeTab","setState","renderDirContent","_this$props","enableDirPrivateShare","isGroupOwnedRepo","children","className","pills","onClick","bind","_assertThisInitialized","tabId","itemType","itemPath","repoID","isRepoOwner","_createClass","key","value","render","isOpen","style","maxWidth","toggleDialog","title","itemName","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/sysadmin-dialog/sysadmin-share-dialog.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SysAdminShareToUser from './sysadmin-share-to-user';\nimport SysAdminShareToGroup from './sysadmin-share-to-group';\nimport '../../../css/share-link-dialog.css';\n\nconst propTypes = {\n  itemName: PropTypes.string.isRequired,\n  itemPath: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  repoEncrypted: PropTypes.bool,\n  userPerm: PropTypes.string,\n  enableDirPrivateShare: PropTypes.bool\n};\n\nclass SysAdminShareDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: this.getInitialActiveTab(),\n      isRepoOwner: false\n    };\n  }\n\n  getInitialActiveTab = () => {\n    return 'shareToUser';\n  };\n\n  toggle = (tab) => {\n    if (this.state.activeTab !== tab) {\n      this.setState({activeTab: tab});\n    }\n  };\n\n  renderDirContent = () => {\n    let activeTab = this.state.activeTab;\n    const { enableDirPrivateShare, isGroupOwnedRepo } = this.props;\n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToUser' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToUser')}>\n                    {gettext('Share to user')}\n                  </NavLink>\n                </NavItem>\n                <NavItem>\n                  <NavLink className={activeTab === 'shareToGroup' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToGroup')}>\n                    {gettext('Share to group')}\n                  </NavLink>\n                </NavItem>\n              </Fragment>\n            }\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            {enableDirPrivateShare &&\n              <Fragment>\n                <TabPane tabId=\"shareToUser\">\n                  <SysAdminShareToUser itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n                <TabPane tabId=\"shareToGroup\">\n                  <SysAdminShareToGroup itemType={'library'} isGroupOwnedRepo={isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner}/>\n                </TabPane>\n              </Fragment>\n            }\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  };\n\n  render() {\n    return (\n      <div>\n        <Modal isOpen={true} style={{maxWidth: '720px'}} className=\"share-dialog\" toggle={this.props.toggleDialog}>\n          <ModalHeader toggle={this.props.toggleDialog}>{gettext('Share')} <span className=\"op-target\" title={this.props.itemName}>{this.props.itemName}</span></ModalHeader>\n          <ModalBody className=\"share-dialog-content\">\n            {this.renderDirContent()}\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nSysAdminShareDialog.propTypes = propTypes;\n\nexport default SysAdminShareDialog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}