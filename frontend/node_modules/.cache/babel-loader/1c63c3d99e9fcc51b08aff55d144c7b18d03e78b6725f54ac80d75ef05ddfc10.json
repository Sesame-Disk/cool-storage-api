{"ast":null,"code":"import _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { Preprocessor } from './preprocessor.js';\nimport { CODE_POINTS as $, SEQUENCES as $$, REPLACEMENT_CHARACTER, isSurrogate, isUndefinedCodePoint, isControlCodePoint } from '../common/unicode.js';\nimport { TokenType, getTokenAttr } from '../common/token.js';\nimport { htmlDecodeTree, BinTrieFlags, determineBranch } from 'entities/lib/decode.js';\nimport { ERR } from '../common/error-codes.js';\nimport { TAG_ID, getTagID } from '../common/html.js';\n//C1 Unicode control character reference replacements\nvar C1_CONTROLS_REFERENCE_REPLACEMENTS = new Map([[0x80, 8364], [0x82, 8218], [0x83, 402], [0x84, 8222], [0x85, 8230], [0x86, 8224], [0x87, 8225], [0x88, 710], [0x89, 8240], [0x8a, 352], [0x8b, 8249], [0x8c, 338], [0x8e, 381], [0x91, 8216], [0x92, 8217], [0x93, 8220], [0x94, 8221], [0x95, 8226], [0x96, 8211], [0x97, 8212], [0x98, 732], [0x99, 8482], [0x9a, 353], [0x9b, 8250], [0x9c, 339], [0x9e, 382], [0x9f, 376]]);\n//States\nvar State;\n(function (State) {\n  State[State[\"DATA\"] = 0] = \"DATA\";\n  State[State[\"RCDATA\"] = 1] = \"RCDATA\";\n  State[State[\"RAWTEXT\"] = 2] = \"RAWTEXT\";\n  State[State[\"SCRIPT_DATA\"] = 3] = \"SCRIPT_DATA\";\n  State[State[\"PLAINTEXT\"] = 4] = \"PLAINTEXT\";\n  State[State[\"TAG_OPEN\"] = 5] = \"TAG_OPEN\";\n  State[State[\"END_TAG_OPEN\"] = 6] = \"END_TAG_OPEN\";\n  State[State[\"TAG_NAME\"] = 7] = \"TAG_NAME\";\n  State[State[\"RCDATA_LESS_THAN_SIGN\"] = 8] = \"RCDATA_LESS_THAN_SIGN\";\n  State[State[\"RCDATA_END_TAG_OPEN\"] = 9] = \"RCDATA_END_TAG_OPEN\";\n  State[State[\"RCDATA_END_TAG_NAME\"] = 10] = \"RCDATA_END_TAG_NAME\";\n  State[State[\"RAWTEXT_LESS_THAN_SIGN\"] = 11] = \"RAWTEXT_LESS_THAN_SIGN\";\n  State[State[\"RAWTEXT_END_TAG_OPEN\"] = 12] = \"RAWTEXT_END_TAG_OPEN\";\n  State[State[\"RAWTEXT_END_TAG_NAME\"] = 13] = \"RAWTEXT_END_TAG_NAME\";\n  State[State[\"SCRIPT_DATA_LESS_THAN_SIGN\"] = 14] = \"SCRIPT_DATA_LESS_THAN_SIGN\";\n  State[State[\"SCRIPT_DATA_END_TAG_OPEN\"] = 15] = \"SCRIPT_DATA_END_TAG_OPEN\";\n  State[State[\"SCRIPT_DATA_END_TAG_NAME\"] = 16] = \"SCRIPT_DATA_END_TAG_NAME\";\n  State[State[\"SCRIPT_DATA_ESCAPE_START\"] = 17] = \"SCRIPT_DATA_ESCAPE_START\";\n  State[State[\"SCRIPT_DATA_ESCAPE_START_DASH\"] = 18] = \"SCRIPT_DATA_ESCAPE_START_DASH\";\n  State[State[\"SCRIPT_DATA_ESCAPED\"] = 19] = \"SCRIPT_DATA_ESCAPED\";\n  State[State[\"SCRIPT_DATA_ESCAPED_DASH\"] = 20] = \"SCRIPT_DATA_ESCAPED_DASH\";\n  State[State[\"SCRIPT_DATA_ESCAPED_DASH_DASH\"] = 21] = \"SCRIPT_DATA_ESCAPED_DASH_DASH\";\n  State[State[\"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\"] = 22] = \"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\";\n  State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\"] = 23] = \"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\";\n  State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_NAME\"] = 24] = \"SCRIPT_DATA_ESCAPED_END_TAG_NAME\";\n  State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_START\"] = 25] = \"SCRIPT_DATA_DOUBLE_ESCAPE_START\";\n  State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED\"] = 26] = \"SCRIPT_DATA_DOUBLE_ESCAPED\";\n  State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\"] = 27] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\";\n  State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\"] = 28] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\";\n  State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\"] = 29] = \"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\";\n  State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_END\"] = 30] = \"SCRIPT_DATA_DOUBLE_ESCAPE_END\";\n  State[State[\"BEFORE_ATTRIBUTE_NAME\"] = 31] = \"BEFORE_ATTRIBUTE_NAME\";\n  State[State[\"ATTRIBUTE_NAME\"] = 32] = \"ATTRIBUTE_NAME\";\n  State[State[\"AFTER_ATTRIBUTE_NAME\"] = 33] = \"AFTER_ATTRIBUTE_NAME\";\n  State[State[\"BEFORE_ATTRIBUTE_VALUE\"] = 34] = \"BEFORE_ATTRIBUTE_VALUE\";\n  State[State[\"ATTRIBUTE_VALUE_DOUBLE_QUOTED\"] = 35] = \"ATTRIBUTE_VALUE_DOUBLE_QUOTED\";\n  State[State[\"ATTRIBUTE_VALUE_SINGLE_QUOTED\"] = 36] = \"ATTRIBUTE_VALUE_SINGLE_QUOTED\";\n  State[State[\"ATTRIBUTE_VALUE_UNQUOTED\"] = 37] = \"ATTRIBUTE_VALUE_UNQUOTED\";\n  State[State[\"AFTER_ATTRIBUTE_VALUE_QUOTED\"] = 38] = \"AFTER_ATTRIBUTE_VALUE_QUOTED\";\n  State[State[\"SELF_CLOSING_START_TAG\"] = 39] = \"SELF_CLOSING_START_TAG\";\n  State[State[\"BOGUS_COMMENT\"] = 40] = \"BOGUS_COMMENT\";\n  State[State[\"MARKUP_DECLARATION_OPEN\"] = 41] = \"MARKUP_DECLARATION_OPEN\";\n  State[State[\"COMMENT_START\"] = 42] = \"COMMENT_START\";\n  State[State[\"COMMENT_START_DASH\"] = 43] = \"COMMENT_START_DASH\";\n  State[State[\"COMMENT\"] = 44] = \"COMMENT\";\n  State[State[\"COMMENT_LESS_THAN_SIGN\"] = 45] = \"COMMENT_LESS_THAN_SIGN\";\n  State[State[\"COMMENT_LESS_THAN_SIGN_BANG\"] = 46] = \"COMMENT_LESS_THAN_SIGN_BANG\";\n  State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH\"] = 47] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH\";\n  State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\"] = 48] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\";\n  State[State[\"COMMENT_END_DASH\"] = 49] = \"COMMENT_END_DASH\";\n  State[State[\"COMMENT_END\"] = 50] = \"COMMENT_END\";\n  State[State[\"COMMENT_END_BANG\"] = 51] = \"COMMENT_END_BANG\";\n  State[State[\"DOCTYPE\"] = 52] = \"DOCTYPE\";\n  State[State[\"BEFORE_DOCTYPE_NAME\"] = 53] = \"BEFORE_DOCTYPE_NAME\";\n  State[State[\"DOCTYPE_NAME\"] = 54] = \"DOCTYPE_NAME\";\n  State[State[\"AFTER_DOCTYPE_NAME\"] = 55] = \"AFTER_DOCTYPE_NAME\";\n  State[State[\"AFTER_DOCTYPE_PUBLIC_KEYWORD\"] = 56] = \"AFTER_DOCTYPE_PUBLIC_KEYWORD\";\n  State[State[\"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\"] = 57] = \"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\";\n  State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\"] = 58] = \"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\";\n  State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\"] = 59] = \"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\";\n  State[State[\"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\"] = 60] = \"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\";\n  State[State[\"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\"] = 61] = \"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\";\n  State[State[\"AFTER_DOCTYPE_SYSTEM_KEYWORD\"] = 62] = \"AFTER_DOCTYPE_SYSTEM_KEYWORD\";\n  State[State[\"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\"] = 63] = \"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\";\n  State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\"] = 64] = \"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\";\n  State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\"] = 65] = \"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\";\n  State[State[\"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\"] = 66] = \"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\";\n  State[State[\"BOGUS_DOCTYPE\"] = 67] = \"BOGUS_DOCTYPE\";\n  State[State[\"CDATA_SECTION\"] = 68] = \"CDATA_SECTION\";\n  State[State[\"CDATA_SECTION_BRACKET\"] = 69] = \"CDATA_SECTION_BRACKET\";\n  State[State[\"CDATA_SECTION_END\"] = 70] = \"CDATA_SECTION_END\";\n  State[State[\"CHARACTER_REFERENCE\"] = 71] = \"CHARACTER_REFERENCE\";\n  State[State[\"NAMED_CHARACTER_REFERENCE\"] = 72] = \"NAMED_CHARACTER_REFERENCE\";\n  State[State[\"AMBIGUOUS_AMPERSAND\"] = 73] = \"AMBIGUOUS_AMPERSAND\";\n  State[State[\"NUMERIC_CHARACTER_REFERENCE\"] = 74] = \"NUMERIC_CHARACTER_REFERENCE\";\n  State[State[\"HEXADEMICAL_CHARACTER_REFERENCE_START\"] = 75] = \"HEXADEMICAL_CHARACTER_REFERENCE_START\";\n  State[State[\"HEXADEMICAL_CHARACTER_REFERENCE\"] = 76] = \"HEXADEMICAL_CHARACTER_REFERENCE\";\n  State[State[\"DECIMAL_CHARACTER_REFERENCE\"] = 77] = \"DECIMAL_CHARACTER_REFERENCE\";\n  State[State[\"NUMERIC_CHARACTER_REFERENCE_END\"] = 78] = \"NUMERIC_CHARACTER_REFERENCE_END\";\n})(State || (State = {}));\n//Tokenizer initial states for different modes\nexport var TokenizerMode = {\n  DATA: State.DATA,\n  RCDATA: State.RCDATA,\n  RAWTEXT: State.RAWTEXT,\n  SCRIPT_DATA: State.SCRIPT_DATA,\n  PLAINTEXT: State.PLAINTEXT,\n  CDATA_SECTION: State.CDATA_SECTION\n};\n//Utils\n//OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline\n//this functions if they will be situated in another module due to context switch.\n//Always perform inlining check before modifying this functions ('node --trace-inlining').\nfunction isAsciiDigit(cp) {\n  return cp >= $.DIGIT_0 && cp <= $.DIGIT_9;\n}\nfunction isAsciiUpper(cp) {\n  return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_Z;\n}\nfunction isAsciiLower(cp) {\n  return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_Z;\n}\nfunction isAsciiLetter(cp) {\n  return isAsciiLower(cp) || isAsciiUpper(cp);\n}\nfunction isAsciiAlphaNumeric(cp) {\n  return isAsciiLetter(cp) || isAsciiDigit(cp);\n}\nfunction isAsciiUpperHexDigit(cp) {\n  return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_F;\n}\nfunction isAsciiLowerHexDigit(cp) {\n  return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_F;\n}\nfunction isAsciiHexDigit(cp) {\n  return isAsciiDigit(cp) || isAsciiUpperHexDigit(cp) || isAsciiLowerHexDigit(cp);\n}\nfunction toAsciiLower(cp) {\n  return cp + 32;\n}\nfunction isWhitespace(cp) {\n  return cp === $.SPACE || cp === $.LINE_FEED || cp === $.TABULATION || cp === $.FORM_FEED;\n}\nfunction isEntityInAttributeInvalidEnd(nextCp) {\n  return nextCp === $.EQUALS_SIGN || isAsciiAlphaNumeric(nextCp);\n}\nfunction isScriptDataDoubleEscapeSequenceEnd(cp) {\n  return isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN;\n}\n//Tokenizer\nexport var Tokenizer = /*#__PURE__*/function () {\n  function Tokenizer(options, handler) {\n    _classCallCheck(this, Tokenizer);\n    this.options = options;\n    this.handler = handler;\n    this.paused = false;\n    /** Ensures that the parsing loop isn't run multiple times at once. */\n    this.inLoop = false;\n    /**\n     * Indicates that the current adjusted node exists, is not an element in the HTML namespace,\n     * and that it is not an integration point for either MathML or HTML.\n     *\n     * @see {@link https://html.spec.whatwg.org/multipage/parsing.html#tree-construction}\n     */\n    this.inForeignNode = false;\n    this.lastStartTagName = '';\n    this.active = false;\n    this.state = State.DATA;\n    this.returnState = State.DATA;\n    this.charRefCode = -1;\n    this.consumedAfterSnapshot = -1;\n    this.currentCharacterToken = null;\n    this.currentToken = null;\n    this.currentAttr = {\n      name: '',\n      value: ''\n    };\n    this.preprocessor = new Preprocessor(handler);\n    this.currentLocation = this.getCurrentLocation(-1);\n  }\n  //Errors\n  _createClass(Tokenizer, [{\n    key: \"_err\",\n    value: function _err(code) {\n      var _a, _b;\n      (_b = (_a = this.handler).onParseError) === null || _b === void 0 ? void 0 : _b.call(_a, this.preprocessor.getError(code));\n    }\n    // NOTE: `offset` may never run across line boundaries.\n  }, {\n    key: \"getCurrentLocation\",\n    value: function getCurrentLocation(offset) {\n      if (!this.options.sourceCodeLocationInfo) {\n        return null;\n      }\n      return {\n        startLine: this.preprocessor.line,\n        startCol: this.preprocessor.col - offset,\n        startOffset: this.preprocessor.offset - offset,\n        endLine: -1,\n        endCol: -1,\n        endOffset: -1\n      };\n    }\n  }, {\n    key: \"_runParsingLoop\",\n    value: function _runParsingLoop() {\n      if (this.inLoop) return;\n      this.inLoop = true;\n      while (this.active && !this.paused) {\n        this.consumedAfterSnapshot = 0;\n        var cp = this._consume();\n        if (!this._ensureHibernation()) {\n          this._callState(cp);\n        }\n      }\n      this.inLoop = false;\n    }\n    //API\n  }, {\n    key: \"pause\",\n    value: function pause() {\n      this.paused = true;\n    }\n  }, {\n    key: \"resume\",\n    value: function resume(writeCallback) {\n      if (!this.paused) {\n        throw new Error('Parser was already resumed');\n      }\n      this.paused = false;\n      // Necessary for synchronous resume.\n      if (this.inLoop) return;\n      this._runParsingLoop();\n      if (!this.paused) {\n        writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n      }\n    }\n  }, {\n    key: \"write\",\n    value: function write(chunk, isLastChunk, writeCallback) {\n      this.active = true;\n      this.preprocessor.write(chunk, isLastChunk);\n      this._runParsingLoop();\n      if (!this.paused) {\n        writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n      }\n    }\n  }, {\n    key: \"insertHtmlAtCurrentPos\",\n    value: function insertHtmlAtCurrentPos(chunk) {\n      this.active = true;\n      this.preprocessor.insertHtmlAtCurrentPos(chunk);\n      this._runParsingLoop();\n    }\n    //Hibernation\n  }, {\n    key: \"_ensureHibernation\",\n    value: function _ensureHibernation() {\n      if (this.preprocessor.endOfChunkHit) {\n        this._unconsume(this.consumedAfterSnapshot);\n        this.active = false;\n        return true;\n      }\n      return false;\n    }\n    //Consumption\n  }, {\n    key: \"_consume\",\n    value: function _consume() {\n      this.consumedAfterSnapshot++;\n      return this.preprocessor.advance();\n    }\n  }, {\n    key: \"_unconsume\",\n    value: function _unconsume(count) {\n      this.consumedAfterSnapshot -= count;\n      this.preprocessor.retreat(count);\n    }\n  }, {\n    key: \"_reconsumeInState\",\n    value: function _reconsumeInState(state, cp) {\n      this.state = state;\n      this._callState(cp);\n    }\n  }, {\n    key: \"_advanceBy\",\n    value: function _advanceBy(count) {\n      this.consumedAfterSnapshot += count;\n      for (var i = 0; i < count; i++) {\n        this.preprocessor.advance();\n      }\n    }\n  }, {\n    key: \"_consumeSequenceIfMatch\",\n    value: function _consumeSequenceIfMatch(pattern, caseSensitive) {\n      if (this.preprocessor.startsWith(pattern, caseSensitive)) {\n        // We will already have consumed one character before calling this method.\n        this._advanceBy(pattern.length - 1);\n        return true;\n      }\n      return false;\n    }\n    //Token creation\n  }, {\n    key: \"_createStartTagToken\",\n    value: function _createStartTagToken() {\n      this.currentToken = {\n        type: TokenType.START_TAG,\n        tagName: '',\n        tagID: TAG_ID.UNKNOWN,\n        selfClosing: false,\n        ackSelfClosing: false,\n        attrs: [],\n        location: this.getCurrentLocation(1)\n      };\n    }\n  }, {\n    key: \"_createEndTagToken\",\n    value: function _createEndTagToken() {\n      this.currentToken = {\n        type: TokenType.END_TAG,\n        tagName: '',\n        tagID: TAG_ID.UNKNOWN,\n        selfClosing: false,\n        ackSelfClosing: false,\n        attrs: [],\n        location: this.getCurrentLocation(2)\n      };\n    }\n  }, {\n    key: \"_createCommentToken\",\n    value: function _createCommentToken(offset) {\n      this.currentToken = {\n        type: TokenType.COMMENT,\n        data: '',\n        location: this.getCurrentLocation(offset)\n      };\n    }\n  }, {\n    key: \"_createDoctypeToken\",\n    value: function _createDoctypeToken(initialName) {\n      this.currentToken = {\n        type: TokenType.DOCTYPE,\n        name: initialName,\n        forceQuirks: false,\n        publicId: null,\n        systemId: null,\n        location: this.currentLocation\n      };\n    }\n  }, {\n    key: \"_createCharacterToken\",\n    value: function _createCharacterToken(type, chars) {\n      this.currentCharacterToken = {\n        type: type,\n        chars: chars,\n        location: this.currentLocation\n      };\n    }\n    //Tag attributes\n  }, {\n    key: \"_createAttr\",\n    value: function _createAttr(attrNameFirstCh) {\n      this.currentAttr = {\n        name: attrNameFirstCh,\n        value: ''\n      };\n      this.currentLocation = this.getCurrentLocation(0);\n    }\n  }, {\n    key: \"_leaveAttrName\",\n    value: function _leaveAttrName() {\n      var _a;\n      var _b;\n      var token = this.currentToken;\n      if (getTokenAttr(token, this.currentAttr.name) === null) {\n        token.attrs.push(this.currentAttr);\n        if (token.location && this.currentLocation) {\n          var attrLocations = (_a = (_b = token.location).attrs) !== null && _a !== void 0 ? _a : _b.attrs = Object.create(null);\n          attrLocations[this.currentAttr.name] = this.currentLocation;\n          // Set end location\n          this._leaveAttrValue();\n        }\n      } else {\n        this._err(ERR.duplicateAttribute);\n      }\n    }\n  }, {\n    key: \"_leaveAttrValue\",\n    value: function _leaveAttrValue() {\n      if (this.currentLocation) {\n        this.currentLocation.endLine = this.preprocessor.line;\n        this.currentLocation.endCol = this.preprocessor.col;\n        this.currentLocation.endOffset = this.preprocessor.offset;\n      }\n    }\n    //Token emission\n  }, {\n    key: \"prepareToken\",\n    value: function prepareToken(ct) {\n      this._emitCurrentCharacterToken(ct.location);\n      this.currentToken = null;\n      if (ct.location) {\n        ct.location.endLine = this.preprocessor.line;\n        ct.location.endCol = this.preprocessor.col + 1;\n        ct.location.endOffset = this.preprocessor.offset + 1;\n      }\n      this.currentLocation = this.getCurrentLocation(-1);\n    }\n  }, {\n    key: \"emitCurrentTagToken\",\n    value: function emitCurrentTagToken() {\n      var ct = this.currentToken;\n      this.prepareToken(ct);\n      ct.tagID = getTagID(ct.tagName);\n      if (ct.type === TokenType.START_TAG) {\n        this.lastStartTagName = ct.tagName;\n        this.handler.onStartTag(ct);\n      } else {\n        if (ct.attrs.length > 0) {\n          this._err(ERR.endTagWithAttributes);\n        }\n        if (ct.selfClosing) {\n          this._err(ERR.endTagWithTrailingSolidus);\n        }\n        this.handler.onEndTag(ct);\n      }\n      this.preprocessor.dropParsedChunk();\n    }\n  }, {\n    key: \"emitCurrentComment\",\n    value: function emitCurrentComment(ct) {\n      this.prepareToken(ct);\n      this.handler.onComment(ct);\n      this.preprocessor.dropParsedChunk();\n    }\n  }, {\n    key: \"emitCurrentDoctype\",\n    value: function emitCurrentDoctype(ct) {\n      this.prepareToken(ct);\n      this.handler.onDoctype(ct);\n      this.preprocessor.dropParsedChunk();\n    }\n  }, {\n    key: \"_emitCurrentCharacterToken\",\n    value: function _emitCurrentCharacterToken(nextLocation) {\n      if (this.currentCharacterToken) {\n        //NOTE: if we have a pending character token, make it's end location equal to the\n        //current token's start location.\n        if (nextLocation && this.currentCharacterToken.location) {\n          this.currentCharacterToken.location.endLine = nextLocation.startLine;\n          this.currentCharacterToken.location.endCol = nextLocation.startCol;\n          this.currentCharacterToken.location.endOffset = nextLocation.startOffset;\n        }\n        switch (this.currentCharacterToken.type) {\n          case TokenType.CHARACTER:\n            {\n              this.handler.onCharacter(this.currentCharacterToken);\n              break;\n            }\n          case TokenType.NULL_CHARACTER:\n            {\n              this.handler.onNullCharacter(this.currentCharacterToken);\n              break;\n            }\n          case TokenType.WHITESPACE_CHARACTER:\n            {\n              this.handler.onWhitespaceCharacter(this.currentCharacterToken);\n              break;\n            }\n        }\n        this.currentCharacterToken = null;\n      }\n    }\n  }, {\n    key: \"_emitEOFToken\",\n    value: function _emitEOFToken() {\n      var location = this.getCurrentLocation(0);\n      if (location) {\n        location.endLine = location.startLine;\n        location.endCol = location.startCol;\n        location.endOffset = location.startOffset;\n      }\n      this._emitCurrentCharacterToken(location);\n      this.handler.onEof({\n        type: TokenType.EOF,\n        location: location\n      });\n      this.active = false;\n    }\n    //Characters emission\n    //OPTIMIZATION: specification uses only one type of character tokens (one token per character).\n    //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.\n    //If we have a sequence of characters that belong to the same group, the parser can process it\n    //as a single solid character token.\n    //So, there are 3 types of character tokens in parse5:\n    //1)TokenType.NULL_CHARACTER - \\u0000-character sequences (e.g. '\\u0000\\u0000\\u0000')\n    //2)TokenType.WHITESPACE_CHARACTER - any whitespace/new-line character sequences (e.g. '\\n  \\r\\t   \\f')\n    //3)TokenType.CHARACTER - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')\n  }, {\n    key: \"_appendCharToCurrentCharacterToken\",\n    value: function _appendCharToCurrentCharacterToken(type, ch) {\n      if (this.currentCharacterToken) {\n        if (this.currentCharacterToken.type !== type) {\n          this.currentLocation = this.getCurrentLocation(0);\n          this._emitCurrentCharacterToken(this.currentLocation);\n          this.preprocessor.dropParsedChunk();\n        } else {\n          this.currentCharacterToken.chars += ch;\n          return;\n        }\n      }\n      this._createCharacterToken(type, ch);\n    }\n  }, {\n    key: \"_emitCodePoint\",\n    value: function _emitCodePoint(cp) {\n      var type = isWhitespace(cp) ? TokenType.WHITESPACE_CHARACTER : cp === $.NULL ? TokenType.NULL_CHARACTER : TokenType.CHARACTER;\n      this._appendCharToCurrentCharacterToken(type, String.fromCodePoint(cp));\n    }\n    //NOTE: used when we emit characters explicitly.\n    //This is always for non-whitespace and non-null characters, which allows us to avoid additional checks.\n  }, {\n    key: \"_emitChars\",\n    value: function _emitChars(ch) {\n      this._appendCharToCurrentCharacterToken(TokenType.CHARACTER, ch);\n    }\n    // Character reference helpers\n  }, {\n    key: \"_matchNamedCharacterReference\",\n    value: function _matchNamedCharacterReference(cp) {\n      var result = null;\n      var excess = 0;\n      var withoutSemicolon = false;\n      for (var i = 0, current = htmlDecodeTree[0]; i >= 0; cp = this._consume()) {\n        i = determineBranch(htmlDecodeTree, current, i + 1, cp);\n        if (i < 0) break;\n        excess += 1;\n        current = htmlDecodeTree[i];\n        var masked = current & BinTrieFlags.VALUE_LENGTH;\n        // If the branch is a value, store it and continue\n        if (masked) {\n          // The mask is the number of bytes of the value, including the current byte.\n          var valueLength = (masked >> 14) - 1;\n          // Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n          // See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n          if (cp !== $.SEMICOLON && this._isCharacterReferenceInAttribute() && isEntityInAttributeInvalidEnd(this.preprocessor.peek(1))) {\n            //NOTE: we don't flush all consumed code points here, and instead switch back to the original state after\n            //emitting an ampersand. This is fine, as alphanumeric characters won't be parsed differently in attributes.\n            result = [$.AMPERSAND];\n            // Skip over the value.\n            i += valueLength;\n          } else {\n            // If this is a surrogate pair, consume the next two bytes.\n            result = valueLength === 0 ? [htmlDecodeTree[i] & ~BinTrieFlags.VALUE_LENGTH] : valueLength === 1 ? [htmlDecodeTree[++i]] : [htmlDecodeTree[++i], htmlDecodeTree[++i]];\n            excess = 0;\n            withoutSemicolon = cp !== $.SEMICOLON;\n          }\n          if (valueLength === 0) {\n            // If the value is zero-length, we're done.\n            this._consume();\n            break;\n          }\n        }\n      }\n      this._unconsume(excess);\n      if (withoutSemicolon && !this.preprocessor.endOfChunkHit) {\n        this._err(ERR.missingSemicolonAfterCharacterReference);\n      }\n      // We want to emit the error above on the code point after the entity.\n      // We always consume one code point too many in the loop, and we wait to\n      // unconsume it until after the error is emitted.\n      this._unconsume(1);\n      return result;\n    }\n  }, {\n    key: \"_isCharacterReferenceInAttribute\",\n    value: function _isCharacterReferenceInAttribute() {\n      return this.returnState === State.ATTRIBUTE_VALUE_DOUBLE_QUOTED || this.returnState === State.ATTRIBUTE_VALUE_SINGLE_QUOTED || this.returnState === State.ATTRIBUTE_VALUE_UNQUOTED;\n    }\n  }, {\n    key: \"_flushCodePointConsumedAsCharacterReference\",\n    value: function _flushCodePointConsumedAsCharacterReference(cp) {\n      if (this._isCharacterReferenceInAttribute()) {\n        this.currentAttr.value += String.fromCodePoint(cp);\n      } else {\n        this._emitCodePoint(cp);\n      }\n    }\n    // Calling states this way turns out to be much faster than any other approach.\n  }, {\n    key: \"_callState\",\n    value: function _callState(cp) {\n      switch (this.state) {\n        case State.DATA:\n          {\n            this._stateData(cp);\n            break;\n          }\n        case State.RCDATA:\n          {\n            this._stateRcdata(cp);\n            break;\n          }\n        case State.RAWTEXT:\n          {\n            this._stateRawtext(cp);\n            break;\n          }\n        case State.SCRIPT_DATA:\n          {\n            this._stateScriptData(cp);\n            break;\n          }\n        case State.PLAINTEXT:\n          {\n            this._statePlaintext(cp);\n            break;\n          }\n        case State.TAG_OPEN:\n          {\n            this._stateTagOpen(cp);\n            break;\n          }\n        case State.END_TAG_OPEN:\n          {\n            this._stateEndTagOpen(cp);\n            break;\n          }\n        case State.TAG_NAME:\n          {\n            this._stateTagName(cp);\n            break;\n          }\n        case State.RCDATA_LESS_THAN_SIGN:\n          {\n            this._stateRcdataLessThanSign(cp);\n            break;\n          }\n        case State.RCDATA_END_TAG_OPEN:\n          {\n            this._stateRcdataEndTagOpen(cp);\n            break;\n          }\n        case State.RCDATA_END_TAG_NAME:\n          {\n            this._stateRcdataEndTagName(cp);\n            break;\n          }\n        case State.RAWTEXT_LESS_THAN_SIGN:\n          {\n            this._stateRawtextLessThanSign(cp);\n            break;\n          }\n        case State.RAWTEXT_END_TAG_OPEN:\n          {\n            this._stateRawtextEndTagOpen(cp);\n            break;\n          }\n        case State.RAWTEXT_END_TAG_NAME:\n          {\n            this._stateRawtextEndTagName(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_LESS_THAN_SIGN:\n          {\n            this._stateScriptDataLessThanSign(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_END_TAG_OPEN:\n          {\n            this._stateScriptDataEndTagOpen(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_END_TAG_NAME:\n          {\n            this._stateScriptDataEndTagName(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_ESCAPE_START:\n          {\n            this._stateScriptDataEscapeStart(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_ESCAPE_START_DASH:\n          {\n            this._stateScriptDataEscapeStartDash(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_ESCAPED:\n          {\n            this._stateScriptDataEscaped(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_ESCAPED_DASH:\n          {\n            this._stateScriptDataEscapedDash(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_ESCAPED_DASH_DASH:\n          {\n            this._stateScriptDataEscapedDashDash(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN:\n          {\n            this._stateScriptDataEscapedLessThanSign(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN:\n          {\n            this._stateScriptDataEscapedEndTagOpen(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME:\n          {\n            this._stateScriptDataEscapedEndTagName(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_DOUBLE_ESCAPE_START:\n          {\n            this._stateScriptDataDoubleEscapeStart(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_DOUBLE_ESCAPED:\n          {\n            this._stateScriptDataDoubleEscaped(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH:\n          {\n            this._stateScriptDataDoubleEscapedDash(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH:\n          {\n            this._stateScriptDataDoubleEscapedDashDash(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN:\n          {\n            this._stateScriptDataDoubleEscapedLessThanSign(cp);\n            break;\n          }\n        case State.SCRIPT_DATA_DOUBLE_ESCAPE_END:\n          {\n            this._stateScriptDataDoubleEscapeEnd(cp);\n            break;\n          }\n        case State.BEFORE_ATTRIBUTE_NAME:\n          {\n            this._stateBeforeAttributeName(cp);\n            break;\n          }\n        case State.ATTRIBUTE_NAME:\n          {\n            this._stateAttributeName(cp);\n            break;\n          }\n        case State.AFTER_ATTRIBUTE_NAME:\n          {\n            this._stateAfterAttributeName(cp);\n            break;\n          }\n        case State.BEFORE_ATTRIBUTE_VALUE:\n          {\n            this._stateBeforeAttributeValue(cp);\n            break;\n          }\n        case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED:\n          {\n            this._stateAttributeValueDoubleQuoted(cp);\n            break;\n          }\n        case State.ATTRIBUTE_VALUE_SINGLE_QUOTED:\n          {\n            this._stateAttributeValueSingleQuoted(cp);\n            break;\n          }\n        case State.ATTRIBUTE_VALUE_UNQUOTED:\n          {\n            this._stateAttributeValueUnquoted(cp);\n            break;\n          }\n        case State.AFTER_ATTRIBUTE_VALUE_QUOTED:\n          {\n            this._stateAfterAttributeValueQuoted(cp);\n            break;\n          }\n        case State.SELF_CLOSING_START_TAG:\n          {\n            this._stateSelfClosingStartTag(cp);\n            break;\n          }\n        case State.BOGUS_COMMENT:\n          {\n            this._stateBogusComment(cp);\n            break;\n          }\n        case State.MARKUP_DECLARATION_OPEN:\n          {\n            this._stateMarkupDeclarationOpen(cp);\n            break;\n          }\n        case State.COMMENT_START:\n          {\n            this._stateCommentStart(cp);\n            break;\n          }\n        case State.COMMENT_START_DASH:\n          {\n            this._stateCommentStartDash(cp);\n            break;\n          }\n        case State.COMMENT:\n          {\n            this._stateComment(cp);\n            break;\n          }\n        case State.COMMENT_LESS_THAN_SIGN:\n          {\n            this._stateCommentLessThanSign(cp);\n            break;\n          }\n        case State.COMMENT_LESS_THAN_SIGN_BANG:\n          {\n            this._stateCommentLessThanSignBang(cp);\n            break;\n          }\n        case State.COMMENT_LESS_THAN_SIGN_BANG_DASH:\n          {\n            this._stateCommentLessThanSignBangDash(cp);\n            break;\n          }\n        case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH:\n          {\n            this._stateCommentLessThanSignBangDashDash(cp);\n            break;\n          }\n        case State.COMMENT_END_DASH:\n          {\n            this._stateCommentEndDash(cp);\n            break;\n          }\n        case State.COMMENT_END:\n          {\n            this._stateCommentEnd(cp);\n            break;\n          }\n        case State.COMMENT_END_BANG:\n          {\n            this._stateCommentEndBang(cp);\n            break;\n          }\n        case State.DOCTYPE:\n          {\n            this._stateDoctype(cp);\n            break;\n          }\n        case State.BEFORE_DOCTYPE_NAME:\n          {\n            this._stateBeforeDoctypeName(cp);\n            break;\n          }\n        case State.DOCTYPE_NAME:\n          {\n            this._stateDoctypeName(cp);\n            break;\n          }\n        case State.AFTER_DOCTYPE_NAME:\n          {\n            this._stateAfterDoctypeName(cp);\n            break;\n          }\n        case State.AFTER_DOCTYPE_PUBLIC_KEYWORD:\n          {\n            this._stateAfterDoctypePublicKeyword(cp);\n            break;\n          }\n        case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER:\n          {\n            this._stateBeforeDoctypePublicIdentifier(cp);\n            break;\n          }\n        case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED:\n          {\n            this._stateDoctypePublicIdentifierDoubleQuoted(cp);\n            break;\n          }\n        case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED:\n          {\n            this._stateDoctypePublicIdentifierSingleQuoted(cp);\n            break;\n          }\n        case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER:\n          {\n            this._stateAfterDoctypePublicIdentifier(cp);\n            break;\n          }\n        case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS:\n          {\n            this._stateBetweenDoctypePublicAndSystemIdentifiers(cp);\n            break;\n          }\n        case State.AFTER_DOCTYPE_SYSTEM_KEYWORD:\n          {\n            this._stateAfterDoctypeSystemKeyword(cp);\n            break;\n          }\n        case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER:\n          {\n            this._stateBeforeDoctypeSystemIdentifier(cp);\n            break;\n          }\n        case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED:\n          {\n            this._stateDoctypeSystemIdentifierDoubleQuoted(cp);\n            break;\n          }\n        case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED:\n          {\n            this._stateDoctypeSystemIdentifierSingleQuoted(cp);\n            break;\n          }\n        case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER:\n          {\n            this._stateAfterDoctypeSystemIdentifier(cp);\n            break;\n          }\n        case State.BOGUS_DOCTYPE:\n          {\n            this._stateBogusDoctype(cp);\n            break;\n          }\n        case State.CDATA_SECTION:\n          {\n            this._stateCdataSection(cp);\n            break;\n          }\n        case State.CDATA_SECTION_BRACKET:\n          {\n            this._stateCdataSectionBracket(cp);\n            break;\n          }\n        case State.CDATA_SECTION_END:\n          {\n            this._stateCdataSectionEnd(cp);\n            break;\n          }\n        case State.CHARACTER_REFERENCE:\n          {\n            this._stateCharacterReference(cp);\n            break;\n          }\n        case State.NAMED_CHARACTER_REFERENCE:\n          {\n            this._stateNamedCharacterReference(cp);\n            break;\n          }\n        case State.AMBIGUOUS_AMPERSAND:\n          {\n            this._stateAmbiguousAmpersand(cp);\n            break;\n          }\n        case State.NUMERIC_CHARACTER_REFERENCE:\n          {\n            this._stateNumericCharacterReference(cp);\n            break;\n          }\n        case State.HEXADEMICAL_CHARACTER_REFERENCE_START:\n          {\n            this._stateHexademicalCharacterReferenceStart(cp);\n            break;\n          }\n        case State.HEXADEMICAL_CHARACTER_REFERENCE:\n          {\n            this._stateHexademicalCharacterReference(cp);\n            break;\n          }\n        case State.DECIMAL_CHARACTER_REFERENCE:\n          {\n            this._stateDecimalCharacterReference(cp);\n            break;\n          }\n        case State.NUMERIC_CHARACTER_REFERENCE_END:\n          {\n            this._stateNumericCharacterReferenceEnd(cp);\n            break;\n          }\n        default:\n          {\n            throw new Error('Unknown state');\n          }\n      }\n    }\n    // State machine\n    // Data state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateData\",\n    value: function _stateData(cp) {\n      switch (cp) {\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.TAG_OPEN;\n            break;\n          }\n        case $.AMPERSAND:\n          {\n            this.returnState = State.DATA;\n            this.state = State.CHARACTER_REFERENCE;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitCodePoint(cp);\n            break;\n          }\n        case $.EOF:\n          {\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    //  RCDATA state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateRcdata\",\n    value: function _stateRcdata(cp) {\n      switch (cp) {\n        case $.AMPERSAND:\n          {\n            this.returnState = State.RCDATA;\n            this.state = State.CHARACTER_REFERENCE;\n            break;\n          }\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.RCDATA_LESS_THAN_SIGN;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // RAWTEXT state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateRawtext\",\n    value: function _stateRawtext(cp) {\n      switch (cp) {\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.RAWTEXT_LESS_THAN_SIGN;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // Script data state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptData\",\n    value: function _stateScriptData(cp) {\n      switch (cp) {\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.SCRIPT_DATA_LESS_THAN_SIGN;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // PLAINTEXT state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_statePlaintext\",\n    value: function _statePlaintext(cp) {\n      switch (cp) {\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // Tag open state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateTagOpen\",\n    value: function _stateTagOpen(cp) {\n      if (isAsciiLetter(cp)) {\n        this._createStartTagToken();\n        this.state = State.TAG_NAME;\n        this._stateTagName(cp);\n      } else switch (cp) {\n        case $.EXCLAMATION_MARK:\n          {\n            this.state = State.MARKUP_DECLARATION_OPEN;\n            break;\n          }\n        case $.SOLIDUS:\n          {\n            this.state = State.END_TAG_OPEN;\n            break;\n          }\n        case $.QUESTION_MARK:\n          {\n            this._err(ERR.unexpectedQuestionMarkInsteadOfTagName);\n            this._createCommentToken(1);\n            this.state = State.BOGUS_COMMENT;\n            this._stateBogusComment(cp);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofBeforeTagName);\n            this._emitChars('<');\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.invalidFirstCharacterOfTagName);\n            this._emitChars('<');\n            this.state = State.DATA;\n            this._stateData(cp);\n          }\n      }\n    }\n    // End tag open state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateEndTagOpen\",\n    value: function _stateEndTagOpen(cp) {\n      if (isAsciiLetter(cp)) {\n        this._createEndTagToken();\n        this.state = State.TAG_NAME;\n        this._stateTagName(cp);\n      } else switch (cp) {\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.missingEndTagName);\n            this.state = State.DATA;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofBeforeTagName);\n            this._emitChars('</');\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.invalidFirstCharacterOfTagName);\n            this._createCommentToken(2);\n            this.state = State.BOGUS_COMMENT;\n            this._stateBogusComment(cp);\n          }\n      }\n    }\n    // Tag name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateTagName\",\n    value: function _stateTagName(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            this.state = State.BEFORE_ATTRIBUTE_NAME;\n            break;\n          }\n        case $.SOLIDUS:\n          {\n            this.state = State.SELF_CLOSING_START_TAG;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.DATA;\n            this.emitCurrentTagToken();\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            token.tagName += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.tagName += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n          }\n      }\n    }\n    // RCDATA less-than sign state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateRcdataLessThanSign\",\n    value: function _stateRcdataLessThanSign(cp) {\n      if (cp === $.SOLIDUS) {\n        this.state = State.RCDATA_END_TAG_OPEN;\n      } else {\n        this._emitChars('<');\n        this.state = State.RCDATA;\n        this._stateRcdata(cp);\n      }\n    }\n    // RCDATA end tag open state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateRcdataEndTagOpen\",\n    value: function _stateRcdataEndTagOpen(cp) {\n      if (isAsciiLetter(cp)) {\n        this.state = State.RCDATA_END_TAG_NAME;\n        this._stateRcdataEndTagName(cp);\n      } else {\n        this._emitChars('</');\n        this.state = State.RCDATA;\n        this._stateRcdata(cp);\n      }\n    }\n  }, {\n    key: \"handleSpecialEndTag\",\n    value: function handleSpecialEndTag(_cp) {\n      if (!this.preprocessor.startsWith(this.lastStartTagName, false)) {\n        return !this._ensureHibernation();\n      }\n      this._createEndTagToken();\n      var token = this.currentToken;\n      token.tagName = this.lastStartTagName;\n      var cp = this.preprocessor.peek(this.lastStartTagName.length);\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            this._advanceBy(this.lastStartTagName.length);\n            this.state = State.BEFORE_ATTRIBUTE_NAME;\n            return false;\n          }\n        case $.SOLIDUS:\n          {\n            this._advanceBy(this.lastStartTagName.length);\n            this.state = State.SELF_CLOSING_START_TAG;\n            return false;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._advanceBy(this.lastStartTagName.length);\n            this.emitCurrentTagToken();\n            this.state = State.DATA;\n            return false;\n          }\n        default:\n          {\n            return !this._ensureHibernation();\n          }\n      }\n    }\n    // RCDATA end tag name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateRcdataEndTagName\",\n    value: function _stateRcdataEndTagName(cp) {\n      if (this.handleSpecialEndTag(cp)) {\n        this._emitChars('</');\n        this.state = State.RCDATA;\n        this._stateRcdata(cp);\n      }\n    }\n    // RAWTEXT less-than sign state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateRawtextLessThanSign\",\n    value: function _stateRawtextLessThanSign(cp) {\n      if (cp === $.SOLIDUS) {\n        this.state = State.RAWTEXT_END_TAG_OPEN;\n      } else {\n        this._emitChars('<');\n        this.state = State.RAWTEXT;\n        this._stateRawtext(cp);\n      }\n    }\n    // RAWTEXT end tag open state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateRawtextEndTagOpen\",\n    value: function _stateRawtextEndTagOpen(cp) {\n      if (isAsciiLetter(cp)) {\n        this.state = State.RAWTEXT_END_TAG_NAME;\n        this._stateRawtextEndTagName(cp);\n      } else {\n        this._emitChars('</');\n        this.state = State.RAWTEXT;\n        this._stateRawtext(cp);\n      }\n    }\n    // RAWTEXT end tag name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateRawtextEndTagName\",\n    value: function _stateRawtextEndTagName(cp) {\n      if (this.handleSpecialEndTag(cp)) {\n        this._emitChars('</');\n        this.state = State.RAWTEXT;\n        this._stateRawtext(cp);\n      }\n    }\n    // Script data less-than sign state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataLessThanSign\",\n    value: function _stateScriptDataLessThanSign(cp) {\n      switch (cp) {\n        case $.SOLIDUS:\n          {\n            this.state = State.SCRIPT_DATA_END_TAG_OPEN;\n            break;\n          }\n        case $.EXCLAMATION_MARK:\n          {\n            this.state = State.SCRIPT_DATA_ESCAPE_START;\n            this._emitChars('<!');\n            break;\n          }\n        default:\n          {\n            this._emitChars('<');\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n          }\n      }\n    }\n    // Script data end tag open state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEndTagOpen\",\n    value: function _stateScriptDataEndTagOpen(cp) {\n      if (isAsciiLetter(cp)) {\n        this.state = State.SCRIPT_DATA_END_TAG_NAME;\n        this._stateScriptDataEndTagName(cp);\n      } else {\n        this._emitChars('</');\n        this.state = State.SCRIPT_DATA;\n        this._stateScriptData(cp);\n      }\n    }\n    // Script data end tag name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEndTagName\",\n    value: function _stateScriptDataEndTagName(cp) {\n      if (this.handleSpecialEndTag(cp)) {\n        this._emitChars('</');\n        this.state = State.SCRIPT_DATA;\n        this._stateScriptData(cp);\n      }\n    }\n    // Script data escape start state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEscapeStart\",\n    value: function _stateScriptDataEscapeStart(cp) {\n      if (cp === $.HYPHEN_MINUS) {\n        this.state = State.SCRIPT_DATA_ESCAPE_START_DASH;\n        this._emitChars('-');\n      } else {\n        this.state = State.SCRIPT_DATA;\n        this._stateScriptData(cp);\n      }\n    }\n    // Script data escape start dash state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEscapeStartDash\",\n    value: function _stateScriptDataEscapeStartDash(cp) {\n      if (cp === $.HYPHEN_MINUS) {\n        this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n        this._emitChars('-');\n      } else {\n        this.state = State.SCRIPT_DATA;\n        this._stateScriptData(cp);\n      }\n    }\n    // Script data escaped state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEscaped\",\n    value: function _stateScriptDataEscaped(cp) {\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this.state = State.SCRIPT_DATA_ESCAPED_DASH;\n            this._emitChars('-');\n            break;\n          }\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // Script data escaped dash state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEscapedDash\",\n    value: function _stateScriptDataEscapedDash(cp) {\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n            this._emitChars('-');\n            break;\n          }\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // Script data escaped dash dash state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEscapedDashDash\",\n    value: function _stateScriptDataEscapedDashDash(cp) {\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this._emitChars('-');\n            break;\n          }\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.SCRIPT_DATA;\n            this._emitChars('>');\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // Script data escaped less-than sign state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEscapedLessThanSign\",\n    value: function _stateScriptDataEscapedLessThanSign(cp) {\n      if (cp === $.SOLIDUS) {\n        this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN;\n      } else if (isAsciiLetter(cp)) {\n        this._emitChars('<');\n        this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_START;\n        this._stateScriptDataDoubleEscapeStart(cp);\n      } else {\n        this._emitChars('<');\n        this.state = State.SCRIPT_DATA_ESCAPED;\n        this._stateScriptDataEscaped(cp);\n      }\n    }\n    // Script data escaped end tag open state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEscapedEndTagOpen\",\n    value: function _stateScriptDataEscapedEndTagOpen(cp) {\n      if (isAsciiLetter(cp)) {\n        this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_NAME;\n        this._stateScriptDataEscapedEndTagName(cp);\n      } else {\n        this._emitChars('</');\n        this.state = State.SCRIPT_DATA_ESCAPED;\n        this._stateScriptDataEscaped(cp);\n      }\n    }\n    // Script data escaped end tag name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataEscapedEndTagName\",\n    value: function _stateScriptDataEscapedEndTagName(cp) {\n      if (this.handleSpecialEndTag(cp)) {\n        this._emitChars('</');\n        this.state = State.SCRIPT_DATA_ESCAPED;\n        this._stateScriptDataEscaped(cp);\n      }\n    }\n    // Script data double escape start state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataDoubleEscapeStart\",\n    value: function _stateScriptDataDoubleEscapeStart(cp) {\n      if (this.preprocessor.startsWith($$.SCRIPT, false) && isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n        this._emitCodePoint(cp);\n        for (var i = 0; i < $$.SCRIPT.length; i++) {\n          this._emitCodePoint(this._consume());\n        }\n        this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n      } else if (!this._ensureHibernation()) {\n        this.state = State.SCRIPT_DATA_ESCAPED;\n        this._stateScriptDataEscaped(cp);\n      }\n    }\n    // Script data double escaped state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataDoubleEscaped\",\n    value: function _stateScriptDataDoubleEscaped(cp) {\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH;\n            this._emitChars('-');\n            break;\n          }\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n            this._emitChars('<');\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // Script data double escaped dash state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataDoubleEscapedDash\",\n    value: function _stateScriptDataDoubleEscapedDash(cp) {\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH;\n            this._emitChars('-');\n            break;\n          }\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n            this._emitChars('<');\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // Script data double escaped dash dash state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataDoubleEscapedDashDash\",\n    value: function _stateScriptDataDoubleEscapedDashDash(cp) {\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this._emitChars('-');\n            break;\n          }\n        case $.LESS_THAN_SIGN:\n          {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n            this._emitChars('<');\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.SCRIPT_DATA;\n            this._emitChars('>');\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._emitChars(REPLACEMENT_CHARACTER);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInScriptHtmlCommentLikeText);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // Script data double escaped less-than sign state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataDoubleEscapedLessThanSign\",\n    value: function _stateScriptDataDoubleEscapedLessThanSign(cp) {\n      if (cp === $.SOLIDUS) {\n        this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_END;\n        this._emitChars('/');\n      } else {\n        this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n        this._stateScriptDataDoubleEscaped(cp);\n      }\n    }\n    // Script data double escape end state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateScriptDataDoubleEscapeEnd\",\n    value: function _stateScriptDataDoubleEscapeEnd(cp) {\n      if (this.preprocessor.startsWith($$.SCRIPT, false) && isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n        this._emitCodePoint(cp);\n        for (var i = 0; i < $$.SCRIPT.length; i++) {\n          this._emitCodePoint(this._consume());\n        }\n        this.state = State.SCRIPT_DATA_ESCAPED;\n      } else if (!this._ensureHibernation()) {\n        this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n        this._stateScriptDataDoubleEscaped(cp);\n      }\n    }\n    // Before attribute name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateBeforeAttributeName\",\n    value: function _stateBeforeAttributeName(cp) {\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            // Ignore whitespace\n            break;\n          }\n        case $.SOLIDUS:\n        case $.GREATER_THAN_SIGN:\n        case $.EOF:\n          {\n            this.state = State.AFTER_ATTRIBUTE_NAME;\n            this._stateAfterAttributeName(cp);\n            break;\n          }\n        case $.EQUALS_SIGN:\n          {\n            this._err(ERR.unexpectedEqualsSignBeforeAttributeName);\n            this._createAttr('=');\n            this.state = State.ATTRIBUTE_NAME;\n            break;\n          }\n        default:\n          {\n            this._createAttr('');\n            this.state = State.ATTRIBUTE_NAME;\n            this._stateAttributeName(cp);\n          }\n      }\n    }\n    // Attribute name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAttributeName\",\n    value: function _stateAttributeName(cp) {\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n        case $.SOLIDUS:\n        case $.GREATER_THAN_SIGN:\n        case $.EOF:\n          {\n            this._leaveAttrName();\n            this.state = State.AFTER_ATTRIBUTE_NAME;\n            this._stateAfterAttributeName(cp);\n            break;\n          }\n        case $.EQUALS_SIGN:\n          {\n            this._leaveAttrName();\n            this.state = State.BEFORE_ATTRIBUTE_VALUE;\n            break;\n          }\n        case $.QUOTATION_MARK:\n        case $.APOSTROPHE:\n        case $.LESS_THAN_SIGN:\n          {\n            this._err(ERR.unexpectedCharacterInAttributeName);\n            this.currentAttr.name += String.fromCodePoint(cp);\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.name += REPLACEMENT_CHARACTER;\n            break;\n          }\n        default:\n          {\n            this.currentAttr.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n          }\n      }\n    }\n    // After attribute name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAfterAttributeName\",\n    value: function _stateAfterAttributeName(cp) {\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            // Ignore whitespace\n            break;\n          }\n        case $.SOLIDUS:\n          {\n            this.state = State.SELF_CLOSING_START_TAG;\n            break;\n          }\n        case $.EQUALS_SIGN:\n          {\n            this.state = State.BEFORE_ATTRIBUTE_VALUE;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.DATA;\n            this.emitCurrentTagToken();\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._createAttr('');\n            this.state = State.ATTRIBUTE_NAME;\n            this._stateAttributeName(cp);\n          }\n      }\n    }\n    // Before attribute value state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateBeforeAttributeValue\",\n    value: function _stateBeforeAttributeValue(cp) {\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            // Ignore whitespace\n            break;\n          }\n        case $.QUOTATION_MARK:\n          {\n            this.state = State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;\n            break;\n          }\n        case $.APOSTROPHE:\n          {\n            this.state = State.ATTRIBUTE_VALUE_SINGLE_QUOTED;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.missingAttributeValue);\n            this.state = State.DATA;\n            this.emitCurrentTagToken();\n            break;\n          }\n        default:\n          {\n            this.state = State.ATTRIBUTE_VALUE_UNQUOTED;\n            this._stateAttributeValueUnquoted(cp);\n          }\n      }\n    }\n    // Attribute value (double-quoted) state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAttributeValueDoubleQuoted\",\n    value: function _stateAttributeValueDoubleQuoted(cp) {\n      switch (cp) {\n        case $.QUOTATION_MARK:\n          {\n            this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n            break;\n          }\n        case $.AMPERSAND:\n          {\n            this.returnState = State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;\n            this.state = State.CHARACTER_REFERENCE;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.value += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this.currentAttr.value += String.fromCodePoint(cp);\n          }\n      }\n    }\n    // Attribute value (single-quoted) state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAttributeValueSingleQuoted\",\n    value: function _stateAttributeValueSingleQuoted(cp) {\n      switch (cp) {\n        case $.APOSTROPHE:\n          {\n            this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n            break;\n          }\n        case $.AMPERSAND:\n          {\n            this.returnState = State.ATTRIBUTE_VALUE_SINGLE_QUOTED;\n            this.state = State.CHARACTER_REFERENCE;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.value += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this.currentAttr.value += String.fromCodePoint(cp);\n          }\n      }\n    }\n    // Attribute value (unquoted) state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAttributeValueUnquoted\",\n    value: function _stateAttributeValueUnquoted(cp) {\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            this._leaveAttrValue();\n            this.state = State.BEFORE_ATTRIBUTE_NAME;\n            break;\n          }\n        case $.AMPERSAND:\n          {\n            this.returnState = State.ATTRIBUTE_VALUE_UNQUOTED;\n            this.state = State.CHARACTER_REFERENCE;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._leaveAttrValue();\n            this.state = State.DATA;\n            this.emitCurrentTagToken();\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this.currentAttr.value += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.QUOTATION_MARK:\n        case $.APOSTROPHE:\n        case $.LESS_THAN_SIGN:\n        case $.EQUALS_SIGN:\n        case $.GRAVE_ACCENT:\n          {\n            this._err(ERR.unexpectedCharacterInUnquotedAttributeValue);\n            this.currentAttr.value += String.fromCodePoint(cp);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this.currentAttr.value += String.fromCodePoint(cp);\n          }\n      }\n    }\n    // After attribute value (quoted) state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAfterAttributeValueQuoted\",\n    value: function _stateAfterAttributeValueQuoted(cp) {\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            this._leaveAttrValue();\n            this.state = State.BEFORE_ATTRIBUTE_NAME;\n            break;\n          }\n        case $.SOLIDUS:\n          {\n            this._leaveAttrValue();\n            this.state = State.SELF_CLOSING_START_TAG;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._leaveAttrValue();\n            this.state = State.DATA;\n            this.emitCurrentTagToken();\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.missingWhitespaceBetweenAttributes);\n            this.state = State.BEFORE_ATTRIBUTE_NAME;\n            this._stateBeforeAttributeName(cp);\n          }\n      }\n    }\n    // Self-closing start tag state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateSelfClosingStartTag\",\n    value: function _stateSelfClosingStartTag(cp) {\n      switch (cp) {\n        case $.GREATER_THAN_SIGN:\n          {\n            var token = this.currentToken;\n            token.selfClosing = true;\n            this.state = State.DATA;\n            this.emitCurrentTagToken();\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInTag);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.unexpectedSolidusInTag);\n            this.state = State.BEFORE_ATTRIBUTE_NAME;\n            this._stateBeforeAttributeName(cp);\n          }\n      }\n    }\n    // Bogus comment state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateBogusComment\",\n    value: function _stateBogusComment(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.DATA;\n            this.emitCurrentComment(token);\n            break;\n          }\n        case $.EOF:\n          {\n            this.emitCurrentComment(token);\n            this._emitEOFToken();\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            token.data += REPLACEMENT_CHARACTER;\n            break;\n          }\n        default:\n          {\n            token.data += String.fromCodePoint(cp);\n          }\n      }\n    }\n    // Markup declaration open state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateMarkupDeclarationOpen\",\n    value: function _stateMarkupDeclarationOpen(cp) {\n      if (this._consumeSequenceIfMatch($$.DASH_DASH, true)) {\n        this._createCommentToken($$.DASH_DASH.length + 1);\n        this.state = State.COMMENT_START;\n      } else if (this._consumeSequenceIfMatch($$.DOCTYPE, false)) {\n        // NOTE: Doctypes tokens are created without fixed offsets. We keep track of the moment a doctype *might* start here.\n        this.currentLocation = this.getCurrentLocation($$.DOCTYPE.length + 1);\n        this.state = State.DOCTYPE;\n      } else if (this._consumeSequenceIfMatch($$.CDATA_START, true)) {\n        if (this.inForeignNode) {\n          this.state = State.CDATA_SECTION;\n        } else {\n          this._err(ERR.cdataInHtmlContent);\n          this._createCommentToken($$.CDATA_START.length + 1);\n          this.currentToken.data = '[CDATA[';\n          this.state = State.BOGUS_COMMENT;\n        }\n      }\n      //NOTE: Sequence lookups can be abrupted by hibernation. In that case, lookup\n      //results are no longer valid and we will need to start over.\n      else if (!this._ensureHibernation()) {\n        this._err(ERR.incorrectlyOpenedComment);\n        this._createCommentToken(2);\n        this.state = State.BOGUS_COMMENT;\n        this._stateBogusComment(cp);\n      }\n    }\n    // Comment start state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCommentStart\",\n    value: function _stateCommentStart(cp) {\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this.state = State.COMMENT_START_DASH;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.abruptClosingOfEmptyComment);\n            this.state = State.DATA;\n            var token = this.currentToken;\n            this.emitCurrentComment(token);\n            break;\n          }\n        default:\n          {\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n          }\n      }\n    }\n    // Comment start dash state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCommentStartDash\",\n    value: function _stateCommentStartDash(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this.state = State.COMMENT_END;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.abruptClosingOfEmptyComment);\n            this.state = State.DATA;\n            this.emitCurrentComment(token);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInComment);\n            this.emitCurrentComment(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.data += '-';\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n          }\n      }\n    }\n    // Comment state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateComment\",\n    value: function _stateComment(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this.state = State.COMMENT_END_DASH;\n            break;\n          }\n        case $.LESS_THAN_SIGN:\n          {\n            token.data += '<';\n            this.state = State.COMMENT_LESS_THAN_SIGN;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            token.data += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInComment);\n            this.emitCurrentComment(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.data += String.fromCodePoint(cp);\n          }\n      }\n    }\n    // Comment less-than sign state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCommentLessThanSign\",\n    value: function _stateCommentLessThanSign(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.EXCLAMATION_MARK:\n          {\n            token.data += '!';\n            this.state = State.COMMENT_LESS_THAN_SIGN_BANG;\n            break;\n          }\n        case $.LESS_THAN_SIGN:\n          {\n            token.data += '<';\n            break;\n          }\n        default:\n          {\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n          }\n      }\n    }\n    // Comment less-than sign bang state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCommentLessThanSignBang\",\n    value: function _stateCommentLessThanSignBang(cp) {\n      if (cp === $.HYPHEN_MINUS) {\n        this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH;\n      } else {\n        this.state = State.COMMENT;\n        this._stateComment(cp);\n      }\n    }\n    // Comment less-than sign bang dash state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCommentLessThanSignBangDash\",\n    value: function _stateCommentLessThanSignBangDash(cp) {\n      if (cp === $.HYPHEN_MINUS) {\n        this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH;\n      } else {\n        this.state = State.COMMENT_END_DASH;\n        this._stateCommentEndDash(cp);\n      }\n    }\n    // Comment less-than sign bang dash dash state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCommentLessThanSignBangDashDash\",\n    value: function _stateCommentLessThanSignBangDashDash(cp) {\n      if (cp !== $.GREATER_THAN_SIGN && cp !== $.EOF) {\n        this._err(ERR.nestedComment);\n      }\n      this.state = State.COMMENT_END;\n      this._stateCommentEnd(cp);\n    }\n    // Comment end dash state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCommentEndDash\",\n    value: function _stateCommentEndDash(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            this.state = State.COMMENT_END;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInComment);\n            this.emitCurrentComment(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.data += '-';\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n          }\n      }\n    }\n    // Comment end state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCommentEnd\",\n    value: function _stateCommentEnd(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.DATA;\n            this.emitCurrentComment(token);\n            break;\n          }\n        case $.EXCLAMATION_MARK:\n          {\n            this.state = State.COMMENT_END_BANG;\n            break;\n          }\n        case $.HYPHEN_MINUS:\n          {\n            token.data += '-';\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInComment);\n            this.emitCurrentComment(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.data += '--';\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n          }\n      }\n    }\n    // Comment end bang state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCommentEndBang\",\n    value: function _stateCommentEndBang(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.HYPHEN_MINUS:\n          {\n            token.data += '--!';\n            this.state = State.COMMENT_END_DASH;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.incorrectlyClosedComment);\n            this.state = State.DATA;\n            this.emitCurrentComment(token);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInComment);\n            this.emitCurrentComment(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.data += '--!';\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n          }\n      }\n    }\n    // DOCTYPE state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateDoctype\",\n    value: function _stateDoctype(cp) {\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            this.state = State.BEFORE_DOCTYPE_NAME;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.BEFORE_DOCTYPE_NAME;\n            this._stateBeforeDoctypeName(cp);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            this._createDoctypeToken(null);\n            var token = this.currentToken;\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.missingWhitespaceBeforeDoctypeName);\n            this.state = State.BEFORE_DOCTYPE_NAME;\n            this._stateBeforeDoctypeName(cp);\n          }\n      }\n    }\n    // Before DOCTYPE name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateBeforeDoctypeName\",\n    value: function _stateBeforeDoctypeName(cp) {\n      if (isAsciiUpper(cp)) {\n        this._createDoctypeToken(String.fromCharCode(toAsciiLower(cp)));\n        this.state = State.DOCTYPE_NAME;\n      } else switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            // Ignore whitespace\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            this._createDoctypeToken(REPLACEMENT_CHARACTER);\n            this.state = State.DOCTYPE_NAME;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.missingDoctypeName);\n            this._createDoctypeToken(null);\n            var token = this.currentToken;\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this.state = State.DATA;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            this._createDoctypeToken(null);\n            var _token = this.currentToken;\n            _token.forceQuirks = true;\n            this.emitCurrentDoctype(_token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._createDoctypeToken(String.fromCodePoint(cp));\n            this.state = State.DOCTYPE_NAME;\n          }\n      }\n    }\n    // DOCTYPE name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateDoctypeName\",\n    value: function _stateDoctypeName(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            this.state = State.AFTER_DOCTYPE_NAME;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.DATA;\n            this.emitCurrentDoctype(token);\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            token.name += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n          }\n      }\n    }\n    // After DOCTYPE name state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAfterDoctypeName\",\n    value: function _stateAfterDoctypeName(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            // Ignore whitespace\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.DATA;\n            this.emitCurrentDoctype(token);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            if (this._consumeSequenceIfMatch($$.PUBLIC, false)) {\n              this.state = State.AFTER_DOCTYPE_PUBLIC_KEYWORD;\n            } else if (this._consumeSequenceIfMatch($$.SYSTEM, false)) {\n              this.state = State.AFTER_DOCTYPE_SYSTEM_KEYWORD;\n            }\n            //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup\n            //results are no longer valid and we will need to start over.\n            else if (!this._ensureHibernation()) {\n              this._err(ERR.invalidCharacterSequenceAfterDoctypeName);\n              token.forceQuirks = true;\n              this.state = State.BOGUS_DOCTYPE;\n              this._stateBogusDoctype(cp);\n            }\n          }\n      }\n    }\n    // After DOCTYPE public keyword state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAfterDoctypePublicKeyword\",\n    value: function _stateAfterDoctypePublicKeyword(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            this.state = State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;\n            break;\n          }\n        case $.QUOTATION_MARK:\n          {\n            this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n            token.publicId = '';\n            this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n            break;\n          }\n        case $.APOSTROPHE:\n          {\n            this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n            token.publicId = '';\n            this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.missingDoctypePublicIdentifier);\n            token.forceQuirks = true;\n            this.state = State.DATA;\n            this.emitCurrentDoctype(token);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n            token.forceQuirks = true;\n            this.state = State.BOGUS_DOCTYPE;\n            this._stateBogusDoctype(cp);\n          }\n      }\n    }\n    // Before DOCTYPE public identifier state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateBeforeDoctypePublicIdentifier\",\n    value: function _stateBeforeDoctypePublicIdentifier(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            // Ignore whitespace\n            break;\n          }\n        case $.QUOTATION_MARK:\n          {\n            token.publicId = '';\n            this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n            break;\n          }\n        case $.APOSTROPHE:\n          {\n            token.publicId = '';\n            this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.missingDoctypePublicIdentifier);\n            token.forceQuirks = true;\n            this.state = State.DATA;\n            this.emitCurrentDoctype(token);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n            token.forceQuirks = true;\n            this.state = State.BOGUS_DOCTYPE;\n            this._stateBogusDoctype(cp);\n          }\n      }\n    }\n    // DOCTYPE public identifier (double-quoted) state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateDoctypePublicIdentifierDoubleQuoted\",\n    value: function _stateDoctypePublicIdentifierDoubleQuoted(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.QUOTATION_MARK:\n          {\n            this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            token.publicId += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.abruptDoctypePublicIdentifier);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this.state = State.DATA;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.publicId += String.fromCodePoint(cp);\n          }\n      }\n    }\n    // DOCTYPE public identifier (single-quoted) state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateDoctypePublicIdentifierSingleQuoted\",\n    value: function _stateDoctypePublicIdentifierSingleQuoted(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.APOSTROPHE:\n          {\n            this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            token.publicId += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.abruptDoctypePublicIdentifier);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this.state = State.DATA;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.publicId += String.fromCodePoint(cp);\n          }\n      }\n    }\n    // After DOCTYPE public identifier state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAfterDoctypePublicIdentifier\",\n    value: function _stateAfterDoctypePublicIdentifier(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            this.state = State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.DATA;\n            this.emitCurrentDoctype(token);\n            break;\n          }\n        case $.QUOTATION_MARK:\n          {\n            this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n            token.systemId = '';\n            this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n            break;\n          }\n        case $.APOSTROPHE:\n          {\n            this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n            token.systemId = '';\n            this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            token.forceQuirks = true;\n            this.state = State.BOGUS_DOCTYPE;\n            this._stateBogusDoctype(cp);\n          }\n      }\n    }\n    // Between DOCTYPE public and system identifiers state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateBetweenDoctypePublicAndSystemIdentifiers\",\n    value: function _stateBetweenDoctypePublicAndSystemIdentifiers(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            // Ignore whitespace\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.emitCurrentDoctype(token);\n            this.state = State.DATA;\n            break;\n          }\n        case $.QUOTATION_MARK:\n          {\n            token.systemId = '';\n            this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n            break;\n          }\n        case $.APOSTROPHE:\n          {\n            token.systemId = '';\n            this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            token.forceQuirks = true;\n            this.state = State.BOGUS_DOCTYPE;\n            this._stateBogusDoctype(cp);\n          }\n      }\n    }\n    // After DOCTYPE system keyword state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAfterDoctypeSystemKeyword\",\n    value: function _stateAfterDoctypeSystemKeyword(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            this.state = State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;\n            break;\n          }\n        case $.QUOTATION_MARK:\n          {\n            this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n            token.systemId = '';\n            this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n            break;\n          }\n        case $.APOSTROPHE:\n          {\n            this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n            token.systemId = '';\n            this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.missingDoctypeSystemIdentifier);\n            token.forceQuirks = true;\n            this.state = State.DATA;\n            this.emitCurrentDoctype(token);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            token.forceQuirks = true;\n            this.state = State.BOGUS_DOCTYPE;\n            this._stateBogusDoctype(cp);\n          }\n      }\n    }\n    // Before DOCTYPE system identifier state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateBeforeDoctypeSystemIdentifier\",\n    value: function _stateBeforeDoctypeSystemIdentifier(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            // Ignore whitespace\n            break;\n          }\n        case $.QUOTATION_MARK:\n          {\n            token.systemId = '';\n            this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n            break;\n          }\n        case $.APOSTROPHE:\n          {\n            token.systemId = '';\n            this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.missingDoctypeSystemIdentifier);\n            token.forceQuirks = true;\n            this.state = State.DATA;\n            this.emitCurrentDoctype(token);\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n            token.forceQuirks = true;\n            this.state = State.BOGUS_DOCTYPE;\n            this._stateBogusDoctype(cp);\n          }\n      }\n    }\n    // DOCTYPE system identifier (double-quoted) state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateDoctypeSystemIdentifierDoubleQuoted\",\n    value: function _stateDoctypeSystemIdentifierDoubleQuoted(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.QUOTATION_MARK:\n          {\n            this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            token.systemId += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.abruptDoctypeSystemIdentifier);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this.state = State.DATA;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.systemId += String.fromCodePoint(cp);\n          }\n      }\n    }\n    // DOCTYPE system identifier (single-quoted) state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateDoctypeSystemIdentifierSingleQuoted\",\n    value: function _stateDoctypeSystemIdentifierSingleQuoted(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.APOSTROPHE:\n          {\n            this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            token.systemId += REPLACEMENT_CHARACTER;\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this._err(ERR.abruptDoctypeSystemIdentifier);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this.state = State.DATA;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            token.systemId += String.fromCodePoint(cp);\n          }\n      }\n    }\n    // After DOCTYPE system identifier state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAfterDoctypeSystemIdentifier\",\n    value: function _stateAfterDoctypeSystemIdentifier(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.SPACE:\n        case $.LINE_FEED:\n        case $.TABULATION:\n        case $.FORM_FEED:\n          {\n            // Ignore whitespace\n            break;\n          }\n        case $.GREATER_THAN_SIGN:\n          {\n            this.emitCurrentDoctype(token);\n            this.state = State.DATA;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInDoctype);\n            token.forceQuirks = true;\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier);\n            this.state = State.BOGUS_DOCTYPE;\n            this._stateBogusDoctype(cp);\n          }\n      }\n    }\n    // Bogus DOCTYPE state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateBogusDoctype\",\n    value: function _stateBogusDoctype(cp) {\n      var token = this.currentToken;\n      switch (cp) {\n        case $.GREATER_THAN_SIGN:\n          {\n            this.emitCurrentDoctype(token);\n            this.state = State.DATA;\n            break;\n          }\n        case $.NULL:\n          {\n            this._err(ERR.unexpectedNullCharacter);\n            break;\n          }\n        case $.EOF:\n          {\n            this.emitCurrentDoctype(token);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n        // Do nothing\n      }\n    }\n    // CDATA section state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCdataSection\",\n    value: function _stateCdataSection(cp) {\n      switch (cp) {\n        case $.RIGHT_SQUARE_BRACKET:\n          {\n            this.state = State.CDATA_SECTION_BRACKET;\n            break;\n          }\n        case $.EOF:\n          {\n            this._err(ERR.eofInCdata);\n            this._emitEOFToken();\n            break;\n          }\n        default:\n          {\n            this._emitCodePoint(cp);\n          }\n      }\n    }\n    // CDATA section bracket state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCdataSectionBracket\",\n    value: function _stateCdataSectionBracket(cp) {\n      if (cp === $.RIGHT_SQUARE_BRACKET) {\n        this.state = State.CDATA_SECTION_END;\n      } else {\n        this._emitChars(']');\n        this.state = State.CDATA_SECTION;\n        this._stateCdataSection(cp);\n      }\n    }\n    // CDATA section end state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCdataSectionEnd\",\n    value: function _stateCdataSectionEnd(cp) {\n      switch (cp) {\n        case $.GREATER_THAN_SIGN:\n          {\n            this.state = State.DATA;\n            break;\n          }\n        case $.RIGHT_SQUARE_BRACKET:\n          {\n            this._emitChars(']');\n            break;\n          }\n        default:\n          {\n            this._emitChars(']]');\n            this.state = State.CDATA_SECTION;\n            this._stateCdataSection(cp);\n          }\n      }\n    }\n    // Character reference state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateCharacterReference\",\n    value: function _stateCharacterReference(cp) {\n      if (cp === $.NUMBER_SIGN) {\n        this.state = State.NUMERIC_CHARACTER_REFERENCE;\n      } else if (isAsciiAlphaNumeric(cp)) {\n        this.state = State.NAMED_CHARACTER_REFERENCE;\n        this._stateNamedCharacterReference(cp);\n      } else {\n        this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n        this._reconsumeInState(this.returnState, cp);\n      }\n    }\n    // Named character reference state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateNamedCharacterReference\",\n    value: function _stateNamedCharacterReference(cp) {\n      var matchResult = this._matchNamedCharacterReference(cp);\n      //NOTE: Matching can be abrupted by hibernation. In that case, match\n      //results are no longer valid and we will need to start over.\n      if (this._ensureHibernation()) {\n        // Stay in the state, try again.\n      } else if (matchResult) {\n        for (var i = 0; i < matchResult.length; i++) {\n          this._flushCodePointConsumedAsCharacterReference(matchResult[i]);\n        }\n        this.state = this.returnState;\n      } else {\n        this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n        this.state = State.AMBIGUOUS_AMPERSAND;\n      }\n    }\n    // Ambiguos ampersand state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateAmbiguousAmpersand\",\n    value: function _stateAmbiguousAmpersand(cp) {\n      if (isAsciiAlphaNumeric(cp)) {\n        this._flushCodePointConsumedAsCharacterReference(cp);\n      } else {\n        if (cp === $.SEMICOLON) {\n          this._err(ERR.unknownNamedCharacterReference);\n        }\n        this._reconsumeInState(this.returnState, cp);\n      }\n    }\n    // Numeric character reference state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateNumericCharacterReference\",\n    value: function _stateNumericCharacterReference(cp) {\n      this.charRefCode = 0;\n      if (cp === $.LATIN_SMALL_X || cp === $.LATIN_CAPITAL_X) {\n        this.state = State.HEXADEMICAL_CHARACTER_REFERENCE_START;\n      }\n      // Inlined decimal character reference start state\n      else if (isAsciiDigit(cp)) {\n        this.state = State.DECIMAL_CHARACTER_REFERENCE;\n        this._stateDecimalCharacterReference(cp);\n      } else {\n        this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n        this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n        this._flushCodePointConsumedAsCharacterReference($.NUMBER_SIGN);\n        this._reconsumeInState(this.returnState, cp);\n      }\n    }\n    // Hexademical character reference start state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateHexademicalCharacterReferenceStart\",\n    value: function _stateHexademicalCharacterReferenceStart(cp) {\n      if (isAsciiHexDigit(cp)) {\n        this.state = State.HEXADEMICAL_CHARACTER_REFERENCE;\n        this._stateHexademicalCharacterReference(cp);\n      } else {\n        this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n        this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n        this._flushCodePointConsumedAsCharacterReference($.NUMBER_SIGN);\n        this._unconsume(2);\n        this.state = this.returnState;\n      }\n    }\n    // Hexademical character reference state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateHexademicalCharacterReference\",\n    value: function _stateHexademicalCharacterReference(cp) {\n      if (isAsciiUpperHexDigit(cp)) {\n        this.charRefCode = this.charRefCode * 16 + cp - 0x37;\n      } else if (isAsciiLowerHexDigit(cp)) {\n        this.charRefCode = this.charRefCode * 16 + cp - 0x57;\n      } else if (isAsciiDigit(cp)) {\n        this.charRefCode = this.charRefCode * 16 + cp - 0x30;\n      } else if (cp === $.SEMICOLON) {\n        this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n      } else {\n        this._err(ERR.missingSemicolonAfterCharacterReference);\n        this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n        this._stateNumericCharacterReferenceEnd(cp);\n      }\n    }\n    // Decimal character reference state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateDecimalCharacterReference\",\n    value: function _stateDecimalCharacterReference(cp) {\n      if (isAsciiDigit(cp)) {\n        this.charRefCode = this.charRefCode * 10 + cp - 0x30;\n      } else if (cp === $.SEMICOLON) {\n        this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n      } else {\n        this._err(ERR.missingSemicolonAfterCharacterReference);\n        this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n        this._stateNumericCharacterReferenceEnd(cp);\n      }\n    }\n    // Numeric character reference end state\n    //------------------------------------------------------------------\n  }, {\n    key: \"_stateNumericCharacterReferenceEnd\",\n    value: function _stateNumericCharacterReferenceEnd(cp) {\n      if (this.charRefCode === $.NULL) {\n        this._err(ERR.nullCharacterReference);\n        this.charRefCode = $.REPLACEMENT_CHARACTER;\n      } else if (this.charRefCode > 1114111) {\n        this._err(ERR.characterReferenceOutsideUnicodeRange);\n        this.charRefCode = $.REPLACEMENT_CHARACTER;\n      } else if (isSurrogate(this.charRefCode)) {\n        this._err(ERR.surrogateCharacterReference);\n        this.charRefCode = $.REPLACEMENT_CHARACTER;\n      } else if (isUndefinedCodePoint(this.charRefCode)) {\n        this._err(ERR.noncharacterCharacterReference);\n      } else if (isControlCodePoint(this.charRefCode) || this.charRefCode === $.CARRIAGE_RETURN) {\n        this._err(ERR.controlCharacterReference);\n        var replacement = C1_CONTROLS_REFERENCE_REPLACEMENTS.get(this.charRefCode);\n        if (replacement !== undefined) {\n          this.charRefCode = replacement;\n        }\n      }\n      this._flushCodePointConsumedAsCharacterReference(this.charRefCode);\n      this._reconsumeInState(this.returnState, cp);\n    }\n  }]);\n  return Tokenizer;\n}();","map":{"version":3,"names":["Preprocessor","CODE_POINTS","$","SEQUENCES","$$","REPLACEMENT_CHARACTER","isSurrogate","isUndefinedCodePoint","isControlCodePoint","TokenType","getTokenAttr","htmlDecodeTree","BinTrieFlags","determineBranch","ERR","TAG_ID","getTagID","C1_CONTROLS_REFERENCE_REPLACEMENTS","Map","State","TokenizerMode","DATA","RCDATA","RAWTEXT","SCRIPT_DATA","PLAINTEXT","CDATA_SECTION","isAsciiDigit","cp","DIGIT_0","DIGIT_9","isAsciiUpper","LATIN_CAPITAL_A","LATIN_CAPITAL_Z","isAsciiLower","LATIN_SMALL_A","LATIN_SMALL_Z","isAsciiLetter","isAsciiAlphaNumeric","isAsciiUpperHexDigit","LATIN_CAPITAL_F","isAsciiLowerHexDigit","LATIN_SMALL_F","isAsciiHexDigit","toAsciiLower","isWhitespace","SPACE","LINE_FEED","TABULATION","FORM_FEED","isEntityInAttributeInvalidEnd","nextCp","EQUALS_SIGN","isScriptDataDoubleEscapeSequenceEnd","SOLIDUS","GREATER_THAN_SIGN","Tokenizer","options","handler","_classCallCheck","paused","inLoop","inForeignNode","lastStartTagName","active","state","returnState","charRefCode","consumedAfterSnapshot","currentCharacterToken","currentToken","currentAttr","name","value","preprocessor","currentLocation","getCurrentLocation","_createClass","key","_err","code","_a","_b","onParseError","call","getError","offset","sourceCodeLocationInfo","startLine","line","startCol","col","startOffset","endLine","endCol","endOffset","_runParsingLoop","_consume","_ensureHibernation","_callState","pause","resume","writeCallback","Error","write","chunk","isLastChunk","insertHtmlAtCurrentPos","endOfChunkHit","_unconsume","advance","count","retreat","_reconsumeInState","_advanceBy","i","_consumeSequenceIfMatch","pattern","caseSensitive","startsWith","length","_createStartTagToken","type","START_TAG","tagName","tagID","UNKNOWN","selfClosing","ackSelfClosing","attrs","location","_createEndTagToken","END_TAG","_createCommentToken","COMMENT","data","_createDoctypeToken","initialName","DOCTYPE","forceQuirks","publicId","systemId","_createCharacterToken","chars","_createAttr","attrNameFirstCh","_leaveAttrName","token","push","attrLocations","Object","create","_leaveAttrValue","duplicateAttribute","prepareToken","ct","_emitCurrentCharacterToken","emitCurrentTagToken","onStartTag","endTagWithAttributes","endTagWithTrailingSolidus","onEndTag","dropParsedChunk","emitCurrentComment","onComment","emitCurrentDoctype","onDoctype","nextLocation","CHARACTER","onCharacter","NULL_CHARACTER","onNullCharacter","WHITESPACE_CHARACTER","onWhitespaceCharacter","_emitEOFToken","onEof","EOF","_appendCharToCurrentCharacterToken","ch","_emitCodePoint","NULL","String","fromCodePoint","_emitChars","_matchNamedCharacterReference","result","excess","withoutSemicolon","current","masked","VALUE_LENGTH","valueLength","SEMICOLON","_isCharacterReferenceInAttribute","peek","AMPERSAND","missingSemicolonAfterCharacterReference","ATTRIBUTE_VALUE_DOUBLE_QUOTED","ATTRIBUTE_VALUE_SINGLE_QUOTED","ATTRIBUTE_VALUE_UNQUOTED","_flushCodePointConsumedAsCharacterReference","_stateData","_stateRcdata","_stateRawtext","_stateScriptData","_statePlaintext","TAG_OPEN","_stateTagOpen","END_TAG_OPEN","_stateEndTagOpen","TAG_NAME","_stateTagName","RCDATA_LESS_THAN_SIGN","_stateRcdataLessThanSign","RCDATA_END_TAG_OPEN","_stateRcdataEndTagOpen","RCDATA_END_TAG_NAME","_stateRcdataEndTagName","RAWTEXT_LESS_THAN_SIGN","_stateRawtextLessThanSign","RAWTEXT_END_TAG_OPEN","_stateRawtextEndTagOpen","RAWTEXT_END_TAG_NAME","_stateRawtextEndTagName","SCRIPT_DATA_LESS_THAN_SIGN","_stateScriptDataLessThanSign","SCRIPT_DATA_END_TAG_OPEN","_stateScriptDataEndTagOpen","SCRIPT_DATA_END_TAG_NAME","_stateScriptDataEndTagName","SCRIPT_DATA_ESCAPE_START","_stateScriptDataEscapeStart","SCRIPT_DATA_ESCAPE_START_DASH","_stateScriptDataEscapeStartDash","SCRIPT_DATA_ESCAPED","_stateScriptDataEscaped","SCRIPT_DATA_ESCAPED_DASH","_stateScriptDataEscapedDash","SCRIPT_DATA_ESCAPED_DASH_DASH","_stateScriptDataEscapedDashDash","SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN","_stateScriptDataEscapedLessThanSign","SCRIPT_DATA_ESCAPED_END_TAG_OPEN","_stateScriptDataEscapedEndTagOpen","SCRIPT_DATA_ESCAPED_END_TAG_NAME","_stateScriptDataEscapedEndTagName","SCRIPT_DATA_DOUBLE_ESCAPE_START","_stateScriptDataDoubleEscapeStart","SCRIPT_DATA_DOUBLE_ESCAPED","_stateScriptDataDoubleEscaped","SCRIPT_DATA_DOUBLE_ESCAPED_DASH","_stateScriptDataDoubleEscapedDash","SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH","_stateScriptDataDoubleEscapedDashDash","SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN","_stateScriptDataDoubleEscapedLessThanSign","SCRIPT_DATA_DOUBLE_ESCAPE_END","_stateScriptDataDoubleEscapeEnd","BEFORE_ATTRIBUTE_NAME","_stateBeforeAttributeName","ATTRIBUTE_NAME","_stateAttributeName","AFTER_ATTRIBUTE_NAME","_stateAfterAttributeName","BEFORE_ATTRIBUTE_VALUE","_stateBeforeAttributeValue","_stateAttributeValueDoubleQuoted","_stateAttributeValueSingleQuoted","_stateAttributeValueUnquoted","AFTER_ATTRIBUTE_VALUE_QUOTED","_stateAfterAttributeValueQuoted","SELF_CLOSING_START_TAG","_stateSelfClosingStartTag","BOGUS_COMMENT","_stateBogusComment","MARKUP_DECLARATION_OPEN","_stateMarkupDeclarationOpen","COMMENT_START","_stateCommentStart","COMMENT_START_DASH","_stateCommentStartDash","_stateComment","COMMENT_LESS_THAN_SIGN","_stateCommentLessThanSign","COMMENT_LESS_THAN_SIGN_BANG","_stateCommentLessThanSignBang","COMMENT_LESS_THAN_SIGN_BANG_DASH","_stateCommentLessThanSignBangDash","COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH","_stateCommentLessThanSignBangDashDash","COMMENT_END_DASH","_stateCommentEndDash","COMMENT_END","_stateCommentEnd","COMMENT_END_BANG","_stateCommentEndBang","_stateDoctype","BEFORE_DOCTYPE_NAME","_stateBeforeDoctypeName","DOCTYPE_NAME","_stateDoctypeName","AFTER_DOCTYPE_NAME","_stateAfterDoctypeName","AFTER_DOCTYPE_PUBLIC_KEYWORD","_stateAfterDoctypePublicKeyword","BEFORE_DOCTYPE_PUBLIC_IDENTIFIER","_stateBeforeDoctypePublicIdentifier","DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED","_stateDoctypePublicIdentifierDoubleQuoted","DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED","_stateDoctypePublicIdentifierSingleQuoted","AFTER_DOCTYPE_PUBLIC_IDENTIFIER","_stateAfterDoctypePublicIdentifier","BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS","_stateBetweenDoctypePublicAndSystemIdentifiers","AFTER_DOCTYPE_SYSTEM_KEYWORD","_stateAfterDoctypeSystemKeyword","BEFORE_DOCTYPE_SYSTEM_IDENTIFIER","_stateBeforeDoctypeSystemIdentifier","DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED","_stateDoctypeSystemIdentifierDoubleQuoted","DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED","_stateDoctypeSystemIdentifierSingleQuoted","AFTER_DOCTYPE_SYSTEM_IDENTIFIER","_stateAfterDoctypeSystemIdentifier","BOGUS_DOCTYPE","_stateBogusDoctype","_stateCdataSection","CDATA_SECTION_BRACKET","_stateCdataSectionBracket","CDATA_SECTION_END","_stateCdataSectionEnd","CHARACTER_REFERENCE","_stateCharacterReference","NAMED_CHARACTER_REFERENCE","_stateNamedCharacterReference","AMBIGUOUS_AMPERSAND","_stateAmbiguousAmpersand","NUMERIC_CHARACTER_REFERENCE","_stateNumericCharacterReference","HEXADEMICAL_CHARACTER_REFERENCE_START","_stateHexademicalCharacterReferenceStart","HEXADEMICAL_CHARACTER_REFERENCE","_stateHexademicalCharacterReference","DECIMAL_CHARACTER_REFERENCE","_stateDecimalCharacterReference","NUMERIC_CHARACTER_REFERENCE_END","_stateNumericCharacterReferenceEnd","LESS_THAN_SIGN","unexpectedNullCharacter","EXCLAMATION_MARK","QUESTION_MARK","unexpectedQuestionMarkInsteadOfTagName","eofBeforeTagName","invalidFirstCharacterOfTagName","missingEndTagName","eofInTag","handleSpecialEndTag","_cp","HYPHEN_MINUS","eofInScriptHtmlCommentLikeText","SCRIPT","unexpectedEqualsSignBeforeAttributeName","QUOTATION_MARK","APOSTROPHE","unexpectedCharacterInAttributeName","missingAttributeValue","GRAVE_ACCENT","unexpectedCharacterInUnquotedAttributeValue","missingWhitespaceBetweenAttributes","unexpectedSolidusInTag","DASH_DASH","CDATA_START","cdataInHtmlContent","incorrectlyOpenedComment","abruptClosingOfEmptyComment","eofInComment","nestedComment","incorrectlyClosedComment","eofInDoctype","missingWhitespaceBeforeDoctypeName","fromCharCode","missingDoctypeName","PUBLIC","SYSTEM","invalidCharacterSequenceAfterDoctypeName","missingWhitespaceAfterDoctypePublicKeyword","missingDoctypePublicIdentifier","missingQuoteBeforeDoctypePublicIdentifier","abruptDoctypePublicIdentifier","missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers","missingQuoteBeforeDoctypeSystemIdentifier","missingWhitespaceAfterDoctypeSystemKeyword","missingDoctypeSystemIdentifier","abruptDoctypeSystemIdentifier","unexpectedCharacterAfterDoctypeSystemIdentifier","RIGHT_SQUARE_BRACKET","eofInCdata","NUMBER_SIGN","matchResult","unknownNamedCharacterReference","LATIN_SMALL_X","LATIN_CAPITAL_X","absenceOfDigitsInNumericCharacterReference","nullCharacterReference","characterReferenceOutsideUnicodeRange","surrogateCharacterReference","noncharacterCharacterReference","CARRIAGE_RETURN","controlCharacterReference","replacement","get","undefined"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/hast-util-raw/node_modules/parse5/dist/tokenizer/index.js"],"sourcesContent":["import { Preprocessor } from './preprocessor.js';\nimport { CODE_POINTS as $, SEQUENCES as $$, REPLACEMENT_CHARACTER, isSurrogate, isUndefinedCodePoint, isControlCodePoint, } from '../common/unicode.js';\nimport { TokenType, getTokenAttr, } from '../common/token.js';\nimport { htmlDecodeTree, BinTrieFlags, determineBranch } from 'entities/lib/decode.js';\nimport { ERR } from '../common/error-codes.js';\nimport { TAG_ID, getTagID } from '../common/html.js';\n//C1 Unicode control character reference replacements\nconst C1_CONTROLS_REFERENCE_REPLACEMENTS = new Map([\n    [0x80, 8364],\n    [0x82, 8218],\n    [0x83, 402],\n    [0x84, 8222],\n    [0x85, 8230],\n    [0x86, 8224],\n    [0x87, 8225],\n    [0x88, 710],\n    [0x89, 8240],\n    [0x8a, 352],\n    [0x8b, 8249],\n    [0x8c, 338],\n    [0x8e, 381],\n    [0x91, 8216],\n    [0x92, 8217],\n    [0x93, 8220],\n    [0x94, 8221],\n    [0x95, 8226],\n    [0x96, 8211],\n    [0x97, 8212],\n    [0x98, 732],\n    [0x99, 8482],\n    [0x9a, 353],\n    [0x9b, 8250],\n    [0x9c, 339],\n    [0x9e, 382],\n    [0x9f, 376],\n]);\n//States\nvar State;\n(function (State) {\n    State[State[\"DATA\"] = 0] = \"DATA\";\n    State[State[\"RCDATA\"] = 1] = \"RCDATA\";\n    State[State[\"RAWTEXT\"] = 2] = \"RAWTEXT\";\n    State[State[\"SCRIPT_DATA\"] = 3] = \"SCRIPT_DATA\";\n    State[State[\"PLAINTEXT\"] = 4] = \"PLAINTEXT\";\n    State[State[\"TAG_OPEN\"] = 5] = \"TAG_OPEN\";\n    State[State[\"END_TAG_OPEN\"] = 6] = \"END_TAG_OPEN\";\n    State[State[\"TAG_NAME\"] = 7] = \"TAG_NAME\";\n    State[State[\"RCDATA_LESS_THAN_SIGN\"] = 8] = \"RCDATA_LESS_THAN_SIGN\";\n    State[State[\"RCDATA_END_TAG_OPEN\"] = 9] = \"RCDATA_END_TAG_OPEN\";\n    State[State[\"RCDATA_END_TAG_NAME\"] = 10] = \"RCDATA_END_TAG_NAME\";\n    State[State[\"RAWTEXT_LESS_THAN_SIGN\"] = 11] = \"RAWTEXT_LESS_THAN_SIGN\";\n    State[State[\"RAWTEXT_END_TAG_OPEN\"] = 12] = \"RAWTEXT_END_TAG_OPEN\";\n    State[State[\"RAWTEXT_END_TAG_NAME\"] = 13] = \"RAWTEXT_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_LESS_THAN_SIGN\"] = 14] = \"SCRIPT_DATA_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_END_TAG_OPEN\"] = 15] = \"SCRIPT_DATA_END_TAG_OPEN\";\n    State[State[\"SCRIPT_DATA_END_TAG_NAME\"] = 16] = \"SCRIPT_DATA_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_ESCAPE_START\"] = 17] = \"SCRIPT_DATA_ESCAPE_START\";\n    State[State[\"SCRIPT_DATA_ESCAPE_START_DASH\"] = 18] = \"SCRIPT_DATA_ESCAPE_START_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED\"] = 19] = \"SCRIPT_DATA_ESCAPED\";\n    State[State[\"SCRIPT_DATA_ESCAPED_DASH\"] = 20] = \"SCRIPT_DATA_ESCAPED_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED_DASH_DASH\"] = 21] = \"SCRIPT_DATA_ESCAPED_DASH_DASH\";\n    State[State[\"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\"] = 22] = \"SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\"] = 23] = \"SCRIPT_DATA_ESCAPED_END_TAG_OPEN\";\n    State[State[\"SCRIPT_DATA_ESCAPED_END_TAG_NAME\"] = 24] = \"SCRIPT_DATA_ESCAPED_END_TAG_NAME\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_START\"] = 25] = \"SCRIPT_DATA_DOUBLE_ESCAPE_START\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED\"] = 26] = \"SCRIPT_DATA_DOUBLE_ESCAPED\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\"] = 27] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\"] = 28] = \"SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\"] = 29] = \"SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN\";\n    State[State[\"SCRIPT_DATA_DOUBLE_ESCAPE_END\"] = 30] = \"SCRIPT_DATA_DOUBLE_ESCAPE_END\";\n    State[State[\"BEFORE_ATTRIBUTE_NAME\"] = 31] = \"BEFORE_ATTRIBUTE_NAME\";\n    State[State[\"ATTRIBUTE_NAME\"] = 32] = \"ATTRIBUTE_NAME\";\n    State[State[\"AFTER_ATTRIBUTE_NAME\"] = 33] = \"AFTER_ATTRIBUTE_NAME\";\n    State[State[\"BEFORE_ATTRIBUTE_VALUE\"] = 34] = \"BEFORE_ATTRIBUTE_VALUE\";\n    State[State[\"ATTRIBUTE_VALUE_DOUBLE_QUOTED\"] = 35] = \"ATTRIBUTE_VALUE_DOUBLE_QUOTED\";\n    State[State[\"ATTRIBUTE_VALUE_SINGLE_QUOTED\"] = 36] = \"ATTRIBUTE_VALUE_SINGLE_QUOTED\";\n    State[State[\"ATTRIBUTE_VALUE_UNQUOTED\"] = 37] = \"ATTRIBUTE_VALUE_UNQUOTED\";\n    State[State[\"AFTER_ATTRIBUTE_VALUE_QUOTED\"] = 38] = \"AFTER_ATTRIBUTE_VALUE_QUOTED\";\n    State[State[\"SELF_CLOSING_START_TAG\"] = 39] = \"SELF_CLOSING_START_TAG\";\n    State[State[\"BOGUS_COMMENT\"] = 40] = \"BOGUS_COMMENT\";\n    State[State[\"MARKUP_DECLARATION_OPEN\"] = 41] = \"MARKUP_DECLARATION_OPEN\";\n    State[State[\"COMMENT_START\"] = 42] = \"COMMENT_START\";\n    State[State[\"COMMENT_START_DASH\"] = 43] = \"COMMENT_START_DASH\";\n    State[State[\"COMMENT\"] = 44] = \"COMMENT\";\n    State[State[\"COMMENT_LESS_THAN_SIGN\"] = 45] = \"COMMENT_LESS_THAN_SIGN\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG\"] = 46] = \"COMMENT_LESS_THAN_SIGN_BANG\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH\"] = 47] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH\";\n    State[State[\"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\"] = 48] = \"COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH\";\n    State[State[\"COMMENT_END_DASH\"] = 49] = \"COMMENT_END_DASH\";\n    State[State[\"COMMENT_END\"] = 50] = \"COMMENT_END\";\n    State[State[\"COMMENT_END_BANG\"] = 51] = \"COMMENT_END_BANG\";\n    State[State[\"DOCTYPE\"] = 52] = \"DOCTYPE\";\n    State[State[\"BEFORE_DOCTYPE_NAME\"] = 53] = \"BEFORE_DOCTYPE_NAME\";\n    State[State[\"DOCTYPE_NAME\"] = 54] = \"DOCTYPE_NAME\";\n    State[State[\"AFTER_DOCTYPE_NAME\"] = 55] = \"AFTER_DOCTYPE_NAME\";\n    State[State[\"AFTER_DOCTYPE_PUBLIC_KEYWORD\"] = 56] = \"AFTER_DOCTYPE_PUBLIC_KEYWORD\";\n    State[State[\"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\"] = 57] = \"BEFORE_DOCTYPE_PUBLIC_IDENTIFIER\";\n    State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\"] = 58] = \"DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED\";\n    State[State[\"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\"] = 59] = \"DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED\";\n    State[State[\"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\"] = 60] = \"AFTER_DOCTYPE_PUBLIC_IDENTIFIER\";\n    State[State[\"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\"] = 61] = \"BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS\";\n    State[State[\"AFTER_DOCTYPE_SYSTEM_KEYWORD\"] = 62] = \"AFTER_DOCTYPE_SYSTEM_KEYWORD\";\n    State[State[\"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\"] = 63] = \"BEFORE_DOCTYPE_SYSTEM_IDENTIFIER\";\n    State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\"] = 64] = \"DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED\";\n    State[State[\"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\"] = 65] = \"DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED\";\n    State[State[\"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\"] = 66] = \"AFTER_DOCTYPE_SYSTEM_IDENTIFIER\";\n    State[State[\"BOGUS_DOCTYPE\"] = 67] = \"BOGUS_DOCTYPE\";\n    State[State[\"CDATA_SECTION\"] = 68] = \"CDATA_SECTION\";\n    State[State[\"CDATA_SECTION_BRACKET\"] = 69] = \"CDATA_SECTION_BRACKET\";\n    State[State[\"CDATA_SECTION_END\"] = 70] = \"CDATA_SECTION_END\";\n    State[State[\"CHARACTER_REFERENCE\"] = 71] = \"CHARACTER_REFERENCE\";\n    State[State[\"NAMED_CHARACTER_REFERENCE\"] = 72] = \"NAMED_CHARACTER_REFERENCE\";\n    State[State[\"AMBIGUOUS_AMPERSAND\"] = 73] = \"AMBIGUOUS_AMPERSAND\";\n    State[State[\"NUMERIC_CHARACTER_REFERENCE\"] = 74] = \"NUMERIC_CHARACTER_REFERENCE\";\n    State[State[\"HEXADEMICAL_CHARACTER_REFERENCE_START\"] = 75] = \"HEXADEMICAL_CHARACTER_REFERENCE_START\";\n    State[State[\"HEXADEMICAL_CHARACTER_REFERENCE\"] = 76] = \"HEXADEMICAL_CHARACTER_REFERENCE\";\n    State[State[\"DECIMAL_CHARACTER_REFERENCE\"] = 77] = \"DECIMAL_CHARACTER_REFERENCE\";\n    State[State[\"NUMERIC_CHARACTER_REFERENCE_END\"] = 78] = \"NUMERIC_CHARACTER_REFERENCE_END\";\n})(State || (State = {}));\n//Tokenizer initial states for different modes\nexport const TokenizerMode = {\n    DATA: State.DATA,\n    RCDATA: State.RCDATA,\n    RAWTEXT: State.RAWTEXT,\n    SCRIPT_DATA: State.SCRIPT_DATA,\n    PLAINTEXT: State.PLAINTEXT,\n    CDATA_SECTION: State.CDATA_SECTION,\n};\n//Utils\n//OPTIMIZATION: these utility functions should not be moved out of this module. V8 Crankshaft will not inline\n//this functions if they will be situated in another module due to context switch.\n//Always perform inlining check before modifying this functions ('node --trace-inlining').\nfunction isAsciiDigit(cp) {\n    return cp >= $.DIGIT_0 && cp <= $.DIGIT_9;\n}\nfunction isAsciiUpper(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_Z;\n}\nfunction isAsciiLower(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_Z;\n}\nfunction isAsciiLetter(cp) {\n    return isAsciiLower(cp) || isAsciiUpper(cp);\n}\nfunction isAsciiAlphaNumeric(cp) {\n    return isAsciiLetter(cp) || isAsciiDigit(cp);\n}\nfunction isAsciiUpperHexDigit(cp) {\n    return cp >= $.LATIN_CAPITAL_A && cp <= $.LATIN_CAPITAL_F;\n}\nfunction isAsciiLowerHexDigit(cp) {\n    return cp >= $.LATIN_SMALL_A && cp <= $.LATIN_SMALL_F;\n}\nfunction isAsciiHexDigit(cp) {\n    return isAsciiDigit(cp) || isAsciiUpperHexDigit(cp) || isAsciiLowerHexDigit(cp);\n}\nfunction toAsciiLower(cp) {\n    return cp + 32;\n}\nfunction isWhitespace(cp) {\n    return cp === $.SPACE || cp === $.LINE_FEED || cp === $.TABULATION || cp === $.FORM_FEED;\n}\nfunction isEntityInAttributeInvalidEnd(nextCp) {\n    return nextCp === $.EQUALS_SIGN || isAsciiAlphaNumeric(nextCp);\n}\nfunction isScriptDataDoubleEscapeSequenceEnd(cp) {\n    return isWhitespace(cp) || cp === $.SOLIDUS || cp === $.GREATER_THAN_SIGN;\n}\n//Tokenizer\nexport class Tokenizer {\n    constructor(options, handler) {\n        this.options = options;\n        this.handler = handler;\n        this.paused = false;\n        /** Ensures that the parsing loop isn't run multiple times at once. */\n        this.inLoop = false;\n        /**\n         * Indicates that the current adjusted node exists, is not an element in the HTML namespace,\n         * and that it is not an integration point for either MathML or HTML.\n         *\n         * @see {@link https://html.spec.whatwg.org/multipage/parsing.html#tree-construction}\n         */\n        this.inForeignNode = false;\n        this.lastStartTagName = '';\n        this.active = false;\n        this.state = State.DATA;\n        this.returnState = State.DATA;\n        this.charRefCode = -1;\n        this.consumedAfterSnapshot = -1;\n        this.currentCharacterToken = null;\n        this.currentToken = null;\n        this.currentAttr = { name: '', value: '' };\n        this.preprocessor = new Preprocessor(handler);\n        this.currentLocation = this.getCurrentLocation(-1);\n    }\n    //Errors\n    _err(code) {\n        var _a, _b;\n        (_b = (_a = this.handler).onParseError) === null || _b === void 0 ? void 0 : _b.call(_a, this.preprocessor.getError(code));\n    }\n    // NOTE: `offset` may never run across line boundaries.\n    getCurrentLocation(offset) {\n        if (!this.options.sourceCodeLocationInfo) {\n            return null;\n        }\n        return {\n            startLine: this.preprocessor.line,\n            startCol: this.preprocessor.col - offset,\n            startOffset: this.preprocessor.offset - offset,\n            endLine: -1,\n            endCol: -1,\n            endOffset: -1,\n        };\n    }\n    _runParsingLoop() {\n        if (this.inLoop)\n            return;\n        this.inLoop = true;\n        while (this.active && !this.paused) {\n            this.consumedAfterSnapshot = 0;\n            const cp = this._consume();\n            if (!this._ensureHibernation()) {\n                this._callState(cp);\n            }\n        }\n        this.inLoop = false;\n    }\n    //API\n    pause() {\n        this.paused = true;\n    }\n    resume(writeCallback) {\n        if (!this.paused) {\n            throw new Error('Parser was already resumed');\n        }\n        this.paused = false;\n        // Necessary for synchronous resume.\n        if (this.inLoop)\n            return;\n        this._runParsingLoop();\n        if (!this.paused) {\n            writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n        }\n    }\n    write(chunk, isLastChunk, writeCallback) {\n        this.active = true;\n        this.preprocessor.write(chunk, isLastChunk);\n        this._runParsingLoop();\n        if (!this.paused) {\n            writeCallback === null || writeCallback === void 0 ? void 0 : writeCallback();\n        }\n    }\n    insertHtmlAtCurrentPos(chunk) {\n        this.active = true;\n        this.preprocessor.insertHtmlAtCurrentPos(chunk);\n        this._runParsingLoop();\n    }\n    //Hibernation\n    _ensureHibernation() {\n        if (this.preprocessor.endOfChunkHit) {\n            this._unconsume(this.consumedAfterSnapshot);\n            this.active = false;\n            return true;\n        }\n        return false;\n    }\n    //Consumption\n    _consume() {\n        this.consumedAfterSnapshot++;\n        return this.preprocessor.advance();\n    }\n    _unconsume(count) {\n        this.consumedAfterSnapshot -= count;\n        this.preprocessor.retreat(count);\n    }\n    _reconsumeInState(state, cp) {\n        this.state = state;\n        this._callState(cp);\n    }\n    _advanceBy(count) {\n        this.consumedAfterSnapshot += count;\n        for (let i = 0; i < count; i++) {\n            this.preprocessor.advance();\n        }\n    }\n    _consumeSequenceIfMatch(pattern, caseSensitive) {\n        if (this.preprocessor.startsWith(pattern, caseSensitive)) {\n            // We will already have consumed one character before calling this method.\n            this._advanceBy(pattern.length - 1);\n            return true;\n        }\n        return false;\n    }\n    //Token creation\n    _createStartTagToken() {\n        this.currentToken = {\n            type: TokenType.START_TAG,\n            tagName: '',\n            tagID: TAG_ID.UNKNOWN,\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: [],\n            location: this.getCurrentLocation(1),\n        };\n    }\n    _createEndTagToken() {\n        this.currentToken = {\n            type: TokenType.END_TAG,\n            tagName: '',\n            tagID: TAG_ID.UNKNOWN,\n            selfClosing: false,\n            ackSelfClosing: false,\n            attrs: [],\n            location: this.getCurrentLocation(2),\n        };\n    }\n    _createCommentToken(offset) {\n        this.currentToken = {\n            type: TokenType.COMMENT,\n            data: '',\n            location: this.getCurrentLocation(offset),\n        };\n    }\n    _createDoctypeToken(initialName) {\n        this.currentToken = {\n            type: TokenType.DOCTYPE,\n            name: initialName,\n            forceQuirks: false,\n            publicId: null,\n            systemId: null,\n            location: this.currentLocation,\n        };\n    }\n    _createCharacterToken(type, chars) {\n        this.currentCharacterToken = {\n            type,\n            chars,\n            location: this.currentLocation,\n        };\n    }\n    //Tag attributes\n    _createAttr(attrNameFirstCh) {\n        this.currentAttr = {\n            name: attrNameFirstCh,\n            value: '',\n        };\n        this.currentLocation = this.getCurrentLocation(0);\n    }\n    _leaveAttrName() {\n        var _a;\n        var _b;\n        const token = this.currentToken;\n        if (getTokenAttr(token, this.currentAttr.name) === null) {\n            token.attrs.push(this.currentAttr);\n            if (token.location && this.currentLocation) {\n                const attrLocations = ((_a = (_b = token.location).attrs) !== null && _a !== void 0 ? _a : (_b.attrs = Object.create(null)));\n                attrLocations[this.currentAttr.name] = this.currentLocation;\n                // Set end location\n                this._leaveAttrValue();\n            }\n        }\n        else {\n            this._err(ERR.duplicateAttribute);\n        }\n    }\n    _leaveAttrValue() {\n        if (this.currentLocation) {\n            this.currentLocation.endLine = this.preprocessor.line;\n            this.currentLocation.endCol = this.preprocessor.col;\n            this.currentLocation.endOffset = this.preprocessor.offset;\n        }\n    }\n    //Token emission\n    prepareToken(ct) {\n        this._emitCurrentCharacterToken(ct.location);\n        this.currentToken = null;\n        if (ct.location) {\n            ct.location.endLine = this.preprocessor.line;\n            ct.location.endCol = this.preprocessor.col + 1;\n            ct.location.endOffset = this.preprocessor.offset + 1;\n        }\n        this.currentLocation = this.getCurrentLocation(-1);\n    }\n    emitCurrentTagToken() {\n        const ct = this.currentToken;\n        this.prepareToken(ct);\n        ct.tagID = getTagID(ct.tagName);\n        if (ct.type === TokenType.START_TAG) {\n            this.lastStartTagName = ct.tagName;\n            this.handler.onStartTag(ct);\n        }\n        else {\n            if (ct.attrs.length > 0) {\n                this._err(ERR.endTagWithAttributes);\n            }\n            if (ct.selfClosing) {\n                this._err(ERR.endTagWithTrailingSolidus);\n            }\n            this.handler.onEndTag(ct);\n        }\n        this.preprocessor.dropParsedChunk();\n    }\n    emitCurrentComment(ct) {\n        this.prepareToken(ct);\n        this.handler.onComment(ct);\n        this.preprocessor.dropParsedChunk();\n    }\n    emitCurrentDoctype(ct) {\n        this.prepareToken(ct);\n        this.handler.onDoctype(ct);\n        this.preprocessor.dropParsedChunk();\n    }\n    _emitCurrentCharacterToken(nextLocation) {\n        if (this.currentCharacterToken) {\n            //NOTE: if we have a pending character token, make it's end location equal to the\n            //current token's start location.\n            if (nextLocation && this.currentCharacterToken.location) {\n                this.currentCharacterToken.location.endLine = nextLocation.startLine;\n                this.currentCharacterToken.location.endCol = nextLocation.startCol;\n                this.currentCharacterToken.location.endOffset = nextLocation.startOffset;\n            }\n            switch (this.currentCharacterToken.type) {\n                case TokenType.CHARACTER: {\n                    this.handler.onCharacter(this.currentCharacterToken);\n                    break;\n                }\n                case TokenType.NULL_CHARACTER: {\n                    this.handler.onNullCharacter(this.currentCharacterToken);\n                    break;\n                }\n                case TokenType.WHITESPACE_CHARACTER: {\n                    this.handler.onWhitespaceCharacter(this.currentCharacterToken);\n                    break;\n                }\n            }\n            this.currentCharacterToken = null;\n        }\n    }\n    _emitEOFToken() {\n        const location = this.getCurrentLocation(0);\n        if (location) {\n            location.endLine = location.startLine;\n            location.endCol = location.startCol;\n            location.endOffset = location.startOffset;\n        }\n        this._emitCurrentCharacterToken(location);\n        this.handler.onEof({ type: TokenType.EOF, location });\n        this.active = false;\n    }\n    //Characters emission\n    //OPTIMIZATION: specification uses only one type of character tokens (one token per character).\n    //This causes a huge memory overhead and a lot of unnecessary parser loops. parse5 uses 3 groups of characters.\n    //If we have a sequence of characters that belong to the same group, the parser can process it\n    //as a single solid character token.\n    //So, there are 3 types of character tokens in parse5:\n    //1)TokenType.NULL_CHARACTER - \\u0000-character sequences (e.g. '\\u0000\\u0000\\u0000')\n    //2)TokenType.WHITESPACE_CHARACTER - any whitespace/new-line character sequences (e.g. '\\n  \\r\\t   \\f')\n    //3)TokenType.CHARACTER - any character sequence which don't belong to groups 1 and 2 (e.g. 'abcdef1234@@#$%^')\n    _appendCharToCurrentCharacterToken(type, ch) {\n        if (this.currentCharacterToken) {\n            if (this.currentCharacterToken.type !== type) {\n                this.currentLocation = this.getCurrentLocation(0);\n                this._emitCurrentCharacterToken(this.currentLocation);\n                this.preprocessor.dropParsedChunk();\n            }\n            else {\n                this.currentCharacterToken.chars += ch;\n                return;\n            }\n        }\n        this._createCharacterToken(type, ch);\n    }\n    _emitCodePoint(cp) {\n        const type = isWhitespace(cp)\n            ? TokenType.WHITESPACE_CHARACTER\n            : cp === $.NULL\n                ? TokenType.NULL_CHARACTER\n                : TokenType.CHARACTER;\n        this._appendCharToCurrentCharacterToken(type, String.fromCodePoint(cp));\n    }\n    //NOTE: used when we emit characters explicitly.\n    //This is always for non-whitespace and non-null characters, which allows us to avoid additional checks.\n    _emitChars(ch) {\n        this._appendCharToCurrentCharacterToken(TokenType.CHARACTER, ch);\n    }\n    // Character reference helpers\n    _matchNamedCharacterReference(cp) {\n        let result = null;\n        let excess = 0;\n        let withoutSemicolon = false;\n        for (let i = 0, current = htmlDecodeTree[0]; i >= 0; cp = this._consume()) {\n            i = determineBranch(htmlDecodeTree, current, i + 1, cp);\n            if (i < 0)\n                break;\n            excess += 1;\n            current = htmlDecodeTree[i];\n            const masked = current & BinTrieFlags.VALUE_LENGTH;\n            // If the branch is a value, store it and continue\n            if (masked) {\n                // The mask is the number of bytes of the value, including the current byte.\n                const valueLength = (masked >> 14) - 1;\n                // Attribute values that aren't terminated properly aren't parsed, and shouldn't lead to a parser error.\n                // See the example in https://html.spec.whatwg.org/multipage/parsing.html#named-character-reference-state\n                if (cp !== $.SEMICOLON &&\n                    this._isCharacterReferenceInAttribute() &&\n                    isEntityInAttributeInvalidEnd(this.preprocessor.peek(1))) {\n                    //NOTE: we don't flush all consumed code points here, and instead switch back to the original state after\n                    //emitting an ampersand. This is fine, as alphanumeric characters won't be parsed differently in attributes.\n                    result = [$.AMPERSAND];\n                    // Skip over the value.\n                    i += valueLength;\n                }\n                else {\n                    // If this is a surrogate pair, consume the next two bytes.\n                    result =\n                        valueLength === 0\n                            ? [htmlDecodeTree[i] & ~BinTrieFlags.VALUE_LENGTH]\n                            : valueLength === 1\n                                ? [htmlDecodeTree[++i]]\n                                : [htmlDecodeTree[++i], htmlDecodeTree[++i]];\n                    excess = 0;\n                    withoutSemicolon = cp !== $.SEMICOLON;\n                }\n                if (valueLength === 0) {\n                    // If the value is zero-length, we're done.\n                    this._consume();\n                    break;\n                }\n            }\n        }\n        this._unconsume(excess);\n        if (withoutSemicolon && !this.preprocessor.endOfChunkHit) {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n        }\n        // We want to emit the error above on the code point after the entity.\n        // We always consume one code point too many in the loop, and we wait to\n        // unconsume it until after the error is emitted.\n        this._unconsume(1);\n        return result;\n    }\n    _isCharacterReferenceInAttribute() {\n        return (this.returnState === State.ATTRIBUTE_VALUE_DOUBLE_QUOTED ||\n            this.returnState === State.ATTRIBUTE_VALUE_SINGLE_QUOTED ||\n            this.returnState === State.ATTRIBUTE_VALUE_UNQUOTED);\n    }\n    _flushCodePointConsumedAsCharacterReference(cp) {\n        if (this._isCharacterReferenceInAttribute()) {\n            this.currentAttr.value += String.fromCodePoint(cp);\n        }\n        else {\n            this._emitCodePoint(cp);\n        }\n    }\n    // Calling states this way turns out to be much faster than any other approach.\n    _callState(cp) {\n        switch (this.state) {\n            case State.DATA: {\n                this._stateData(cp);\n                break;\n            }\n            case State.RCDATA: {\n                this._stateRcdata(cp);\n                break;\n            }\n            case State.RAWTEXT: {\n                this._stateRawtext(cp);\n                break;\n            }\n            case State.SCRIPT_DATA: {\n                this._stateScriptData(cp);\n                break;\n            }\n            case State.PLAINTEXT: {\n                this._statePlaintext(cp);\n                break;\n            }\n            case State.TAG_OPEN: {\n                this._stateTagOpen(cp);\n                break;\n            }\n            case State.END_TAG_OPEN: {\n                this._stateEndTagOpen(cp);\n                break;\n            }\n            case State.TAG_NAME: {\n                this._stateTagName(cp);\n                break;\n            }\n            case State.RCDATA_LESS_THAN_SIGN: {\n                this._stateRcdataLessThanSign(cp);\n                break;\n            }\n            case State.RCDATA_END_TAG_OPEN: {\n                this._stateRcdataEndTagOpen(cp);\n                break;\n            }\n            case State.RCDATA_END_TAG_NAME: {\n                this._stateRcdataEndTagName(cp);\n                break;\n            }\n            case State.RAWTEXT_LESS_THAN_SIGN: {\n                this._stateRawtextLessThanSign(cp);\n                break;\n            }\n            case State.RAWTEXT_END_TAG_OPEN: {\n                this._stateRawtextEndTagOpen(cp);\n                break;\n            }\n            case State.RAWTEXT_END_TAG_NAME: {\n                this._stateRawtextEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_LESS_THAN_SIGN: {\n                this._stateScriptDataLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_END_TAG_OPEN: {\n                this._stateScriptDataEndTagOpen(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_END_TAG_NAME: {\n                this._stateScriptDataEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPE_START: {\n                this._stateScriptDataEscapeStart(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPE_START_DASH: {\n                this._stateScriptDataEscapeStartDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED: {\n                this._stateScriptDataEscaped(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_DASH: {\n                this._stateScriptDataEscapedDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_DASH_DASH: {\n                this._stateScriptDataEscapedDashDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN: {\n                this._stateScriptDataEscapedLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN: {\n                this._stateScriptDataEscapedEndTagOpen(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_ESCAPED_END_TAG_NAME: {\n                this._stateScriptDataEscapedEndTagName(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPE_START: {\n                this._stateScriptDataDoubleEscapeStart(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED: {\n                this._stateScriptDataDoubleEscaped(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH: {\n                this._stateScriptDataDoubleEscapedDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH: {\n                this._stateScriptDataDoubleEscapedDashDash(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN: {\n                this._stateScriptDataDoubleEscapedLessThanSign(cp);\n                break;\n            }\n            case State.SCRIPT_DATA_DOUBLE_ESCAPE_END: {\n                this._stateScriptDataDoubleEscapeEnd(cp);\n                break;\n            }\n            case State.BEFORE_ATTRIBUTE_NAME: {\n                this._stateBeforeAttributeName(cp);\n                break;\n            }\n            case State.ATTRIBUTE_NAME: {\n                this._stateAttributeName(cp);\n                break;\n            }\n            case State.AFTER_ATTRIBUTE_NAME: {\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case State.BEFORE_ATTRIBUTE_VALUE: {\n                this._stateBeforeAttributeValue(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_DOUBLE_QUOTED: {\n                this._stateAttributeValueDoubleQuoted(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_SINGLE_QUOTED: {\n                this._stateAttributeValueSingleQuoted(cp);\n                break;\n            }\n            case State.ATTRIBUTE_VALUE_UNQUOTED: {\n                this._stateAttributeValueUnquoted(cp);\n                break;\n            }\n            case State.AFTER_ATTRIBUTE_VALUE_QUOTED: {\n                this._stateAfterAttributeValueQuoted(cp);\n                break;\n            }\n            case State.SELF_CLOSING_START_TAG: {\n                this._stateSelfClosingStartTag(cp);\n                break;\n            }\n            case State.BOGUS_COMMENT: {\n                this._stateBogusComment(cp);\n                break;\n            }\n            case State.MARKUP_DECLARATION_OPEN: {\n                this._stateMarkupDeclarationOpen(cp);\n                break;\n            }\n            case State.COMMENT_START: {\n                this._stateCommentStart(cp);\n                break;\n            }\n            case State.COMMENT_START_DASH: {\n                this._stateCommentStartDash(cp);\n                break;\n            }\n            case State.COMMENT: {\n                this._stateComment(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN: {\n                this._stateCommentLessThanSign(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG: {\n                this._stateCommentLessThanSignBang(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG_DASH: {\n                this._stateCommentLessThanSignBangDash(cp);\n                break;\n            }\n            case State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH: {\n                this._stateCommentLessThanSignBangDashDash(cp);\n                break;\n            }\n            case State.COMMENT_END_DASH: {\n                this._stateCommentEndDash(cp);\n                break;\n            }\n            case State.COMMENT_END: {\n                this._stateCommentEnd(cp);\n                break;\n            }\n            case State.COMMENT_END_BANG: {\n                this._stateCommentEndBang(cp);\n                break;\n            }\n            case State.DOCTYPE: {\n                this._stateDoctype(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_NAME: {\n                this._stateBeforeDoctypeName(cp);\n                break;\n            }\n            case State.DOCTYPE_NAME: {\n                this._stateDoctypeName(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_NAME: {\n                this._stateAfterDoctypeName(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_PUBLIC_KEYWORD: {\n                this._stateAfterDoctypePublicKeyword(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER: {\n                this._stateBeforeDoctypePublicIdentifier(cp);\n                break;\n            }\n            case State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED: {\n                this._stateDoctypePublicIdentifierDoubleQuoted(cp);\n                break;\n            }\n            case State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED: {\n                this._stateDoctypePublicIdentifierSingleQuoted(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER: {\n                this._stateAfterDoctypePublicIdentifier(cp);\n                break;\n            }\n            case State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS: {\n                this._stateBetweenDoctypePublicAndSystemIdentifiers(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_SYSTEM_KEYWORD: {\n                this._stateAfterDoctypeSystemKeyword(cp);\n                break;\n            }\n            case State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER: {\n                this._stateBeforeDoctypeSystemIdentifier(cp);\n                break;\n            }\n            case State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED: {\n                this._stateDoctypeSystemIdentifierDoubleQuoted(cp);\n                break;\n            }\n            case State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED: {\n                this._stateDoctypeSystemIdentifierSingleQuoted(cp);\n                break;\n            }\n            case State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER: {\n                this._stateAfterDoctypeSystemIdentifier(cp);\n                break;\n            }\n            case State.BOGUS_DOCTYPE: {\n                this._stateBogusDoctype(cp);\n                break;\n            }\n            case State.CDATA_SECTION: {\n                this._stateCdataSection(cp);\n                break;\n            }\n            case State.CDATA_SECTION_BRACKET: {\n                this._stateCdataSectionBracket(cp);\n                break;\n            }\n            case State.CDATA_SECTION_END: {\n                this._stateCdataSectionEnd(cp);\n                break;\n            }\n            case State.CHARACTER_REFERENCE: {\n                this._stateCharacterReference(cp);\n                break;\n            }\n            case State.NAMED_CHARACTER_REFERENCE: {\n                this._stateNamedCharacterReference(cp);\n                break;\n            }\n            case State.AMBIGUOUS_AMPERSAND: {\n                this._stateAmbiguousAmpersand(cp);\n                break;\n            }\n            case State.NUMERIC_CHARACTER_REFERENCE: {\n                this._stateNumericCharacterReference(cp);\n                break;\n            }\n            case State.HEXADEMICAL_CHARACTER_REFERENCE_START: {\n                this._stateHexademicalCharacterReferenceStart(cp);\n                break;\n            }\n            case State.HEXADEMICAL_CHARACTER_REFERENCE: {\n                this._stateHexademicalCharacterReference(cp);\n                break;\n            }\n            case State.DECIMAL_CHARACTER_REFERENCE: {\n                this._stateDecimalCharacterReference(cp);\n                break;\n            }\n            case State.NUMERIC_CHARACTER_REFERENCE_END: {\n                this._stateNumericCharacterReferenceEnd(cp);\n                break;\n            }\n            default: {\n                throw new Error('Unknown state');\n            }\n        }\n    }\n    // State machine\n    // Data state\n    //------------------------------------------------------------------\n    _stateData(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.TAG_OPEN;\n                break;\n            }\n            case $.AMPERSAND: {\n                this.returnState = State.DATA;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitCodePoint(cp);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    //  RCDATA state\n    //------------------------------------------------------------------\n    _stateRcdata(cp) {\n        switch (cp) {\n            case $.AMPERSAND: {\n                this.returnState = State.RCDATA;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.RCDATA_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // RAWTEXT state\n    //------------------------------------------------------------------\n    _stateRawtext(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.RAWTEXT_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data state\n    //------------------------------------------------------------------\n    _stateScriptData(cp) {\n        switch (cp) {\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // PLAINTEXT state\n    //------------------------------------------------------------------\n    _statePlaintext(cp) {\n        switch (cp) {\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Tag open state\n    //------------------------------------------------------------------\n    _stateTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this._createStartTagToken();\n            this.state = State.TAG_NAME;\n            this._stateTagName(cp);\n        }\n        else\n            switch (cp) {\n                case $.EXCLAMATION_MARK: {\n                    this.state = State.MARKUP_DECLARATION_OPEN;\n                    break;\n                }\n                case $.SOLIDUS: {\n                    this.state = State.END_TAG_OPEN;\n                    break;\n                }\n                case $.QUESTION_MARK: {\n                    this._err(ERR.unexpectedQuestionMarkInsteadOfTagName);\n                    this._createCommentToken(1);\n                    this.state = State.BOGUS_COMMENT;\n                    this._stateBogusComment(cp);\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofBeforeTagName);\n                    this._emitChars('<');\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._err(ERR.invalidFirstCharacterOfTagName);\n                    this._emitChars('<');\n                    this.state = State.DATA;\n                    this._stateData(cp);\n                }\n            }\n    }\n    // End tag open state\n    //------------------------------------------------------------------\n    _stateEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this._createEndTagToken();\n            this.state = State.TAG_NAME;\n            this._stateTagName(cp);\n        }\n        else\n            switch (cp) {\n                case $.GREATER_THAN_SIGN: {\n                    this._err(ERR.missingEndTagName);\n                    this.state = State.DATA;\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofBeforeTagName);\n                    this._emitChars('</');\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._err(ERR.invalidFirstCharacterOfTagName);\n                    this._createCommentToken(2);\n                    this.state = State.BOGUS_COMMENT;\n                    this._stateBogusComment(cp);\n                }\n            }\n    }\n    // Tag name state\n    //------------------------------------------------------------------\n    _stateTagName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.SOLIDUS: {\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.tagName += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.tagName += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // RCDATA less-than sign state\n    //------------------------------------------------------------------\n    _stateRcdataLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.RCDATA_END_TAG_OPEN;\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    // RCDATA end tag open state\n    //------------------------------------------------------------------\n    _stateRcdataEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.RCDATA_END_TAG_NAME;\n            this._stateRcdataEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    handleSpecialEndTag(_cp) {\n        if (!this.preprocessor.startsWith(this.lastStartTagName, false)) {\n            return !this._ensureHibernation();\n        }\n        this._createEndTagToken();\n        const token = this.currentToken;\n        token.tagName = this.lastStartTagName;\n        const cp = this.preprocessor.peek(this.lastStartTagName.length);\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                return false;\n            }\n            case $.SOLIDUS: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.state = State.SELF_CLOSING_START_TAG;\n                return false;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._advanceBy(this.lastStartTagName.length);\n                this.emitCurrentTagToken();\n                this.state = State.DATA;\n                return false;\n            }\n            default: {\n                return !this._ensureHibernation();\n            }\n        }\n    }\n    // RCDATA end tag name state\n    //------------------------------------------------------------------\n    _stateRcdataEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.RCDATA;\n            this._stateRcdata(cp);\n        }\n    }\n    // RAWTEXT less-than sign state\n    //------------------------------------------------------------------\n    _stateRawtextLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.RAWTEXT_END_TAG_OPEN;\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // RAWTEXT end tag open state\n    //------------------------------------------------------------------\n    _stateRawtextEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.RAWTEXT_END_TAG_NAME;\n            this._stateRawtextEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // RAWTEXT end tag name state\n    //------------------------------------------------------------------\n    _stateRawtextEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.RAWTEXT;\n            this._stateRawtext(cp);\n        }\n    }\n    // Script data less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataLessThanSign(cp) {\n        switch (cp) {\n            case $.SOLIDUS: {\n                this.state = State.SCRIPT_DATA_END_TAG_OPEN;\n                break;\n            }\n            case $.EXCLAMATION_MARK: {\n                this.state = State.SCRIPT_DATA_ESCAPE_START;\n                this._emitChars('<!');\n                break;\n            }\n            default: {\n                this._emitChars('<');\n                this.state = State.SCRIPT_DATA;\n                this._stateScriptData(cp);\n            }\n        }\n    }\n    // Script data end tag open state\n    //------------------------------------------------------------------\n    _stateScriptDataEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.SCRIPT_DATA_END_TAG_NAME;\n            this._stateScriptDataEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data end tag name state\n    //------------------------------------------------------------------\n    _stateScriptDataEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escape start state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapeStart(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.SCRIPT_DATA_ESCAPE_START_DASH;\n            this._emitChars('-');\n        }\n        else {\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escape start dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapeStartDash(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n            this._emitChars('-');\n        }\n        else {\n            this.state = State.SCRIPT_DATA;\n            this._stateScriptData(cp);\n        }\n    }\n    // Script data escaped state\n    //------------------------------------------------------------------\n    _stateScriptDataEscaped(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_ESCAPED_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_ESCAPED_DASH_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped dash dash state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedDashDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA;\n                this._emitChars('>');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data escaped less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_OPEN;\n        }\n        else if (isAsciiLetter(cp)) {\n            this._emitChars('<');\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_START;\n            this._stateScriptDataDoubleEscapeStart(cp);\n        }\n        else {\n            this._emitChars('<');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data escaped end tag open state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedEndTagOpen(cp) {\n        if (isAsciiLetter(cp)) {\n            this.state = State.SCRIPT_DATA_ESCAPED_END_TAG_NAME;\n            this._stateScriptDataEscapedEndTagName(cp);\n        }\n        else {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data escaped end tag name state\n    //------------------------------------------------------------------\n    _stateScriptDataEscapedEndTagName(cp) {\n        if (this.handleSpecialEndTag(cp)) {\n            this._emitChars('</');\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data double escape start state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapeStart(cp) {\n        if (this.preprocessor.startsWith($$.SCRIPT, false) &&\n            isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n            this._emitCodePoint(cp);\n            for (let i = 0; i < $$.SCRIPT.length; i++) {\n                this._emitCodePoint(this._consume());\n            }\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n        }\n        else if (!this._ensureHibernation()) {\n            this.state = State.SCRIPT_DATA_ESCAPED;\n            this._stateScriptDataEscaped(cp);\n        }\n    }\n    // Script data double escaped state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscaped(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped dash state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH;\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped dash dash state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedDashDash(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this._emitChars('-');\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN;\n                this._emitChars('<');\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.SCRIPT_DATA;\n                this._emitChars('>');\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitChars(REPLACEMENT_CHARACTER);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInScriptHtmlCommentLikeText);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // Script data double escaped less-than sign state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapedLessThanSign(cp) {\n        if (cp === $.SOLIDUS) {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPE_END;\n            this._emitChars('/');\n        }\n        else {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._stateScriptDataDoubleEscaped(cp);\n        }\n    }\n    // Script data double escape end state\n    //------------------------------------------------------------------\n    _stateScriptDataDoubleEscapeEnd(cp) {\n        if (this.preprocessor.startsWith($$.SCRIPT, false) &&\n            isScriptDataDoubleEscapeSequenceEnd(this.preprocessor.peek($$.SCRIPT.length))) {\n            this._emitCodePoint(cp);\n            for (let i = 0; i < $$.SCRIPT.length; i++) {\n                this._emitCodePoint(this._consume());\n            }\n            this.state = State.SCRIPT_DATA_ESCAPED;\n        }\n        else if (!this._ensureHibernation()) {\n            this.state = State.SCRIPT_DATA_DOUBLE_ESCAPED;\n            this._stateScriptDataDoubleEscaped(cp);\n        }\n    }\n    // Before attribute name state\n    //------------------------------------------------------------------\n    _stateBeforeAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.SOLIDUS:\n            case $.GREATER_THAN_SIGN:\n            case $.EOF: {\n                this.state = State.AFTER_ATTRIBUTE_NAME;\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this._err(ERR.unexpectedEqualsSignBeforeAttributeName);\n                this._createAttr('=');\n                this.state = State.ATTRIBUTE_NAME;\n                break;\n            }\n            default: {\n                this._createAttr('');\n                this.state = State.ATTRIBUTE_NAME;\n                this._stateAttributeName(cp);\n            }\n        }\n    }\n    // Attribute name state\n    //------------------------------------------------------------------\n    _stateAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED:\n            case $.SOLIDUS:\n            case $.GREATER_THAN_SIGN:\n            case $.EOF: {\n                this._leaveAttrName();\n                this.state = State.AFTER_ATTRIBUTE_NAME;\n                this._stateAfterAttributeName(cp);\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this._leaveAttrName();\n                this.state = State.BEFORE_ATTRIBUTE_VALUE;\n                break;\n            }\n            case $.QUOTATION_MARK:\n            case $.APOSTROPHE:\n            case $.LESS_THAN_SIGN: {\n                this._err(ERR.unexpectedCharacterInAttributeName);\n                this.currentAttr.name += String.fromCodePoint(cp);\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.name += REPLACEMENT_CHARACTER;\n                break;\n            }\n            default: {\n                this.currentAttr.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // After attribute name state\n    //------------------------------------------------------------------\n    _stateAfterAttributeName(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.SOLIDUS: {\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.EQUALS_SIGN: {\n                this.state = State.BEFORE_ATTRIBUTE_VALUE;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._createAttr('');\n                this.state = State.ATTRIBUTE_NAME;\n                this._stateAttributeName(cp);\n            }\n        }\n    }\n    // Before attribute value state\n    //------------------------------------------------------------------\n    _stateBeforeAttributeValue(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this.state = State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this.state = State.ATTRIBUTE_VALUE_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingAttributeValue);\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            default: {\n                this.state = State.ATTRIBUTE_VALUE_UNQUOTED;\n                this._stateAttributeValueUnquoted(cp);\n            }\n        }\n    }\n    // Attribute value (double-quoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueDoubleQuoted(cp) {\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n                break;\n            }\n            case $.AMPERSAND: {\n                this.returnState = State.ATTRIBUTE_VALUE_DOUBLE_QUOTED;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Attribute value (single-quoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueSingleQuoted(cp) {\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_ATTRIBUTE_VALUE_QUOTED;\n                break;\n            }\n            case $.AMPERSAND: {\n                this.returnState = State.ATTRIBUTE_VALUE_SINGLE_QUOTED;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Attribute value (unquoted) state\n    //------------------------------------------------------------------\n    _stateAttributeValueUnquoted(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._leaveAttrValue();\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.AMPERSAND: {\n                this.returnState = State.ATTRIBUTE_VALUE_UNQUOTED;\n                this.state = State.CHARACTER_REFERENCE;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._leaveAttrValue();\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                this.currentAttr.value += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.QUOTATION_MARK:\n            case $.APOSTROPHE:\n            case $.LESS_THAN_SIGN:\n            case $.EQUALS_SIGN:\n            case $.GRAVE_ACCENT: {\n                this._err(ERR.unexpectedCharacterInUnquotedAttributeValue);\n                this.currentAttr.value += String.fromCodePoint(cp);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this.currentAttr.value += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After attribute value (quoted) state\n    //------------------------------------------------------------------\n    _stateAfterAttributeValueQuoted(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this._leaveAttrValue();\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                break;\n            }\n            case $.SOLIDUS: {\n                this._leaveAttrValue();\n                this.state = State.SELF_CLOSING_START_TAG;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._leaveAttrValue();\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingWhitespaceBetweenAttributes);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                this._stateBeforeAttributeName(cp);\n            }\n        }\n    }\n    // Self-closing start tag state\n    //------------------------------------------------------------------\n    _stateSelfClosingStartTag(cp) {\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                const token = this.currentToken;\n                token.selfClosing = true;\n                this.state = State.DATA;\n                this.emitCurrentTagToken();\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInTag);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.unexpectedSolidusInTag);\n                this.state = State.BEFORE_ATTRIBUTE_NAME;\n                this._stateBeforeAttributeName(cp);\n            }\n        }\n    }\n    // Bogus comment state\n    //------------------------------------------------------------------\n    _stateBogusComment(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.data += REPLACEMENT_CHARACTER;\n                break;\n            }\n            default: {\n                token.data += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Markup declaration open state\n    //------------------------------------------------------------------\n    _stateMarkupDeclarationOpen(cp) {\n        if (this._consumeSequenceIfMatch($$.DASH_DASH, true)) {\n            this._createCommentToken($$.DASH_DASH.length + 1);\n            this.state = State.COMMENT_START;\n        }\n        else if (this._consumeSequenceIfMatch($$.DOCTYPE, false)) {\n            // NOTE: Doctypes tokens are created without fixed offsets. We keep track of the moment a doctype *might* start here.\n            this.currentLocation = this.getCurrentLocation($$.DOCTYPE.length + 1);\n            this.state = State.DOCTYPE;\n        }\n        else if (this._consumeSequenceIfMatch($$.CDATA_START, true)) {\n            if (this.inForeignNode) {\n                this.state = State.CDATA_SECTION;\n            }\n            else {\n                this._err(ERR.cdataInHtmlContent);\n                this._createCommentToken($$.CDATA_START.length + 1);\n                this.currentToken.data = '[CDATA[';\n                this.state = State.BOGUS_COMMENT;\n            }\n        }\n        //NOTE: Sequence lookups can be abrupted by hibernation. In that case, lookup\n        //results are no longer valid and we will need to start over.\n        else if (!this._ensureHibernation()) {\n            this._err(ERR.incorrectlyOpenedComment);\n            this._createCommentToken(2);\n            this.state = State.BOGUS_COMMENT;\n            this._stateBogusComment(cp);\n        }\n    }\n    // Comment start state\n    //------------------------------------------------------------------\n    _stateCommentStart(cp) {\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_START_DASH;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptClosingOfEmptyComment);\n                this.state = State.DATA;\n                const token = this.currentToken;\n                this.emitCurrentComment(token);\n                break;\n            }\n            default: {\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment start dash state\n    //------------------------------------------------------------------\n    _stateCommentStartDash(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptClosingOfEmptyComment);\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '-';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment state\n    //------------------------------------------------------------------\n    _stateComment(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END_DASH;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                token.data += '<';\n                this.state = State.COMMENT_LESS_THAN_SIGN;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.data += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // Comment less-than sign state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSign(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.EXCLAMATION_MARK: {\n                token.data += '!';\n                this.state = State.COMMENT_LESS_THAN_SIGN_BANG;\n                break;\n            }\n            case $.LESS_THAN_SIGN: {\n                token.data += '<';\n                break;\n            }\n            default: {\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment less-than sign bang state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBang(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH;\n        }\n        else {\n            this.state = State.COMMENT;\n            this._stateComment(cp);\n        }\n    }\n    // Comment less-than sign bang dash state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBangDash(cp) {\n        if (cp === $.HYPHEN_MINUS) {\n            this.state = State.COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH;\n        }\n        else {\n            this.state = State.COMMENT_END_DASH;\n            this._stateCommentEndDash(cp);\n        }\n    }\n    // Comment less-than sign bang dash dash state\n    //------------------------------------------------------------------\n    _stateCommentLessThanSignBangDashDash(cp) {\n        if (cp !== $.GREATER_THAN_SIGN && cp !== $.EOF) {\n            this._err(ERR.nestedComment);\n        }\n        this.state = State.COMMENT_END;\n        this._stateCommentEnd(cp);\n    }\n    // Comment end dash state\n    //------------------------------------------------------------------\n    _stateCommentEndDash(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                this.state = State.COMMENT_END;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '-';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment end state\n    //------------------------------------------------------------------\n    _stateCommentEnd(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EXCLAMATION_MARK: {\n                this.state = State.COMMENT_END_BANG;\n                break;\n            }\n            case $.HYPHEN_MINUS: {\n                token.data += '-';\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '--';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // Comment end bang state\n    //------------------------------------------------------------------\n    _stateCommentEndBang(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.HYPHEN_MINUS: {\n                token.data += '--!';\n                this.state = State.COMMENT_END_DASH;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.incorrectlyClosedComment);\n                this.state = State.DATA;\n                this.emitCurrentComment(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInComment);\n                this.emitCurrentComment(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.data += '--!';\n                this.state = State.COMMENT;\n                this._stateComment(cp);\n            }\n        }\n    }\n    // DOCTYPE state\n    //------------------------------------------------------------------\n    _stateDoctype(cp) {\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                this._stateBeforeDoctypeName(cp);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                this._createDoctypeToken(null);\n                const token = this.currentToken;\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingWhitespaceBeforeDoctypeName);\n                this.state = State.BEFORE_DOCTYPE_NAME;\n                this._stateBeforeDoctypeName(cp);\n            }\n        }\n    }\n    // Before DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypeName(cp) {\n        if (isAsciiUpper(cp)) {\n            this._createDoctypeToken(String.fromCharCode(toAsciiLower(cp)));\n            this.state = State.DOCTYPE_NAME;\n        }\n        else\n            switch (cp) {\n                case $.SPACE:\n                case $.LINE_FEED:\n                case $.TABULATION:\n                case $.FORM_FEED: {\n                    // Ignore whitespace\n                    break;\n                }\n                case $.NULL: {\n                    this._err(ERR.unexpectedNullCharacter);\n                    this._createDoctypeToken(REPLACEMENT_CHARACTER);\n                    this.state = State.DOCTYPE_NAME;\n                    break;\n                }\n                case $.GREATER_THAN_SIGN: {\n                    this._err(ERR.missingDoctypeName);\n                    this._createDoctypeToken(null);\n                    const token = this.currentToken;\n                    token.forceQuirks = true;\n                    this.emitCurrentDoctype(token);\n                    this.state = State.DATA;\n                    break;\n                }\n                case $.EOF: {\n                    this._err(ERR.eofInDoctype);\n                    this._createDoctypeToken(null);\n                    const token = this.currentToken;\n                    token.forceQuirks = true;\n                    this.emitCurrentDoctype(token);\n                    this._emitEOFToken();\n                    break;\n                }\n                default: {\n                    this._createDoctypeToken(String.fromCodePoint(cp));\n                    this.state = State.DOCTYPE_NAME;\n                }\n            }\n    }\n    // DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateDoctypeName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.AFTER_DOCTYPE_NAME;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.name += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.name += String.fromCodePoint(isAsciiUpper(cp) ? toAsciiLower(cp) : cp);\n            }\n        }\n    }\n    // After DOCTYPE name state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeName(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                if (this._consumeSequenceIfMatch($$.PUBLIC, false)) {\n                    this.state = State.AFTER_DOCTYPE_PUBLIC_KEYWORD;\n                }\n                else if (this._consumeSequenceIfMatch($$.SYSTEM, false)) {\n                    this.state = State.AFTER_DOCTYPE_SYSTEM_KEYWORD;\n                }\n                //NOTE: sequence lookup can be abrupted by hibernation. In that case lookup\n                //results are no longer valid and we will need to start over.\n                else if (!this._ensureHibernation()) {\n                    this._err(ERR.invalidCharacterSequenceAfterDoctypeName);\n                    token.forceQuirks = true;\n                    this.state = State.BOGUS_DOCTYPE;\n                    this._stateBogusDoctype(cp);\n                }\n            }\n        }\n    }\n    // After DOCTYPE public keyword state\n    //------------------------------------------------------------------\n    _stateAfterDoctypePublicKeyword(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceAfterDoctypePublicKeyword);\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Before DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypePublicIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.publicId = '';\n                this.state = State.DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // DOCTYPE public identifier (double-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypePublicIdentifierDoubleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.publicId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.publicId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // DOCTYPE public identifier (single-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypePublicIdentifierSingleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_DOCTYPE_PUBLIC_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.publicId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypePublicIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.publicId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After DOCTYPE public identifier state\n    //------------------------------------------------------------------\n    _stateAfterDoctypePublicIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Between DOCTYPE public and system identifiers state\n    //------------------------------------------------------------------\n    _stateBetweenDoctypePublicAndSystemIdentifiers(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // After DOCTYPE system keyword state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeSystemKeyword(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                this.state = State.BEFORE_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                this._err(ERR.missingWhitespaceAfterDoctypeSystemKeyword);\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Before DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    _stateBeforeDoctypeSystemIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.QUOTATION_MARK: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED;\n                break;\n            }\n            case $.APOSTROPHE: {\n                token.systemId = '';\n                this.state = State.DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.missingDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.DATA;\n                this.emitCurrentDoctype(token);\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.missingQuoteBeforeDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // DOCTYPE system identifier (double-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypeSystemIdentifierDoubleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.QUOTATION_MARK: {\n                this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.systemId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.systemId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // DOCTYPE system identifier (single-quoted) state\n    //------------------------------------------------------------------\n    _stateDoctypeSystemIdentifierSingleQuoted(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.APOSTROPHE: {\n                this.state = State.AFTER_DOCTYPE_SYSTEM_IDENTIFIER;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                token.systemId += REPLACEMENT_CHARACTER;\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this._err(ERR.abruptDoctypeSystemIdentifier);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                token.systemId += String.fromCodePoint(cp);\n            }\n        }\n    }\n    // After DOCTYPE system identifier state\n    //------------------------------------------------------------------\n    _stateAfterDoctypeSystemIdentifier(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.SPACE:\n            case $.LINE_FEED:\n            case $.TABULATION:\n            case $.FORM_FEED: {\n                // Ignore whitespace\n                break;\n            }\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInDoctype);\n                token.forceQuirks = true;\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._err(ERR.unexpectedCharacterAfterDoctypeSystemIdentifier);\n                this.state = State.BOGUS_DOCTYPE;\n                this._stateBogusDoctype(cp);\n            }\n        }\n    }\n    // Bogus DOCTYPE state\n    //------------------------------------------------------------------\n    _stateBogusDoctype(cp) {\n        const token = this.currentToken;\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.emitCurrentDoctype(token);\n                this.state = State.DATA;\n                break;\n            }\n            case $.NULL: {\n                this._err(ERR.unexpectedNullCharacter);\n                break;\n            }\n            case $.EOF: {\n                this.emitCurrentDoctype(token);\n                this._emitEOFToken();\n                break;\n            }\n            default:\n            // Do nothing\n        }\n    }\n    // CDATA section state\n    //------------------------------------------------------------------\n    _stateCdataSection(cp) {\n        switch (cp) {\n            case $.RIGHT_SQUARE_BRACKET: {\n                this.state = State.CDATA_SECTION_BRACKET;\n                break;\n            }\n            case $.EOF: {\n                this._err(ERR.eofInCdata);\n                this._emitEOFToken();\n                break;\n            }\n            default: {\n                this._emitCodePoint(cp);\n            }\n        }\n    }\n    // CDATA section bracket state\n    //------------------------------------------------------------------\n    _stateCdataSectionBracket(cp) {\n        if (cp === $.RIGHT_SQUARE_BRACKET) {\n            this.state = State.CDATA_SECTION_END;\n        }\n        else {\n            this._emitChars(']');\n            this.state = State.CDATA_SECTION;\n            this._stateCdataSection(cp);\n        }\n    }\n    // CDATA section end state\n    //------------------------------------------------------------------\n    _stateCdataSectionEnd(cp) {\n        switch (cp) {\n            case $.GREATER_THAN_SIGN: {\n                this.state = State.DATA;\n                break;\n            }\n            case $.RIGHT_SQUARE_BRACKET: {\n                this._emitChars(']');\n                break;\n            }\n            default: {\n                this._emitChars(']]');\n                this.state = State.CDATA_SECTION;\n                this._stateCdataSection(cp);\n            }\n        }\n    }\n    // Character reference state\n    //------------------------------------------------------------------\n    _stateCharacterReference(cp) {\n        if (cp === $.NUMBER_SIGN) {\n            this.state = State.NUMERIC_CHARACTER_REFERENCE;\n        }\n        else if (isAsciiAlphaNumeric(cp)) {\n            this.state = State.NAMED_CHARACTER_REFERENCE;\n            this._stateNamedCharacterReference(cp);\n        }\n        else {\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this._reconsumeInState(this.returnState, cp);\n        }\n    }\n    // Named character reference state\n    //------------------------------------------------------------------\n    _stateNamedCharacterReference(cp) {\n        const matchResult = this._matchNamedCharacterReference(cp);\n        //NOTE: Matching can be abrupted by hibernation. In that case, match\n        //results are no longer valid and we will need to start over.\n        if (this._ensureHibernation()) {\n            // Stay in the state, try again.\n        }\n        else if (matchResult) {\n            for (let i = 0; i < matchResult.length; i++) {\n                this._flushCodePointConsumedAsCharacterReference(matchResult[i]);\n            }\n            this.state = this.returnState;\n        }\n        else {\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this.state = State.AMBIGUOUS_AMPERSAND;\n        }\n    }\n    // Ambiguos ampersand state\n    //------------------------------------------------------------------\n    _stateAmbiguousAmpersand(cp) {\n        if (isAsciiAlphaNumeric(cp)) {\n            this._flushCodePointConsumedAsCharacterReference(cp);\n        }\n        else {\n            if (cp === $.SEMICOLON) {\n                this._err(ERR.unknownNamedCharacterReference);\n            }\n            this._reconsumeInState(this.returnState, cp);\n        }\n    }\n    // Numeric character reference state\n    //------------------------------------------------------------------\n    _stateNumericCharacterReference(cp) {\n        this.charRefCode = 0;\n        if (cp === $.LATIN_SMALL_X || cp === $.LATIN_CAPITAL_X) {\n            this.state = State.HEXADEMICAL_CHARACTER_REFERENCE_START;\n        }\n        // Inlined decimal character reference start state\n        else if (isAsciiDigit(cp)) {\n            this.state = State.DECIMAL_CHARACTER_REFERENCE;\n            this._stateDecimalCharacterReference(cp);\n        }\n        else {\n            this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this._flushCodePointConsumedAsCharacterReference($.NUMBER_SIGN);\n            this._reconsumeInState(this.returnState, cp);\n        }\n    }\n    // Hexademical character reference start state\n    //------------------------------------------------------------------\n    _stateHexademicalCharacterReferenceStart(cp) {\n        if (isAsciiHexDigit(cp)) {\n            this.state = State.HEXADEMICAL_CHARACTER_REFERENCE;\n            this._stateHexademicalCharacterReference(cp);\n        }\n        else {\n            this._err(ERR.absenceOfDigitsInNumericCharacterReference);\n            this._flushCodePointConsumedAsCharacterReference($.AMPERSAND);\n            this._flushCodePointConsumedAsCharacterReference($.NUMBER_SIGN);\n            this._unconsume(2);\n            this.state = this.returnState;\n        }\n    }\n    // Hexademical character reference state\n    //------------------------------------------------------------------\n    _stateHexademicalCharacterReference(cp) {\n        if (isAsciiUpperHexDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x37;\n        }\n        else if (isAsciiLowerHexDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x57;\n        }\n        else if (isAsciiDigit(cp)) {\n            this.charRefCode = this.charRefCode * 16 + cp - 0x30;\n        }\n        else if (cp === $.SEMICOLON) {\n            this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n        }\n        else {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n            this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n            this._stateNumericCharacterReferenceEnd(cp);\n        }\n    }\n    // Decimal character reference state\n    //------------------------------------------------------------------\n    _stateDecimalCharacterReference(cp) {\n        if (isAsciiDigit(cp)) {\n            this.charRefCode = this.charRefCode * 10 + cp - 0x30;\n        }\n        else if (cp === $.SEMICOLON) {\n            this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n        }\n        else {\n            this._err(ERR.missingSemicolonAfterCharacterReference);\n            this.state = State.NUMERIC_CHARACTER_REFERENCE_END;\n            this._stateNumericCharacterReferenceEnd(cp);\n        }\n    }\n    // Numeric character reference end state\n    //------------------------------------------------------------------\n    _stateNumericCharacterReferenceEnd(cp) {\n        if (this.charRefCode === $.NULL) {\n            this._err(ERR.nullCharacterReference);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        }\n        else if (this.charRefCode > 1114111) {\n            this._err(ERR.characterReferenceOutsideUnicodeRange);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        }\n        else if (isSurrogate(this.charRefCode)) {\n            this._err(ERR.surrogateCharacterReference);\n            this.charRefCode = $.REPLACEMENT_CHARACTER;\n        }\n        else if (isUndefinedCodePoint(this.charRefCode)) {\n            this._err(ERR.noncharacterCharacterReference);\n        }\n        else if (isControlCodePoint(this.charRefCode) || this.charRefCode === $.CARRIAGE_RETURN) {\n            this._err(ERR.controlCharacterReference);\n            const replacement = C1_CONTROLS_REFERENCE_REPLACEMENTS.get(this.charRefCode);\n            if (replacement !== undefined) {\n                this.charRefCode = replacement;\n            }\n        }\n        this._flushCodePointConsumedAsCharacterReference(this.charRefCode);\n        this._reconsumeInState(this.returnState, cp);\n    }\n}\n//# sourceMappingURL=index.js.map"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}