{"ast":null,"code":"import slugid from 'slugid';\nimport { TABLE, TABLE_CELL, TABLE_ROW } from '../constants';\nvar tableRule = function tableRule(element, parseChild) {\n  var nodeName = element.nodeName,\n    childNodes = element.childNodes;\n  if (nodeName === 'TABLE') {\n    return {\n      id: slugid.nice(),\n      type: TABLE,\n      children: parseChild(childNodes)\n    };\n  }\n  if (nodeName === 'THEAD' || nodeName === 'TBODY') {\n    return parseChild(childNodes);\n  }\n  if (nodeName === 'TR' && childNodes.length > 0) {\n    // patch\n    var children = Array.from(childNodes);\n    var hasTdOrTh = children.some(function (item) {\n      return item.nodeName === 'TH' || item.nodeName === 'TD';\n    });\n    if (!hasTdOrTh) return;\n    return {\n      id: slugid.nice(),\n      type: TABLE_ROW,\n      children: parseChild(childNodes)\n    };\n  }\n  if (nodeName === 'TH' || nodeName === 'TD') {\n    return {\n      id: slugid.nice(),\n      type: TABLE_CELL,\n      children: parseChild(childNodes)\n    };\n  }\n  return;\n};\nexport default tableRule;","map":{"version":3,"names":["slugid","TABLE","TABLE_CELL","TABLE_ROW","tableRule","element","parseChild","nodeName","childNodes","id","nice","type","children","length","Array","from","hasTdOrTh","some","item"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/slate-convert/html-to-slate/rules/table.js"],"sourcesContent":["import slugid from 'slugid';\nimport { TABLE, TABLE_CELL, TABLE_ROW } from '../constants';\nconst tableRule = (element, parseChild) => {\n  const {\n    nodeName,\n    childNodes\n  } = element;\n  if (nodeName === 'TABLE') {\n    return {\n      id: slugid.nice(),\n      type: TABLE,\n      children: parseChild(childNodes)\n    };\n  }\n  if (nodeName === 'THEAD' || nodeName === 'TBODY') {\n    return parseChild(childNodes);\n  }\n  if (nodeName === 'TR' && childNodes.length > 0) {\n    // patch\n    const children = Array.from(childNodes);\n    const hasTdOrTh = children.some(item => item.nodeName === 'TH' || item.nodeName === 'TD');\n    if (!hasTdOrTh) return;\n    return {\n      id: slugid.nice(),\n      type: TABLE_ROW,\n      children: parseChild(childNodes)\n    };\n  }\n  if (nodeName === 'TH' || nodeName === 'TD') {\n    return {\n      id: slugid.nice(),\n      type: TABLE_CELL,\n      children: parseChild(childNodes)\n    };\n  }\n  return;\n};\nexport default tableRule;"],"mappings":"AAAA,OAAOA,MAAM,MAAM,QAAQ;AAC3B,SAASC,KAAK,EAAEC,UAAU,EAAEC,SAAS,QAAQ,cAAc;AAC3D,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAIC,OAAO,EAAEC,UAAU,EAAK;EACzC,IACEC,QAAQ,GAENF,OAAO,CAFTE,QAAQ;IACRC,UAAU,GACRH,OAAO,CADTG,UAAU;EAEZ,IAAID,QAAQ,KAAK,OAAO,EAAE;IACxB,OAAO;MACLE,EAAE,EAAET,MAAM,CAACU,IAAI,CAAC,CAAC;MACjBC,IAAI,EAAEV,KAAK;MACXW,QAAQ,EAAEN,UAAU,CAACE,UAAU;IACjC,CAAC;EACH;EACA,IAAID,QAAQ,KAAK,OAAO,IAAIA,QAAQ,KAAK,OAAO,EAAE;IAChD,OAAOD,UAAU,CAACE,UAAU,CAAC;EAC/B;EACA,IAAID,QAAQ,KAAK,IAAI,IAAIC,UAAU,CAACK,MAAM,GAAG,CAAC,EAAE;IAC9C;IACA,IAAMD,QAAQ,GAAGE,KAAK,CAACC,IAAI,CAACP,UAAU,CAAC;IACvC,IAAMQ,SAAS,GAAGJ,QAAQ,CAACK,IAAI,CAAC,UAAAC,IAAI;MAAA,OAAIA,IAAI,CAACX,QAAQ,KAAK,IAAI,IAAIW,IAAI,CAACX,QAAQ,KAAK,IAAI;IAAA,EAAC;IACzF,IAAI,CAACS,SAAS,EAAE;IAChB,OAAO;MACLP,EAAE,EAAET,MAAM,CAACU,IAAI,CAAC,CAAC;MACjBC,IAAI,EAAER,SAAS;MACfS,QAAQ,EAAEN,UAAU,CAACE,UAAU;IACjC,CAAC;EACH;EACA,IAAID,QAAQ,KAAK,IAAI,IAAIA,QAAQ,KAAK,IAAI,EAAE;IAC1C,OAAO;MACLE,EAAE,EAAET,MAAM,CAACU,IAAI,CAAC,CAAC;MACjBC,IAAI,EAAET,UAAU;MAChBU,QAAQ,EAAEN,UAAU,CAACE,UAAU;IACjC,CAAC;EACH;EACA;AACF,CAAC;AACD,eAAeJ,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}