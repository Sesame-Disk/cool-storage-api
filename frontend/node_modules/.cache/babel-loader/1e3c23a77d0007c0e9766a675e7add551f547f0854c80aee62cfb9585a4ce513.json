{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport isHotkey from 'is-hotkey';\nimport { Editor, Range, Transforms } from '@seafile/slate';\nimport { LIST_ITEM } from '../../../constants';\nimport { findNode } from '../../../core';\nimport { moveListItems } from '../transforms';\nexport var onTabHandle = function onTabHandle(editor, event) {\n  var selection = editor.selection;\n  if (!selection) return;\n  var listSelected = findNode(editor, {\n    type: [LIST_ITEM]\n  });\n  if (!listSelected) return false;\n  var workRange = editor.selection;\n  if (!Range.isCollapsed(selection)) {\n    var anchor = selection.anchor,\n      focus = selection.focus;\n    if (Range.isBackward(selection)) {\n      var _anchor$focus = {\n        anchor: _objectSpread({}, selection.focus),\n        focus: _objectSpread({}, selection.anchor)\n      };\n      anchor = _anchor$focus.anchor;\n      focus = _anchor$focus.focus;\n    }\n    var unHungRange = Editor.unhangRange(editor, {\n      anchor: anchor,\n      focus: focus\n    });\n    if (unHungRange) {\n      workRange = unHungRange;\n      Transforms.select(editor, unHungRange);\n    }\n  }\n  var increase = isHotkey('shift+tab', event) ? false : true;\n  if (workRange && listSelected) {\n    event.preventDefault();\n    moveListItems(editor, {\n      at: workRange,\n      increase: increase,\n      enableResetOnShiftTab: true\n    });\n    return true;\n  }\n};","map":{"version":3,"names":["_objectSpread","isHotkey","Editor","Range","Transforms","LIST_ITEM","findNode","moveListItems","onTabHandle","editor","event","selection","listSelected","type","workRange","isCollapsed","anchor","focus","isBackward","_anchor$focus","unHungRange","unhangRange","select","increase","preventDefault","at","enableResetOnShiftTab"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/list/plugin/on-tab-handle.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport isHotkey from 'is-hotkey';\nimport { Editor, Range, Transforms } from '@seafile/slate';\nimport { LIST_ITEM } from '../../../constants';\nimport { findNode } from '../../../core';\nimport { moveListItems } from '../transforms';\nexport const onTabHandle = (editor, event) => {\n  const {\n    selection\n  } = editor;\n  if (!selection) return;\n  const listSelected = findNode(editor, {\n    type: [LIST_ITEM]\n  });\n  if (!listSelected) return false;\n  let workRange = editor.selection;\n  if (!Range.isCollapsed(selection)) {\n    let {\n      anchor,\n      focus\n    } = selection;\n    if (Range.isBackward(selection)) {\n      ({\n        anchor,\n        focus\n      } = {\n        anchor: _objectSpread({}, selection.focus),\n        focus: _objectSpread({}, selection.anchor)\n      });\n    }\n    const unHungRange = Editor.unhangRange(editor, {\n      anchor,\n      focus\n    });\n    if (unHungRange) {\n      workRange = unHungRange;\n      Transforms.select(editor, unHungRange);\n    }\n  }\n  const increase = isHotkey('shift+tab', event) ? false : true;\n  if (workRange && listSelected) {\n    event.preventDefault();\n    moveListItems(editor, {\n      at: workRange,\n      increase: increase,\n      enableResetOnShiftTab: true\n    });\n    return true;\n  }\n};"],"mappings":"AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,QAAQ,MAAM,WAAW;AAChC,SAASC,MAAM,EAAEC,KAAK,EAAEC,UAAU,QAAQ,gBAAgB;AAC1D,SAASC,SAAS,QAAQ,oBAAoB;AAC9C,SAASC,QAAQ,QAAQ,eAAe;AACxC,SAASC,aAAa,QAAQ,eAAe;AAC7C,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAIC,MAAM,EAAEC,KAAK,EAAK;EAC5C,IACEC,SAAS,GACPF,MAAM,CADRE,SAAS;EAEX,IAAI,CAACA,SAAS,EAAE;EAChB,IAAMC,YAAY,GAAGN,QAAQ,CAACG,MAAM,EAAE;IACpCI,IAAI,EAAE,CAACR,SAAS;EAClB,CAAC,CAAC;EACF,IAAI,CAACO,YAAY,EAAE,OAAO,KAAK;EAC/B,IAAIE,SAAS,GAAGL,MAAM,CAACE,SAAS;EAChC,IAAI,CAACR,KAAK,CAACY,WAAW,CAACJ,SAAS,CAAC,EAAE;IACjC,IACEK,MAAM,GAEJL,SAAS,CAFXK,MAAM;MACNC,KAAK,GACHN,SAAS,CADXM,KAAK;IAEP,IAAId,KAAK,CAACe,UAAU,CAACP,SAAS,CAAC,EAAE;MAAA,IAAAQ,aAAA,GAI3B;QACFH,MAAM,EAAEhB,aAAa,CAAC,CAAC,CAAC,EAAEW,SAAS,CAACM,KAAK,CAAC;QAC1CA,KAAK,EAAEjB,aAAa,CAAC,CAAC,CAAC,EAAEW,SAAS,CAACK,MAAM;MAC3C,CAAC;MALCA,MAAM,GAAAG,aAAA,CAANH,MAAM;MACNC,KAAK,GAAAE,aAAA,CAALF,KAAK;IAKT;IACA,IAAMG,WAAW,GAAGlB,MAAM,CAACmB,WAAW,CAACZ,MAAM,EAAE;MAC7CO,MAAM,EAANA,MAAM;MACNC,KAAK,EAALA;IACF,CAAC,CAAC;IACF,IAAIG,WAAW,EAAE;MACfN,SAAS,GAAGM,WAAW;MACvBhB,UAAU,CAACkB,MAAM,CAACb,MAAM,EAAEW,WAAW,CAAC;IACxC;EACF;EACA,IAAMG,QAAQ,GAAGtB,QAAQ,CAAC,WAAW,EAAES,KAAK,CAAC,GAAG,KAAK,GAAG,IAAI;EAC5D,IAAII,SAAS,IAAIF,YAAY,EAAE;IAC7BF,KAAK,CAACc,cAAc,CAAC,CAAC;IACtBjB,aAAa,CAACE,MAAM,EAAE;MACpBgB,EAAE,EAAEX,SAAS;MACbS,QAAQ,EAAEA,QAAQ;MAClBG,qBAAqB,EAAE;IACzB,CAAC,CAAC;IACF,OAAO,IAAI;EACb;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}