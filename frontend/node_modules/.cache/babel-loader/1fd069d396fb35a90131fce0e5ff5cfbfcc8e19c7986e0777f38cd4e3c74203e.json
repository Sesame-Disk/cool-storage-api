{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment,Component}from'react';import{Link}from'@gatsbyjs/reach-router';import{Dropdown,DropdownToggle,DropdownItem}from'reactstrap';import{seafileAPI}from'../../utils/seafile-api';import{gettext,siteRoot,isPro}from'../../utils/constants';import{Utils}from'../../utils/utils';import toaster from'../../components/toast';import EmptyTip from'../../components/empty-tip';import SharePermissionEditor from'../../components/select-editor/share-permission-editor';import SharedRepoInfo from'../../models/shared-repo-info';import PermSelect from'../../components/dialog/perm-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(){var _this;_classCallCheck(this,Content);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,sortBy=_this$props.sortBy,sortOrder=_this$props.sortOrder;if(loading){return/*#__PURE__*/_jsx(\"span\",{className:\"loading-icon loading-tip\"});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsxs(EmptyTip,{children:[/*#__PURE__*/_jsx(\"h2\",{children:gettext('No libraries shared')}),/*#__PURE__*/_jsx(\"p\",{children:gettext('You have not shared any libraries with other users yet. You can share a library with other users by clicking the share icon to the right of a library\\'s name in \"My Libraries\".')})]});// sort\nvar sortByName=sortBy=='name';var sortIcon=sortOrder=='asc'?/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-up\"}):/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-down\"});var isDesktop=Utils.isDesktop();var table=/*#__PURE__*/_jsxs(\"table\",{className:\"table-hover \".concat(isDesktop?'':'table-thead-hidden'),children:[/*#__PURE__*/_jsx(\"thead\",{children:isDesktop?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"4%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"34%\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:this.sortByName,children:[gettext('Name'),\" \",sortByName&&sortIcon]})}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:gettext('Share To')}),/*#__PURE__*/_jsx(\"th\",{width:\"24%\",children:gettext('Permission')}),/*#__PURE__*/_jsx(\"th\",{width:\"8%\"})]}):/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"12%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"80%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"8%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{isDesktop:isDesktop,item:item},index);})})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this2;_classCallCheck(this,Item);_this2=_super2.call(this,props);_this2.toggleOpMenu=function(){_this2.setState({isOpMenuOpen:!_this2.state.isOpMenuOpen});};_this2.togglePermSelectDialog=function(){_this2.setState({isPermSelectDialogOpen:!_this2.state.isPermSelectDialogOpen});};_this2.onMouseEnter=function(){_this2.setState({isOpIconShown:true});};_this2.onMouseLeave=function(){_this2.setState({isOpIconShown:false});};_this2.changePerm=function(permission){var item=_this2.props.item;var share_type=item.share_type;var options={'share_type':share_type,'permission':permission};if(share_type=='personal'){options.user=item.user_email;}else if(share_type=='group'){options.group_id=item.group_id;}seafileAPI.updateRepoSharePerm(item.repo_id,options).then(function(){_this2.setState({share_permission:permission=='admin'?'rw':permission,is_admin:permission=='admin'});toaster.success(gettext('Successfully modified permission.'));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this2.unshare=function(e){e.preventDefault();var item=_this2.props.item;var share_type=item.share_type;var options={'share_type':share_type};if(share_type=='personal'){options.user=item.user_email;}else if(share_type=='group'){options.group_id=item.group_id;}seafileAPI.unshareRepo(item.repo_id,options).then(function(res){_this2.setState({unshared:true});var message=gettext('Successfully unshared {name}').replace('{name}',item.repo_name);toaster.success(message);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster(errMessage);});};_this2.onEditPermission=function(event){event.nativeEvent.stopImmediatePropagation();_this2.setState({isShowPermEditor:true});};var _item=_this2.props.item;_this2.state={share_permission:_item.share_permission,share_permission_name:_item.share_permission_name,is_admin:_item.is_admin,isOpIconShown:false,isOpMenuOpen:false,// for mobile\nisPermSelectDialogOpen:false,// for mobile\nunshared:false,isShowPermEditor:false};var permissions=['rw','r'];_this2.permissions=permissions;_this2.showAdmin=isPro&&_item.share_type!=='public';if(_this2.showAdmin){permissions.push('admin');}if(isPro){permissions.push('cloud-edit','preview');}return _this2;}_createClass(Item,[{key:\"render\",value:function render(){if(this.state.unshared){return null;}var _this$state=this.state,share_permission=_this$state.share_permission,share_permission_name=_this$state.share_permission_name,is_admin=_this$state.is_admin,isOpIconShown=_this$state.isOpIconShown,isPermSelectDialogOpen=_this$state.isPermSelectDialogOpen,isShowPermEditor=_this$state.isShowPermEditor;var item=this.props.item;Object.assign(item,{share_permission:share_permission,is_admin:is_admin});var iconUrl=Utils.getLibIconUrl(item);var iconTitle=Utils.getLibIconTitle(item);var repoUrl=\"\".concat(siteRoot,\"library/\").concat(item.repo_id,\"/\").concat(encodeURIComponent(item.repo_name),\"/\");var shareTo;var shareType=item.share_type;if(shareType=='personal'){shareTo=item.user_name;}else if(shareType=='group'){shareTo=item.group_name;}else if(shareType=='public'){shareTo=gettext('all members');}if(this.showAdmin&&is_admin){share_permission='admin';}// custom defined permission\nif(share_permission.startsWith('custom-')){share_permission=share_permission.slice(7);}var desktopItem=/*#__PURE__*/_jsxs(\"tr\",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onMouseEnter,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,title:iconTitle,alt:iconTitle,width:\"24\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:repoUrl,children:item.repo_name})}),/*#__PURE__*/_jsx(\"td\",{children:item.share_type=='personal'?/*#__PURE__*/_jsx(\"span\",{title:item.contact_email,children:shareTo}):shareTo}),/*#__PURE__*/_jsxs(\"td\",{children:[!isShowPermEditor&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:Utils.sharePerms(share_permission)||share_permission_name}),isOpIconShown&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",role:\"button\",\"aria-label\":gettext('Edit'),title:gettext('Edit'),className:\"fa fa-pencil-alt attr-action-icon\",onClick:this.onEditPermission})]}),isShowPermEditor&&/*#__PURE__*/_jsx(SharePermissionEditor,{repoID:item.repo_id,isTextMode:true,isEditing:true,autoFocus:true,isEditIconShow:this.state.isOpIconShown,currentPermission:share_permission,permissions:this.permissions,onPermissionChanged:this.changePerm})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",role:\"button\",\"aria-label\":gettext('Unshare'),className:\"action-icon sf2-icon-x3 \".concat(isOpIconShown?'':'invisible'),title:gettext('Unshare'),onClick:this.unshare})})]});var mobileItem=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,title:iconTitle,alt:iconTitle,width:\"24\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:repoUrl,children:item.repo_name}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info-highlighted\",children:Utils.sharePerms(share_permission)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info\",children:\"\".concat(gettext('Share To:'),\" \").concat(shareTo)})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isOpMenuOpen,toggle:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"i\",className:\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\",title:gettext('More operations'),\"aria-label\":gettext('More operations'),\"data-toggle\":\"dropdown\",\"aria-expanded\":this.state.isOpMenuOpen}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.isOpMenuOpen?'':'d-none',onClick:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mobile-operation-menu-bg-layer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-operation-menu\",children:[/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.togglePermSelectDialog,children:gettext('Permission')}),/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.unshare,children:gettext('Unshare')})]})]})]})})]}),isPermSelectDialogOpen&&/*#__PURE__*/_jsx(PermSelect,{repoID:item.repo_id,currentPerm:share_permission,permissions:this.permissions,changePerm:this.changePerm,toggleDialog:this.togglePermSelectDialog})]});return this.props.isDesktop?desktopItem:mobileItem;}}]);return Item;}(Component);var ShareAdminLibraries=/*#__PURE__*/function(_Component3){_inherits(ShareAdminLibraries,_Component3);var _super3=_createSuper(ShareAdminLibraries);function ShareAdminLibraries(props){var _this3;_classCallCheck(this,ShareAdminLibraries);_this3=_super3.call(this,props);_this3.sortItems=function(sortBy,sortOrder){_this3.setState({sortBy:sortBy,sortOrder:sortOrder,items:Utils.sortRepos(_this3.state.items,sortBy,sortOrder)});};_this3.state={loading:true,errorMsg:'',items:[],sortBy:'name',// 'name' or 'time'\nsortOrder:'asc'// 'asc' or 'desc'\n};return _this3;}_createClass(ShareAdminLibraries,[{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;seafileAPI.listSharedRepos().then(function(res){var items=res.data.map(function(item){return new SharedRepoInfo(item);});_this4.setState({loading:false,items:Utils.sortRepos(items,_this4.state.sortBy,_this4.state.sortOrder)});}).catch(function(error){_this4.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",id:\"share-admin-libs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-path\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"sf-heading\",children:gettext('Libraries')})}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{errorMsg:this.state.errorMsg,loading:this.state.loading,items:this.state.items,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems})})]})});}}]);return ShareAdminLibraries;}(Component);export default ShareAdminLibraries;","map":{"version":3,"names":["React","Fragment","Component","Link","Dropdown","DropdownToggle","DropdownItem","seafileAPI","gettext","siteRoot","isPro","Utils","toaster","EmptyTip","SharePermissionEditor","SharedRepoInfo","PermSelect","jsx","_jsx","jsxs","_jsxs","Content","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","sortByName","e","preventDefault","sortBy","sortOrder","props","sortItems","_createClass","key","value","render","_this$props","loading","errorMsg","items","className","children","emptyTip","sortIcon","isDesktop","table","width","href","onClick","map","item","index","Item","_Component2","_super2","_this2","toggleOpMenu","setState","isOpMenuOpen","state","togglePermSelectDialog","isPermSelectDialogOpen","onMouseEnter","isOpIconShown","onMouseLeave","changePerm","permission","share_type","options","user","user_email","group_id","updateRepoSharePerm","repo_id","then","share_permission","is_admin","success","catch","error","errMessage","getErrorMsg","danger","unshare","unshareRepo","res","unshared","message","replace","repo_name","onEditPermission","event","nativeEvent","stopImmediatePropagation","isShowPermEditor","share_permission_name","permissions","showAdmin","push","_this$state","Object","assign","iconUrl","getLibIconUrl","iconTitle","getLibIconTitle","repoUrl","encodeURIComponent","shareTo","shareType","user_name","group_name","startsWith","slice","desktopItem","onFocus","src","title","alt","to","contact_email","sharePerms","role","repoID","isTextMode","isEditing","autoFocus","isEditIconShow","currentPermission","onPermissionChanged","mobileItem","isOpen","toggle","tag","currentPerm","toggleDialog","ShareAdminLibraries","_Component3","_super3","_this3","sortRepos","componentDidMount","_this4","listSharedRepos","data","id"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/share-admin/libraries.js"],"sourcesContent":["import React, { Fragment, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Dropdown, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot, isPro } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport EmptyTip from '../../components/empty-tip';\nimport SharePermissionEditor from '../../components/select-editor/share-permission-editor';\nimport SharedRepoInfo from '../../models/shared-repo-info';\nimport PermSelect from '../../components/dialog/perm-select';\n\nclass Content extends Component {\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  };\n\n  render() {\n    const { loading, errorMsg, items, sortBy, sortOrder } = this.props;\n\n    if (loading) {\n      return <span className=\"loading-icon loading-tip\"></span>;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries shared')}</h2>\n          <p>{gettext('You have not shared any libraries with other users yet. You can share a library with other users by clicking the share icon to the right of a library\\'s name in \"My Libraries\".')}</p>\n        </EmptyTip>\n      );\n\n      // sort\n      const sortByName = sortBy == 'name';\n      const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n      const isDesktop = Utils.isDesktop();\n      const table = (\n        <table className={`table-hover ${isDesktop ? '': 'table-thead-hidden'}`}>\n          <thead>\n            {isDesktop ? (\n              <tr>\n                <th width=\"4%\">{/*icon*/}</th>\n                <th width=\"34%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n                <th width=\"30%\">{gettext('Share To')}</th>\n                <th width=\"24%\">{gettext('Permission')}</th>\n                <th width=\"8%\"></th>\n              </tr>\n            ) : (\n              <tr>\n                <th width=\"12%\"></th>\n                <th width=\"80%\"></th>\n                <th width=\"8%\"></th>\n              </tr>\n            )}\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (<Item\n                key={index}\n                isDesktop={isDesktop}\n                item={item}\n              />);\n            })}\n          </tbody>\n        </table>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n\n    let item = this.props.item;\n    this.state = {\n      share_permission: item.share_permission,\n      share_permission_name: item.share_permission_name,\n      is_admin: item.is_admin,\n      isOpIconShown: false,\n      isOpMenuOpen: false, // for mobile\n      isPermSelectDialogOpen: false, // for mobile\n      unshared: false,\n      isShowPermEditor: false,\n    };\n    let permissions = ['rw', 'r'];\n    this.permissions = permissions;\n    this.showAdmin = isPro && (item.share_type !== 'public');\n    if (this.showAdmin) {\n      permissions.push('admin');\n    }\n    if (isPro) {\n      permissions.push('cloud-edit', 'preview');\n    }\n  }\n\n  toggleOpMenu = () => {\n    this.setState({\n      isOpMenuOpen: !this.state.isOpMenuOpen\n    });\n  };\n\n  togglePermSelectDialog = () => {\n    this.setState({\n      isPermSelectDialogOpen: !this.state.isPermSelectDialogOpen\n    });\n  };\n\n  onMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  changePerm = (permission) => {\n    const item = this.props.item;\n    const share_type = item.share_type;\n    let options = {\n      'share_type': share_type,\n      'permission': permission\n    };\n    if (share_type == 'personal') {\n      options.user = item.user_email;\n    } else if (share_type == 'group') {\n      options.group_id = item.group_id;\n    }\n\n    seafileAPI.updateRepoSharePerm(item.repo_id, options).then(() => {\n      this.setState({\n        share_permission: permission == 'admin' ? 'rw' : permission,\n        is_admin: permission == 'admin',\n      });\n      toaster.success(gettext('Successfully modified permission.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  unshare = (e) => {\n    e.preventDefault();\n\n    const item = this.props.item;\n    const share_type = item.share_type;\n    let options = {\n      'share_type': share_type\n    };\n    if (share_type == 'personal') {\n      options.user = item.user_email;\n    } else if (share_type == 'group') {\n      options.group_id = item.group_id;\n    }\n\n    seafileAPI.unshareRepo(item.repo_id, options).then((res) => {\n      this.setState({\n        unshared: true\n      });\n      let message = gettext('Successfully unshared {name}').replace('{name}', item.repo_name);\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster(errMessage);\n    });\n  };\n\n  onEditPermission = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    this.setState({isShowPermEditor: true});\n  };\n\n  render() {\n    if (this.state.unshared) {\n      return null;\n    }\n\n    let { share_permission, share_permission_name, is_admin, isOpIconShown, isPermSelectDialogOpen, isShowPermEditor } = this.state;\n    let item = this.props.item;\n    Object.assign(item, {\n      share_permission: share_permission,\n      is_admin: is_admin\n    });\n\n    let iconUrl = Utils.getLibIconUrl(item);\n    let iconTitle = Utils.getLibIconTitle(item);\n    let repoUrl = `${siteRoot}library/${item.repo_id}/${encodeURIComponent(item.repo_name)}/`;\n\n\n    let shareTo;\n    const shareType = item.share_type;\n    if (shareType == 'personal') {\n      shareTo = item.user_name;\n    } else if (shareType == 'group') {\n      shareTo = item.group_name;\n    } else if (shareType == 'public') {\n      shareTo = gettext('all members');\n    }\n\n    if (this.showAdmin && is_admin) {\n      share_permission = 'admin';\n    }\n\n    // custom defined permission\n    if (share_permission.startsWith('custom-')) {\n      share_permission = share_permission.slice(7);\n    }\n\n    const desktopItem = (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onFocus={this.onMouseEnter}>\n        <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n        <td><Link to={repoUrl}>{item.repo_name}</Link></td>\n        <td>\n          {item.share_type == 'personal' ? <span title={item.contact_email}>{shareTo}</span> : shareTo}\n        </td>\n        <td>\n          {!isShowPermEditor && (\n            <div>\n              <span>{Utils.sharePerms(share_permission) || share_permission_name}</span>\n              {isOpIconShown && (\n                <a href=\"#\"\n                  role=\"button\"\n                  aria-label={gettext('Edit')}\n                  title={gettext('Edit')}\n                  className=\"fa fa-pencil-alt attr-action-icon\"\n                  onClick={this.onEditPermission}>\n                </a>\n              )}\n            </div>\n          )}\n          {isShowPermEditor && (\n            <SharePermissionEditor\n              repoID={item.repo_id}\n              isTextMode={true}\n              isEditing={true}\n              autoFocus={true}\n              isEditIconShow={this.state.isOpIconShown}\n              currentPermission={share_permission}\n              permissions={this.permissions}\n              onPermissionChanged={this.changePerm}\n            />\n          )}\n        </td>\n        <td><a href=\"#\" role=\"button\" aria-label={gettext('Unshare')} className={`action-icon sf2-icon-x3 ${isOpIconShown ? '': 'invisible'}`} title={gettext('Unshare')} onClick={this.unshare}></a></td>\n      </tr>\n    );\n\n    const mobileItem = (\n      <Fragment>\n        <tr>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>\n            <Link to={repoUrl}>{item.repo_name}</Link>\n            <span className=\"item-meta-info-highlighted\">{Utils.sharePerms(share_permission)}</span>\n            <br />\n            <span className=\"item-meta-info\">{`${gettext('Share To:')} ${shareTo}`}</span>\n          </td>\n          <td>\n            <Dropdown isOpen={this.state.isOpMenuOpen} toggle={this.toggleOpMenu}>\n              <DropdownToggle\n                tag=\"i\"\n                className=\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\"\n                title={gettext('More operations')}\n                aria-label={gettext('More operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isOpMenuOpen}\n              />\n              <div className={this.state.isOpMenuOpen ? '' : 'd-none'} onClick={this.toggleOpMenu}>\n                <div className=\"mobile-operation-menu-bg-layer\"></div>\n                <div className=\"mobile-operation-menu\">\n                  <DropdownItem className=\"mobile-menu-item\" onClick={this.togglePermSelectDialog}>{gettext('Permission')}</DropdownItem>\n                  <DropdownItem className=\"mobile-menu-item\" onClick={this.unshare}>{gettext('Unshare')}</DropdownItem>\n                </div>\n              </div>\n            </Dropdown>\n          </td>\n        </tr>\n        {isPermSelectDialogOpen && (\n          <PermSelect\n            repoID={item.repo_id}\n            currentPerm={share_permission}\n            permissions={this.permissions}\n            changePerm={this.changePerm}\n            toggleDialog={this.togglePermSelectDialog}\n          />\n        )}\n      </Fragment>\n    );\n\n    return this.props.isDesktop ? desktopItem : mobileItem;\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isDesktop: PropTypes.bool.isRequired,\n};\n\nclass ShareAdminLibraries extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      sortBy: 'name', // 'name' or 'time'\n      sortOrder: 'asc' // 'asc' or 'desc'\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.listSharedRepos().then((res) => {\n      let items = res.data.map(item => {\n        return new SharedRepoInfo(item);\n      });\n      this.setState({\n        loading: false,\n        items: Utils.sortRepos(items, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  sortItems = (sortBy, sortOrder) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: Utils.sortRepos(this.state.items, sortBy, sortOrder)\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\" id=\"share-admin-libs\">\n          <div className=\"cur-view-path\">\n            <h3 className=\"sf-heading\">{gettext('Libraries')}</h3>\n          </div>\n          <div className=\"cur-view-content\">\n            <Content\n              errorMsg={this.state.errorMsg}\n              loading={this.state.loading}\n              items={this.state.items}\n              sortBy={this.state.sortBy}\n              sortOrder={this.state.sortOrder}\n              sortItems={this.sortItems}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ShareAdminLibraries;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}