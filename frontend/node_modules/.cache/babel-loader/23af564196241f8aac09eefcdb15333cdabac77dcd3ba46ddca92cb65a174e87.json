{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Line}from'react-chartjs-2';import{Utils}from'../../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";var StatisticChart=/*#__PURE__*/function(_React$Component){_inherits(StatisticChart,_React$Component);var _super=_createSuper(StatisticChart);function StatisticChart(props){var _this2;_classCallCheck(this,StatisticChart);_this2=_super.call(this,props);_this2.titleCallback=function(tooltipItem,data){return data.datasets[tooltipItem.datasetIndex].label+': '+Utils.bytesToSize(tooltipItem.yLabel);};_this2.ticksCallback=function(value,index,values){return Utils.bytesToSize(value);};_this2.state={data:{},opations:{}};return _this2;}_createClass(StatisticChart,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,labels=_this$props.labels,filesData=_this$props.filesData,isTitleCallback=_this$props.isTitleCallback,isTicksCallback=_this$props.isTicksCallback,suggestedMaxNumbers=_this$props.suggestedMaxNumbers,isLegendStatus=_this$props.isLegendStatus,chartTitle=_this$props.chartTitle;var _this=this;var data={labels:labels,datasets:filesData};var options={title:{display:true,fontSize:14,text:chartTitle},elements:{line:{fill:false,tension:0,// disable bezier curves, i.e, draw straight lines\nborderWidth:2}},legend:{display:isLegendStatus,labels:{usePointStyle:true}},tooltips:{callbacks:{label:function label(tooltipItem,data){if(isTitleCallback){return _this.titleCallback(tooltipItem,data);}return data.datasets[tooltipItem.datasetIndex].label+': '+tooltipItem.yLabel;}}},layout:{padding:{right:100}},scales:{yAxes:[{ticks:{beginAtZero:true,suggestedMax:suggestedMaxNumbers,callback:function callback(value,index,values){if(isTicksCallback){return _this.ticksCallback(value,index,values);}return value;}}}],xAxes:[{ticks:{maxTicksLimit:20}}]}};this.setState({data:data,options:options});}},{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){var data={labels:nextProps.labels,datasets:nextProps.filesData};this.setState({data:data});}},{key:\"render\",value:function render(){var _this$state=this.state,data=_this$state.data,options=_this$state.options;return/*#__PURE__*/_jsx(Line,{data:data,options:options});}}]);return StatisticChart;}(React.Component);export default StatisticChart;","map":{"version":3,"names":["React","Line","Utils","jsx","_jsx","StatisticChart","_React$Component","_inherits","_super","_createSuper","props","_this2","_classCallCheck","call","titleCallback","tooltipItem","data","datasets","datasetIndex","label","bytesToSize","yLabel","ticksCallback","value","index","values","state","opations","_createClass","key","componentDidMount","_this$props","labels","filesData","isTitleCallback","isTicksCallback","suggestedMaxNumbers","isLegendStatus","chartTitle","_this","options","title","display","fontSize","text","elements","line","fill","tension","borderWidth","legend","usePointStyle","tooltips","callbacks","layout","padding","right","scales","yAxes","ticks","beginAtZero","suggestedMax","callback","xAxes","maxTicksLimit","setState","UNSAFE_componentWillReceiveProps","nextProps","render","_this$state","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/org-admin/statistic/statistic-chart.js"],"sourcesContent":["import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  labels: PropTypes.array.isRequired,\n  filesData: PropTypes.array.isRequired,\n  suggestedMaxNumbers: PropTypes.number.isRequired,\n  isLegendStatus: PropTypes.bool.isRequired,\n  chartTitle: PropTypes.string.isRequired,\n  isTitleCallback: PropTypes.bool,\n  isTicksCallback: PropTypes.bool,\n};\n\nclass StatisticChart extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      data: {},\n      opations: {}\n    };\n  }\n\n  componentDidMount() {\n    let { labels, filesData, isTitleCallback, isTicksCallback, suggestedMaxNumbers, isLegendStatus, chartTitle } = this.props;\n    let _this = this;\n    let data = {\n      labels: labels,\n      datasets: filesData\n    };\n    let options = {\n      title: {\n        display: true,\n        fontSize: 14,\n        text: chartTitle,\n      },\n      elements: {\n        line: {\n          fill: false,\n          tension: 0, // disable bezier curves, i.e, draw straight lines\n          borderWidth: 2\n        }\n      },\n      legend: {\n        display: isLegendStatus,\n        labels: {\n          usePointStyle: true\n        }\n      },\n      tooltips: {\n        callbacks: {\n          label: function(tooltipItem, data) {\n            if (isTitleCallback) {\n              return _this.titleCallback(tooltipItem, data);\n            }\n            return data.datasets[tooltipItem.datasetIndex].label + ': ' + tooltipItem.yLabel;\n          }\n        }\n      },\n      layout: {\n        padding: {\n          right: 100,\n        }\n      },\n      scales: {\n        yAxes: [{\n          ticks: {\n            beginAtZero: true,\n            suggestedMax: suggestedMaxNumbers,\n            callback: function(value, index, values) {\n              if (isTicksCallback) {\n                return _this.ticksCallback(value, index, values);\n              }\n              return value;\n            }\n          }\n        }],\n        xAxes: [{\n          ticks: {\n            maxTicksLimit: 20\n          }\n        }]\n      }\n    };\n    this.setState({\n      data: data,\n      options: options\n    });\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    let data = {\n      labels: nextProps.labels,\n      datasets: nextProps.filesData\n    };\n    this.setState({data: data});\n  }\n\n  titleCallback = (tooltipItem, data) => {\n    return data.datasets[tooltipItem.datasetIndex].label + ': ' + Utils.bytesToSize(tooltipItem.yLabel);\n  };\n\n  ticksCallback = (value, index, values) => {\n    return Utils.bytesToSize(value);\n  };\n\n  render() {\n\n    let { data, options } = this.state;\n    return (\n      <Line\n        data={data}\n        options={options}\n      />\n    );\n  }\n}\n\nStatisticChart.propTypes = propTypes;\n\nexport default StatisticChart;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,IAAI,KAAQ,iBAAiB,CAEtC,OAASC,KAAK,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,4BAYvC,CAAAC,cAAc,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,cAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,cAAA,EAElB,SAAAA,eAAYK,KAAK,CAAE,KAAAC,MAAA,CAAAC,eAAA,MAAAP,cAAA,EACjBM,MAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,MAAA,CAkFfG,aAAa,CAAG,SAACC,WAAW,CAAEC,IAAI,CAAK,CACrC,MAAO,CAAAA,IAAI,CAACC,QAAQ,CAACF,WAAW,CAACG,YAAY,CAAC,CAACC,KAAK,CAAG,IAAI,CAAGjB,KAAK,CAACkB,WAAW,CAACL,WAAW,CAACM,MAAM,CAAC,CACrG,CAAC,CAAAV,MAAA,CAEDW,aAAa,CAAG,SAACC,KAAK,CAAEC,KAAK,CAAEC,MAAM,CAAK,CACxC,MAAO,CAAAvB,KAAK,CAACkB,WAAW,CAACG,KAAK,CAAC,CACjC,CAAC,CAvFCZ,MAAA,CAAKe,KAAK,CAAG,CACXV,IAAI,CAAE,CAAC,CAAC,CACRW,QAAQ,CAAE,CAAC,CACb,CAAC,CAAC,OAAAhB,MAAA,CACJ,CAACiB,YAAA,CAAAvB,cAAA,GAAAwB,GAAA,qBAAAN,KAAA,CAED,SAAAO,kBAAA,CAAoB,CAClB,IAAAC,WAAA,CAA+G,IAAI,CAACrB,KAAK,CAAnHsB,MAAM,CAAAD,WAAA,CAANC,MAAM,CAAEC,SAAS,CAAAF,WAAA,CAATE,SAAS,CAAEC,eAAe,CAAAH,WAAA,CAAfG,eAAe,CAAEC,eAAe,CAAAJ,WAAA,CAAfI,eAAe,CAAEC,mBAAmB,CAAAL,WAAA,CAAnBK,mBAAmB,CAAEC,cAAc,CAAAN,WAAA,CAAdM,cAAc,CAAEC,UAAU,CAAAP,WAAA,CAAVO,UAAU,CAC1G,GAAI,CAAAC,KAAK,CAAG,IAAI,CAChB,GAAI,CAAAvB,IAAI,CAAG,CACTgB,MAAM,CAAEA,MAAM,CACdf,QAAQ,CAAEgB,SACZ,CAAC,CACD,GAAI,CAAAO,OAAO,CAAG,CACZC,KAAK,CAAE,CACLC,OAAO,CAAE,IAAI,CACbC,QAAQ,CAAE,EAAE,CACZC,IAAI,CAAEN,UACR,CAAC,CACDO,QAAQ,CAAE,CACRC,IAAI,CAAE,CACJC,IAAI,CAAE,KAAK,CACXC,OAAO,CAAE,CAAC,CAAE;AACZC,WAAW,CAAE,CACf,CACF,CAAC,CACDC,MAAM,CAAE,CACNR,OAAO,CAAEL,cAAc,CACvBL,MAAM,CAAE,CACNmB,aAAa,CAAE,IACjB,CACF,CAAC,CACDC,QAAQ,CAAE,CACRC,SAAS,CAAE,CACTlC,KAAK,CAAE,SAAAA,MAASJ,WAAW,CAAEC,IAAI,CAAE,CACjC,GAAIkB,eAAe,CAAE,CACnB,MAAO,CAAAK,KAAK,CAACzB,aAAa,CAACC,WAAW,CAAEC,IAAI,CAAC,CAC/C,CACA,MAAO,CAAAA,IAAI,CAACC,QAAQ,CAACF,WAAW,CAACG,YAAY,CAAC,CAACC,KAAK,CAAG,IAAI,CAAGJ,WAAW,CAACM,MAAM,CAClF,CACF,CACF,CAAC,CACDiC,MAAM,CAAE,CACNC,OAAO,CAAE,CACPC,KAAK,CAAE,GACT,CACF,CAAC,CACDC,MAAM,CAAE,CACNC,KAAK,CAAE,CAAC,CACNC,KAAK,CAAE,CACLC,WAAW,CAAE,IAAI,CACjBC,YAAY,CAAEzB,mBAAmB,CACjC0B,QAAQ,CAAE,SAAAA,SAASvC,KAAK,CAAEC,KAAK,CAAEC,MAAM,CAAE,CACvC,GAAIU,eAAe,CAAE,CACnB,MAAO,CAAAI,KAAK,CAACjB,aAAa,CAACC,KAAK,CAAEC,KAAK,CAAEC,MAAM,CAAC,CAClD,CACA,MAAO,CAAAF,KAAK,CACd,CACF,CACF,CAAC,CAAC,CACFwC,KAAK,CAAE,CAAC,CACNJ,KAAK,CAAE,CACLK,aAAa,CAAE,EACjB,CACF,CAAC,CACH,CACF,CAAC,CACD,IAAI,CAACC,QAAQ,CAAC,CACZjD,IAAI,CAAEA,IAAI,CACVwB,OAAO,CAAEA,OACX,CAAC,CAAC,CACJ,CAAC,GAAAX,GAAA,oCAAAN,KAAA,CAED,SAAA2C,iCAAiCC,SAAS,CAAE,CAC1C,GAAI,CAAAnD,IAAI,CAAG,CACTgB,MAAM,CAAEmC,SAAS,CAACnC,MAAM,CACxBf,QAAQ,CAAEkD,SAAS,CAAClC,SACtB,CAAC,CACD,IAAI,CAACgC,QAAQ,CAAC,CAACjD,IAAI,CAAEA,IAAI,CAAC,CAAC,CAC7B,CAAC,GAAAa,GAAA,UAAAN,KAAA,CAUD,SAAA6C,OAAA,CAAS,CAEP,IAAAC,WAAA,CAAwB,IAAI,CAAC3C,KAAK,CAA5BV,IAAI,CAAAqD,WAAA,CAAJrD,IAAI,CAAEwB,OAAO,CAAA6B,WAAA,CAAP7B,OAAO,CACnB,mBACEpC,IAAA,CAACH,IAAI,EACHe,IAAI,CAAEA,IAAK,CACXwB,OAAO,CAAEA,OAAQ,CAClB,CAAC,CAEN,CAAC,WAAAnC,cAAA,GAtG0BL,KAAK,CAACsE,SAAS,EA2G5C,cAAe,CAAAjE,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}