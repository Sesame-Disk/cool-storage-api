{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import{Utils}from'../../utils/utils';import{Link,navigate}from'@gatsbyjs/reach-router';import{siteRoot,gettext}from'../../utils/constants';import ModalPortal from'../modal-portal';import CreateRepoDialog from'../dialog/create-repo-dialog';import{DropdownToggle,Dropdown,DropdownMenu,DropdownItem}from'reactstrap';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RepoViewToolbar=/*#__PURE__*/function(_React$Component){_inherits(RepoViewToolbar,_React$Component);var _super=_createSuper(RepoViewToolbar);function RepoViewToolbar(props){var _this;_classCallCheck(this,RepoViewToolbar);_this=_super.call(this,props);_this.onCreateRepo=function(repo){_this.props.onCreateRepo(repo);_this.onCreateToggle();};_this.onCreateToggle=function(){_this.setState({isCreateRepoDialogShow:!_this.state.isCreateRepoDialogShow});};_this.toggleMore=function(){_this.setState({isOpen:!_this.state.isOpen});};_this.onDropdownToggleKeyDown=function(e){if(e.key=='Enter'||e.key=='Space'){_this.toggleMore();}};_this.visitDeletedviaKey=function(e){if(e.key=='Enter'||e.key=='Space'){navigate(\"\".concat(siteRoot,\"my-libs/deleted/\"));}};_this.state={isCreateRepoDialogShow:false,isOpen:false};return _this;}_createClass(RepoViewToolbar,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-toolbar\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\",title:\"Side Nav Menu\",onClick:this.props.onShowSidePanel}),Utils.isDesktop()?/*#__PURE__*/_jsxs(\"div\",{className:\"operation\",children:[/*#__PURE__*/_jsxs(\"button\",{className:\"btn btn-secondary operation-item\",title:gettext('New Library'),onClick:this.onCreateToggle,children:[/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-plus-square text-secondary mr-1\"}),gettext('New Library')]}),/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isOpen,toggle:this.toggleMore,children:[/*#__PURE__*/_jsx(DropdownToggle,{className:\"btn btn-secondary operation-item\",onKeyDown:this.onDropdownToggleKeyDown,children:gettext('More')}),/*#__PURE__*/_jsx(DropdownMenu,{children:/*#__PURE__*/_jsx(DropdownItem,{className:\"link-dropdown-container\",onKeyDown:this.visitDeletedviaKey,children:/*#__PURE__*/_jsx(Link,{className:\"link-dropdown-item\",to:siteRoot+'my-libs/deleted/',children:gettext('Deleted Libraries')})})})]})]}):/*#__PURE__*/_jsx(\"span\",{className:\"sf2-icon-plus mobile-toolbar-icon\",title:gettext('New Library'),onClick:this.onCreateToggle})]}),this.state.isCreateRepoDialogShow&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(CreateRepoDialog,{libraryType:this.props.libraryType,onCreateRepo:this.onCreateRepo,onCreateToggle:this.onCreateToggle})})]});}}]);return RepoViewToolbar;}(React.Component);export default RepoViewToolbar;","map":{"version":3,"names":["React","Fragment","Utils","Link","navigate","siteRoot","gettext","ModalPortal","CreateRepoDialog","DropdownToggle","Dropdown","DropdownMenu","DropdownItem","jsx","_jsx","jsxs","_jsxs","RepoViewToolbar","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onCreateRepo","repo","onCreateToggle","setState","isCreateRepoDialogShow","state","toggleMore","isOpen","onDropdownToggleKeyDown","e","key","visitDeletedviaKey","concat","_createClass","value","render","children","className","title","onClick","onShowSidePanel","isDesktop","toggle","onKeyDown","to","libraryType","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/toolbar/repo-view-toobar.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../utils/utils';\nimport { Link, navigate } from '@gatsbyjs/reach-router';\nimport { siteRoot, gettext } from '../../utils/constants';\nimport ModalPortal from '../modal-portal';\nimport CreateRepoDialog from '../dialog/create-repo-dialog';\nimport { DropdownToggle, Dropdown, DropdownMenu, DropdownItem } from 'reactstrap';\n\nconst propTypes = {\n  libraryType: PropTypes.string.isRequired,\n  onCreateRepo: PropTypes.func.isRequired,\n  onShowSidePanel: PropTypes.func.isRequired,\n};\n\nclass RepoViewToolbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isCreateRepoDialogShow: false,\n      isOpen: false,\n    };\n  }\n\n  onCreateRepo = (repo) => {\n    this.props.onCreateRepo(repo);\n    this.onCreateToggle();\n  };\n\n  onCreateToggle = () => {\n    this.setState({isCreateRepoDialogShow: !this.state.isCreateRepoDialogShow});\n  };\n\n  toggleMore = () => {\n    this.setState({ isOpen: !this.state.isOpen });\n  };\n\n  onDropdownToggleKeyDown = (e) => {\n    if (e.key == 'Enter' || e.key == 'Space') {\n      this.toggleMore();\n    }\n  };\n\n  visitDeletedviaKey = (e) => {\n    if (e.key == 'Enter' || e.key == 'Space') {\n      navigate(`${siteRoot}my-libs/deleted/`);\n    }\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"cur-view-toolbar\">\n          <span className=\"sf2-icon-menu side-nav-toggle hidden-md-up d-md-none\" title=\"Side Nav Menu\" onClick={this.props.onShowSidePanel}></span>\n          {Utils.isDesktop() ? (\n            <div className=\"operation\">\n              <button className=\"btn btn-secondary operation-item\" title={gettext('New Library')} onClick={this.onCreateToggle}>\n                <i className=\"fas fa-plus-square text-secondary mr-1\"></i>{gettext('New Library')}\n              </button>\n              <Dropdown isOpen={this.state.isOpen} toggle={this.toggleMore}>\n                <DropdownToggle className='btn btn-secondary operation-item' onKeyDown={this.onDropdownToggleKeyDown}>\n                  {gettext('More')}\n                </DropdownToggle>\n                <DropdownMenu>\n                  <DropdownItem className=\"link-dropdown-container\" onKeyDown={this.visitDeletedviaKey}>\n                    <Link className=\"link-dropdown-item\" to={siteRoot + 'my-libs/deleted/'}>{gettext('Deleted Libraries')}</Link>\n                  </DropdownItem>\n                </DropdownMenu>\n              </Dropdown>\n            </div>\n          ) : (\n            <span className=\"sf2-icon-plus mobile-toolbar-icon\" title={gettext('New Library')} onClick={this.onCreateToggle}></span>\n          )}\n        </div>\n        {this.state.isCreateRepoDialogShow && (\n          <ModalPortal>\n            <CreateRepoDialog\n              libraryType={this.props.libraryType}\n              onCreateRepo={this.onCreateRepo}\n              onCreateToggle={this.onCreateToggle}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nRepoViewToolbar.propTypes = propTypes;\n\nexport default RepoViewToolbar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}