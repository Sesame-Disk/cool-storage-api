{"ast":null,"code":"import _slicedToArray from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useParams}from'@gatsbyjs/reach-router';import React,{useEffect,useState}from'react';import{gettext}from'../../../utils/constants';import Loading from'../../../components/loading';import EmptyTip from'../../../components/empty-tip';import instAdminAPI from'../api';import UserRepoItem from'./user-repo-item';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function UserRepos(){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLoading=_useState2[0],setIsLoading=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),repos=_useState4[0],setRepos=_useState4[1];var params=useParams();useEffect(function(){instAdminAPI.listInstitutionUserRepos(decodeURIComponent(params.email)).then(function(res){var repo_list=res.data.repo_list;setRepos(repo_list);setIsLoading(false);});},[params.email]);if(isLoading){return/*#__PURE__*/_jsx(Loading,{});}if(repos.length===0){return/*#__PURE__*/_jsx(EmptyTip,{children:/*#__PURE__*/_jsx(\"h2\",{children:gettext('No libraries')})});}return/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"5%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"35%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:gettext('Size')}),/*#__PURE__*/_jsx(\"th\",{width:\"25%\",children:gettext('Last Update')}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:repos.map(function(repo){return/*#__PURE__*/_jsx(UserRepoItem,{repo:repo},repo.id);})})]});}","map":{"version":3,"names":["useParams","React","useEffect","useState","gettext","Loading","EmptyTip","instAdminAPI","UserRepoItem","jsx","_jsx","jsxs","_jsxs","UserRepos","_useState","_useState2","_slicedToArray","isLoading","setIsLoading","_useState3","_useState4","repos","setRepos","params","listInstitutionUserRepos","decodeURIComponent","email","then","res","repo_list","data","length","children","width","map","repo","id"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/institution-admin/user-content/user-repos.js"],"sourcesContent":["import { useParams } from '@gatsbyjs/reach-router';\nimport React, { useEffect, useState } from 'react';\nimport { gettext } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\nimport EmptyTip from '../../../components/empty-tip';\nimport instAdminAPI from '../api';\nimport UserRepoItem from './user-repo-item';\n\nexport default function UserRepos() {\n\n  const [isLoading, setIsLoading] = useState(true);\n  const [repos, setRepos] = useState(null);\n  const params = useParams();\n\n  useEffect(() => {\n    instAdminAPI.listInstitutionUserRepos(decodeURIComponent(params.email)).then(res => {\n      const { repo_list } = res.data;\n      setRepos(repo_list);\n      setIsLoading(false);\n    });\n  }, [params.email]);\n\n  if (isLoading) {\n    return <Loading />;\n  }\n\n  if (repos.length === 0) {\n    return (\n      <EmptyTip>\n        <h2>{gettext('No libraries')}</h2>\n      </EmptyTip>\n    );\n  }\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          <th width=\"5%\"></th>\n          <th width=\"35%\">{gettext('Name')}</th>\n          <th width=\"30%\">{gettext('Size')}</th>\n          <th width=\"25%\">{gettext('Last Update')}</th>\n          <th width=\"5%\">{/* Operations */}</th>\n        </tr>\n      </thead>\n      <tbody>\n        {repos.map((repo) => {\n          return <UserRepoItem key={repo.id} repo={repo} />;\n        })}\n      </tbody>\n    </table>\n  );\n}\n"],"mappings":"sJAAA,OAASA,SAAS,KAAQ,wBAAwB,CAClD,MAAO,CAAAC,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,0BAA0B,CAClD,MAAO,CAAAC,OAAO,KAAM,6BAA6B,CACjD,MAAO,CAAAC,QAAQ,KAAM,+BAA+B,CACpD,MAAO,CAAAC,YAAY,KAAM,QAAQ,CACjC,MAAO,CAAAC,YAAY,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,SAASA,CAAA,CAAG,CAElC,IAAAC,SAAA,CAAkCX,QAAQ,CAAC,IAAI,CAAC,CAAAY,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAC9B,IAAAI,UAAA,CAA0BhB,QAAQ,CAAC,IAAI,CAAC,CAAAiB,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAAjCE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IACtB,GAAM,CAAAG,MAAM,CAAGvB,SAAS,CAAC,CAAC,CAE1BE,SAAS,CAAC,UAAM,CACdK,YAAY,CAACiB,wBAAwB,CAACC,kBAAkB,CAACF,MAAM,CAACG,KAAK,CAAC,CAAC,CAACC,IAAI,CAAC,SAAAC,GAAG,CAAI,CAClF,GAAQ,CAAAC,SAAS,CAAKD,GAAG,CAACE,IAAI,CAAtBD,SAAS,CACjBP,QAAQ,CAACO,SAAS,CAAC,CACnBX,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAC,CACJ,CAAC,CAAE,CAACK,MAAM,CAACG,KAAK,CAAC,CAAC,CAElB,GAAIT,SAAS,CAAE,CACb,mBAAOP,IAAA,CAACL,OAAO,GAAE,CAAC,CACpB,CAEA,GAAIgB,KAAK,CAACU,MAAM,GAAK,CAAC,CAAE,CACtB,mBACErB,IAAA,CAACJ,QAAQ,EAAA0B,QAAA,cACPtB,IAAA,OAAAsB,QAAA,CAAK5B,OAAO,CAAC,cAAc,CAAC,CAAK,CAAC,CAC1B,CAAC,CAEf,CAEA,mBACEQ,KAAA,UAAAoB,QAAA,eACEtB,IAAA,UAAAsB,QAAA,cACEpB,KAAA,OAAAoB,QAAA,eACEtB,IAAA,OAAIuB,KAAK,CAAC,IAAI,CAAK,CAAC,cACpBvB,IAAA,OAAIuB,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAE5B,OAAO,CAAC,MAAM,CAAC,CAAK,CAAC,cACtCM,IAAA,OAAIuB,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAE5B,OAAO,CAAC,MAAM,CAAC,CAAK,CAAC,cACtCM,IAAA,OAAIuB,KAAK,CAAC,KAAK,CAAAD,QAAA,CAAE5B,OAAO,CAAC,aAAa,CAAC,CAAK,CAAC,cAC7CM,IAAA,OAAIuB,KAAK,CAAC,IAAI,CAAuB,CAAC,EACpC,CAAC,CACA,CAAC,cACRvB,IAAA,UAAAsB,QAAA,CACGX,KAAK,CAACa,GAAG,CAAC,SAACC,IAAI,CAAK,CACnB,mBAAOzB,IAAA,CAACF,YAAY,EAAe2B,IAAI,CAAEA,IAAK,EAApBA,IAAI,CAACC,EAAiB,CAAC,CACnD,CAAC,CAAC,CACG,CAAC,EACH,CAAC,CAEZ"},"metadata":{},"sourceType":"module","externalDependencies":[]}