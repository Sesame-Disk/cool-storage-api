{"ast":null,"code":"function words(str) {\n  var obj = {},\n    words = str.split(\" \");\n  for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n  return obj;\n}\nvar bodiedOps = words(\"Assert BackQuote D Defun Deriv For ForEach FromFile \" + \"FromString Function Integrate InverseTaylor Limit \" + \"LocalSymbols Macro MacroRule MacroRulePattern \" + \"NIntegrate Rule RulePattern Subst TD TExplicitSum \" + \"TSum Taylor Taylor1 Taylor2 Taylor3 ToFile \" + \"ToStdout ToString TraceRule Until While\");\n\n// patterns\nvar pFloatForm = \"(?:(?:\\\\.\\\\d+|\\\\d+\\\\.\\\\d*|\\\\d+)(?:[eE][+-]?\\\\d+)?)\";\nvar pIdentifier = \"(?:[a-zA-Z\\\\$'][a-zA-Z0-9\\\\$']*)\";\n\n// regular expressions\nvar reFloatForm = new RegExp(pFloatForm);\nvar reIdentifier = new RegExp(pIdentifier);\nvar rePattern = new RegExp(pIdentifier + \"?_\" + pIdentifier);\nvar reFunctionLike = new RegExp(pIdentifier + \"\\\\s*\\\\(\");\nfunction tokenBase(stream, state) {\n  var ch;\n\n  // get next character\n  ch = stream.next();\n\n  // string\n  if (ch === '\"') {\n    state.tokenize = tokenString;\n    return state.tokenize(stream, state);\n  }\n\n  // comment\n  if (ch === '/') {\n    if (stream.eat('*')) {\n      state.tokenize = tokenComment;\n      return state.tokenize(stream, state);\n    }\n    if (stream.eat(\"/\")) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n  }\n\n  // go back one character\n  stream.backUp(1);\n\n  // update scope info\n  var m = stream.match(/^(\\w+)\\s*\\(/, false);\n  if (m !== null && bodiedOps.hasOwnProperty(m[1])) state.scopes.push('bodied');\n  var scope = currentScope(state);\n  if (scope === 'bodied' && ch === '[') state.scopes.pop();\n  if (ch === '[' || ch === '{' || ch === '(') state.scopes.push(ch);\n  scope = currentScope(state);\n  if (scope === '[' && ch === ']' || scope === '{' && ch === '}' || scope === '(' && ch === ')') state.scopes.pop();\n  if (ch === ';') {\n    while (scope === 'bodied') {\n      state.scopes.pop();\n      scope = currentScope(state);\n    }\n  }\n\n  // look for ordered rules\n  if (stream.match(/\\d+ *#/, true, false)) {\n    return 'qualifier';\n  }\n\n  // look for numbers\n  if (stream.match(reFloatForm, true, false)) {\n    return 'number';\n  }\n\n  // look for placeholders\n  if (stream.match(rePattern, true, false)) {\n    return 'variableName.special';\n  }\n\n  // match all braces separately\n  if (stream.match(/(?:\\[|\\]|{|}|\\(|\\))/, true, false)) {\n    return 'bracket';\n  }\n\n  // literals looking like function calls\n  if (stream.match(reFunctionLike, true, false)) {\n    stream.backUp(1);\n    return 'variableName.function';\n  }\n\n  // all other identifiers\n  if (stream.match(reIdentifier, true, false)) {\n    return 'variable';\n  }\n\n  // operators; note that operators like @@ or /; are matched separately for each symbol.\n  if (stream.match(/(?:\\\\|\\+|\\-|\\*|\\/|,|;|\\.|:|@|~|=|>|<|&|\\||_|`|'|\\^|\\?|!|%|#)/, true, false)) {\n    return 'operator';\n  }\n\n  // everything else is an error\n  return 'error';\n}\nfunction tokenString(stream, state) {\n  var next,\n    end = false,\n    escaped = false;\n  while ((next = stream.next()) != null) {\n    if (next === '\"' && !escaped) {\n      end = true;\n      break;\n    }\n    escaped = !escaped && next === '\\\\';\n  }\n  if (end && !escaped) {\n    state.tokenize = tokenBase;\n  }\n  return 'string';\n}\n;\nfunction tokenComment(stream, state) {\n  var prev, next;\n  while ((next = stream.next()) != null) {\n    if (prev === '*' && next === '/') {\n      state.tokenize = tokenBase;\n      break;\n    }\n    prev = next;\n  }\n  return 'comment';\n}\nfunction currentScope(state) {\n  var scope = null;\n  if (state.scopes.length > 0) scope = state.scopes[state.scopes.length - 1];\n  return scope;\n}\nexport var yacas = {\n  name: \"yacas\",\n  startState: function startState() {\n    return {\n      tokenize: tokenBase,\n      scopes: []\n    };\n  },\n  token: function token(stream, state) {\n    if (stream.eatSpace()) return null;\n    return state.tokenize(stream, state);\n  },\n  indent: function indent(state, textAfter, cx) {\n    if (state.tokenize !== tokenBase && state.tokenize !== null) return null;\n    var delta = 0;\n    if (textAfter === ']' || textAfter === '];' || textAfter === '}' || textAfter === '};' || textAfter === ');') delta = -1;\n    return (state.scopes.length + delta) * cx.unit;\n  },\n  languageData: {\n    electricInput: /[{}\\[\\]()\\;]/,\n    commentTokens: {\n      line: \"//\",\n      block: {\n        open: \"/*\",\n        close: \"*/\"\n      }\n    }\n  }\n};","map":{"version":3,"names":["words","str","obj","split","i","length","bodiedOps","pFloatForm","pIdentifier","reFloatForm","RegExp","reIdentifier","rePattern","reFunctionLike","tokenBase","stream","state","ch","next","tokenize","tokenString","eat","tokenComment","skipToEnd","backUp","m","match","hasOwnProperty","scopes","push","scope","currentScope","pop","end","escaped","prev","yacas","name","startState","token","eatSpace","indent","textAfter","cx","delta","unit","languageData","electricInput","commentTokens","line","block","open","close"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@codemirror/legacy-modes/mode/yacas.js"],"sourcesContent":["function words(str) {\n  var obj = {}, words = str.split(\" \");\n  for (var i = 0; i < words.length; ++i) obj[words[i]] = true;\n  return obj;\n}\n\nvar bodiedOps = words(\"Assert BackQuote D Defun Deriv For ForEach FromFile \" +\n                      \"FromString Function Integrate InverseTaylor Limit \" +\n                      \"LocalSymbols Macro MacroRule MacroRulePattern \" +\n                      \"NIntegrate Rule RulePattern Subst TD TExplicitSum \" +\n                      \"TSum Taylor Taylor1 Taylor2 Taylor3 ToFile \" +\n                      \"ToStdout ToString TraceRule Until While\");\n\n// patterns\nvar pFloatForm  = \"(?:(?:\\\\.\\\\d+|\\\\d+\\\\.\\\\d*|\\\\d+)(?:[eE][+-]?\\\\d+)?)\";\nvar pIdentifier = \"(?:[a-zA-Z\\\\$'][a-zA-Z0-9\\\\$']*)\";\n\n// regular expressions\nvar reFloatForm    = new RegExp(pFloatForm);\nvar reIdentifier   = new RegExp(pIdentifier);\nvar rePattern      = new RegExp(pIdentifier + \"?_\" + pIdentifier);\nvar reFunctionLike = new RegExp(pIdentifier + \"\\\\s*\\\\(\");\n\nfunction tokenBase(stream, state) {\n  var ch;\n\n  // get next character\n  ch = stream.next();\n\n  // string\n  if (ch === '\"') {\n    state.tokenize = tokenString;\n    return state.tokenize(stream, state);\n  }\n\n  // comment\n  if (ch === '/') {\n    if (stream.eat('*')) {\n      state.tokenize = tokenComment;\n      return state.tokenize(stream, state);\n    }\n    if (stream.eat(\"/\")) {\n      stream.skipToEnd();\n      return \"comment\";\n    }\n  }\n\n  // go back one character\n  stream.backUp(1);\n\n  // update scope info\n  var m = stream.match(/^(\\w+)\\s*\\(/, false);\n  if (m !== null && bodiedOps.hasOwnProperty(m[1]))\n    state.scopes.push('bodied');\n\n  var scope = currentScope(state);\n\n  if (scope === 'bodied' && ch === '[')\n    state.scopes.pop();\n\n  if (ch === '[' || ch === '{' || ch === '(')\n    state.scopes.push(ch);\n\n  scope = currentScope(state);\n\n  if (scope === '[' && ch === ']' ||\n      scope === '{' && ch === '}' ||\n      scope === '(' && ch === ')')\n    state.scopes.pop();\n\n  if (ch === ';') {\n    while (scope === 'bodied') {\n      state.scopes.pop();\n      scope = currentScope(state);\n    }\n  }\n\n  // look for ordered rules\n  if (stream.match(/\\d+ *#/, true, false)) {\n    return 'qualifier';\n  }\n\n  // look for numbers\n  if (stream.match(reFloatForm, true, false)) {\n    return 'number';\n  }\n\n  // look for placeholders\n  if (stream.match(rePattern, true, false)) {\n    return 'variableName.special';\n  }\n\n  // match all braces separately\n  if (stream.match(/(?:\\[|\\]|{|}|\\(|\\))/, true, false)) {\n    return 'bracket';\n  }\n\n  // literals looking like function calls\n  if (stream.match(reFunctionLike, true, false)) {\n    stream.backUp(1);\n    return 'variableName.function';\n  }\n\n  // all other identifiers\n  if (stream.match(reIdentifier, true, false)) {\n    return 'variable';\n  }\n\n  // operators; note that operators like @@ or /; are matched separately for each symbol.\n  if (stream.match(/(?:\\\\|\\+|\\-|\\*|\\/|,|;|\\.|:|@|~|=|>|<|&|\\||_|`|'|\\^|\\?|!|%|#)/, true, false)) {\n    return 'operator';\n  }\n\n  // everything else is an error\n  return 'error';\n}\n\nfunction tokenString(stream, state) {\n  var next, end = false, escaped = false;\n  while ((next = stream.next()) != null) {\n    if (next === '\"' && !escaped) {\n      end = true;\n      break;\n    }\n    escaped = !escaped && next === '\\\\';\n  }\n  if (end && !escaped) {\n    state.tokenize = tokenBase;\n  }\n  return 'string';\n};\n\nfunction tokenComment(stream, state) {\n  var prev, next;\n  while((next = stream.next()) != null) {\n    if (prev === '*' && next === '/') {\n      state.tokenize = tokenBase;\n      break;\n    }\n    prev = next;\n  }\n  return 'comment';\n}\n\nfunction currentScope(state) {\n  var scope = null;\n  if (state.scopes.length > 0)\n    scope = state.scopes[state.scopes.length - 1];\n  return scope;\n}\n\nexport const yacas = {\n  name: \"yacas\",\n  startState: function() {\n    return {\n      tokenize: tokenBase,\n      scopes: []\n    };\n  },\n  token: function(stream, state) {\n    if (stream.eatSpace()) return null;\n    return state.tokenize(stream, state);\n  },\n  indent: function(state, textAfter, cx) {\n    if (state.tokenize !== tokenBase && state.tokenize !== null)\n      return null;\n\n    var delta = 0;\n    if (textAfter === ']' || textAfter === '];' ||\n        textAfter === '}' || textAfter === '};' ||\n        textAfter === ');')\n      delta = -1;\n\n    return (state.scopes.length + delta) * cx.unit;\n  },\n\n  languageData: {\n    electricInput: /[{}\\[\\]()\\;]/,\n    commentTokens: {line: \"//\", block: {open: \"/*\", close: \"*/\"}}\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}