{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.moveListItemsToList = void 0;\nvar _slate = require(\"slate\");\nvar _core = require(\"../../../core\");\nvar _constant = require(\"../constant\");\nvar moveListItemsToList = function moveListItemsToList(editor, _ref) {\n  var fromList = _ref.fromList,\n    fromListItem = _ref.fromListItem,\n    fromStartIndex = _ref.fromStartIndex,\n    _to = _ref.to,\n    toList = _ref.toList,\n    _ref$toListIndex = _ref.toListIndex,\n    toListIndex = _ref$toListIndex === void 0 ? null : _ref$toListIndex,\n    _ref$deleteFromList = _ref.deleteFromList,\n    deleteFromList = _ref$deleteFromList === void 0 ? true : _ref$deleteFromList;\n  var fromListPath = null;\n  var moved = false;\n  _slate.Editor.withoutNormalizing(editor, function () {\n    if (fromListItem) {\n      var fromListItemSubList = (0, _core.findDescendant)(editor, {\n        at: fromListItem[1],\n        match: {\n          type: _constant.LIST_TYPES\n        }\n      });\n      if (!fromListItemSubList) return;\n      fromListPath = fromListItemSubList === null || fromListItemSubList === void 0 ? void 0 : fromListItemSubList[1];\n    } else if (fromList) {\n      fromListPath = fromList[1];\n    } else {\n      return;\n    }\n    var to = null;\n    if (_to) to = _to;\n    if (toList) {\n      if (toListIndex !== null) {\n        to = toList[1].concat([toListIndex]);\n      } else {\n        var lastChildPath = (0, _core.getLastChildPath)(toList);\n        to = _slate.Path.next(lastChildPath);\n      }\n    }\n    if (!to) return;\n    moved = (0, _core.moveChildren)(editor, {\n      at: fromListPath,\n      to: to,\n      fromStartIndex: fromStartIndex\n    });\n\n    // Remove the empty list\n    if (deleteFromList) {\n      _slate.Transforms.delete(editor, {\n        at: fromListPath\n      });\n    }\n  });\n  return moved;\n};\nexports.moveListItemsToList = moveListItemsToList;","map":{"version":3,"names":["Object","defineProperty","exports","value","moveListItemsToList","_slate","require","_core","_constant","editor","_ref","fromList","fromListItem","fromStartIndex","_to","to","toList","_ref$toListIndex","toListIndex","_ref$deleteFromList","deleteFromList","fromListPath","moved","Editor","withoutNormalizing","fromListItemSubList","findDescendant","at","match","type","LIST_TYPES","concat","lastChildPath","getLastChildPath","Path","next","moveChildren","Transforms","delete"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/list/transforms/move-list-items-to-list.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.moveListItemsToList = void 0;\nvar _slate = require(\"slate\");\nvar _core = require(\"../../../core\");\nvar _constant = require(\"../constant\");\nconst moveListItemsToList = (editor, _ref) => {\n  let {\n    fromList,\n    fromListItem,\n    fromStartIndex,\n    to: _to,\n    toList,\n    toListIndex = null,\n    deleteFromList = true\n  } = _ref;\n  let fromListPath = null;\n  let moved = false;\n  _slate.Editor.withoutNormalizing(editor, () => {\n    if (fromListItem) {\n      const fromListItemSubList = (0, _core.findDescendant)(editor, {\n        at: fromListItem[1],\n        match: {\n          type: _constant.LIST_TYPES\n        }\n      });\n      if (!fromListItemSubList) return;\n      fromListPath = fromListItemSubList === null || fromListItemSubList === void 0 ? void 0 : fromListItemSubList[1];\n    } else if (fromList) {\n      fromListPath = fromList[1];\n    } else {\n      return;\n    }\n    let to = null;\n    if (_to) to = _to;\n    if (toList) {\n      if (toListIndex !== null) {\n        to = toList[1].concat([toListIndex]);\n      } else {\n        const lastChildPath = (0, _core.getLastChildPath)(toList);\n        to = _slate.Path.next(lastChildPath);\n      }\n    }\n    if (!to) return;\n    moved = (0, _core.moveChildren)(editor, {\n      at: fromListPath,\n      to,\n      fromStartIndex\n    });\n\n    // Remove the empty list\n    if (deleteFromList) {\n      _slate.Transforms.delete(editor, {\n        at: fromListPath\n      });\n    }\n  });\n  return moved;\n};\nexports.moveListItemsToList = moveListItemsToList;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,mBAAmB,GAAG,KAAK,CAAC;AACpC,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC7B,IAAIC,KAAK,GAAGD,OAAO,CAAC,eAAe,CAAC;AACpC,IAAIE,SAAS,GAAGF,OAAO,CAAC,aAAa,CAAC;AACtC,IAAMF,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIK,MAAM,EAAEC,IAAI,EAAK;EAC5C,IACEC,QAAQ,GAOND,IAAI,CAPNC,QAAQ;IACRC,YAAY,GAMVF,IAAI,CANNE,YAAY;IACZC,cAAc,GAKZH,IAAI,CALNG,cAAc;IACVC,GAAG,GAILJ,IAAI,CAJNK,EAAE;IACFC,MAAM,GAGJN,IAAI,CAHNM,MAAM;IAAAC,gBAAA,GAGJP,IAAI,CAFNQ,WAAW;IAAXA,WAAW,GAAAD,gBAAA,cAAG,IAAI,GAAAA,gBAAA;IAAAE,mBAAA,GAEhBT,IAAI,CADNU,cAAc;IAAdA,cAAc,GAAAD,mBAAA,cAAG,IAAI,GAAAA,mBAAA;EAEvB,IAAIE,YAAY,GAAG,IAAI;EACvB,IAAIC,KAAK,GAAG,KAAK;EACjBjB,MAAM,CAACkB,MAAM,CAACC,kBAAkB,CAACf,MAAM,EAAE,YAAM;IAC7C,IAAIG,YAAY,EAAE;MAChB,IAAMa,mBAAmB,GAAG,CAAC,CAAC,EAAElB,KAAK,CAACmB,cAAc,EAAEjB,MAAM,EAAE;QAC5DkB,EAAE,EAAEf,YAAY,CAAC,CAAC,CAAC;QACnBgB,KAAK,EAAE;UACLC,IAAI,EAAErB,SAAS,CAACsB;QAClB;MACF,CAAC,CAAC;MACF,IAAI,CAACL,mBAAmB,EAAE;MAC1BJ,YAAY,GAAGI,mBAAmB,KAAK,IAAI,IAAIA,mBAAmB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,mBAAmB,CAAC,CAAC,CAAC;IACjH,CAAC,MAAM,IAAId,QAAQ,EAAE;MACnBU,YAAY,GAAGV,QAAQ,CAAC,CAAC,CAAC;IAC5B,CAAC,MAAM;MACL;IACF;IACA,IAAII,EAAE,GAAG,IAAI;IACb,IAAID,GAAG,EAAEC,EAAE,GAAGD,GAAG;IACjB,IAAIE,MAAM,EAAE;MACV,IAAIE,WAAW,KAAK,IAAI,EAAE;QACxBH,EAAE,GAAGC,MAAM,CAAC,CAAC,CAAC,CAACe,MAAM,CAAC,CAACb,WAAW,CAAC,CAAC;MACtC,CAAC,MAAM;QACL,IAAMc,aAAa,GAAG,CAAC,CAAC,EAAEzB,KAAK,CAAC0B,gBAAgB,EAAEjB,MAAM,CAAC;QACzDD,EAAE,GAAGV,MAAM,CAAC6B,IAAI,CAACC,IAAI,CAACH,aAAa,CAAC;MACtC;IACF;IACA,IAAI,CAACjB,EAAE,EAAE;IACTO,KAAK,GAAG,CAAC,CAAC,EAAEf,KAAK,CAAC6B,YAAY,EAAE3B,MAAM,EAAE;MACtCkB,EAAE,EAAEN,YAAY;MAChBN,EAAE,EAAFA,EAAE;MACFF,cAAc,EAAdA;IACF,CAAC,CAAC;;IAEF;IACA,IAAIO,cAAc,EAAE;MAClBf,MAAM,CAACgC,UAAU,CAACC,MAAM,CAAC7B,MAAM,EAAE;QAC/BkB,EAAE,EAAEN;MACN,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACF,OAAOC,KAAK;AACd,CAAC;AACDpB,OAAO,CAACE,mBAAmB,GAAGA,mBAAmB"},"metadata":{},"sourceType":"script","externalDependencies":[]}