{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import moment from'moment';import{Button,Form,FormGroup,Label,Input,InputGroup,InputGroupAddon,Alert}from'reactstrap';import{isPro,gettext,shareLinkExpireDaysMin,shareLinkExpireDaysMax,shareLinkExpireDaysDefault,shareLinkForceUsePassword,shareLinkPasswordMinLength,shareLinkPasswordStrengthLevel}from'../../utils/constants';import{seafileAPI}from'../../utils/seafile-api';import{Utils}from'../../utils/utils';import ShareLink from'../../models/share-link';import toaster from'../toast';import SetLinkExpiration from'../set-link-expiration';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var inputWidth=Utils.isDesktop()?250:210;var SHARE_LINK_MAX_NUMBER=200;var LinkCreation=/*#__PURE__*/function(_React$Component){_inherits(LinkCreation,_React$Component);var _super=_createSuper(LinkCreation);function LinkCreation(props){var _this;_classCallCheck(this,LinkCreation);_this=_super.call(this,props);_this.setExpType=function(e){_this.setState({expType:e.target.value});};_this.onExpDateChanged=function(value){_this.setState({expDate:value});};_this.onPasswordInputChecked=function(){_this.setState({isShowPasswordInput:!_this.state.isShowPasswordInput,password:'',passwdnew:'',errorInfo:''});};_this.togglePasswordVisible=function(){_this.setState({isPasswordVisible:!_this.state.isPasswordVisible});};_this.generatePassword=function(){var val=Utils.generatePassword(shareLinkPasswordMinLength);_this.setState({password:val,passwdnew:val});};_this.inputPassword=function(e){var passwd=e.target.value.trim();_this.setState({password:passwd});};_this.inputPasswordNew=function(e){var passwd=e.target.value.trim();_this.setState({passwdnew:passwd});};_this.setPermission=function(e){_this.setState({currentPermission:e.target.value});};_this.generateShareLink=function(){var isValid=_this.validateParamsInput();if(isValid){_this.setState({errorInfo:''});var _this$props=_this.props,type=_this$props.type,itemPath=_this$props.itemPath,repoID=_this$props.repoID;var _this$state=_this.state,linkAmount=_this$state.linkAmount,isShowPasswordInput=_this$state.isShowPasswordInput,password=_this$state.password,isExpireChecked=_this$state.isExpireChecked,expType=_this$state.expType,expireDays=_this$state.expireDays,expDate=_this$state.expDate;var permissions;if(isPro){var permissionDetails=Utils.getShareLinkPermissionObject(_this.state.currentPermission).permissionDetails;permissions=JSON.stringify(permissionDetails);}var expirationTime='';if(isExpireChecked){if(expType=='by-days'){expirationTime=moment().add(parseInt(expireDays),'days').format();}else{expirationTime=expDate.format();}}var request;if(type=='batch'){var autoGeneratePassword=shareLinkForceUsePassword||isShowPasswordInput;request=seafileAPI.batchCreateMultiShareLink(repoID,itemPath,linkAmount,autoGeneratePassword,expirationTime,permissions);}else{request=seafileAPI.createMultiShareLink(repoID,itemPath,password,expirationTime,permissions);}request.then(function(res){if(type=='batch'){var newLinks=res.data.map(function(item){return new ShareLink(item);});_this.props.updateAfterCreation(newLinks);}else{var newLink=new ShareLink(res.data);_this.props.updateAfterCreation(newLink);}}).catch(function(error){var resp_data=error.response.data;var errMessage=resp_data&&resp_data['error_msg'];if(errMessage==='Folder permission denied.'){_this.setState({errorInfo:gettext('Share links cannot be generated because \"Invisible\", \"Online Read-Write\" or \"Online Read-Only\" is set for you on some folder(s) in the library.')});}else{var _errMessage=Utils.getErrorMsg(error);toaster.danger(_errMessage);}});}};_this.onExpireChecked=function(e){_this.setState({isExpireChecked:e.target.checked});};_this.onExpireDaysChanged=function(e){var day=e.target.value.trim();_this.setState({expireDays:day});};_this.validateParamsInput=function(){var type=_this.props.type;var _this$state2=_this.state,linkAmount=_this$state2.linkAmount,isShowPasswordInput=_this$state2.isShowPasswordInput,password=_this$state2.password,passwdnew=_this$state2.passwdnew,isExpireChecked=_this$state2.isExpireChecked,expType=_this$state2.expType,expireDays=_this$state2.expireDays,expDate=_this$state2.expDate;if(type=='batch'){if(!Number.isInteger(parseInt(linkAmount))||parseInt(linkAmount)<=1){_this.setState({errorInfo:gettext('Please enter an integer bigger than 1 as number of links.')});return false;}if(parseInt(linkAmount)>SHARE_LINK_MAX_NUMBER){_this.setState({errorInfo:gettext('Please enter an integer not bigger than {max_number} as number of links.').replace('{max_number}',SHARE_LINK_MAX_NUMBER)});return false;}}if(type=='single'&&isShowPasswordInput){if(password.length===0){_this.setState({errorInfo:gettext('Please enter a password.')});return false;}if(password.length<shareLinkPasswordMinLength){_this.setState({errorInfo:gettext('The password is too short.')});return false;}if(password!==passwdnew){_this.setState({errorInfo:gettext('Passwords don\\'t match')});return false;}if(Utils.getStrengthLevel(password)<shareLinkPasswordStrengthLevel){_this.setState({errorInfo:gettext('The password is too weak. It should include at least {passwordStrengthLevel} of the following: number, upper letter, lower letter and other symbols.').replace('{passwordStrengthLevel}',shareLinkPasswordStrengthLevel)});return false;}}if(isExpireChecked){if(expType=='by-date'){if(!expDate){_this.setState({errorInfo:gettext('Please select an expiration time')});return false;}return true;}// by days\nvar reg=/^\\d+$/;if(!expireDays){_this.setState({errorInfo:gettext('Please enter days')});return false;}if(!reg.test(expireDays)){_this.setState({errorInfo:gettext('Please enter a non-negative integer')});return false;}expireDays=parseInt(expireDays);var minDays=shareLinkExpireDaysMin;var maxDays=shareLinkExpireDaysMax;if(minDays!==0&&maxDays==0){if(expireDays<minDays){_this.setState({errorInfo:'Please enter valid days'});return false;}}if(minDays===0&&maxDays!==0){if(expireDays>maxDays){_this.setState({errorInfo:'Please enter valid days'});return false;}}if(minDays!==0&&maxDays!==0){if(expireDays<minDays||expireDays>maxDays){_this.setState({errorInfo:'Please enter valid days'});return false;}}_this.setState({expireDays:expireDays});}return true;};_this.onLinkAmountChange=function(e){_this.setState({linkAmount:e.target.value});};_this.goBack=function(){_this.props.setMode('');};_this.isExpireDaysNoLimit=shareLinkExpireDaysMin===0&&shareLinkExpireDaysMax===0&&shareLinkExpireDaysDefault==0;_this.defaultExpireDays=_this.isExpireDaysNoLimit?'':shareLinkExpireDaysDefault;_this.state={linkAmount:'',isShowPasswordInput:shareLinkForceUsePassword?true:false,isPasswordVisible:false,isExpireChecked:!_this.isExpireDaysNoLimit,expType:'by-days',expireDays:_this.defaultExpireDays,expDate:null,password:'',passwdnew:'',errorInfo:'',currentPermission:props.currentPermission};return _this;}_createClass(LinkCreation,[{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,userPerm=_this$props2.userPerm,type=_this$props2.type,permissionOptions=_this$props2.permissionOptions;var _Utils$getUserPermiss=Utils.getUserPermission(userPerm),isCustomPermission=_Utils$getUserPermiss.isCustomPermission;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center pb-2 border-bottom\",children:/*#__PURE__*/_jsxs(\"h6\",{className:\"font-weight-normal m-0\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"fa fa-arrow-left back-icon border-0 bg-transparent text-secondary p-0 mr-2\",onClick:this.goBack,title:gettext('Back'),\"aria-label\":gettext('Back')}),type=='batch'?gettext('Generate links in batch'):gettext('Generate Link')]})}),/*#__PURE__*/_jsxs(Form,{className:\"pt-4\",children:[type=='batch'&&/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"link-number\",className:\"p-0\",children:gettext('Number of links')}),/*#__PURE__*/_jsx(Input,{type:\"number\",id:\"link-number\",value:this.state.linkAmount,onChange:this.onLinkAmountChange,style:{width:inputWidth}})]}),/*#__PURE__*/_jsxs(FormGroup,{check:true,children:[shareLinkForceUsePassword?/*#__PURE__*/_jsxs(Label,{check:true,children:[/*#__PURE__*/_jsx(Input,{type:\"checkbox\",checked:true,readOnly:true,disabled:true}),/*#__PURE__*/_jsx(\"span\",{children:gettext('Add password protection')})]}):/*#__PURE__*/_jsxs(Label,{check:true,children:[/*#__PURE__*/_jsx(Input,{type:\"checkbox\",checked:this.state.isShowPasswordInput,onChange:this.onPasswordInputChecked}),/*#__PURE__*/_jsx(\"span\",{children:gettext('Add password protection')})]}),type!='batch'&&this.state.isShowPasswordInput&&/*#__PURE__*/_jsxs(\"div\",{className:\"ml-4\",children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"passwd\",children:gettext('Password')}),/*#__PURE__*/_jsx(\"span\",{className:\"tip\",children:gettext('(at least {passwordMinLength} characters and includes {passwordStrengthLevel} of the following: number, upper letter, lower letter and other symbols)').replace('{passwordMinLength}',shareLinkPasswordMinLength).replace('{passwordStrengthLevel}',shareLinkPasswordStrengthLevel)}),/*#__PURE__*/_jsxs(InputGroup,{style:{width:inputWidth},children:[/*#__PURE__*/_jsx(Input,{id:\"passwd\",type:this.state.isPasswordVisible?'text':'password',value:this.state.password||'',onChange:this.inputPassword}),/*#__PURE__*/_jsxs(InputGroupAddon,{addonType:\"append\",children:[/*#__PURE__*/_jsx(Button,{onClick:this.togglePasswordVisible,children:/*#__PURE__*/_jsx(\"i\",{className:\"link-operation-icon fas \".concat(this.state.isPasswordVisible?'fa-eye':'fa-eye-slash')})}),/*#__PURE__*/_jsx(Button,{onClick:this.generatePassword,children:/*#__PURE__*/_jsx(\"i\",{className:\"link-operation-icon fas fa-magic\"})})]})]})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"passwd-again\",children:gettext('Password again')}),/*#__PURE__*/_jsx(Input,{id:\"passwd-again\",style:{width:inputWidth},type:this.state.isPasswordVisible?'text':'password',value:this.state.passwdnew||'',onChange:this.inputPasswordNew})]})]})]}),/*#__PURE__*/_jsxs(FormGroup,{check:true,children:[/*#__PURE__*/_jsxs(Label,{check:true,children:[this.isExpireDaysNoLimit?/*#__PURE__*/_jsx(Input,{type:\"checkbox\",onChange:this.onExpireChecked}):/*#__PURE__*/_jsx(Input,{type:\"checkbox\",checked:true,readOnly:true,disabled:true}),/*#__PURE__*/_jsx(\"span\",{children:gettext('Add auto expiration')})]}),this.state.isExpireChecked&&/*#__PURE__*/_jsx(\"div\",{className:\"ml-4\",children:/*#__PURE__*/_jsx(SetLinkExpiration,{minDays:shareLinkExpireDaysMin,maxDays:shareLinkExpireDaysMax,defaultDays:shareLinkExpireDaysDefault,expType:this.state.expType,setExpType:this.setExpType,expireDays:this.state.expireDays,onExpireDaysChanged:this.onExpireDaysChanged,expDate:this.state.expDate,onExpDateChanged:this.onExpDateChanged})})]}),isPro&&!isCustomPermission&&/*#__PURE__*/_jsxs(FormGroup,{check:true,children:[/*#__PURE__*/_jsx(Label,{check:true,children:/*#__PURE__*/_jsx(\"span\",{children:gettext('Set permission')})}),permissionOptions.map(function(item,index){return/*#__PURE__*/_jsx(FormGroup,{check:true,className:\"ml-4\",children:/*#__PURE__*/_jsxs(Label,{check:true,children:[/*#__PURE__*/_jsx(Input,{type:\"radio\",name:\"permission\",value:item,checked:_this2.state.currentPermission==item,onChange:_this2.setPermission,className:\"mr-1\"}),Utils.getShareLinkPermissionObject(item).text]})},index);})]}),this.state.errorInfo&&/*#__PURE__*/_jsx(Alert,{color:\"danger\",className:\"mt-2\",children:gettext(this.state.errorInfo)}),/*#__PURE__*/_jsx(Button,{onClick:this.generateShareLink,className:\"mt-2 ml-1 mb-1\",children:gettext('Generate')})]})]});}}]);return LinkCreation;}(React.Component);export default LinkCreation;","map":{"version":3,"names":["React","Fragment","moment","Button","Form","FormGroup","Label","Input","InputGroup","InputGroupAddon","Alert","isPro","gettext","shareLinkExpireDaysMin","shareLinkExpireDaysMax","shareLinkExpireDaysDefault","shareLinkForceUsePassword","shareLinkPasswordMinLength","shareLinkPasswordStrengthLevel","seafileAPI","Utils","ShareLink","toaster","SetLinkExpiration","jsx","_jsx","jsxs","_jsxs","inputWidth","isDesktop","SHARE_LINK_MAX_NUMBER","LinkCreation","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","setExpType","e","setState","expType","target","value","onExpDateChanged","expDate","onPasswordInputChecked","isShowPasswordInput","state","password","passwdnew","errorInfo","togglePasswordVisible","isPasswordVisible","generatePassword","val","inputPassword","passwd","trim","inputPasswordNew","setPermission","currentPermission","generateShareLink","isValid","validateParamsInput","_this$props","type","itemPath","repoID","_this$state","linkAmount","isExpireChecked","expireDays","permissions","permissionDetails","getShareLinkPermissionObject","JSON","stringify","expirationTime","add","parseInt","format","request","autoGeneratePassword","batchCreateMultiShareLink","createMultiShareLink","then","res","newLinks","data","map","item","updateAfterCreation","newLink","catch","error","resp_data","response","errMessage","getErrorMsg","danger","onExpireChecked","checked","onExpireDaysChanged","day","_this$state2","Number","isInteger","replace","length","getStrengthLevel","reg","test","minDays","maxDays","onLinkAmountChange","goBack","setMode","isExpireDaysNoLimit","defaultExpireDays","_createClass","key","render","_this2","_this$props2","userPerm","permissionOptions","_Utils$getUserPermiss","getUserPermission","isCustomPermission","children","className","onClick","title","for","id","onChange","style","width","check","readOnly","disabled","addonType","concat","defaultDays","index","name","text","color","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/share-link-panel/link-creation.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Button, Form, FormGroup, Label, Input, InputGroup, InputGroupAddon, Alert } from 'reactstrap';\nimport { isPro, gettext, shareLinkExpireDaysMin, shareLinkExpireDaysMax, shareLinkExpireDaysDefault, shareLinkForceUsePassword, shareLinkPasswordMinLength, shareLinkPasswordStrengthLevel } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport ShareLink from '../../models/share-link';\nimport toaster from '../toast';\nimport SetLinkExpiration from '../set-link-expiration';\n\nconst propTypes = {\n  itemPath: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  userPerm: PropTypes.string,\n  type: PropTypes.string.isRequired,\n  permissionOptions: PropTypes.array.isRequired,\n  currentPermission: PropTypes.string.isRequired,\n  updateAfterCreation: PropTypes.func.isRequired,\n  setMode: PropTypes.func.isRequired,\n};\n\nconst inputWidth = Utils.isDesktop() ? 250 : 210;\nconst SHARE_LINK_MAX_NUMBER = 200;\n\nclass LinkCreation extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    this.isExpireDaysNoLimit = (shareLinkExpireDaysMin === 0 && shareLinkExpireDaysMax === 0 && shareLinkExpireDaysDefault == 0);\n    this.defaultExpireDays = this.isExpireDaysNoLimit ? '' : shareLinkExpireDaysDefault;\n\n    this.state = {\n      linkAmount: '',\n      isShowPasswordInput: shareLinkForceUsePassword ? true : false,\n      isPasswordVisible: false,\n      isExpireChecked: !this.isExpireDaysNoLimit,\n      expType: 'by-days',\n      expireDays: this.defaultExpireDays,\n      expDate: null,\n      password: '',\n      passwdnew: '',\n      errorInfo: '',\n      currentPermission: props.currentPermission\n    };\n  }\n\n  setExpType = (e) => {\n    this.setState({\n      expType: e.target.value\n    });\n  };\n\n  onExpDateChanged = (value) => {\n    this.setState({\n      expDate: value\n    });\n  };\n\n  onPasswordInputChecked = () => {\n    this.setState({\n      isShowPasswordInput: !this.state.isShowPasswordInput,\n      password: '',\n      passwdnew: '',\n      errorInfo: ''\n    });\n  };\n\n  togglePasswordVisible = () => {\n    this.setState({\n      isPasswordVisible: !this.state.isPasswordVisible\n    });\n  };\n\n  generatePassword = () => {\n    let val = Utils.generatePassword(shareLinkPasswordMinLength);\n    this.setState({\n      password: val,\n      passwdnew: val\n    });\n  };\n\n  inputPassword = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({password: passwd});\n  };\n\n  inputPasswordNew = (e) => {\n    let passwd = e.target.value.trim();\n    this.setState({passwdnew: passwd});\n  };\n\n  setPermission = (e) => {\n    this.setState({currentPermission: e.target.value});\n  };\n\n  generateShareLink = () => {\n    let isValid = this.validateParamsInput();\n    if (isValid) {\n      this.setState({errorInfo: ''});\n      let { type, itemPath, repoID } = this.props;\n      let { linkAmount, isShowPasswordInput, password, isExpireChecked, expType, expireDays, expDate } = this.state;\n      let permissions;\n      if (isPro) {\n        const permissionDetails = Utils.getShareLinkPermissionObject(this.state.currentPermission).permissionDetails;\n        permissions = JSON.stringify(permissionDetails);\n      }\n      let expirationTime = '';\n      if (isExpireChecked) {\n        if (expType == 'by-days') {\n          expirationTime = moment().add(parseInt(expireDays), 'days').format();\n        } else {\n          expirationTime = expDate.format();\n        }\n      }\n\n      let request;\n      if (type == 'batch') {\n        const autoGeneratePassword = shareLinkForceUsePassword || isShowPasswordInput;\n        request = seafileAPI.batchCreateMultiShareLink(repoID, itemPath, linkAmount, autoGeneratePassword, expirationTime, permissions);\n      } else {\n        request = seafileAPI.createMultiShareLink(repoID, itemPath, password, expirationTime, permissions);\n      }\n\n      request.then((res) => {\n        if (type == 'batch') {\n          const newLinks = res.data.map(item => new ShareLink(item));\n          this.props.updateAfterCreation(newLinks);\n        } else {\n          const newLink = new ShareLink(res.data);\n          this.props.updateAfterCreation(newLink);\n        }\n      }).catch((error) => {\n        let resp_data = error.response.data;\n        let errMessage = resp_data && resp_data['error_msg'];\n        if (errMessage === 'Folder permission denied.') {\n          this.setState({errorInfo: gettext('Share links cannot be generated because \"Invisible\", \"Online Read-Write\" or \"Online Read-Only\" is set for you on some folder(s) in the library.')});\n        } else {\n          let errMessage = Utils.getErrorMsg(error);\n          toaster.danger(errMessage);\n        }\n      });\n    }\n  };\n\n  onExpireChecked = (e) => {\n    this.setState({isExpireChecked: e.target.checked});\n  };\n\n  onExpireDaysChanged = (e) => {\n    let day = e.target.value.trim();\n    this.setState({expireDays: day});\n  };\n\n  validateParamsInput = () => {\n    const { type } = this.props;\n    let { linkAmount, isShowPasswordInput, password, passwdnew, isExpireChecked, expType, expireDays, expDate } = this.state;\n\n    if (type == 'batch') {\n      if (!Number.isInteger(parseInt(linkAmount)) || parseInt(linkAmount) <= 1) {\n        this.setState({errorInfo: gettext('Please enter an integer bigger than 1 as number of links.')});\n        return false;\n      }\n      if (parseInt(linkAmount) > SHARE_LINK_MAX_NUMBER) {\n        this.setState({errorInfo: gettext('Please enter an integer not bigger than {max_number} as number of links.').replace('{max_number}', SHARE_LINK_MAX_NUMBER)});\n        return false;\n      }\n    }\n\n    if (type == 'single' && isShowPasswordInput) {\n      if (password.length === 0) {\n        this.setState({errorInfo: gettext('Please enter a password.')});\n        return false;\n      }\n      if (password.length < shareLinkPasswordMinLength) {\n        this.setState({errorInfo: gettext('The password is too short.')});\n        return false;\n      }\n      if (password !== passwdnew) {\n        this.setState({errorInfo: gettext('Passwords don\\'t match')});\n        return false;\n      }\n      if (Utils.getStrengthLevel(password) < shareLinkPasswordStrengthLevel) {\n        this.setState({errorInfo: gettext('The password is too weak. It should include at least {passwordStrengthLevel} of the following: number, upper letter, lower letter and other symbols.').replace('{passwordStrengthLevel}', shareLinkPasswordStrengthLevel)});\n        return false;\n      }\n    }\n\n    if (isExpireChecked) {\n      if (expType == 'by-date') {\n        if (!expDate) {\n          this.setState({errorInfo: gettext('Please select an expiration time')});\n          return false;\n        }\n        return true;\n      }\n\n      // by days\n      let reg = /^\\d+$/;\n      if (!expireDays) {\n        this.setState({errorInfo: gettext('Please enter days')});\n        return false;\n      }\n      if (!reg.test(expireDays)) {\n        this.setState({errorInfo: gettext('Please enter a non-negative integer')});\n        return false;\n      }\n\n      expireDays = parseInt(expireDays);\n      let minDays = shareLinkExpireDaysMin;\n      let maxDays = shareLinkExpireDaysMax;\n\n      if (minDays !== 0 && maxDays == 0) {\n        if (expireDays < minDays) {\n          this.setState({errorInfo: 'Please enter valid days'});\n          return false;\n        }\n      }\n\n      if (minDays === 0 && maxDays !== 0 ) {\n        if (expireDays > maxDays) {\n          this.setState({errorInfo: 'Please enter valid days'});\n          return false;\n        }\n      }\n\n      if (minDays !== 0 && maxDays !== 0) {\n        if (expireDays < minDays || expireDays > maxDays) {\n          this.setState({errorInfo: 'Please enter valid days'});\n          return false;\n        }\n      }\n\n      this.setState({expireDays: expireDays});\n    }\n\n    return true;\n  };\n\n  onLinkAmountChange = (e) => {\n    this.setState({\n      linkAmount: e.target.value\n    });\n  };\n\n  goBack = () => {\n    this.props.setMode('');\n  };\n\n  render() {\n    const { userPerm, type, permissionOptions  } = this.props;\n    const { isCustomPermission } = Utils.getUserPermission(userPerm);\n\n    return (\n      <Fragment>\n        <div className=\"d-flex align-items-center pb-2 border-bottom\">\n          <h6 className=\"font-weight-normal m-0\">\n            <button className=\"fa fa-arrow-left back-icon border-0 bg-transparent text-secondary p-0 mr-2\" onClick={this.goBack} title={gettext('Back')} aria-label={gettext('Back')}></button>\n            {type == 'batch' ? gettext('Generate links in batch') : gettext('Generate Link')}</h6>\n        </div>\n        <Form className=\"pt-4\">\n          {type == 'batch' && (\n            <FormGroup>\n              <Label for=\"link-number\" className=\"p-0\">{gettext('Number of links')}</Label>\n              <Input type=\"number\" id=\"link-number\" value={this.state.linkAmount} onChange={this.onLinkAmountChange} style={{width: inputWidth}} />\n            </FormGroup>\n          )}\n          <FormGroup check>\n            {shareLinkForceUsePassword ? (\n              <Label check>\n                <Input type=\"checkbox\" checked readOnly disabled />\n                <span>{gettext('Add password protection')}</span>\n              </Label>\n            ) : (\n              <Label check>\n                <Input type=\"checkbox\" checked={this.state.isShowPasswordInput} onChange={this.onPasswordInputChecked} />\n                <span>{gettext('Add password protection')}</span>\n              </Label>\n            )}\n            {type != 'batch' && this.state.isShowPasswordInput &&\n              <div className=\"ml-4\">\n                <FormGroup>\n                  <Label for=\"passwd\">{gettext('Password')}</Label>\n                  <span className=\"tip\">{gettext('(at least {passwordMinLength} characters and includes {passwordStrengthLevel} of the following: number, upper letter, lower letter and other symbols)').replace('{passwordMinLength}', shareLinkPasswordMinLength).replace('{passwordStrengthLevel}', shareLinkPasswordStrengthLevel)}</span>\n                  <InputGroup style={{width: inputWidth}}>\n                    <Input id=\"passwd\" type={this.state.isPasswordVisible ? 'text' : 'password'} value={this.state.password || ''} onChange={this.inputPassword} />\n                    <InputGroupAddon addonType=\"append\">\n                      <Button onClick={this.togglePasswordVisible}><i className={`link-operation-icon fas ${this.state.isPasswordVisible ? 'fa-eye': 'fa-eye-slash'}`}></i></Button>\n                      <Button onClick={this.generatePassword}><i className=\"link-operation-icon fas fa-magic\"></i></Button>\n                    </InputGroupAddon>\n                  </InputGroup>\n                </FormGroup>\n                <FormGroup>\n                  <Label for=\"passwd-again\">{gettext('Password again')}</Label>\n                  <Input id=\"passwd-again\" style={{width: inputWidth}} type={this.state.isPasswordVisible ? 'text' : 'password'} value={this.state.passwdnew || ''} onChange={this.inputPasswordNew} />\n                </FormGroup>\n              </div>\n            }\n          </FormGroup>\n          <FormGroup check>\n            <Label check>\n              {this.isExpireDaysNoLimit ? (\n                <Input type=\"checkbox\" onChange={this.onExpireChecked} />\n              ) : (\n                <Input type=\"checkbox\" checked readOnly disabled />\n              )}\n              <span>{gettext('Add auto expiration')}</span>\n            </Label>\n            {this.state.isExpireChecked &&\n              <div className=\"ml-4\">\n                <SetLinkExpiration\n                  minDays={shareLinkExpireDaysMin}\n                  maxDays={shareLinkExpireDaysMax}\n                  defaultDays={shareLinkExpireDaysDefault}\n                  expType={this.state.expType}\n                  setExpType={this.setExpType}\n                  expireDays={this.state.expireDays}\n                  onExpireDaysChanged={this.onExpireDaysChanged}\n                  expDate={this.state.expDate}\n                  onExpDateChanged={this.onExpDateChanged}\n                />\n              </div>\n            }\n          </FormGroup>\n          {(isPro && !isCustomPermission) && (\n            <FormGroup check>\n              <Label check>\n                <span>{gettext('Set permission')}</span>\n              </Label>\n              {permissionOptions.map((item, index) => {\n                return (\n                  <FormGroup check className=\"ml-4\" key={index}>\n                    <Label check>\n                      <Input type=\"radio\" name=\"permission\" value={item} checked={this.state.currentPermission == item} onChange={this.setPermission} className=\"mr-1\" />\n                      {Utils.getShareLinkPermissionObject(item).text}\n                    </Label>\n                  </FormGroup>\n                );\n              })}\n            </FormGroup>\n          )}\n          {this.state.errorInfo && <Alert color=\"danger\" className=\"mt-2\">{gettext(this.state.errorInfo)}</Alert>}\n          <Button onClick={this.generateShareLink} className=\"mt-2 ml-1 mb-1\">{gettext('Generate')}</Button>\n        </Form>\n      </Fragment>\n    );\n  }\n}\n\nLinkCreation.propTypes = propTypes;\n\nexport default LinkCreation;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}