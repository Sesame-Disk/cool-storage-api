{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import classnames from'classnames';import{Utils}from'../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SearchResultItem=/*#__PURE__*/function(_React$Component){_inherits(SearchResultItem,_React$Component);var _super=_createSuper(SearchResultItem);function SearchResultItem(){var _this;_classCallCheck(this,SearchResultItem);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onClickHandler=function(){var item=_this.props.item;_this.props.onItemClickHandler(item);};return _this;}_createClass(SearchResultItem,[{key:\"render\",value:function render(){var _this2=this;var item=this.props.item;var folderIconUrl=item.link_content?Utils.getFolderIconUrl(false,192):Utils.getDefaultLibIconUrl(true);var fileIconUrl=item.is_dir?folderIconUrl:Utils.getFileIconUrl(item.name,192);var showName=item.repo_name+'/'+item.link_content;showName=showName.endsWith('/')?showName.slice(0,showName.length-1):showName;if(item.thumbnail_url){fileIconUrl=item.thumbnail_url;}return/*#__PURE__*/_jsxs(\"li\",{className:classnames('search-result-item',{'search-result-item-highlight':this.props.isHighlight}),onClick:this.onClickHandler,ref:function ref(_ref){return _this2.props.setRef(_ref);},children:[/*#__PURE__*/_jsx(\"img\",{className:item.link_content?'item-img':'lib-item-img',src:fileIconUrl,alt:\"\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-name ellipsis\",children:item.name}),/*#__PURE__*/_jsx(\"div\",{className:\"item-link ellipsis\",children:showName}),/*#__PURE__*/_jsx(\"div\",{className:\"item-text ellipsis\",dangerouslySetInnerHTML:{__html:item.content}})]})]});}}]);return SearchResultItem;}(React.Component);SearchResultItem.defaultProps={setRef:function setRef(){}};export default SearchResultItem;","map":{"version":3,"names":["React","classnames","Utils","jsx","_jsx","jsxs","_jsxs","SearchResultItem","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","onClickHandler","item","props","onItemClickHandler","_createClass","key","value","render","_this2","folderIconUrl","link_content","getFolderIconUrl","getDefaultLibIconUrl","fileIconUrl","is_dir","getFileIconUrl","name","showName","repo_name","endsWith","slice","thumbnail_url","className","isHighlight","onClick","ref","setRef","children","src","alt","dangerouslySetInnerHTML","__html","content","Component","defaultProps"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/search/search-result-item.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  item: PropTypes.object.isRequired,\n  onItemClickHandler: PropTypes.func.isRequired,\n  isHighlight: PropTypes.bool,\n  setRef: PropTypes.func,\n};\n\nclass SearchResultItem extends React.Component {\n\n  static defaultProps = {\n    setRef: () => {},\n  };\n\n  onClickHandler = () => {\n    var item = this.props.item;\n    this.props.onItemClickHandler(item);\n  };\n\n  render() {\n    let item = this.props.item;\n    let folderIconUrl = item.link_content ? Utils.getFolderIconUrl(false, 192) : Utils.getDefaultLibIconUrl(true);\n    let fileIconUrl = item.is_dir ? folderIconUrl : Utils.getFileIconUrl(item.name, 192);\n    let showName = item.repo_name + '/' + item.link_content;\n    showName = showName.endsWith('/') ? showName.slice(0, showName.length - 1) : showName;\n\n\n    if (item.thumbnail_url) {\n      fileIconUrl = item.thumbnail_url;\n    }\n\n    return (\n      <li\n        className={classnames('search-result-item', {'search-result-item-highlight': this.props.isHighlight })}\n        onClick={this.onClickHandler}\n        ref={ref => this.props.setRef(ref)}\n      >\n        <img className={item.link_content ? 'item-img' : 'lib-item-img'} src={fileIconUrl} alt=\"\" />\n        <div className=\"item-content\">\n          <div className=\"item-name ellipsis\">{item.name}</div>\n          <div className=\"item-link ellipsis\">{showName}</div>\n          <div className=\"item-text ellipsis\" dangerouslySetInnerHTML={{__html: item.content}}></div>\n        </div>\n      </li>\n    );\n  }\n}\n\nSearchResultItem.propTypes = propTypes;\n\nexport default SearchResultItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}