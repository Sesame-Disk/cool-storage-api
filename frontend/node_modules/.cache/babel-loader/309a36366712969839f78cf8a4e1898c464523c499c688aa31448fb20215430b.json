{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import moment from'moment';import{Button,Modal,ModalHeader,ModalBody,ModalFooter,Table}from'reactstrap';import{gettext,siteRoot}from'../../utils/constants';import{Utils}from'../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ListCreatedFileDialog=/*#__PURE__*/function(_React$Component){_inherits(ListCreatedFileDialog,_React$Component);var _super=_createSuper(ListCreatedFileDialog);function ListCreatedFileDialog(){var _this;_classCallCheck(this,ListCreatedFileDialog);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.toggle=function(activity){_this.props.toggleCancel(activity);};return _this;}_createClass(ListCreatedFileDialog,[{key:\"render\",value:function render(){var activity=this.props.activity;return/*#__PURE__*/_jsxs(Modal,{isOpen:true,toggle:this.toggle,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggle,children:gettext('Created Files')}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsxs(Table,{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"75%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"25%\",children:gettext('Time')})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:activity.createdFilesList.map(function(item,index){var fileURL=\"\".concat(siteRoot,\"lib/\").concat(item.repo_id,\"/file\").concat(Utils.encodePath(item.path));var fileLink=/*#__PURE__*/_jsx(\"a\",{href:fileURL,target:\"_blank\",rel:\"noreferrer\",children:item.name});if(item.name.endsWith('(draft).md')){// be compatible with the existing draft files\nfileLink=item.name;}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:fileLink}),/*#__PURE__*/_jsx(\"td\",{children:moment(item.time).fromNow()})]},index);})})]})}),/*#__PURE__*/_jsx(ModalFooter,{children:/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:this.toggle.bind(this,activity),children:gettext('Close')})})]});}}]);return ListCreatedFileDialog;}(React.Component);export default ListCreatedFileDialog;","map":{"version":3,"names":["React","moment","Button","Modal","ModalHeader","ModalBody","ModalFooter","Table","gettext","siteRoot","Utils","jsx","_jsx","jsxs","_jsxs","ListCreatedFileDialog","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","toggle","activity","props","toggleCancel","_createClass","key","value","render","isOpen","children","width","createdFilesList","map","item","index","fileURL","repo_id","encodePath","path","fileLink","href","target","rel","name","endsWith","time","fromNow","color","onClick","bind","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/list-created-files-dialog.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Table } from 'reactstrap';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  activity: PropTypes.object.isRequired,\n  toggleCancel: PropTypes.func.isRequired,\n};\n\nclass ListCreatedFileDialog extends React.Component {\n\n  toggle = (activity) => {\n    this.props.toggleCancel(activity);\n  };\n\n  render() {\n    let activity = this.props.activity;\n    return (\n      <Modal isOpen={true} toggle={this.toggle}>\n        <ModalHeader toggle={this.toggle}>{gettext('Created Files')}</ModalHeader>\n        <ModalBody>\n          <Table>\n            <thead>\n              <tr>\n                <th width='75%'>{gettext('Name')}</th>\n                <th width='25%'>{gettext('Time')}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {\n                activity.createdFilesList.map((item, index) => {\n                  let fileURL = `${siteRoot}lib/${item.repo_id}/file${Utils.encodePath(item.path)}`;\n                  let fileLink = <a href={fileURL} target='_blank' rel=\"noreferrer\">{item.name}</a>;\n                  if (item.name.endsWith('(draft).md')) { // be compatible with the existing draft files\n                    fileLink = item.name;\n                  }\n                  return (\n                    <tr key={index}>\n                      <td>{fileLink}</td>\n                      <td>{moment(item.time).fromNow()}</td>\n                    </tr>\n                  );\n                })\n              }\n            </tbody>\n          </Table>\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle.bind(this, activity)}>{gettext('Close')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nListCreatedFileDialog.propTypes = propTypes;\n\nexport default ListCreatedFileDialog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}