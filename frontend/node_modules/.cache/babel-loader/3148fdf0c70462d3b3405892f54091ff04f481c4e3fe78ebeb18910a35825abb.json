{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{siteRoot}from'../../utils/constants';import{Utils}from'../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";var DirentsDraggedPreview=/*#__PURE__*/function(_React$Component){_inherits(DirentsDraggedPreview,_React$Component);var _super=_createSuper(DirentsDraggedPreview);function DirentsDraggedPreview(){var _this;_classCallCheck(this,DirentsDraggedPreview);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleDragEnd=function(){_this.element.style.opacity=0;_this.props.onHideDirentsDraggablePreview();};_this.handleDragOver=function(event){if(Utils.isIEBrower()){return false;}event.preventDefault();event.dataTransfer.dropEffect='move';_this.element.style.top=event.clientY+'px';_this.element.style.left=event.clientX+'px';};_this.handleDrop=function(event){_this.element.style.opacity=0;_this.props.onHideDirentsDraggablePreview();};return _this;}_createClass(DirentsDraggedPreview,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('dragover',this.handleDragOver);document.addEventListener('drop',this.handleDrop);document.addEventListener('dragend',this.handleDragEnd);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('dragover',this.handleDragOver);document.removeEventListener('drop',this.handleDrop);document.removeEventListener('dragend',this.handleDragEnd);}},{key:\"render\",value:function render(){var _this2=this;var selectedDirentList=this.props.selectedDirentList;var inlineStyle={position:'absolute',opacity:1,pointerEvents:'none',display:'block',left:'-9999px',top:'-9999px',zIndex:101,maxHeight:document.documentElement.clientHeight,overflow:'hidden'};return/*#__PURE__*/_jsx(\"div\",{style:inlineStyle,ref:function ref(element){return _this2.element=element;},children:selectedDirentList.map(function(dirent,index){var iconUrl=Utils.getDirentIcon(dirent);return/*#__PURE__*/_jsx(\"div\",{children:dirent.encoded_thumbnail_src?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(siteRoot).concat(dirent.encoded_thumbnail_src),className:\"thumbnail cursor-pointer\",alt:\"\"}):/*#__PURE__*/_jsx(\"img\",{src:iconUrl,width:\"24\",alt:\"\"})},index);})});}}]);return DirentsDraggedPreview;}(React.Component);export default DirentsDraggedPreview;","map":{"version":3,"names":["React","siteRoot","Utils","jsx","_jsx","DirentsDraggedPreview","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","handleDragEnd","element","style","opacity","props","onHideDirentsDraggablePreview","handleDragOver","event","isIEBrower","preventDefault","dataTransfer","dropEffect","top","clientY","left","clientX","handleDrop","_createClass","key","value","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","_this2","selectedDirentList","inlineStyle","position","pointerEvents","display","zIndex","maxHeight","documentElement","clientHeight","overflow","ref","children","map","dirent","index","iconUrl","getDirentIcon","encoded_thumbnail_src","src","className","alt","width","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/draggable/dirents-dragged-preview.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  selectedDirentList: PropTypes.array,\n  onHideDirentsDraggablePreview: PropTypes.func\n};\n\nclass DirentsDraggedPreview extends React.Component {\n\n  componentDidMount() {\n    document.addEventListener('dragover', this.handleDragOver);\n    document.addEventListener('drop', this.handleDrop);\n    document.addEventListener('dragend', this.handleDragEnd);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('dragover', this.handleDragOver);\n    document.removeEventListener('drop', this.handleDrop);\n    document.removeEventListener('dragend', this.handleDragEnd);\n  }\n\n  handleDragEnd = () => {\n    this.element.style.opacity = 0;\n    this.props.onHideDirentsDraggablePreview();\n  };\n\n  handleDragOver = (event) => {\n    if (Utils.isIEBrower()) {\n      return false;\n    }\n    event.preventDefault();\n    event.dataTransfer.dropEffect = 'move';\n\n    this.element.style.top = event.clientY + 'px';\n    this.element.style.left = event.clientX + 'px';\n  };\n\n  handleDrop = (event) => {\n    this.element.style.opacity = 0;\n    this.props.onHideDirentsDraggablePreview();\n  };\n\n  render() {\n    let{ selectedDirentList } = this.props;\n    const inlineStyle = {\n      position: 'absolute',\n      opacity: 1,\n      pointerEvents: 'none',\n      display: 'block',\n      left: '-9999px',\n      top: '-9999px',\n      zIndex: 101,\n      maxHeight: document.documentElement.clientHeight,\n      overflow: 'hidden'\n    };\n    return (\n      <div style={inlineStyle} ref={element => this.element = element}>\n        {selectedDirentList.map((dirent, index) => {\n          let iconUrl = Utils.getDirentIcon(dirent);\n          return (\n            <div key={index}>\n              {dirent.encoded_thumbnail_src ?\n                <img src={`${siteRoot}${dirent.encoded_thumbnail_src}`} className=\"thumbnail cursor-pointer\" alt=\"\" /> :\n                <img src={iconUrl} width=\"24\" alt='' />\n              }\n            </div>\n          );\n        })}\n      </div>\n    );\n  }\n}\n\nDirentsDraggedPreview.propTypes = propTypes;\n\nexport default DirentsDraggedPreview;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}