{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar EventBus = /*#__PURE__*/function () {\n  function EventBus() {\n    _classCallCheck(this, EventBus);\n    this.instance = null;\n    this.subscribers = {};\n  }\n  _createClass(EventBus, [{\n    key: \"subscribe\",\n    value: function subscribe(type, handler) {\n      if (!this.subscribers[type]) {\n        this.subscribers[type] = [];\n      }\n      var handlers = this.subscribers[type];\n      handlers.push(handler);\n      return function () {\n        var index = handlers.indexOf(handler);\n        if (index > -1) {\n          handlers.splice(index, 1);\n        }\n      };\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(type) {\n      for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        data[_key - 1] = arguments[_key];\n      }\n      var handlers = this.subscribers[type];\n      if (Array.isArray(handlers)) {\n        handlers.forEach(function (handler) {\n          return handler.apply(void 0, data);\n        });\n      }\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (this.instance) return this.instance;\n      this.instance = new EventBus();\n      return this.instance;\n    }\n  }]);\n  return EventBus;\n}();\nvar _default = exports.default = EventBus;","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","Object","defineProperty","exports","value","EventBus","instance","subscribers","key","subscribe","type","handler","handlers","push","index","indexOf","splice","dispatch","_len","arguments","length","data","Array","_key","isArray","forEach","apply","getInstance","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/utils/event-bus.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nclass EventBus {\n  constructor() {\n    this.instance = null;\n    this.subscribers = {};\n  }\n  static getInstance() {\n    if (this.instance) return this.instance;\n    this.instance = new EventBus();\n    return this.instance;\n  }\n  subscribe(type, handler) {\n    if (!this.subscribers[type]) {\n      this.subscribers[type] = [];\n    }\n    const handlers = this.subscribers[type];\n    handlers.push(handler);\n    return () => {\n      const index = handlers.indexOf(handler);\n      if (index > -1) {\n        handlers.splice(index, 1);\n      }\n    };\n  }\n  dispatch(type) {\n    for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      data[_key - 1] = arguments[_key];\n    }\n    const handlers = this.subscribers[type];\n    if (Array.isArray(handlers)) {\n      handlers.forEach(handler => handler(...data));\n    }\n  }\n}\nvar _default = exports.default = EventBus;"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,eAAA,GAAAC,OAAA,2HAAAC,OAAA;AAAA,IAAAC,YAAA,GAAAF,OAAA,wHAAAC,OAAA;AAEbE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACJ,OAAO,GAAG,KAAK,CAAC;AAAC,IACnBM,QAAQ;EACZ,SAAAA,SAAA,EAAc;IAAAR,eAAA,OAAAQ,QAAA;IACZ,IAAI,CAACC,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC;EACvB;EAACP,YAAA,CAAAK,QAAA;IAAAG,GAAA;IAAAJ,KAAA,EAMD,SAAAK,UAAUC,IAAI,EAAEC,OAAO,EAAE;MACvB,IAAI,CAAC,IAAI,CAACJ,WAAW,CAACG,IAAI,CAAC,EAAE;QAC3B,IAAI,CAACH,WAAW,CAACG,IAAI,CAAC,GAAG,EAAE;MAC7B;MACA,IAAME,QAAQ,GAAG,IAAI,CAACL,WAAW,CAACG,IAAI,CAAC;MACvCE,QAAQ,CAACC,IAAI,CAACF,OAAO,CAAC;MACtB,OAAO,YAAM;QACX,IAAMG,KAAK,GAAGF,QAAQ,CAACG,OAAO,CAACJ,OAAO,CAAC;QACvC,IAAIG,KAAK,GAAG,CAAC,CAAC,EAAE;UACdF,QAAQ,CAACI,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;QAC3B;MACF,CAAC;IACH;EAAC;IAAAN,GAAA;IAAAJ,KAAA,EACD,SAAAa,SAASP,IAAI,EAAE;MACb,KAAK,IAAIQ,IAAI,GAAGC,SAAS,CAACC,MAAM,EAAEC,IAAI,GAAG,IAAIC,KAAK,CAACJ,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEK,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGL,IAAI,EAAEK,IAAI,EAAE,EAAE;QAC1GF,IAAI,CAACE,IAAI,GAAG,CAAC,CAAC,GAAGJ,SAAS,CAACI,IAAI,CAAC;MAClC;MACA,IAAMX,QAAQ,GAAG,IAAI,CAACL,WAAW,CAACG,IAAI,CAAC;MACvC,IAAIY,KAAK,CAACE,OAAO,CAACZ,QAAQ,CAAC,EAAE;QAC3BA,QAAQ,CAACa,OAAO,CAAC,UAAAd,OAAO;UAAA,OAAIA,OAAO,CAAAe,KAAA,SAAIL,IAAI,CAAC;QAAA,EAAC;MAC/C;IACF;EAAC;IAAAb,GAAA;IAAAJ,KAAA,EA1BD,SAAAuB,YAAA,EAAqB;MACnB,IAAI,IAAI,CAACrB,QAAQ,EAAE,OAAO,IAAI,CAACA,QAAQ;MACvC,IAAI,CAACA,QAAQ,GAAG,IAAID,QAAQ,CAAC,CAAC;MAC9B,OAAO,IAAI,CAACC,QAAQ;IACtB;EAAC;EAAA,OAAAD,QAAA;AAAA;AAwBH,IAAIuB,QAAQ,GAAGzB,OAAO,CAACJ,OAAO,GAAGM,QAAQ"},"metadata":{},"sourceType":"script","externalDependencies":[]}