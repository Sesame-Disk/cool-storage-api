{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import moment from'moment';import{gettext}from'../../../utils/constants';import{InternalLinkOperation}from'../../../components/operations';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _window$app$pageOptio=window.app.pageOptions,repoID=_window$app$pageOptio.repoID,filePath=_window$app$pageOptio.filePath;var FileInfo=/*#__PURE__*/function(_React$PureComponent){_inherits(FileInfo,_React$PureComponent);var _super=_createSuper(FileInfo);function FileInfo(){_classCallCheck(this,FileInfo);return _super.apply(this,arguments);}_createClass(FileInfo,[{key:\"render\",value:function render(){var _this$props=this.props,fileInfo=_this$props.fileInfo,isPro=_this$props.isPro,isLocked=_this$props.isLocked,mediaUrl=_this$props.mediaUrl;var starTitle=fileInfo.starred?gettext('starred'):gettext('unstarred');var starIconClass=\"iconfont \".concat(fileInfo.starred?'icon-star1 star':'icon-star2');var modifyTime=moment(fileInfo.mtime*1000).format('YYYY-MM-DD HH:mm');var lockedText=gettext('locked');return/*#__PURE__*/_jsxs(\"div\",{className:\"topbar-file-info text-truncate ml-0 mr-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"file-title\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"file-name text-truncate\",children:fileInfo.name}),/*#__PURE__*/_jsx(\"span\",{className:\"file-star\",title:starTitle,children:/*#__PURE__*/_jsx(\"i\",{className:starIconClass,onClick:this.props.toggleStar})}),/*#__PURE__*/_jsx(InternalLinkOperation,{path:filePath,repoID:repoID}),isPro&&isLocked&&/*#__PURE__*/_jsx(\"img\",{className:\"file-locked-icon mx-2\",width:\"16\",src:\"\".concat(mediaUrl,\"img/file-locked-32.png\"),alt:lockedText,title:lockedText,\"aria-label\":lockedText})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"file-state\",children:[/*#__PURE__*/_jsx(\"span\",{className:'file-modifier-name',children:fileInfo.lastModifier}),/*#__PURE__*/_jsx(\"span\",{className:'file-modifier-time',children:modifyTime})]})]});}}]);return FileInfo;}(React.PureComponent);export default FileInfo;","map":{"version":3,"names":["React","moment","gettext","InternalLinkOperation","jsx","_jsx","jsxs","_jsxs","_window$app$pageOptio","window","app","pageOptions","repoID","filePath","FileInfo","_React$PureComponent","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","render","_this$props","props","fileInfo","isPro","isLocked","mediaUrl","starTitle","starred","starIconClass","concat","modifyTime","mtime","format","lockedText","className","children","name","title","onClick","toggleStar","path","width","src","alt","lastModifier","PureComponent"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/markdown-editor/header-toolbar/file-info.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { gettext } from '../../../utils/constants';\nimport { InternalLinkOperation } from '../../../components/operations';\n\nconst { repoID, filePath } = window.app.pageOptions;\n\nclass FileInfo extends React.PureComponent {\n\n  render() {\n    const { fileInfo, isPro, isLocked, mediaUrl } = this.props;\n    const starTitle = fileInfo.starred ? gettext('starred') : gettext('unstarred');\n    const starIconClass = `iconfont ${fileInfo.starred ? 'icon-star1 star' : 'icon-star2'}`;\n    const modifyTime = moment(fileInfo.mtime * 1000).format('YYYY-MM-DD HH:mm');\n\n    const lockedText = gettext('locked');\n    return (\n      <div className=\"topbar-file-info text-truncate ml-0 mr-4\">\n        <div className=\"file-title\">\n          <span className='file-name text-truncate'>{fileInfo.name}</span>\n          <span className=\"file-star\" title={starTitle}>\n            <i className={starIconClass} onClick={this.props.toggleStar}/>\n          </span>\n          <InternalLinkOperation path={filePath} repoID={repoID} />\n          {(isPro && isLocked) && (\n            <img\n              className=\"file-locked-icon mx-2\"\n              width=\"16\"\n              src={`${mediaUrl}img/file-locked-32.png`}\n              alt={lockedText}\n              title={lockedText}\n              aria-label={lockedText}\n            />\n          )}\n        </div>\n        <div className=\"file-state\">\n          <span className={'file-modifier-name'}>{fileInfo.lastModifier}</span>\n          <span className={'file-modifier-time'}>{modifyTime}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nFileInfo.propTypes = {\n  fileInfo: PropTypes.object,\n  isPro: PropTypes.bool,\n  isLocked: PropTypes.bool,\n  mediaUrl: PropTypes.string,\n  toggleStar: PropTypes.func,\n};\n\nexport default FileInfo;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,OAASC,OAAO,KAAQ,0BAA0B,CAClD,OAASC,qBAAqB,KAAQ,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEvE,IAAAC,qBAAA,CAA6BC,MAAM,CAACC,GAAG,CAACC,WAAW,CAA3CC,MAAM,CAAAJ,qBAAA,CAANI,MAAM,CAAEC,QAAQ,CAAAL,qBAAA,CAARK,QAAQ,CAA4B,GAE9C,CAAAC,QAAQ,uBAAAC,oBAAA,EAAAC,SAAA,CAAAF,QAAA,CAAAC,oBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,QAAA,WAAAA,SAAA,EAAAK,eAAA,MAAAL,QAAA,SAAAG,MAAA,CAAAG,KAAA,MAAAC,SAAA,GAAAC,YAAA,CAAAR,QAAA,GAAAS,GAAA,UAAAC,KAAA,CAEZ,SAAAC,OAAA,CAAS,CACP,IAAAC,WAAA,CAAgD,IAAI,CAACC,KAAK,CAAlDC,QAAQ,CAAAF,WAAA,CAARE,QAAQ,CAAEC,KAAK,CAAAH,WAAA,CAALG,KAAK,CAAEC,QAAQ,CAAAJ,WAAA,CAARI,QAAQ,CAAEC,QAAQ,CAAAL,WAAA,CAARK,QAAQ,CAC3C,GAAM,CAAAC,SAAS,CAAGJ,QAAQ,CAACK,OAAO,CAAG/B,OAAO,CAAC,SAAS,CAAC,CAAGA,OAAO,CAAC,WAAW,CAAC,CAC9E,GAAM,CAAAgC,aAAa,aAAAC,MAAA,CAAeP,QAAQ,CAACK,OAAO,CAAG,iBAAiB,CAAG,YAAY,CAAE,CACvF,GAAM,CAAAG,UAAU,CAAGnC,MAAM,CAAC2B,QAAQ,CAACS,KAAK,CAAG,IAAI,CAAC,CAACC,MAAM,CAAC,kBAAkB,CAAC,CAE3E,GAAM,CAAAC,UAAU,CAAGrC,OAAO,CAAC,QAAQ,CAAC,CACpC,mBACEK,KAAA,QAAKiC,SAAS,CAAC,0CAA0C,CAAAC,QAAA,eACvDlC,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBpC,IAAA,SAAMmC,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAEb,QAAQ,CAACc,IAAI,CAAO,CAAC,cAChErC,IAAA,SAAMmC,SAAS,CAAC,WAAW,CAACG,KAAK,CAAEX,SAAU,CAAAS,QAAA,cAC3CpC,IAAA,MAAGmC,SAAS,CAAEN,aAAc,CAACU,OAAO,CAAE,IAAI,CAACjB,KAAK,CAACkB,UAAW,CAAC,CAAC,CAC1D,CAAC,cACPxC,IAAA,CAACF,qBAAqB,EAAC2C,IAAI,CAAEjC,QAAS,CAACD,MAAM,CAAEA,MAAO,CAAE,CAAC,CACvDiB,KAAK,EAAIC,QAAQ,eACjBzB,IAAA,QACEmC,SAAS,CAAC,uBAAuB,CACjCO,KAAK,CAAC,IAAI,CACVC,GAAG,IAAAb,MAAA,CAAKJ,QAAQ,0BAAyB,CACzCkB,GAAG,CAAEV,UAAW,CAChBI,KAAK,CAAEJ,UAAW,CAClB,aAAYA,UAAW,CACxB,CACF,EACE,CAAC,cACNhC,KAAA,QAAKiC,SAAS,CAAC,YAAY,CAAAC,QAAA,eACzBpC,IAAA,SAAMmC,SAAS,CAAE,oBAAqB,CAAAC,QAAA,CAAEb,QAAQ,CAACsB,YAAY,CAAO,CAAC,cACrE7C,IAAA,SAAMmC,SAAS,CAAE,oBAAqB,CAAAC,QAAA,CAAEL,UAAU,CAAO,CAAC,EACvD,CAAC,EACH,CAAC,CAEV,CAAC,WAAAtB,QAAA,GAlCoBd,KAAK,CAACmD,aAAa,EA6C1C,cAAe,CAAArC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}