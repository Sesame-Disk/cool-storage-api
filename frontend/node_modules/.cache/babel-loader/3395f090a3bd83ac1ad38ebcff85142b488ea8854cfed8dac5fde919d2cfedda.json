{"ast":null,"code":"var commentType = {\n  slash: 0,\n  parenthesis: 1\n};\nvar stateType = {\n  comment: 0,\n  _string: 1,\n  characterClass: 2\n};\nexport var ebnf = {\n  name: \"ebnf\",\n  startState: function startState() {\n    return {\n      stringType: null,\n      commentType: null,\n      braced: 0,\n      lhs: true,\n      localState: null,\n      stack: [],\n      inDefinition: false\n    };\n  },\n  token: function token(stream, state) {\n    if (!stream) return;\n\n    //check for state changes\n    if (state.stack.length === 0) {\n      //strings\n      if (stream.peek() == '\"' || stream.peek() == \"'\") {\n        state.stringType = stream.peek();\n        stream.next(); // Skip quote\n        state.stack.unshift(stateType._string);\n      } else if (stream.match('/*')) {\n        //comments starting with /*\n        state.stack.unshift(stateType.comment);\n        state.commentType = commentType.slash;\n      } else if (stream.match('(*')) {\n        //comments starting with (*\n        state.stack.unshift(stateType.comment);\n        state.commentType = commentType.parenthesis;\n      }\n    }\n\n    //return state\n    //stack has\n    switch (state.stack[0]) {\n      case stateType._string:\n        while (state.stack[0] === stateType._string && !stream.eol()) {\n          if (stream.peek() === state.stringType) {\n            stream.next(); // Skip quote\n            state.stack.shift(); // Clear flag\n          } else if (stream.peek() === \"\\\\\") {\n            stream.next();\n            stream.next();\n          } else {\n            stream.match(/^.[^\\\\\\\"\\']*/);\n          }\n        }\n        return state.lhs ? \"property\" : \"string\";\n      // Token style\n\n      case stateType.comment:\n        while (state.stack[0] === stateType.comment && !stream.eol()) {\n          if (state.commentType === commentType.slash && stream.match('*/')) {\n            state.stack.shift(); // Clear flag\n            state.commentType = null;\n          } else if (state.commentType === commentType.parenthesis && stream.match('*)')) {\n            state.stack.shift(); // Clear flag\n            state.commentType = null;\n          } else {\n            stream.match(/^.[^\\*]*/);\n          }\n        }\n        return \"comment\";\n      case stateType.characterClass:\n        while (state.stack[0] === stateType.characterClass && !stream.eol()) {\n          if (!(stream.match(/^[^\\]\\\\]+/) || stream.match('.'))) {\n            state.stack.shift();\n          }\n        }\n        return \"operator\";\n    }\n    var peek = stream.peek();\n\n    //no stack\n    switch (peek) {\n      case \"[\":\n        stream.next();\n        state.stack.unshift(stateType.characterClass);\n        return \"bracket\";\n      case \":\":\n      case \"|\":\n      case \";\":\n        stream.next();\n        return \"operator\";\n      case \"%\":\n        if (stream.match(\"%%\")) {\n          return \"header\";\n        } else if (stream.match(/[%][A-Za-z]+/)) {\n          return \"keyword\";\n        } else if (stream.match(/[%][}]/)) {\n          return \"bracket\";\n        }\n        break;\n      case \"/\":\n        if (stream.match(/[\\/][A-Za-z]+/)) {\n          return \"keyword\";\n        }\n      case \"\\\\\":\n        if (stream.match(/[\\][a-z]+/)) {\n          return \"string.special\";\n        }\n      case \".\":\n        if (stream.match(\".\")) {\n          return \"atom\";\n        }\n      case \"*\":\n      case \"-\":\n      case \"+\":\n      case \"^\":\n        if (stream.match(peek)) {\n          return \"atom\";\n        }\n      case \"$\":\n        if (stream.match(\"$$\")) {\n          return \"builtin\";\n        } else if (stream.match(/[$][0-9]+/)) {\n          return \"variableName.special\";\n        }\n      case \"<\":\n        if (stream.match(/<<[a-zA-Z_]+>>/)) {\n          return \"builtin\";\n        }\n    }\n    if (stream.match('//')) {\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (stream.match('return')) {\n      return \"operator\";\n    } else if (stream.match(/^[a-zA-Z_][a-zA-Z0-9_]*/)) {\n      if (stream.match(/(?=[\\(.])/)) {\n        return \"variable\";\n      } else if (stream.match(/(?=[\\s\\n]*[:=])/)) {\n        return \"def\";\n      }\n      return \"variableName.special\";\n    } else if ([\"[\", \"]\", \"(\", \")\"].indexOf(stream.peek()) != -1) {\n      stream.next();\n      return \"bracket\";\n    } else if (!stream.eatSpace()) {\n      stream.next();\n    }\n    return null;\n  }\n};","map":{"version":3,"names":["commentType","slash","parenthesis","stateType","comment","_string","characterClass","ebnf","name","startState","stringType","braced","lhs","localState","stack","inDefinition","token","stream","state","length","peek","next","unshift","match","eol","shift","skipToEnd","indexOf","eatSpace"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@codemirror/legacy-modes/mode/ebnf.js"],"sourcesContent":["var commentType = {slash: 0, parenthesis: 1};\nvar stateType = {comment: 0, _string: 1, characterClass: 2};\n\nexport const ebnf = {\n  name: \"ebnf\",\n  startState: function () {\n    return {\n      stringType: null,\n      commentType: null,\n      braced: 0,\n      lhs: true,\n      localState: null,\n      stack: [],\n      inDefinition: false\n    };\n  },\n  token: function (stream, state) {\n    if (!stream) return;\n\n    //check for state changes\n    if (state.stack.length === 0) {\n      //strings\n      if ((stream.peek() == '\"') || (stream.peek() == \"'\")) {\n        state.stringType = stream.peek();\n        stream.next(); // Skip quote\n        state.stack.unshift(stateType._string);\n      } else if (stream.match('/*')) { //comments starting with /*\n        state.stack.unshift(stateType.comment);\n        state.commentType = commentType.slash;\n      } else if (stream.match('(*')) { //comments starting with (*\n        state.stack.unshift(stateType.comment);\n        state.commentType = commentType.parenthesis;\n      }\n    }\n\n    //return state\n    //stack has\n    switch (state.stack[0]) {\n    case stateType._string:\n      while (state.stack[0] === stateType._string && !stream.eol()) {\n        if (stream.peek() === state.stringType) {\n          stream.next(); // Skip quote\n          state.stack.shift(); // Clear flag\n        } else if (stream.peek() === \"\\\\\") {\n          stream.next();\n          stream.next();\n        } else {\n          stream.match(/^.[^\\\\\\\"\\']*/);\n        }\n      }\n      return state.lhs ? \"property\" : \"string\"; // Token style\n\n    case stateType.comment:\n      while (state.stack[0] === stateType.comment && !stream.eol()) {\n        if (state.commentType === commentType.slash && stream.match('*/')) {\n          state.stack.shift(); // Clear flag\n          state.commentType = null;\n        } else if (state.commentType === commentType.parenthesis && stream.match('*)')) {\n          state.stack.shift(); // Clear flag\n          state.commentType = null;\n        } else {\n          stream.match(/^.[^\\*]*/);\n        }\n      }\n      return \"comment\";\n\n    case stateType.characterClass:\n      while (state.stack[0] === stateType.characterClass && !stream.eol()) {\n        if (!(stream.match(/^[^\\]\\\\]+/) || stream.match('.'))) {\n          state.stack.shift();\n        }\n      }\n      return \"operator\";\n    }\n\n    var peek = stream.peek();\n\n    //no stack\n    switch (peek) {\n    case \"[\":\n      stream.next();\n      state.stack.unshift(stateType.characterClass);\n      return \"bracket\";\n    case \":\":\n    case \"|\":\n    case \";\":\n      stream.next();\n      return \"operator\";\n    case \"%\":\n      if (stream.match(\"%%\")) {\n        return \"header\";\n      } else if (stream.match(/[%][A-Za-z]+/)) {\n        return \"keyword\";\n      } else if (stream.match(/[%][}]/)) {\n        return \"bracket\";\n      }\n      break;\n    case \"/\":\n      if (stream.match(/[\\/][A-Za-z]+/)) {\n        return \"keyword\";\n      }\n    case \"\\\\\":\n      if (stream.match(/[\\][a-z]+/)) {\n        return \"string.special\";\n      }\n    case \".\":\n      if (stream.match(\".\")) {\n        return \"atom\";\n      }\n    case \"*\":\n    case \"-\":\n    case \"+\":\n    case \"^\":\n      if (stream.match(peek)) {\n        return \"atom\";\n      }\n    case \"$\":\n      if (stream.match(\"$$\")) {\n        return \"builtin\";\n      } else if (stream.match(/[$][0-9]+/)) {\n        return \"variableName.special\";\n      }\n    case \"<\":\n      if (stream.match(/<<[a-zA-Z_]+>>/)) {\n        return \"builtin\";\n      }\n    }\n\n    if (stream.match('//')) {\n      stream.skipToEnd();\n      return \"comment\";\n    } else if (stream.match('return')) {\n      return \"operator\";\n    } else if (stream.match(/^[a-zA-Z_][a-zA-Z0-9_]*/)) {\n      if (stream.match(/(?=[\\(.])/)) {\n        return \"variable\";\n      } else if (stream.match(/(?=[\\s\\n]*[:=])/)) {\n        return \"def\";\n      }\n      return \"variableName.special\";\n    } else if ([\"[\", \"]\", \"(\", \")\"].indexOf(stream.peek()) != -1) {\n      stream.next();\n      return \"bracket\";\n    } else if (!stream.eatSpace()) {\n      stream.next();\n    }\n    return null;\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}