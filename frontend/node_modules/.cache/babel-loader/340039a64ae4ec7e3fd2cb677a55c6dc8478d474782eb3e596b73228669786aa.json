{"ast":null,"code":"import _objectSpread from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\n/**\n * @typedef {import('mdast').Image} Image\n * @typedef {import('mdast').Parents} Parents\n * @typedef {import('../types.js').Info} Info\n * @typedef {import('../types.js').State} State\n */\n\nimport { checkQuote } from '../util/check-quote.js';\nimage.peek = imagePeek;\n\n/**\n * @param {Image} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function image(node, _, state, info) {\n  var quote = checkQuote(state);\n  var suffix = quote === '\"' ? 'Quote' : 'Apostrophe';\n  var exit = state.enter('image');\n  var subexit = state.enter('label');\n  var tracker = state.createTracker(info);\n  var value = tracker.move('![');\n  value += tracker.move(state.safe(node.alt, _objectSpread({\n    before: value,\n    after: ']'\n  }, tracker.current())));\n  value += tracker.move('](');\n  subexit();\n  if (\n  // If there’s no url but there is a title…\n  !node.url && node.title ||\n  // If there are control characters or whitespace.\n  /[\\0- \\u007F]/.test(node.url)) {\n    subexit = state.enter('destinationLiteral');\n    value += tracker.move('<');\n    value += tracker.move(state.safe(node.url, _objectSpread({\n      before: value,\n      after: '>'\n    }, tracker.current())));\n    value += tracker.move('>');\n  } else {\n    // No whitespace, raw is prettier.\n    subexit = state.enter('destinationRaw');\n    value += tracker.move(state.safe(node.url, _objectSpread({\n      before: value,\n      after: node.title ? ' ' : ')'\n    }, tracker.current())));\n  }\n  subexit();\n  if (node.title) {\n    subexit = state.enter(\"title\".concat(suffix));\n    value += tracker.move(' ' + quote);\n    value += tracker.move(state.safe(node.title, _objectSpread({\n      before: value,\n      after: quote\n    }, tracker.current())));\n    value += tracker.move(quote);\n    subexit();\n  }\n  value += tracker.move(')');\n  exit();\n  return value;\n}\n\n/**\n * @returns {string}\n */\nfunction imagePeek() {\n  return '!';\n}","map":{"version":3,"names":["checkQuote","image","peek","imagePeek","node","_","state","info","quote","suffix","exit","enter","subexit","tracker","createTracker","value","move","safe","alt","_objectSpread","before","after","current","url","title","test","concat"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/mdast-util-to-markdown/lib/handle/image.js"],"sourcesContent":["/**\n * @typedef {import('mdast').Image} Image\n * @typedef {import('mdast').Parents} Parents\n * @typedef {import('../types.js').Info} Info\n * @typedef {import('../types.js').State} State\n */\n\nimport {checkQuote} from '../util/check-quote.js'\n\nimage.peek = imagePeek\n\n/**\n * @param {Image} node\n * @param {Parents | undefined} _\n * @param {State} state\n * @param {Info} info\n * @returns {string}\n */\nexport function image(node, _, state, info) {\n  const quote = checkQuote(state)\n  const suffix = quote === '\"' ? 'Quote' : 'Apostrophe'\n  const exit = state.enter('image')\n  let subexit = state.enter('label')\n  const tracker = state.createTracker(info)\n  let value = tracker.move('![')\n  value += tracker.move(\n    state.safe(node.alt, {before: value, after: ']', ...tracker.current()})\n  )\n  value += tracker.move('](')\n\n  subexit()\n\n  if (\n    // If there’s no url but there is a title…\n    (!node.url && node.title) ||\n    // If there are control characters or whitespace.\n    /[\\0- \\u007F]/.test(node.url)\n  ) {\n    subexit = state.enter('destinationLiteral')\n    value += tracker.move('<')\n    value += tracker.move(\n      state.safe(node.url, {before: value, after: '>', ...tracker.current()})\n    )\n    value += tracker.move('>')\n  } else {\n    // No whitespace, raw is prettier.\n    subexit = state.enter('destinationRaw')\n    value += tracker.move(\n      state.safe(node.url, {\n        before: value,\n        after: node.title ? ' ' : ')',\n        ...tracker.current()\n      })\n    )\n  }\n\n  subexit()\n\n  if (node.title) {\n    subexit = state.enter(`title${suffix}`)\n    value += tracker.move(' ' + quote)\n    value += tracker.move(\n      state.safe(node.title, {\n        before: value,\n        after: quote,\n        ...tracker.current()\n      })\n    )\n    value += tracker.move(quote)\n    subexit()\n  }\n\n  value += tracker.move(')')\n  exit()\n\n  return value\n}\n\n/**\n * @returns {string}\n */\nfunction imagePeek() {\n  return '!'\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}