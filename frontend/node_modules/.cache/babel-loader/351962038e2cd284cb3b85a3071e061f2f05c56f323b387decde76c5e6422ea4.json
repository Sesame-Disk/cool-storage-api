{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Dropdown,DropdownToggle,DropdownMenu,DropdownItem}from'reactstrap';import{Utils}from'../../../utils/utils';import{seafileAPI}from'../../../utils/seafile-api';import{gettext,siteRoot,mediaUrl,orgID}from'../../../utils/constants';import toaster from'../../../components/toast/index';import EmptyTip from'../../../components/empty-tip';import Loading from'../../../components/loading';import Paginator from'../../../components/paginator';import ModalPortal from'../../../components/modal-portal';import TransferDialog from'../../../components/dialog/transfer-dialog';import{navigate}from'@gatsbyjs/reach-router';import OrgAdminRepo from'../../../models/org-admin-repo';import MainPanelTopbar from'../main-panel-topbar';import ReposNav from'./org-repo-nav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.getPreviousPageList=function(){_this.props.getListByPage(_this.props.pageInfo.current_page-1);};_this.getNextPageList=function(){_this.props.getListByPage(_this.props.pageInfo.current_page+1);};_this.sortByFileCount=function(e){e.preventDefault();_this.props.sortItems('file_count');};_this.sortBySize=function(e){e.preventDefault();_this.props.sortItems('size');};_this.state={isItemFreezed:false};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;// offer 'sort' only for 'all repos'\nvar _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,pageInfo=_this$props.pageInfo,curPerPage=_this$props.curPerPage,sortBy=_this$props.sortBy;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsx(EmptyTip,{children:/*#__PURE__*/_jsx(\"h2\",{children:gettext('No libraries')})});var initialSortIcon=/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-sort\"});var sortIcon=/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-down\"});var table=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"5%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"25%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:sortBy!=undefined?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"a\",{className:\"d-inline-block table-sort-op\",href:\"#\",onClick:this.sortByFileCount,children:[gettext('Files'),\" \",sortBy=='file_count'?sortIcon:initialSortIcon]}),' / ',/*#__PURE__*/_jsxs(\"a\",{className:\"d-inline-block table-sort-op\",href:\"#\",onClick:this.sortBySize,children:[gettext('Size'),\" \",sortBy=='size'?sortIcon:initialSortIcon]})]}):gettext('Files')/gettext('Size')}),/*#__PURE__*/_jsx(\"th\",{width:\"32%\",children:\"ID\"}),/*#__PURE__*/_jsx(\"th\",{width:\"18%\",children:gettext('Owner')}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(RepoItem,{repo:item,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem,onDeleteRepo:_this2.props.onDeleteRepo,transferRepoItem:_this2.props.transferRepoItem},index);})})]}),pageInfo&&/*#__PURE__*/_jsx(Paginator,{gotoPreviousPage:this.getPreviousPageList,gotoNextPage:this.getNextPageList,currentPage:pageInfo.current_page,hasNextPage:pageInfo.has_next_page,curPerPage:curPerPage,resetPerPage:this.props.resetPerPage})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var RepoItem=/*#__PURE__*/function(_React$Component){_inherits(RepoItem,_React$Component);var _super2=_createSuper(RepoItem);function RepoItem(props){var _this3;_classCallCheck(this,RepoItem);_this3=_super2.call(this,props);_this3.onMouseEnter=function(){if(!_this3.props.isItemFreezed){_this3.setState({showMenu:true,highlight:true});}};_this3.onMouseLeave=function(){if(!_this3.props.isItemFreezed){_this3.setState({showMenu:false,highlight:false});}};_this3.onDropdownToggleClick=function(e){e.preventDefault();_this3.toggleOperationMenu(e);};_this3.toggleOperationMenu=function(e){e.stopPropagation();_this3.setState({isItemMenuShow:!_this3.state.isItemMenuShow},function(){if(_this3.state.isItemMenuShow){_this3.props.onFreezedItem();}else{_this3.setState({highlight:false,showMenu:false});_this3.props.onUnfreezedItem();}});};_this3.toggleDelete=function(){_this3.props.onDeleteRepo(_this3.props.repo);};_this3.renderLibIcon=function(repo){var href;var iconTitle;if(repo.encrypted){href=mediaUrl+'img/lib/48/lib-encrypted.png';iconTitle=gettext('Encrypted library');}else{href=mediaUrl+'img/lib/48/lib.png';iconTitle=gettext('Read-Write library');}return/*#__PURE__*/_jsx(\"img\",{src:href,title:iconTitle,alt:iconTitle,width:\"24\"});};_this3.renderRepoOwnerHref=function(repo){var href;if(repo.isDepartmentRepo){href=siteRoot+'org/groupadmin/'+repo.groupID+'/';}else{href=siteRoot+'org/useradmin/info/'+repo.ownerEmail+'/';}return href;};_this3.toggleTransfer=function(){_this3.setState({isTransferDialogShow:!_this3.state.isTransferDialogShow});};_this3.onTransferRepo=function(user){var repo=_this3.props.repo;seafileAPI.orgAdminTransferOrgRepo(orgID,repo.repoID,user.email).then(function(res){_this3.props.transferRepoItem(repo.repoID,user);var msg=gettext('Successfully transferred the library.');toaster.success(msg);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});_this3.toggleTransfer();};_this3.state={highlight:false,showMenu:false,isItemMenuShow:false,isTransferDialogShow:false};return _this3;}_createClass(RepoItem,[{key:\"render\",value:function render(){var repo=this.props.repo;var isOperationMenuShow=this.state.showMenu;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{children:this.renderLibIcon(repo)}),/*#__PURE__*/_jsx(\"td\",{children:repo.repoName}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(repo.file_count,\" / \").concat(Utils.bytesToSize(repo.size))}),/*#__PURE__*/_jsx(\"td\",{children:repo.repoID}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:this.renderRepoOwnerHref(repo),children:repo.ownerName})}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center cursor-pointer\",children:isOperationMenuShow&&/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"a\",className:\"attr-action-icon fas fa-ellipsis-v\",title:gettext('More operations'),\"aria-label\":gettext('More operations'),\"data-toggle\":\"dropdown\",\"aria-expanded\":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),/*#__PURE__*/_jsxs(DropdownMenu,{children:[/*#__PURE__*/_jsx(DropdownItem,{onClick:this.toggleDelete,children:gettext('Delete')}),/*#__PURE__*/_jsx(DropdownItem,{onClick:this.toggleTransfer,children:gettext('Transfer')})]})]})})]}),this.state.isTransferDialogShow&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(TransferDialog,{itemName:repo.repoName,submit:this.onTransferRepo,toggleDialog:this.toggleTransfer,isOrgAdmin:true})})]});}}]);return RepoItem;}(React.Component);var OrgAllRepos=/*#__PURE__*/function(_Component2){_inherits(OrgAllRepos,_Component2);var _super3=_createSuper(OrgAllRepos);function OrgAllRepos(props){var _this4;_classCallCheck(this,OrgAllRepos);_this4=_super3.call(this,props);_this4.getReposByPage=function(page){var perPage=_this4.state.perPage;seafileAPI.orgAdminListOrgRepos(orgID,page,perPage,_this4.state.sortBy).then(function(res){var orgRepos=res.data.repo_list.map(function(item){return new OrgAdminRepo(item);});var page_info={};if(res.data.page_info===undefined){var _page=res.data.page;var has_next_page=res.data.page_next;page_info={'current_page':_page,'has_next_page':has_next_page};}else{page_info=res.data.page_info;}_this4.setState({loading:false,repos:orgRepos,pageInfo:page_info});}).catch(function(error){_this4.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this4.sortItems=function(sortBy){_this4.setState({currentPage:1,sortBy:sortBy},function(){var url=new URL(location.href);var searchParams=new URLSearchParams(url.search);var _this4$state=_this4.state,currentPage=_this4$state.currentPage,sortBy=_this4$state.sortBy;searchParams.set('page',currentPage);searchParams.set('order_by',sortBy);url.search=searchParams.toString();navigate(url.toString());_this4.getReposByPage(currentPage);});};_this4.resetPerPage=function(perPage){_this4.setState({perPage:perPage},function(){_this4.getReposByPage(1);});};_this4.deleteRepoItem=function(repo){seafileAPI.orgAdminDeleteOrgRepo(orgID,repo.repoID).then(function(res){_this4.setState({repos:_this4.state.repos.filter(function(item){return item.repoID!==repo.repoID;})});var msg=gettext('Successfully deleted {name}');msg=msg.replace('{name}',repo.repoName);toaster.success(msg);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.transferRepoItem=function(repoID,user){_this4.setState({repos:_this4.state.repos.map(function(item){if(item.repoID==repoID){item.ownerEmail=user.email;item.ownerName=user.value;}return item;})});};_this4.state={loading:true,errorMsg:'',repos:[],pageInfo:{},perPage:25,sortBy:''};return _this4;}_createClass(OrgAllRepos,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;var urlParams=new URL(window.location).searchParams;var _this$state=this.state,_this$state$currentPa=_this$state.currentPage,currentPage=_this$state$currentPa===void 0?1:_this$state$currentPa,perPage=_this$state.perPage,sortBy=_this$state.sortBy;this.setState({sortBy:urlParams.get('order_by')||sortBy,perPage:parseInt(urlParams.get('per_page')||perPage),currentPage:parseInt(urlParams.get('page')||currentPage)},function(){_this5.getReposByPage(_this5.state.currentPage);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(ReposNav,{currentItem:\"all\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repos,sortBy:this.state.sortBy,sortItems:this.sortItems,pageInfo:this.state.pageInfo,curPerPage:this.state.perPage,getListByPage:this.getReposByPage,resetPerPage:this.resetPerPage,onDeleteRepo:this.deleteRepoItem,transferRepoItem:this.transferRepoItem})})]})})]});}}]);return OrgAllRepos;}(Component);export default OrgAllRepos;","map":{"version":3,"names":["React","Component","Fragment","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","Utils","seafileAPI","gettext","siteRoot","mediaUrl","orgID","toaster","EmptyTip","Loading","Paginator","ModalPortal","TransferDialog","navigate","OrgAdminRepo","MainPanelTopbar","ReposNav","jsx","_jsx","jsxs","_jsxs","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onFreezedItem","setState","isItemFreezed","onUnfreezedItem","getPreviousPageList","getListByPage","pageInfo","current_page","getNextPageList","sortByFileCount","e","preventDefault","sortItems","sortBySize","state","_createClass","key","value","render","_this2","_this$props","loading","errorMsg","items","curPerPage","sortBy","className","children","emptyTip","initialSortIcon","sortIcon","table","width","undefined","href","onClick","map","item","index","RepoItem","repo","onDeleteRepo","transferRepoItem","gotoPreviousPage","gotoNextPage","currentPage","hasNextPage","has_next_page","resetPerPage","length","_React$Component","_super2","_this3","onMouseEnter","showMenu","highlight","onMouseLeave","onDropdownToggleClick","toggleOperationMenu","stopPropagation","isItemMenuShow","toggleDelete","renderLibIcon","iconTitle","encrypted","src","title","alt","renderRepoOwnerHref","isDepartmentRepo","groupID","ownerEmail","toggleTransfer","isTransferDialogShow","onTransferRepo","user","orgAdminTransferOrgRepo","repoID","email","then","res","msg","success","catch","error","errMessage","getErrorMsg","danger","isOperationMenuShow","repoName","concat","file_count","bytesToSize","size","ownerName","isOpen","toggle","tag","itemName","submit","toggleDialog","isOrgAdmin","OrgAllRepos","_Component2","_super3","_this4","getReposByPage","page","perPage","orgAdminListOrgRepos","orgRepos","data","repo_list","page_info","page_next","repos","url","URL","location","searchParams","URLSearchParams","search","_this4$state","set","toString","deleteRepoItem","orgAdminDeleteOrgRepo","filter","replace","componentDidMount","_this5","urlParams","window","_this$state","_this$state$currentPa","get","parseInt","currentItem"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/org-admin/libraries/org-all-repos.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext, siteRoot, mediaUrl, orgID } from '../../../utils/constants';\nimport toaster from '../../../components/toast/index';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport { navigate } from '@gatsbyjs/reach-router';\nimport OrgAdminRepo from '../../../models/org-admin-repo';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport ReposNav from './org-repo-nav';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  sortByFileCount = (e) => {\n    e.preventDefault();\n    this.props.sortItems('file_count');\n  };\n\n  sortBySize = (e) => {\n    e.preventDefault();\n    this.props.sortItems('size');\n  };\n\n  render() {\n    // offer 'sort' only for 'all repos'\n    const { loading, errorMsg, items, pageInfo, curPerPage, sortBy } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const initialSortIcon = <span className=\"fas fa-sort\"></span>;\n      const sortIcon = <span className=\"fas fa-caret-down\"></span>;\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"15%\">\n                  {sortBy != undefined ?\n                    <Fragment>\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortByFileCount}>{gettext('Files')} {sortBy == 'file_count' ? sortIcon : initialSortIcon}</a>{' / '}\n                      <a className=\"d-inline-block table-sort-op\" href=\"#\" onClick={this.sortBySize}>{gettext('Size')} {sortBy == 'size' ? sortIcon : initialSortIcon}</a>\n                    </Fragment> :\n                    gettext('Files') / gettext('Size')\n                  }\n                </th>\n                <th width=\"32%\">ID</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<RepoItem\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  transferRepoItem={this.props.transferRepoItem}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n            <Paginator\n              gotoPreviousPage={this.getPreviousPageList}\n              gotoNextPage={this.getNextPageList}\n              currentPage={pageInfo.current_page}\n              hasNextPage={pageInfo.has_next_page}\n              curPerPage={curPerPage}\n              resetPerPage={this.props.resetPerPage}\n            />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  pageInfo: PropTypes.object,\n  curPerPage: PropTypes.number,\n  sortItems: PropTypes.func,\n  sortBy: PropTypes.string,\n  transferRepoItem: PropTypes.func.isRequired,\n};\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  transferRepoItem: PropTypes.func.isRequired,\n};\n\nclass RepoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false,\n      isTransferDialogShow: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  };\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  };\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  };\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            showMenu: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  };\n\n  toggleDelete = () => {\n    this.props.onDeleteRepo(this.props.repo);\n  };\n\n  renderLibIcon = (repo) => {\n    let href;\n    let iconTitle;\n    if (repo.encrypted) {\n      href = mediaUrl + 'img/lib/48/lib-encrypted.png';\n      iconTitle = gettext('Encrypted library');\n    } else {\n      href = mediaUrl + 'img/lib/48/lib.png';\n      iconTitle = gettext('Read-Write library');\n    }\n    return <img src={href} title={iconTitle} alt={iconTitle} width=\"24\" />;\n  };\n\n  renderRepoOwnerHref = (repo) => {\n    let href;\n    if (repo.isDepartmentRepo) {\n      href = siteRoot + 'org/groupadmin/' + repo.groupID + '/';\n    } else {\n      href = siteRoot + 'org/useradmin/info/' + repo.ownerEmail + '/';\n    }\n    return href;\n  };\n\n  toggleTransfer = () => {\n    this.setState({isTransferDialogShow: !this.state.isTransferDialogShow});\n  };\n\n  onTransferRepo = (user) => {\n    let repo = this.props.repo;\n    seafileAPI.orgAdminTransferOrgRepo(orgID, repo.repoID, user.email).then(res => {\n      this.props.transferRepoItem(repo.repoID, user);\n      let msg = gettext('Successfully transferred the library.');\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n    this.toggleTransfer();\n  };\n\n  render() {\n    let { repo } = this.props;\n    let isOperationMenuShow = this.state.showMenu;\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td>{this.renderLibIcon(repo)}</td>\n          <td>{repo.repoName}</td>\n          <td>{`${repo.file_count} / ${Utils.bytesToSize(repo.size)}`}</td>\n          <td>{repo.repoID}</td>\n          <td><a href={this.renderRepoOwnerHref(repo)}>{repo.ownerName}</a></td>\n          <td className=\"text-center cursor-pointer\">\n            {isOperationMenuShow &&\n            <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n              <DropdownToggle\n                tag=\"a\"\n                className=\"attr-action-icon fas fa-ellipsis-v\"\n                title={gettext('More operations')}\n                aria-label={gettext('More operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isItemMenuShow}\n                onClick={this.onDropdownToggleClick}\n              />\n              <DropdownMenu>\n                <DropdownItem onClick={this.toggleDelete}>{gettext('Delete')}</DropdownItem>\n                <DropdownItem onClick={this.toggleTransfer}>{gettext('Transfer')}</DropdownItem>\n              </DropdownMenu>\n            </Dropdown>\n            }\n          </td>\n        </tr>\n        {this.state.isTransferDialogShow && (\n          <ModalPortal>\n            <TransferDialog\n              itemName={repo.repoName}\n              submit={this.onTransferRepo}\n              toggleDialog={this.toggleTransfer}\n              isOrgAdmin={true}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nRepoItem.propTypes = propTypes;\n\nclass OrgAllRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      sortBy: '',\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage, sortBy } = this.state;\n    this.setState({\n      sortBy: urlParams.get('order_by') || sortBy,\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  getReposByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.orgAdminListOrgRepos(orgID, page, perPage, this.state.sortBy).then((res) => {\n      let orgRepos = res.data.repo_list.map(item => {\n        return new OrgAdminRepo(item);\n      });\n      let page_info = {};\n      if(res.data.page_info === undefined){\n        let page = res.data.page;\n        let has_next_page = res.data.page_next;\n        page_info = {\n          'current_page': page,\n          'has_next_page': has_next_page\n        };\n      }else{\n        page_info = res.data.page_info;\n      }\n      this.setState({\n        loading: false,\n        repos: orgRepos,\n        pageInfo: page_info\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  sortItems = (sortBy) => {\n    this.setState({\n      currentPage: 1,\n      sortBy: sortBy\n    }, () => {\n      let url = new URL(location.href);\n      let searchParams = new URLSearchParams(url.search);\n      const { currentPage, sortBy } = this.state;\n      searchParams.set('page', currentPage);\n      searchParams.set('order_by', sortBy);\n      url.search = searchParams.toString();\n      navigate(url.toString());\n      this.getReposByPage(currentPage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  };\n\n\n  deleteRepoItem = (repo) => {\n    seafileAPI.orgAdminDeleteOrgRepo(orgID, repo.repoID).then(res => {\n      this.setState({\n        repos: this.state.repos.filter(item => item.repoID !== repo.repoID)\n      });\n      let msg = gettext('Successfully deleted {name}');\n      msg = msg.replace('{name}', repo.repoName);\n      toaster.success(msg);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferRepoItem = (repoID, user) => {\n    this.setState({\n      repos: this.state.repos.map(item =>{\n        if (item.repoID == repoID) {\n          item.ownerEmail = user.email;\n          item.ownerName = user.value;\n        }\n        return item;\n      })\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                sortBy={this.state.sortBy}\n                sortItems={this.sortItems}\n                pageInfo={this.state.pageInfo}\n                curPerPage={this.state.perPage}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                onDeleteRepo={this.deleteRepoItem}\n                transferRepoItem={this.transferRepoItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgAllRepos;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}