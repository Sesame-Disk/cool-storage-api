{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useCallback, useRef, useState, useImperativeHandle, forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { useCollaborators } from '../../../../hooks/';\nimport SelectedParticipants from './selected-participants';\nimport SearchedCollaborators from './searched-collaborators';\nimport { searchCollaborators } from '../../utils';\nimport { eventStopPropagation } from '../../../utils/mouse-event';\nimport './index.css';\nvar CommentParticipantsEditor = forwardRef(function (_ref, ref) {\n  var target = _ref.target;\n  var popoverRef = useRef();\n  var _useCollaborators = useCollaborators(),\n    collaborators = _useCollaborators.collaborators;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useState = useState(''),\n    _useState2 = _slicedToArray(_useState, 2),\n    searchValue = _useState2[0],\n    setSearchValue = _useState2[1];\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    searchedCollaborators = _useState4[0],\n    setSearchedCollaborators = _useState4[1];\n  useImperativeHandle(ref, function () {\n    return {\n      toggle: function toggle() {\n        popoverRef.current && popoverRef.current.toggle();\n      }\n\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    };\n  }, [popoverRef.current]);\n  var onChangeSearch = useCallback(function (event) {\n    var newSearchValue = event.target.value;\n    if (searchValue === newSearchValue) return;\n    var searchedCollaborators = searchCollaborators(collaborators, newSearchValue);\n    setSearchValue(newSearchValue);\n    setSearchedCollaborators(searchedCollaborators);\n  }, [searchValue, collaborators]);\n  return /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: target,\n    className: \"sdoc-comments-participants-popover\",\n    placement: \"bottom-start\",\n    hideArrow: true,\n    trigger: \"legacy\",\n    fade: false,\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-comments-participants-editor-container\",\n    onClick: function onClick(event) {\n      return eventStopPropagation(event);\n    }\n  }, /*#__PURE__*/React.createElement(SelectedParticipants, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-search-collaborators\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    placeholder: t('Search_collaborator'),\n    value: searchValue,\n    onChange: onChangeSearch\n  })), /*#__PURE__*/React.createElement(SearchedCollaborators, {\n    collaborators: searchValue ? searchedCollaborators : collaborators\n  })));\n});\nexport default CommentParticipantsEditor;","map":{"version":3,"names":["React","useCallback","useRef","useState","useImperativeHandle","forwardRef","useTranslation","UncontrolledPopover","useCollaborators","SelectedParticipants","SearchedCollaborators","searchCollaborators","eventStopPropagation","CommentParticipantsEditor","_ref","ref","target","popoverRef","_useCollaborators","collaborators","_useTranslation","t","_useState","_useState2","_slicedToArray","searchValue","setSearchValue","_useState3","_useState4","searchedCollaborators","setSearchedCollaborators","toggle","current","onChangeSearch","event","newSearchValue","value","createElement","className","placement","hideArrow","trigger","fade","onClick","type","placeholder","onChange"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/comment/components/comment-participants-editor/index.js"],"sourcesContent":["import React, { useCallback, useRef, useState, useImperativeHandle, forwardRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { useCollaborators } from '../../../../hooks/';\nimport SelectedParticipants from './selected-participants';\nimport SearchedCollaborators from './searched-collaborators';\nimport { searchCollaborators } from '../../utils';\nimport { eventStopPropagation } from '../../../utils/mouse-event';\nimport './index.css';\nconst CommentParticipantsEditor = forwardRef((_ref, ref) => {\n  let {\n    target\n  } = _ref;\n  const popoverRef = useRef();\n  const {\n    collaborators\n  } = useCollaborators();\n  const {\n    t\n  } = useTranslation();\n  const [searchValue, setSearchValue] = useState('');\n  const [searchedCollaborators, setSearchedCollaborators] = useState([]);\n  useImperativeHandle(ref, () => ({\n    toggle: () => {\n      popoverRef.current && popoverRef.current.toggle();\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }), [popoverRef.current]);\n  const onChangeSearch = useCallback(event => {\n    const newSearchValue = event.target.value;\n    if (searchValue === newSearchValue) return;\n    const searchedCollaborators = searchCollaborators(collaborators, newSearchValue);\n    setSearchValue(newSearchValue);\n    setSearchedCollaborators(searchedCollaborators);\n  }, [searchValue, collaborators]);\n  return /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: target,\n    className: \"sdoc-comments-participants-popover\",\n    placement: \"bottom-start\",\n    hideArrow: true,\n    trigger: \"legacy\",\n    fade: false,\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-comments-participants-editor-container\",\n    onClick: event => eventStopPropagation(event)\n  }, /*#__PURE__*/React.createElement(SelectedParticipants, null), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-search-collaborators\"\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"form-control\",\n    type: \"text\",\n    placeholder: t('Search_collaborator'),\n    value: searchValue,\n    onChange: onChangeSearch\n  })), /*#__PURE__*/React.createElement(SearchedCollaborators, {\n    collaborators: searchValue ? searchedCollaborators : collaborators\n  })));\n});\nexport default CommentParticipantsEditor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}