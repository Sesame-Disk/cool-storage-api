{"ast":null,"code":"import _toConsumableArray from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Popover,PopoverBody}from'reactstrap';import{TAG_COLORS}from'../../constants';import'../../css/repo-tag.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VirtualTagColor=/*#__PURE__*/function(_React$Component){_inherits(VirtualTagColor,_React$Component);var _super=_createSuper(VirtualTagColor);function VirtualTagColor(props){var _this;_classCallCheck(this,VirtualTagColor);_this=_super.call(this,props);_this.togglePopover=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen});};_this.selectTagColor=function(e){var newColor=e.target.value;_this.props.updateVirtualTag(_this.props.tag,{color:newColor});_this.setState({tagColor:newColor,isPopoverOpen:!_this.state.isPopoverOpen});};_this.state={tagColor:_this.props.tag.color,isPopoverOpen:false};return _this;}_createClass(VirtualTagColor,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){if(nextProps.tag.color!==this.props.tag.color){this.setState({tagColor:nextProps.tag.color});}}},{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,isPopoverOpen=_this$state.isPopoverOpen,tagColor=_this$state.tagColor;var tag=this.props.tag;var id=tag.id,color=tag.color;var colorList=_toConsumableArray(TAG_COLORS);// for color from previous color options\nif(colorList.indexOf(color)==-1){colorList.unshift(color);}return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{id:\"tag-\".concat(id,\"-color\"),className:\"tag-color cursor-pointer rounded-circle d-flex align-items-center justify-content-center\",style:{backgroundColor:tagColor},onClick:this.togglePopover,children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-caret-down text-white\"})}),/*#__PURE__*/_jsx(Popover,{target:\"tag-\".concat(id,\"-color\"),isOpen:isPopoverOpen,placement:\"bottom\",toggle:this.togglePopover,className:\"tag-color-popover mw-100\",children:/*#__PURE__*/_jsx(PopoverBody,{className:\"p-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"d-flex justify-content-between\",children:colorList.map(function(item,index){return/*#__PURE__*/_jsx(\"div\",{className:\"tag-color-option mx-1\",children:/*#__PURE__*/_jsxs(\"label\",{className:\"colorinput\",children:[/*#__PURE__*/_jsx(\"input\",{name:\"color\",type:\"radio\",value:item,className:\"colorinput-input\",defaultChecked:item==tagColor,onClick:_this2.selectTagColor}),/*#__PURE__*/_jsx(\"span\",{className:\"colorinput-color rounded-circle d-flex align-items-center justify-content-center\",style:{backgroundColor:item},children:/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-check color-selected\"})})]})},index);})})})})]});}}]);return VirtualTagColor;}(React.Component);export{VirtualTagColor as default};","map":{"version":3,"names":["React","Popover","PopoverBody","TAG_COLORS","jsx","_jsx","jsxs","_jsxs","VirtualTagColor","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","togglePopover","setState","isPopoverOpen","state","selectTagColor","e","newColor","target","value","updateVirtualTag","tag","color","tagColor","_createClass","key","UNSAFE_componentWillReceiveProps","nextProps","render","_this2","_this$state","id","colorList","_toConsumableArray","indexOf","unshift","children","concat","className","style","backgroundColor","onClick","isOpen","placement","toggle","map","item","index","name","type","defaultChecked","Component","default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/popover/virtual-tag-color.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Popover, PopoverBody } from 'reactstrap';\nimport { TAG_COLORS } from '../../constants';\n\nimport '../../css/repo-tag.css';\n\nexport default class VirtualTagColor extends React.Component {\n\n  static propTypes = {\n    updateVirtualTag: PropTypes.func.isRequired,\n    tag: PropTypes.object.isRequired,\n    repoID: PropTypes.string.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      tagColor: this.props.tag.color,\n      isPopoverOpen: false\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.tag.color !== this.props.tag.color) {\n      this.setState({\n        tagColor: nextProps.tag.color,\n      });\n    }\n  }\n\n  togglePopover = () => {\n    this.setState({\n      isPopoverOpen: !this.state.isPopoverOpen\n    });\n  };\n\n  selectTagColor = (e) => {\n    const newColor = e.target.value;\n    this.props.updateVirtualTag(this.props.tag, { color: newColor });\n    this.setState({\n      tagColor: newColor,\n      isPopoverOpen: !this.state.isPopoverOpen,\n    });\n  };\n\n  render() {\n    const { isPopoverOpen, tagColor } = this.state;\n    const { tag } = this.props;\n    const { id, color } = tag;\n\n    let colorList = [...TAG_COLORS];\n    // for color from previous color options\n    if (colorList.indexOf(color) == -1) {\n      colorList.unshift(color);\n    }\n\n    return (\n      <div>\n        <span\n          id={`tag-${id}-color`}\n          className=\"tag-color cursor-pointer rounded-circle d-flex align-items-center justify-content-center\"\n          style={{backgroundColor: tagColor}}\n          onClick={this.togglePopover}\n        >\n          <i className=\"fas fa-caret-down text-white\"></i>\n        </span>\n        <Popover\n          target={`tag-${id}-color`}\n          isOpen={isPopoverOpen}\n          placement=\"bottom\"\n          toggle={this.togglePopover}\n          className=\"tag-color-popover mw-100\"\n        >\n          <PopoverBody className=\"p-2\">\n            <div className=\"d-flex justify-content-between\">\n              {colorList.map((item, index)=>{\n                return (\n                  <div key={index} className=\"tag-color-option mx-1\">\n                    <label className=\"colorinput\">\n                      <input name=\"color\" type=\"radio\" value={item} className=\"colorinput-input\" defaultChecked={item == tagColor} onClick={this.selectTagColor} />\n                      <span className=\"colorinput-color rounded-circle d-flex align-items-center justify-content-center\" style={{backgroundColor: item}}>\n                        <i className=\"fas fa-check color-selected\"></i>\n                      </span>\n                    </label>\n                  </div>\n                );\n              })\n              }\n            </div>\n          </PopoverBody>\n        </Popover>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}