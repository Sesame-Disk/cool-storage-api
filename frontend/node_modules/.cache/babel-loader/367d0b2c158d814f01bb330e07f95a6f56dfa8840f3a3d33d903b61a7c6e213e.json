{"ast":null,"code":"\"use strict\";\n\nvar _classCallCheck = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _assertThisInitialized = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/assertThisInitialized.js\").default;\nvar _inherits = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/inherits.js\").default;\nvar _createSuper = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/createSuper.js\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/defineProperty\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactstrap = require(\"reactstrap\");\nvar _isHotkey = _interopRequireDefault(require(\"is-hotkey\"));\nvar _constant = require(\"../constant\");\nvar _reactI18next = require(\"react-i18next\");\nvar InsertTableElement = /*#__PURE__*/function (_react$Component) {\n  _inherits(InsertTableElement, _react$Component);\n  var _super = _createSuper(InsertTableElement);\n  function InsertTableElement(props) {\n    var _this;\n    _classCallCheck(this, InsertTableElement);\n    _this = _super.call(this, props);\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"insertTableElement\", function () {\n      var _this$props = _this.props,\n        type = _this$props.type,\n        position = _this$props.position;\n      var count = _this.state.count;\n      _this.props.insertTableElement(type, position, count);\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"getTip\", function () {\n      var _this$props2 = _this.props,\n        type = _this$props2.type,\n        position = _this$props2.position,\n        t = _this$props2.t;\n      if (type === _constant.TABLE_ELEMENT.ROW) {\n        return position === _constant.TABLE_ELEMENT_POSITION.AFTER ? t('Insert_below') : t('Insert_above');\n      }\n      return position === _constant.TABLE_ELEMENT_POSITION.AFTER ? t('Insert_on_the_right') : t('Insert_on_the_left');\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      e.stopPropagation();\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      if ((0, _isHotkey.default)('enter', event)) {\n        event.preventDefault();\n        _this.insertTableElement();\n        return;\n      }\n    });\n    (0, _defineProperty2.default)(_assertThisInitialized(_this), \"onChange\", function (event) {\n      var value = event.target.value || '0';\n      var newValue = value ? value.replace(/[^\\d,]/g, '') : value;\n      if (newValue === _this.state.count) return;\n      var currentCount = _this.props.currentCount;\n      var numberValue = parseInt(newValue);\n      if (currentCount + numberValue > _this.maxCount) {\n        _this.setState({\n          count: _this.maxCount - currentCount\n        });\n        return;\n      }\n      _this.setState({\n        count: numberValue\n      });\n    });\n    _this.state = {\n      count: props.count || 1\n    };\n    _this.maxCount = props.type === _constant.TABLE_ELEMENT.ROW ? _constant.TABLE_MAX_ROWS : _constant.TABLE_MAX_COLUMNS;\n    return _this;\n  }\n  _createClass(InsertTableElement, [{\n    key: \"render\",\n    value: function render() {\n      var count = this.state.count;\n      var _this$props3 = this.props,\n        t = _this$props3.t,\n        type = _this$props3.type,\n        currentCount = _this$props3.currentCount;\n      var isDisabled = currentCount >= this.maxCount;\n      return /*#__PURE__*/_react.default.createElement(\"button\", {\n        onMouseDown: this.insertTableElement,\n        className: \"sf-context-menu-item sf-dropdown-menu-item\",\n        disabled: isDisabled\n      }, this.getTip(), /*#__PURE__*/_react.default.createElement(\"div\", {\n        className: \"insert-number\"\n      }, /*#__PURE__*/_react.default.createElement(_reactstrap.Input, {\n        className: \"insert-number-input\",\n        value: count,\n        disabled: isDisabled,\n        onMouseDown: this.onMouseDown,\n        onKeyDown: this.onKeyDown,\n        onChange: this.onChange\n      }), /*#__PURE__*/_react.default.createElement(\"span\", null, type === _constant.TABLE_ELEMENT.ROW ? t('Row(s)') : t('Column(s)'))));\n    }\n  }]);\n  return InsertTableElement;\n}(_react.Component);\nvar _default = exports.default = (0, _reactI18next.withTranslation)('seafile-editor')(InsertTableElement);","map":{"version":3,"names":["_classCallCheck","require","default","_createClass","_assertThisInitialized","_inherits","_createSuper","_interopRequireWildcard","_interopRequireDefault","Object","defineProperty","exports","value","_defineProperty2","_react","_reactstrap","_isHotkey","_constant","_reactI18next","InsertTableElement","_react$Component","_super","props","_this","call","_this$props","type","position","count","state","insertTableElement","_this$props2","t","TABLE_ELEMENT","ROW","TABLE_ELEMENT_POSITION","AFTER","e","stopPropagation","event","preventDefault","target","newValue","replace","currentCount","numberValue","parseInt","maxCount","setState","TABLE_MAX_ROWS","TABLE_MAX_COLUMNS","key","render","_this$props3","isDisabled","createElement","onMouseDown","className","disabled","getTip","Input","onKeyDown","onChange","Component","_default","withTranslation"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/table/context-menu/insert-table-element.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/defineProperty\"));\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactstrap = require(\"reactstrap\");\nvar _isHotkey = _interopRequireDefault(require(\"is-hotkey\"));\nvar _constant = require(\"../constant\");\nvar _reactI18next = require(\"react-i18next\");\nclass InsertTableElement extends _react.Component {\n  constructor(props) {\n    super(props);\n    (0, _defineProperty2.default)(this, \"insertTableElement\", () => {\n      const {\n        type,\n        position\n      } = this.props;\n      const {\n        count\n      } = this.state;\n      this.props.insertTableElement(type, position, count);\n    });\n    (0, _defineProperty2.default)(this, \"getTip\", () => {\n      const {\n        type,\n        position,\n        t\n      } = this.props;\n      if (type === _constant.TABLE_ELEMENT.ROW) {\n        return position === _constant.TABLE_ELEMENT_POSITION.AFTER ? t('Insert_below') : t('Insert_above');\n      }\n      return position === _constant.TABLE_ELEMENT_POSITION.AFTER ? t('Insert_on_the_right') : t('Insert_on_the_left');\n    });\n    (0, _defineProperty2.default)(this, \"onMouseDown\", e => {\n      e.stopPropagation();\n    });\n    (0, _defineProperty2.default)(this, \"onKeyDown\", event => {\n      if ((0, _isHotkey.default)('enter', event)) {\n        event.preventDefault();\n        this.insertTableElement();\n        return;\n      }\n    });\n    (0, _defineProperty2.default)(this, \"onChange\", event => {\n      const value = event.target.value || '0';\n      const newValue = value ? value.replace(/[^\\d,]/g, '') : value;\n      if (newValue === this.state.count) return;\n      const {\n        currentCount\n      } = this.props;\n      const numberValue = parseInt(newValue);\n      if (currentCount + numberValue > this.maxCount) {\n        this.setState({\n          count: this.maxCount - currentCount\n        });\n        return;\n      }\n      this.setState({\n        count: numberValue\n      });\n    });\n    this.state = {\n      count: props.count || 1\n    };\n    this.maxCount = props.type === _constant.TABLE_ELEMENT.ROW ? _constant.TABLE_MAX_ROWS : _constant.TABLE_MAX_COLUMNS;\n  }\n  render() {\n    const {\n      count\n    } = this.state;\n    const {\n      t,\n      type,\n      currentCount\n    } = this.props;\n    const isDisabled = currentCount >= this.maxCount;\n    return /*#__PURE__*/_react.default.createElement(\"button\", {\n      onMouseDown: this.insertTableElement,\n      className: \"sf-context-menu-item sf-dropdown-menu-item\",\n      disabled: isDisabled\n    }, this.getTip(), /*#__PURE__*/_react.default.createElement(\"div\", {\n      className: \"insert-number\"\n    }, /*#__PURE__*/_react.default.createElement(_reactstrap.Input, {\n      className: \"insert-number-input\",\n      value: count,\n      disabled: isDisabled,\n      onMouseDown: this.onMouseDown,\n      onKeyDown: this.onKeyDown,\n      onChange: this.onChange\n    }), /*#__PURE__*/_react.default.createElement(\"span\", null, type === _constant.TABLE_ELEMENT.ROW ? t('Row(s)') : t('Column(s)'))));\n  }\n}\nvar _default = exports.default = (0, _reactI18next.withTranslation)('seafile-editor')(InsertTableElement);"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}