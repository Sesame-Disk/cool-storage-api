{"ast":null,"code":"import { unified } from 'unified';\nimport markdown from 'remark-parse';\nimport gfm from 'remark-gfm';\nimport math from 'remark-math';\nimport { generateDefaultParagraph } from '../../basic-sdk/extension/core';\nimport { formatMdToSlate } from './transform';\n\n// md string -> md ast\nvar getProcessor = function getProcessor() {\n  var processor = unified().use(markdown) // Handles markdown basic syntax\n  .use(gfm) // Handle markdown extension syntax\n  .use(math); // Handles markdown math formulas\n\n  return processor;\n};\nvar reconciledSlateNodes = function reconciledSlateNodes(nodes) {\n  return nodes;\n};\n\n// md string --> md ast --> slate ast\n// https://github.com/syntax-tree/mdast\nvar mdStringToSlate = function mdStringToSlate(mdString) {\n  if (!mdString) return [generateDefaultParagraph()];\n  var content = mdString;\n  if (typeof mdString === 'number') {\n    content = mdString + '';\n  }\n\n  // md string --> md ast\n  var root = getProcessor().parse(content);\n\n  // md ast --> slate ast\n  var slateNodes = formatMdToSlate(root.children);\n\n  // Format the document\n  return reconciledSlateNodes(slateNodes);\n};\nexport default mdStringToSlate;","map":{"version":3,"names":["unified","markdown","gfm","math","generateDefaultParagraph","formatMdToSlate","getProcessor","processor","use","reconciledSlateNodes","nodes","mdStringToSlate","mdString","content","root","parse","slateNodes","children"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/slate-convert/md-to-slate/index.js"],"sourcesContent":["import { unified } from 'unified';\nimport markdown from 'remark-parse';\nimport gfm from 'remark-gfm';\nimport math from 'remark-math';\nimport { generateDefaultParagraph } from '../../basic-sdk/extension/core';\nimport { formatMdToSlate } from './transform';\n\n// md string -> md ast\nconst getProcessor = () => {\n  const processor = unified().use(markdown) // Handles markdown basic syntax\n  .use(gfm) // Handle markdown extension syntax\n  .use(math); // Handles markdown math formulas\n\n  return processor;\n};\nconst reconciledSlateNodes = nodes => {\n  return nodes;\n};\n\n// md string --> md ast --> slate ast\n// https://github.com/syntax-tree/mdast\nconst mdStringToSlate = mdString => {\n  if (!mdString) return [generateDefaultParagraph()];\n  let content = mdString;\n  if (typeof mdString === 'number') {\n    content = mdString + '';\n  }\n\n  // md string --> md ast\n  const root = getProcessor().parse(content);\n\n  // md ast --> slate ast\n  const slateNodes = formatMdToSlate(root.children);\n\n  // Format the document\n  return reconciledSlateNodes(slateNodes);\n};\nexport default mdStringToSlate;"],"mappings":"AAAA,SAASA,OAAO,QAAQ,SAAS;AACjC,OAAOC,QAAQ,MAAM,cAAc;AACnC,OAAOC,GAAG,MAAM,YAAY;AAC5B,OAAOC,IAAI,MAAM,aAAa;AAC9B,SAASC,wBAAwB,QAAQ,gCAAgC;AACzE,SAASC,eAAe,QAAQ,aAAa;;AAE7C;AACA,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;EACzB,IAAMC,SAAS,GAAGP,OAAO,CAAC,CAAC,CAACQ,GAAG,CAACP,QAAQ,CAAC,CAAC;EAAA,CACzCO,GAAG,CAACN,GAAG,CAAC,CAAC;EAAA,CACTM,GAAG,CAACL,IAAI,CAAC,CAAC,CAAC;;EAEZ,OAAOI,SAAS;AAClB,CAAC;AACD,IAAME,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAGC,KAAK,EAAI;EACpC,OAAOA,KAAK;AACd,CAAC;;AAED;AACA;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAGC,QAAQ,EAAI;EAClC,IAAI,CAACA,QAAQ,EAAE,OAAO,CAACR,wBAAwB,CAAC,CAAC,CAAC;EAClD,IAAIS,OAAO,GAAGD,QAAQ;EACtB,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;IAChCC,OAAO,GAAGD,QAAQ,GAAG,EAAE;EACzB;;EAEA;EACA,IAAME,IAAI,GAAGR,YAAY,CAAC,CAAC,CAACS,KAAK,CAACF,OAAO,CAAC;;EAE1C;EACA,IAAMG,UAAU,GAAGX,eAAe,CAACS,IAAI,CAACG,QAAQ,CAAC;;EAEjD;EACA,OAAOR,oBAAoB,CAACO,UAAU,CAAC;AACzC,CAAC;AACD,eAAeL,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}