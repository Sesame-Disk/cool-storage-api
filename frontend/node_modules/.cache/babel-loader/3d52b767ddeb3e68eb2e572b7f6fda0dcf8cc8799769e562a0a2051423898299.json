{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Link}from'@gatsbyjs/reach-router';import{seafileAPI}from'../../utils/seafile-api';import{gettext,siteRoot}from'../../utils/constants';import{Utils}from'../../utils/utils';import Loading from'../../components/loading';import OrgAdminGroupNav from'../../components/org-admin-group-nav';import MainPanelTopbar from'./main-panel-topbar';import'../../css/org-admin-user.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var orgID=window.org.pageOptions.orgID;var OrgGroupMembers=/*#__PURE__*/function(_Component){_inherits(OrgGroupMembers,_Component);var _super=_createSuper(OrgGroupMembers);function OrgGroupMembers(props){var _this;_classCallCheck(this,OrgGroupMembers);_this=_super.call(this,props);_this.state={loading:true,errorMsg:''};return _this;}_createClass(OrgGroupMembers,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;seafileAPI.orgAdminListGroupMembers(orgID,this.props.groupID).then(function(res){_this2.setState(Object.assign({loading:false},res.data));}).catch(function(error){_this2.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(OrgAdminGroupNav,{groupID:this.props.groupID,currentItem:\"members\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{data:this.state})})]})})]});}}]);return OrgGroupMembers;}(Component);var Content=/*#__PURE__*/function(_Component2){_inherits(Content,_Component2);var _super2=_createSuper(Content);function Content(props){_classCallCheck(this,Content);return _super2.call(this,props);}_createClass(Content,[{key:\"render\",value:function render(){var _this$props$data=this.props.data,loading=_this$props$data.loading,errorMsg=_this$props$data.errorMsg,members=_this$props$data.members;if(loading){return/*#__PURE__*/_jsx(Loading,{});}if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center mt-2\",children:errorMsg});}return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"10%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"50%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"40%\",children:gettext('Role')})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:members.map(function(item,index){return/*#__PURE__*/_jsx(Item,{data:item},index);})})]})});}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component3){_inherits(Item,_Component3);var _super3=_createSuper(Item);function Item(props){_classCallCheck(this,Item);return _super3.call(this,props);}_createClass(Item,[{key:\"getRoleText\",value:function getRoleText(){switch(this.props.data.role){case'Owner':return gettext('Owner');case'Admin':return gettext('Admin');case'Member':return gettext('Member');}}},{key:\"render\",value:function render(){var item=this.props.data;return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:item.avatar_url,alt:\"\",className:\"avatar\",width:\"32\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(siteRoot,\"org/useradmin/info/\").concat(encodeURIComponent(item.email),\"/\"),children:item.name})}),/*#__PURE__*/_jsx(\"td\",{children:this.getRoleText()})]})});}}]);return Item;}(Component);export default OrgGroupMembers;","map":{"version":3,"names":["React","Component","Fragment","Link","seafileAPI","gettext","siteRoot","Utils","Loading","OrgAdminGroupNav","MainPanelTopbar","jsx","_jsx","jsxs","_jsxs","orgID","window","org","pageOptions","OrgGroupMembers","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","loading","errorMsg","_createClass","key","value","componentDidMount","_this2","orgAdminListGroupMembers","groupID","then","res","setState","Object","assign","data","catch","error","getErrorMsg","render","children","className","currentItem","Content","_Component2","_super2","_this$props$data","members","width","map","item","index","Item","_Component3","_super3","getRoleText","role","src","avatar_url","alt","to","concat","encodeURIComponent","email","name"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/org-admin/org-group-members.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport OrgAdminGroupNav from '../../components/org-admin-group-nav';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID } = window.org.pageOptions;\n\nclass OrgGroupMembers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.orgAdminListGroupMembers(orgID, this.props.groupID).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data));\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminGroupNav groupID={this.props.groupID} currentItem='members' />\n            <div className=\"cur-view-content\">\n              <Content\n                data={this.state}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const {\n      loading, errorMsg, members\n    } = this.props.data;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center mt-2\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"10%\"></th>\n              <th width=\"50%\">{gettext('Name')}</th>\n              <th width=\"40%\">{gettext('Role')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {members.map((item, index) => {\n              return <Item key={index} data={item} />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n}\n\nContent.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getRoleText() {\n    switch (this.props.data.role) {\n      case 'Owner':\n        return gettext('Owner');\n      case 'Admin':\n        return gettext('Admin');\n      case 'Member':\n        return gettext('Member');\n    }\n  }\n\n  render() {\n    const item = this.props.data;\n    return (\n      <Fragment>\n        <tr>\n          <td className=\"text-center\">\n            <img src={item.avatar_url} alt=\"\" className=\"avatar\" width=\"32\" />\n          </td>\n          <td>\n            <Link to={`${siteRoot}org/useradmin/info/${encodeURIComponent(item.email)}/`}>{item.name}</Link>\n          </td>\n          <td>\n            {this.getRoleText()}\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nOrgGroupMembers.propTypes = {\n  groupID: PropTypes.string,\n};\n\nexport default OrgGroupMembers;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}