{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import moment from'moment';import{isPro,gettext,mediaUrl,siteRoot}from'../../utils/constants';import{InternalLinkOperation}from'../operations';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _window$app$pageOptio=window.app.pageOptions,fileName=_window$app$pageOptio.fileName,repoID=_window$app$pageOptio.repoID,filePath=_window$app$pageOptio.filePath,latestContributor=_window$app$pageOptio.latestContributor,latestContributorName=_window$app$pageOptio.latestContributorName,lastModificationTime=_window$app$pageOptio.lastModificationTime;var FileInfo=/*#__PURE__*/function(_React$PureComponent){_inherits(FileInfo,_React$PureComponent);var _super=_createSuper(FileInfo);function FileInfo(props){var _this;_classCallCheck(this,FileInfo);_this=_super.call(this,props);_this.toggleStar=function(e){e.preventDefault();_this.props.toggleStar();};return _this;}_createClass(FileInfo,[{key:\"render\",value:function render(){var _this$props=this.props,isStarred=_this$props.isStarred,isLocked=_this$props.isLocked;var starredText=isStarred?gettext('starred'):gettext('unstarred');var lockedText=gettext('locked');return/*#__PURE__*/_jsxs(\"div\",{className:\"text-truncate\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"file-title d-flex align-items-center\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"file-name text-truncate\",title:fileName,children:fileName}),/*#__PURE__*/_jsx(\"a\",{className:\"file-star \".concat(isStarred?'fa':'far',\" fa-star\"),href:\"#\",title:starredText,role:\"button\",\"aria-label\":isStarred?gettext('Unstar'):gettext('Star'),onClick:this.toggleStar}),/*#__PURE__*/_jsx(InternalLinkOperation,{repoID:repoID,path:filePath}),isPro&&isLocked&&/*#__PURE__*/_jsx(\"img\",{className:\"file-locked-icon\",width:\"16\",src:\"\".concat(mediaUrl,\"img/file-locked-32.png\"),alt:lockedText,title:lockedText,\"aria-label\":lockedText})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"meta-info\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"profile/\").concat(encodeURIComponent(latestContributor),\"/\"),children:latestContributorName}),/*#__PURE__*/_jsx(\"span\",{className:\"ml-2\",children:moment(lastModificationTime*1000).format('YYYY-MM-DD HH:mm')})]})]});}}]);return FileInfo;}(React.PureComponent);export default FileInfo;","map":{"version":3,"names":["React","moment","isPro","gettext","mediaUrl","siteRoot","InternalLinkOperation","jsx","_jsx","jsxs","_jsxs","_window$app$pageOptio","window","app","pageOptions","fileName","repoID","filePath","latestContributor","latestContributorName","lastModificationTime","FileInfo","_React$PureComponent","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","toggleStar","e","preventDefault","_createClass","key","value","render","_this$props","isStarred","isLocked","starredText","lockedText","className","children","title","concat","href","role","onClick","path","width","src","alt","encodeURIComponent","format","PureComponent"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/file-view/file-info.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { isPro, gettext, mediaUrl, siteRoot } from '../../utils/constants';\nimport { InternalLinkOperation } from '../operations';\n\nconst propTypes = {\n  toggleStar: PropTypes.func.isRequired,\n  isLocked: PropTypes.bool.isRequired,\n  isStarred: PropTypes.bool.isRequired\n};\n\nconst { fileName, repoID, filePath,\n  latestContributor, latestContributorName, lastModificationTime\n} = window.app.pageOptions;\n\nclass FileInfo extends React.PureComponent {\n\n  constructor(props) {\n    super(props);\n  }\n\n  toggleStar = (e) => {\n    e.preventDefault();\n    this.props.toggleStar();\n  };\n\n  render() {\n    const { isStarred, isLocked } = this.props;\n    const starredText = isStarred ? gettext('starred') : gettext('unstarred');\n    const lockedText = gettext('locked');\n    return (\n      <div className=\"text-truncate\">\n        <h2 className=\"file-title d-flex align-items-center\">\n          <span className=\"file-name text-truncate\" title={fileName}>{fileName}</span>\n          <a className={`file-star ${isStarred ? 'fa' : 'far'} fa-star`}\n            href=\"#\"\n            title={starredText}\n            role=\"button\"\n            aria-label={isStarred ? gettext('Unstar') : gettext('Star')}\n            onClick={this.toggleStar}>\n          </a>\n          <InternalLinkOperation repoID={repoID} path={filePath} />\n          {(isPro && isLocked) &&\n            <img className=\"file-locked-icon\" width=\"16\"\n              src={`${mediaUrl}img/file-locked-32.png`}\n              alt={lockedText}\n              title={lockedText}\n              aria-label={lockedText}\n            />\n          }\n        </h2>\n        <div className=\"meta-info\">\n          <a href={`${siteRoot}profile/${encodeURIComponent(latestContributor)}/`}>{latestContributorName}</a>\n          <span className=\"ml-2\">{moment(lastModificationTime * 1000).format('YYYY-MM-DD HH:mm')}</span>\n        </div>\n      </div>\n    );\n  }\n}\n\nFileInfo.propTypes = propTypes;\n\nexport default FileInfo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}