{"ast":null,"code":"import _toConsumableArray from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import TreeNode from'./tree-node';var Tree=/*#__PURE__*/function(){function Tree(){_classCallCheck(this,Tree);this.root=null;}_createClass(Tree,[{key:\"clone\",value:function clone(){var tree=new Tree();if(this.root){tree.root=this.root.clone();}return tree;}},{key:\"setRoot\",value:function setRoot(node){this.root=node;}},{key:\"getNodeByPath\",value:function getNodeByPath(path){var findNode=null;function callback(currentNode){if(currentNode.path===path){findNode=currentNode;return true;}return false;}this.traverseDF(callback);return findNode;}},{key:\"getNodeChildrenObject\",value:function getNodeChildrenObject(node){var objects=node.children.map(function(item){var object=item.object;return object;});return objects;}},{key:\"addNodeToParent\",value:function addNodeToParent(node,parentNode){parentNode.addChild(node);}},{key:\"addNodeListToParent\",value:function addNodeListToParent(nodeList,parentNode){nodeList.forEach(function(node){parentNode.addChild(node);});}},{key:\"deleteNode\",value:function deleteNode(node){var parentNode=this.getNodeByPath(node.parentNode.path);parentNode.deleteChild(node);}},{key:\"deleteNodeList\",value:function deleteNodeList(nodeList){var _this=this;nodeList.forEach(function(node){_this.deleteNode(node);});}},{key:\"renameNode\",value:function renameNode(node,newName){node.rename(newName);}},{key:\"updateNode\",value:function updateNode(node,keys,newValues){node.updateObjectParam(keys,newValues);}},{key:\"moveNode\",value:function moveNode(node,destNode){this.deleteNode(node);destNode.addChild(node);}},{key:\"copyNode\",value:function copyNode(node,destNode){destNode.addChild(node);}},{key:\"traverseDF\",value:function traverseDF(callback){var stack=[];var found=false;stack.unshift(this.root);var currentNode=stack.shift();while(!found&&currentNode){found=callback(currentNode)==true?true:false;if(!found){stack.unshift.apply(stack,_toConsumableArray(currentNode.children));currentNode=stack.shift();}}}},{key:\"traverseBF\",value:function traverseBF(callback){var queue=[];var found=false;queue.push(this.root);var currentNode=queue.shift();while(!found&&currentNode){found=callback(currentNode)===true?true:false;if(!found){queue.push.apply(queue,_toConsumableArray(currentNode.children));currentNode=queue.shift();}}}},{key:\"expandNode\",value:function expandNode(node){node.isExpanded=true;while(node.parentNode){node.parentNode.isExpanded=true;node=node.parentNode;}}},{key:\"collapseNode\",value:function collapseNode(node){node.isExpanded=false;}},{key:\"isNodeChild\",value:function isNodeChild(node,parentNode){return parentNode.children.some(function(item){return item.path===node.path;});}},{key:\"serializeToJson\",value:function serializeToJson(){return this.root.serializeToJson();}},{key:\"deserializefromJson\",value:function deserializefromJson(json){var root=TreeNode.deserializefromJson(json);var tree=new Tree();tree.setRoot(root);return tree;}}]);return Tree;}();export default Tree;","map":{"version":3,"names":["TreeNode","Tree","_classCallCheck","root","_createClass","key","value","clone","tree","setRoot","node","getNodeByPath","path","findNode","callback","currentNode","traverseDF","getNodeChildrenObject","objects","children","map","item","object","addNodeToParent","parentNode","addChild","addNodeListToParent","nodeList","forEach","deleteNode","deleteChild","deleteNodeList","_this","renameNode","newName","rename","updateNode","keys","newValues","updateObjectParam","moveNode","destNode","copyNode","stack","found","unshift","shift","apply","_toConsumableArray","traverseBF","queue","push","expandNode","isExpanded","collapseNode","isNodeChild","some","serializeToJson","deserializefromJson","json"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/tree-view/tree.js"],"sourcesContent":["import TreeNode from './tree-node';\n\nclass Tree {\n\n  constructor() {\n    this.root = null;\n  }\n\n  clone() {\n    let tree = new Tree();\n    if (this.root) {\n      tree.root = this.root.clone();\n    }\n    return tree;\n  }\n\n  setRoot(node) {\n    this.root = node;\n  }\n\n  getNodeByPath(path) {\n    let findNode = null;\n    function callback(currentNode) {\n      if (currentNode.path === path) {\n        findNode = currentNode;\n        return true;\n      }\n      return false;\n    }\n    this.traverseDF(callback);\n    return findNode;\n  }\n\n  getNodeChildrenObject(node) {\n    let objects = node.children.map(item => {\n      let object = item.object;\n      return object;\n    });\n    return objects;\n  }\n\n  addNodeToParent(node, parentNode) {\n    parentNode.addChild(node);\n  }\n\n  addNodeListToParent(nodeList, parentNode) {\n    nodeList.forEach(node => {\n      parentNode.addChild(node);\n    });\n  }\n\n  deleteNode(node) {\n    let parentNode = this.getNodeByPath(node.parentNode.path);\n    parentNode.deleteChild(node);\n  }\n\n  deleteNodeList(nodeList) {\n    nodeList.forEach(node => {\n      this.deleteNode(node);\n    });\n  }\n\n  renameNode(node, newName) {\n    node.rename(newName);\n  }\n\n  updateNode(node, keys, newValues) {\n    node.updateObjectParam(keys, newValues);\n  }\n\n  moveNode(node, destNode) {\n    this.deleteNode(node);\n    destNode.addChild(node);\n  }\n\n  copyNode(node, destNode) {\n    destNode.addChild(node);\n  }\n\n  traverseDF(callback) {\n    let stack = [];\n    let found = false;\n    stack.unshift(this.root);\n    let currentNode = stack.shift();\n    while (!found && currentNode) {\n      found = callback(currentNode) == true ? true : false;\n      if (!found) {\n        stack.unshift(...currentNode.children);\n        currentNode = stack.shift();\n      }\n    }\n  }\n\n  traverseBF(callback) {\n    let queue = [];\n    let found = false;\n    queue.push(this.root);\n    let currentNode = queue.shift();\n    while (!found && currentNode) {\n      found = callback(currentNode) === true ? true : false;\n      if (!found) {\n        queue.push(...currentNode.children);\n        currentNode = queue.shift();\n      }\n    }\n  }\n\n  expandNode(node) {\n    node.isExpanded = true;\n    while (node.parentNode) {\n      node.parentNode.isExpanded = true;\n      node = node.parentNode;\n    }\n  }\n\n  collapseNode(node) {\n    node.isExpanded = false;\n  }\n\n  isNodeChild(node, parentNode) {\n    return parentNode.children.some(item => {\n      return item.path === node.path;\n    });\n  }\n\n  serializeToJson() {\n    return this.root.serializeToJson();\n  }\n\n  deserializefromJson(json) {\n    let root = TreeNode.deserializefromJson(json);\n    let tree = new Tree();\n    tree.setRoot(root);\n    return tree;\n  }\n\n}\n\nexport default Tree;\n"],"mappings":"wcAAA,MAAO,CAAAA,QAAQ,KAAM,aAAa,CAAC,GAE7B,CAAAC,IAAI,yBAER,SAAAA,KAAA,CAAc,CAAAC,eAAA,MAAAD,IAAA,EACZ,IAAI,CAACE,IAAI,CAAG,IAAI,CAClB,CAACC,YAAA,CAAAH,IAAA,GAAAI,GAAA,SAAAC,KAAA,CAED,SAAAC,MAAA,CAAQ,CACN,GAAI,CAAAC,IAAI,CAAG,GAAI,CAAAP,IAAI,CAAC,CAAC,CACrB,GAAI,IAAI,CAACE,IAAI,CAAE,CACbK,IAAI,CAACL,IAAI,CAAG,IAAI,CAACA,IAAI,CAACI,KAAK,CAAC,CAAC,CAC/B,CACA,MAAO,CAAAC,IAAI,CACb,CAAC,GAAAH,GAAA,WAAAC,KAAA,CAED,SAAAG,QAAQC,IAAI,CAAE,CACZ,IAAI,CAACP,IAAI,CAAGO,IAAI,CAClB,CAAC,GAAAL,GAAA,iBAAAC,KAAA,CAED,SAAAK,cAAcC,IAAI,CAAE,CAClB,GAAI,CAAAC,QAAQ,CAAG,IAAI,CACnB,QAAS,CAAAC,QAAQA,CAACC,WAAW,CAAE,CAC7B,GAAIA,WAAW,CAACH,IAAI,GAAKA,IAAI,CAAE,CAC7BC,QAAQ,CAAGE,WAAW,CACtB,MAAO,KAAI,CACb,CACA,MAAO,MAAK,CACd,CACA,IAAI,CAACC,UAAU,CAACF,QAAQ,CAAC,CACzB,MAAO,CAAAD,QAAQ,CACjB,CAAC,GAAAR,GAAA,yBAAAC,KAAA,CAED,SAAAW,sBAAsBP,IAAI,CAAE,CAC1B,GAAI,CAAAQ,OAAO,CAAGR,IAAI,CAACS,QAAQ,CAACC,GAAG,CAAC,SAAAC,IAAI,CAAI,CACtC,GAAI,CAAAC,MAAM,CAAGD,IAAI,CAACC,MAAM,CACxB,MAAO,CAAAA,MAAM,CACf,CAAC,CAAC,CACF,MAAO,CAAAJ,OAAO,CAChB,CAAC,GAAAb,GAAA,mBAAAC,KAAA,CAED,SAAAiB,gBAAgBb,IAAI,CAAEc,UAAU,CAAE,CAChCA,UAAU,CAACC,QAAQ,CAACf,IAAI,CAAC,CAC3B,CAAC,GAAAL,GAAA,uBAAAC,KAAA,CAED,SAAAoB,oBAAoBC,QAAQ,CAAEH,UAAU,CAAE,CACxCG,QAAQ,CAACC,OAAO,CAAC,SAAAlB,IAAI,CAAI,CACvBc,UAAU,CAACC,QAAQ,CAACf,IAAI,CAAC,CAC3B,CAAC,CAAC,CACJ,CAAC,GAAAL,GAAA,cAAAC,KAAA,CAED,SAAAuB,WAAWnB,IAAI,CAAE,CACf,GAAI,CAAAc,UAAU,CAAG,IAAI,CAACb,aAAa,CAACD,IAAI,CAACc,UAAU,CAACZ,IAAI,CAAC,CACzDY,UAAU,CAACM,WAAW,CAACpB,IAAI,CAAC,CAC9B,CAAC,GAAAL,GAAA,kBAAAC,KAAA,CAED,SAAAyB,eAAeJ,QAAQ,CAAE,KAAAK,KAAA,MACvBL,QAAQ,CAACC,OAAO,CAAC,SAAAlB,IAAI,CAAI,CACvBsB,KAAI,CAACH,UAAU,CAACnB,IAAI,CAAC,CACvB,CAAC,CAAC,CACJ,CAAC,GAAAL,GAAA,cAAAC,KAAA,CAED,SAAA2B,WAAWvB,IAAI,CAAEwB,OAAO,CAAE,CACxBxB,IAAI,CAACyB,MAAM,CAACD,OAAO,CAAC,CACtB,CAAC,GAAA7B,GAAA,cAAAC,KAAA,CAED,SAAA8B,WAAW1B,IAAI,CAAE2B,IAAI,CAAEC,SAAS,CAAE,CAChC5B,IAAI,CAAC6B,iBAAiB,CAACF,IAAI,CAAEC,SAAS,CAAC,CACzC,CAAC,GAAAjC,GAAA,YAAAC,KAAA,CAED,SAAAkC,SAAS9B,IAAI,CAAE+B,QAAQ,CAAE,CACvB,IAAI,CAACZ,UAAU,CAACnB,IAAI,CAAC,CACrB+B,QAAQ,CAAChB,QAAQ,CAACf,IAAI,CAAC,CACzB,CAAC,GAAAL,GAAA,YAAAC,KAAA,CAED,SAAAoC,SAAShC,IAAI,CAAE+B,QAAQ,CAAE,CACvBA,QAAQ,CAAChB,QAAQ,CAACf,IAAI,CAAC,CACzB,CAAC,GAAAL,GAAA,cAAAC,KAAA,CAED,SAAAU,WAAWF,QAAQ,CAAE,CACnB,GAAI,CAAA6B,KAAK,CAAG,EAAE,CACd,GAAI,CAAAC,KAAK,CAAG,KAAK,CACjBD,KAAK,CAACE,OAAO,CAAC,IAAI,CAAC1C,IAAI,CAAC,CACxB,GAAI,CAAAY,WAAW,CAAG4B,KAAK,CAACG,KAAK,CAAC,CAAC,CAC/B,MAAO,CAACF,KAAK,EAAI7B,WAAW,CAAE,CAC5B6B,KAAK,CAAG9B,QAAQ,CAACC,WAAW,CAAC,EAAI,IAAI,CAAG,IAAI,CAAG,KAAK,CACpD,GAAI,CAAC6B,KAAK,CAAE,CACVD,KAAK,CAACE,OAAO,CAAAE,KAAA,CAAbJ,KAAK,CAAAK,kBAAA,CAAYjC,WAAW,CAACI,QAAQ,EAAC,CACtCJ,WAAW,CAAG4B,KAAK,CAACG,KAAK,CAAC,CAAC,CAC7B,CACF,CACF,CAAC,GAAAzC,GAAA,cAAAC,KAAA,CAED,SAAA2C,WAAWnC,QAAQ,CAAE,CACnB,GAAI,CAAAoC,KAAK,CAAG,EAAE,CACd,GAAI,CAAAN,KAAK,CAAG,KAAK,CACjBM,KAAK,CAACC,IAAI,CAAC,IAAI,CAAChD,IAAI,CAAC,CACrB,GAAI,CAAAY,WAAW,CAAGmC,KAAK,CAACJ,KAAK,CAAC,CAAC,CAC/B,MAAO,CAACF,KAAK,EAAI7B,WAAW,CAAE,CAC5B6B,KAAK,CAAG9B,QAAQ,CAACC,WAAW,CAAC,GAAK,IAAI,CAAG,IAAI,CAAG,KAAK,CACrD,GAAI,CAAC6B,KAAK,CAAE,CACVM,KAAK,CAACC,IAAI,CAAAJ,KAAA,CAAVG,KAAK,CAAAF,kBAAA,CAASjC,WAAW,CAACI,QAAQ,EAAC,CACnCJ,WAAW,CAAGmC,KAAK,CAACJ,KAAK,CAAC,CAAC,CAC7B,CACF,CACF,CAAC,GAAAzC,GAAA,cAAAC,KAAA,CAED,SAAA8C,WAAW1C,IAAI,CAAE,CACfA,IAAI,CAAC2C,UAAU,CAAG,IAAI,CACtB,MAAO3C,IAAI,CAACc,UAAU,CAAE,CACtBd,IAAI,CAACc,UAAU,CAAC6B,UAAU,CAAG,IAAI,CACjC3C,IAAI,CAAGA,IAAI,CAACc,UAAU,CACxB,CACF,CAAC,GAAAnB,GAAA,gBAAAC,KAAA,CAED,SAAAgD,aAAa5C,IAAI,CAAE,CACjBA,IAAI,CAAC2C,UAAU,CAAG,KAAK,CACzB,CAAC,GAAAhD,GAAA,eAAAC,KAAA,CAED,SAAAiD,YAAY7C,IAAI,CAAEc,UAAU,CAAE,CAC5B,MAAO,CAAAA,UAAU,CAACL,QAAQ,CAACqC,IAAI,CAAC,SAAAnC,IAAI,CAAI,CACtC,MAAO,CAAAA,IAAI,CAACT,IAAI,GAAKF,IAAI,CAACE,IAAI,CAChC,CAAC,CAAC,CACJ,CAAC,GAAAP,GAAA,mBAAAC,KAAA,CAED,SAAAmD,gBAAA,CAAkB,CAChB,MAAO,KAAI,CAACtD,IAAI,CAACsD,eAAe,CAAC,CAAC,CACpC,CAAC,GAAApD,GAAA,uBAAAC,KAAA,CAED,SAAAoD,oBAAoBC,IAAI,CAAE,CACxB,GAAI,CAAAxD,IAAI,CAAGH,QAAQ,CAAC0D,mBAAmB,CAACC,IAAI,CAAC,CAC7C,GAAI,CAAAnD,IAAI,CAAG,GAAI,CAAAP,IAAI,CAAC,CAAC,CACrBO,IAAI,CAACC,OAAO,CAACN,IAAI,CAAC,CAClB,MAAO,CAAAK,IAAI,CACb,CAAC,WAAAP,IAAA,KAIH,cAAe,CAAAA,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}