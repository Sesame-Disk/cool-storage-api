{"ast":null,"code":"import React, { useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { useReadOnly } from '@seafile/slate-react';\nimport { isWeChat } from '../helpers';\nimport '../../../../assets/css/textlink-hovermenu.css';\nvar LinkHover = function LinkHover(_ref) {\n  var editor = _ref.editor,\n    element = _ref.element,\n    menuPosition = _ref.menuPosition,\n    onDeleteLink = _ref.onDeleteLink,\n    onEditLink = _ref.onEditLink;\n  var readOnly = useReadOnly();\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var onMouseDown = useCallback(function (event) {\n    event.stopPropagation();\n    if (!isWeChat()) {\n      window.open(element.href);\n    } else {\n      // eslint-disable-next-line no-restricted-globals\n      location.href = element.href;\n    }\n  }, [element.href]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal( /*#__PURE__*/React.createElement(\"div\", {\n    id: \"link-op-menu\",\n    className: \"link-op-menu\",\n    style: menuPosition\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: \"link-op-menu-link\",\n    onMouseDown: onMouseDown\n  }, t('Open_link')), !readOnly && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link-op-icons d-flex\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"button\",\n    className: \"link-op-icon\",\n    onClick: onEditLink\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-rename\"\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    role: \"button\",\n    className: \"link-op-icon\",\n    onClick: onDeleteLink\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-unlink\"\n  })))), document.body));\n};\nexport default LinkHover;","map":{"version":3,"names":["React","useCallback","createPortal","useTranslation","useReadOnly","isWeChat","LinkHover","_ref","editor","element","menuPosition","onDeleteLink","onEditLink","readOnly","_useTranslation","t","onMouseDown","event","stopPropagation","window","open","href","location","createElement","Fragment","id","className","style","target","rel","role","onClick","document","body"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/link/hover/index.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { createPortal } from 'react-dom';\nimport { useTranslation } from 'react-i18next';\nimport { useReadOnly } from '@seafile/slate-react';\nimport { isWeChat } from '../helpers';\nimport '../../../../assets/css/textlink-hovermenu.css';\nconst LinkHover = _ref => {\n  let {\n    editor,\n    element,\n    menuPosition,\n    onDeleteLink,\n    onEditLink\n  } = _ref;\n  const readOnly = useReadOnly();\n  const {\n    t\n  } = useTranslation();\n  const onMouseDown = useCallback(event => {\n    event.stopPropagation();\n    if (!isWeChat()) {\n      window.open(element.href);\n    } else {\n      // eslint-disable-next-line no-restricted-globals\n      location.href = element.href;\n    }\n  }, [element.href]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, createPortal( /*#__PURE__*/React.createElement(\"div\", {\n    id: \"link-op-menu\",\n    className: \"link-op-menu\",\n    style: menuPosition\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    target: \"_blank\",\n    rel: \"noopener noreferrer\",\n    className: \"link-op-menu-link\",\n    onMouseDown: onMouseDown\n  }, t('Open_link')), !readOnly && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"link-op-icons d-flex\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    role: \"button\",\n    className: \"link-op-icon\",\n    onClick: onEditLink\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-rename\"\n  })), /*#__PURE__*/React.createElement(\"span\", {\n    role: \"button\",\n    className: \"link-op-icon\",\n    onClick: onDeleteLink\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-unlink\"\n  })))), document.body));\n};\nexport default LinkHover;"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,WAAW,QAAQ,sBAAsB;AAClD,SAASC,QAAQ,QAAQ,YAAY;AACrC,OAAO,+CAA+C;AACtD,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAGC,IAAI,EAAI;EACxB,IACEC,MAAM,GAKJD,IAAI,CALNC,MAAM;IACNC,OAAO,GAILF,IAAI,CAJNE,OAAO;IACPC,YAAY,GAGVH,IAAI,CAHNG,YAAY;IACZC,YAAY,GAEVJ,IAAI,CAFNI,YAAY;IACZC,UAAU,GACRL,IAAI,CADNK,UAAU;EAEZ,IAAMC,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,IAAAU,eAAA,GAEIX,cAAc,CAAC,CAAC;IADlBY,CAAC,GAAAD,eAAA,CAADC,CAAC;EAEH,IAAMC,WAAW,GAAGf,WAAW,CAAC,UAAAgB,KAAK,EAAI;IACvCA,KAAK,CAACC,eAAe,CAAC,CAAC;IACvB,IAAI,CAACb,QAAQ,CAAC,CAAC,EAAE;MACfc,MAAM,CAACC,IAAI,CAACX,OAAO,CAACY,IAAI,CAAC;IAC3B,CAAC,MAAM;MACL;MACAC,QAAQ,CAACD,IAAI,GAAGZ,OAAO,CAACY,IAAI;IAC9B;EACF,CAAC,EAAE,CAACZ,OAAO,CAACY,IAAI,CAAC,CAAC;EAClB,OAAO,aAAarB,KAAK,CAACuB,aAAa,CAACvB,KAAK,CAACwB,QAAQ,EAAE,IAAI,EAAEtB,YAAY,EAAE,aAAaF,KAAK,CAACuB,aAAa,CAAC,KAAK,EAAE;IAClHE,EAAE,EAAE,cAAc;IAClBC,SAAS,EAAE,cAAc;IACzBC,KAAK,EAAEjB;EACT,CAAC,EAAE,aAAaV,KAAK,CAACuB,aAAa,CAAC,MAAM,EAAE;IAC1CK,MAAM,EAAE,QAAQ;IAChBC,GAAG,EAAE,qBAAqB;IAC1BH,SAAS,EAAE,mBAAmB;IAC9BV,WAAW,EAAEA;EACf,CAAC,EAAED,CAAC,CAAC,WAAW,CAAC,CAAC,EAAE,CAACF,QAAQ,IAAI,aAAab,KAAK,CAACuB,aAAa,CAAC,KAAK,EAAE;IACvEG,SAAS,EAAE;EACb,CAAC,EAAE,aAAa1B,KAAK,CAACuB,aAAa,CAAC,MAAM,EAAE;IAC1CO,IAAI,EAAE,QAAQ;IACdJ,SAAS,EAAE,cAAc;IACzBK,OAAO,EAAEnB;EACX,CAAC,EAAE,aAAaZ,KAAK,CAACuB,aAAa,CAAC,GAAG,EAAE;IACvCG,SAAS,EAAE;EACb,CAAC,CAAC,CAAC,EAAE,aAAa1B,KAAK,CAACuB,aAAa,CAAC,MAAM,EAAE;IAC5CO,IAAI,EAAE,QAAQ;IACdJ,SAAS,EAAE,cAAc;IACzBK,OAAO,EAAEpB;EACX,CAAC,EAAE,aAAaX,KAAK,CAACuB,aAAa,CAAC,GAAG,EAAE;IACvCG,SAAS,EAAE;EACb,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEM,QAAQ,CAACC,IAAI,CAAC,CAAC;AACxB,CAAC;AACD,eAAe3B,SAAS"},"metadata":{},"sourceType":"module","externalDependencies":[]}