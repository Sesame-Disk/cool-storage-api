{"ast":null,"code":"import _objectSpread from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Link}from'@gatsbyjs/reach-router';import moment from'moment';import{Utils}from'../../../utils/utils';import{seafileAPI}from'../../../utils/seafile-api';import{isPro,siteRoot,gettext}from'../../../utils/constants';import toaster from'../../../components/toast';import EmptyTip from'../../../components/empty-tip';import Loading from'../../../components/loading';import CommonOperationConfirmationDialog from'../../../components/dialog/common-operation-confirmation-dialog';import TransferDialog from'../../../components/dialog/transfer-dialog';import OpMenu from'../../../components/dialog/op-menu';import MainPanelTopbar from'../main-panel-topbar';import Nav from'./user-nav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var enableSysAdminViewRepo=window.sysadmin.pageOptions.enableSysAdminViewRepo;var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.state={isItemFreezed:false};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center mt-4\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsx(EmptyTip,{children:/*#__PURE__*/_jsx(\"h2\",{children:gettext('No libraries')})});var table=/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"5%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"35%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:gettext('Size')}),/*#__PURE__*/_jsx(\"th\",{width:\"25%\",children:gettext('Last Update')}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{item:item,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem,deleteRepo:_this2.props.deleteRepo,transferRepo:_this2.props.transferRepo},index);})})]})});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super2.call(this,props);_this3.handleMouseEnter=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:true,highlight:true});}};_this3.handleMouseLeave=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:false,highlight:false});}};_this3.onUnfreezedItem=function(){_this3.setState({highlight:false,isOpIconShow:false});_this3.props.onUnfreezedItem();};_this3.toggleDeleteDialog=function(){_this3.setState({isDeleteDialogOpen:!_this3.state.isDeleteDialogOpen});};_this3.deleteRepo=function(){_this3.props.deleteRepo(_this3.props.item.id);};_this3.toggleTransferDialog=function(){_this3.setState({isTransferDialogOpen:!_this3.state.isTransferDialogOpen});};_this3.transferRepo=function(owner){_this3.props.transferRepo(_this3.props.item.id,owner.email);_this3.toggleTransferDialog();};_this3.renderRepoName=function(){var item=_this3.props.item;var repo=item;if(repo.name){if(isPro&&enableSysAdminViewRepo&&!repo.encrypted){return/*#__PURE__*/_jsx(Link,{to:\"\".concat(siteRoot,\"sys/libraries/\").concat(repo.id,\"/\"),children:repo.name});}else{return repo.name;}}else{return gettext('Broken ({repo_id_placeholder})').replace('{repo_id_placeholder}',repo.id);}};_this3.translateOperations=function(item){var translateResult='';switch(item){case'Delete':translateResult=gettext('Delete');break;case'Transfer':translateResult=gettext('Transfer');break;}return translateResult;};_this3.onMenuItemClick=function(operation){switch(operation){case'Delete':_this3.toggleDeleteDialog();break;case'Transfer':_this3.toggleTransferDialog();break;}};_this3.state={isOpIconShown:false,highlight:false,isDeleteDialogOpen:false,isTransferDialogOpen:false};return _this3;}_createClass(Item,[{key:\"render\",value:function render(){var item=this.props.item;var _this$state=this.state,isOpIconShown=_this$state.isOpIconShown,isDeleteDialogOpen=_this$state.isDeleteDialogOpen,isTransferDialogOpen=_this$state.isTransferDialogOpen;var iconUrl=Utils.getLibIconUrl(item);var iconTitle=Utils.getLibIconTitle(item);var itemName='<span class=\"op-target\">'+Utils.HTMLescape(item.name)+'</span>';var deleteDialogMsg=gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}',itemName);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,title:iconTitle,alt:iconTitle,width:\"24\"})}),/*#__PURE__*/_jsx(\"td\",{children:this.renderRepoName()}),/*#__PURE__*/_jsx(\"td\",{children:Utils.bytesToSize(item.size)}),/*#__PURE__*/_jsx(\"td\",{children:moment(item.last_modified).fromNow()}),/*#__PURE__*/_jsx(\"td\",{children:isOpIconShown&&/*#__PURE__*/_jsx(OpMenu,{operations:['Delete','Transfer'],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem})})]}),isDeleteDialogOpen&&/*#__PURE__*/_jsx(CommonOperationConfirmationDialog,{title:gettext('Delete Library'),message:deleteDialogMsg,executeOperation:this.deleteRepo,confirmBtnText:gettext('Delete'),toggleDialog:this.toggleDeleteDialog}),isTransferDialogOpen&&/*#__PURE__*/_jsx(TransferDialog,{itemName:item.name,submit:this.transferRepo,canTransferToDept:false,toggleDialog:this.toggleTransferDialog})]});}}]);return Item;}(Component);var Repos=/*#__PURE__*/function(_Component3){_inherits(Repos,_Component3);var _super3=_createSuper(Repos);function Repos(props){var _this4;_classCallCheck(this,Repos);_this4=_super3.call(this,props);_this4.deleteRepo=function(repoID){seafileAPI.sysAdminDeleteRepo(repoID).then(function(res){var newRepoList=_this4.state.repoList.filter(function(item){return item.id!=repoID;});_this4.setState({repoList:newRepoList});toaster.success(gettext('Successfully deleted 1 item.'));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.transferRepo=function(repoID,email){seafileAPI.sysAdminTransferRepo(repoID,email).then(function(res){var newRepoList=_this4.state.repoList.filter(function(item){return item.id!=repoID;});_this4.setState({repoList:newRepoList});var message=gettext('Successfully transferred the library.');toaster.success(message);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.state={loading:true,errorMsg:'',userInfo:{},repoList:[]};return _this4;}_createClass(Repos,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;var email=decodeURIComponent(this.props.email);seafileAPI.sysAdminGetUser(email).then(function(res){_this5.setState({userInfo:res.data});});seafileAPI.sysAdminListReposByOwner(email).then(function(res){_this5.setState({loading:false,repoList:res.data.repos});}).catch(function(error){_this5.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,_objectSpread({},this.props)),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(Nav,{currentItem:\"owned-repos\",email:this.props.email,userName:this.state.userInfo.name}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repoList,deleteRepo:this.deleteRepo,transferRepo:this.transferRepo})})]})})]});}}]);return Repos;}(Component);export default Repos;","map":{"version":3,"names":["React","Component","Fragment","Link","moment","Utils","seafileAPI","isPro","siteRoot","gettext","toaster","EmptyTip","Loading","CommonOperationConfirmationDialog","TransferDialog","OpMenu","MainPanelTopbar","Nav","jsx","_jsx","jsxs","_jsxs","enableSysAdminViewRepo","window","sysadmin","pageOptions","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onFreezedItem","setState","isItemFreezed","onUnfreezedItem","state","_createClass","key","value","render","_this2","_this$props","loading","errorMsg","items","className","children","emptyTip","table","width","map","item","index","Item","deleteRepo","transferRepo","length","_Component2","_super2","_this3","handleMouseEnter","isOpIconShown","highlight","handleMouseLeave","isOpIconShow","toggleDeleteDialog","isDeleteDialogOpen","id","toggleTransferDialog","isTransferDialogOpen","owner","email","renderRepoName","repo","name","encrypted","to","concat","replace","translateOperations","translateResult","onMenuItemClick","operation","_this$state","iconUrl","getLibIconUrl","iconTitle","getLibIconTitle","itemName","HTMLescape","deleteDialogMsg","onMouseEnter","onMouseLeave","src","title","alt","bytesToSize","size","last_modified","fromNow","operations","message","executeOperation","confirmBtnText","toggleDialog","submit","canTransferToDept","Repos","_Component3","_super3","_this4","repoID","sysAdminDeleteRepo","then","res","newRepoList","repoList","filter","success","catch","error","errMessage","getErrorMsg","danger","sysAdminTransferRepo","userInfo","componentDidMount","_this5","decodeURIComponent","sysAdminGetUser","data","sysAdminListReposByOwner","repos","_objectSpread","currentItem","userName"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/users/user-repos.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { isPro, siteRoot, gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport TransferDialog from '../../../components/dialog/transfer-dialog';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './user-nav';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  render() {\n    const { loading, errorMsg, items } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"5%\"></th>\n                <th width=\"35%\">{gettext('Name')}</th>\n                <th width=\"30%\">{gettext('Size')}</th>\n                <th width=\"25%\">{gettext('Last Update')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteRepo={this.props.deleteRepo}\n                  transferRepo={this.props.transferRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  items: PropTypes.array.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n  transferRepo: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isDeleteDialogOpen: false,\n      isTransferDialogOpen: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleDeleteDialog = () => {\n    this.setState({isDeleteDialogOpen: !this.state.isDeleteDialogOpen});\n  };\n\n  deleteRepo = () => {\n    this.props.deleteRepo(this.props.item.id);\n  };\n\n  toggleTransferDialog = () => {\n    this.setState({isTransferDialogOpen: !this.state.isTransferDialogOpen});\n  };\n\n  transferRepo = (owner) => {\n    this.props.transferRepo(this.props.item.id, owner.email);\n    this.toggleTransferDialog();\n  };\n\n  renderRepoName = () => {\n    const { item } = this.props;\n    const repo = item;\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})')\n        .replace('{repo_id_placeholder}', repo.id);\n    }\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Transfer':\n        translateResult = gettext('Transfer');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.toggleDeleteDialog();\n        break;\n      case 'Transfer':\n        this.toggleTransferDialog();\n        break;\n    }\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isDeleteDialogOpen, isTransferDialogOpen } = this.state;\n\n    const iconUrl = Utils.getLibIconUrl(item);\n    const iconTitle = Utils.getLibIconTitle(item);\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const deleteDialogMsg = gettext('Are you sure you want to delete {placeholder} ?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{this.renderRepoName()}</td>\n          <td>{Utils.bytesToSize(item.size)}</td>\n          <td>{moment(item.last_modified).fromNow()}</td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete', 'Transfer']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n        {isDeleteDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Delete Library')}\n            message={deleteDialogMsg}\n            executeOperation={this.deleteRepo}\n            confirmBtnText={gettext('Delete')}\n            toggleDialog={this.toggleDeleteDialog}\n          />\n        }\n        {isTransferDialogOpen &&\n        <TransferDialog\n          itemName={item.name}\n          submit={this.transferRepo}\n          canTransferToDept={false}\n          toggleDialog={this.toggleTransferDialog}\n        />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteRepo: PropTypes.func.isRequired,\n  transferRepo: PropTypes.func.isRequired,\n};\n\nclass Repos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      userInfo: {},\n      repoList: []\n    };\n  }\n\n  componentDidMount () {\n    const email = decodeURIComponent(this.props.email);\n    seafileAPI.sysAdminGetUser(email).then((res) => {\n      this.setState({\n        userInfo: res.data\n      });\n    });\n    seafileAPI.sysAdminListReposByOwner(email).then(res => {\n      this.setState({\n        loading: false,\n        repoList: res.data.repos\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  deleteRepo = (repoID) => {\n    seafileAPI.sysAdminDeleteRepo(repoID).then(res => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  transferRepo = (repoID, email) => {\n    seafileAPI.sysAdminTransferRepo(repoID, email).then((res) => {\n      let newRepoList = this.state.repoList.filter(item => {\n        return item.id != repoID;\n      });\n      this.setState({repoList: newRepoList});\n      let message = gettext('Successfully transferred the library.');\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"owned-repos\" email={this.props.email} userName={this.state.userInfo.name} />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repoList}\n                deleteRepo={this.deleteRepo}\n                transferRepo={this.transferRepo}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nRepos.propTypes = {\n  email: PropTypes.string,\n};\n\nexport default Repos;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}