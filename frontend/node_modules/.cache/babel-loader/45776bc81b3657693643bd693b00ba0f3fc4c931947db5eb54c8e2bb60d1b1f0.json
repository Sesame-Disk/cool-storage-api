{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useRef, useState, useCallback } from 'react';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { useTranslation, withTranslation } from 'react-i18next';\nimport classnames from 'classnames';\nimport { getAlignType, isMenuDisabled, setAlignType } from '../helpers';\nimport { TEXT_ALIGN, MENUS_CONFIG_MAP } from '../../../constants';\nimport Tooltip from '../../../../../components/tooltip';\nvar TextAlignMenu = function TextAlignMenu(_ref) {\n  var isRichEditor = _ref.isRichEditor,\n    className = _ref.className,\n    editor = _ref.editor,\n    readonly = _ref.readonly;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isShowMenu = _useState2[0],\n    setMenuShow = _useState2[1];\n  var popoverRef = useRef(null);\n  var disabled = isMenuDisabled(editor, readonly);\n  var buttonId = 'sdoc-button-text-align';\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var toggle = useCallback(function (event) {\n    popoverRef.current.toggle();\n    setMenuShow(!isShowMenu);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isShowMenu]);\n  var getCurrentType = useCallback(function () {\n    return getAlignType(editor);\n  }, [editor]);\n  var setType = useCallback(function (type) {\n    setAlignType(editor, type);\n    toggle();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, isShowMenu]);\n  var validClassName = classnames(className, 'sdoc-menu-with-dropdown', {\n    'menu-show': isShowMenu,\n    'disabled': disabled,\n    'rich-icon-btn d-flex': isRichEditor,\n    'rich-icon-btn-disabled': isRichEditor && disabled,\n    'rich-icon-btn-hover': isRichEditor && !disabled,\n    'btn btn-icon btn-secondary btn-active d-flex': !isRichEditor\n  });\n  var curType = getCurrentType();\n  var curIcon = MENUS_CONFIG_MAP[TEXT_ALIGN].filter(function (item) {\n    return item.type === curType;\n  })[0].iconClass;\n  var caretIconClass = \"sdoc-menu-with-dropdown-triangle-icon sdocfont sdoc-\".concat(isShowMenu ? 'caret-up' : 'drop-down');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: validClassName,\n    id: buttonId,\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-menu-with-dropdown-icon\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: curIcon\n  })), !disabled && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-menu-with-dropdown-triangle\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: caretIconClass\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    target: buttonId\n  }, t('Alignment_type')), !disabled && /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: buttonId,\n    className: \"sdoc-menu-popover sdoc-dropdown-menu\",\n    trigger: \"legacy\",\n    placement: \"bottom-start\",\n    hideArrow: true,\n    toggle: toggle,\n    fade: false,\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt-2 pb-2\"\n  }, MENUS_CONFIG_MAP[TEXT_ALIGN].map(function (item, index) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"sdoc-dropdown-menu-item\",\n      onClick: function onClick() {\n        return setType(item.type);\n      }\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: item.iconClass\n    }));\n  }))));\n};\nTextAlignMenu.defaultProps = {\n  isRichEditor: true,\n  className: 'menu-group-item'\n};\nexport default withTranslation('sdoc-editor')(TextAlignMenu);","map":{"version":3,"names":["React","useRef","useState","useCallback","UncontrolledPopover","useTranslation","withTranslation","classnames","getAlignType","isMenuDisabled","setAlignType","TEXT_ALIGN","MENUS_CONFIG_MAP","Tooltip","TextAlignMenu","_ref","isRichEditor","className","editor","readonly","_useState","_useState2","_slicedToArray","isShowMenu","setMenuShow","popoverRef","disabled","buttonId","_useTranslation","t","toggle","event","current","getCurrentType","setType","type","validClassName","curType","curIcon","filter","item","iconClass","caretIconClass","concat","createElement","Fragment","id","target","trigger","placement","hideArrow","fade","ref","map","index","key","onClick","defaultProps"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/text-align/menu/index.js"],"sourcesContent":["import React, { useRef, useState, useCallback } from 'react';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { useTranslation, withTranslation } from 'react-i18next';\nimport classnames from 'classnames';\nimport { getAlignType, isMenuDisabled, setAlignType } from '../helpers';\nimport { TEXT_ALIGN, MENUS_CONFIG_MAP } from '../../../constants';\nimport Tooltip from '../../../../../components/tooltip';\nconst TextAlignMenu = _ref => {\n  let {\n    isRichEditor,\n    className,\n    editor,\n    readonly\n  } = _ref;\n  const [isShowMenu, setMenuShow] = useState(false);\n  const popoverRef = useRef(null);\n  const disabled = isMenuDisabled(editor, readonly);\n  const buttonId = 'sdoc-button-text-align';\n  const {\n    t\n  } = useTranslation();\n  const toggle = useCallback(event => {\n    popoverRef.current.toggle();\n    setMenuShow(!isShowMenu);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isShowMenu]);\n  const getCurrentType = useCallback(() => {\n    return getAlignType(editor);\n  }, [editor]);\n  const setType = useCallback(type => {\n    setAlignType(editor, type);\n    toggle();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, isShowMenu]);\n  const validClassName = classnames(className, 'sdoc-menu-with-dropdown', {\n    'menu-show': isShowMenu,\n    'disabled': disabled,\n    'rich-icon-btn d-flex': isRichEditor,\n    'rich-icon-btn-disabled': isRichEditor && disabled,\n    'rich-icon-btn-hover': isRichEditor && !disabled,\n    'btn btn-icon btn-secondary btn-active d-flex': !isRichEditor\n  });\n  const curType = getCurrentType();\n  const curIcon = MENUS_CONFIG_MAP[TEXT_ALIGN].filter(item => item.type === curType)[0].iconClass;\n  const caretIconClass = \"sdoc-menu-with-dropdown-triangle-icon sdocfont sdoc-\".concat(isShowMenu ? 'caret-up' : 'drop-down');\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: validClassName,\n    id: buttonId,\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-menu-with-dropdown-icon\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: curIcon\n  })), !disabled && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-menu-with-dropdown-triangle\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: caretIconClass\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    target: buttonId\n  }, t('Alignment_type')), !disabled && /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: buttonId,\n    className: \"sdoc-menu-popover sdoc-dropdown-menu\",\n    trigger: \"legacy\",\n    placement: \"bottom-start\",\n    hideArrow: true,\n    toggle: toggle,\n    fade: false,\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"pt-2 pb-2\"\n  }, MENUS_CONFIG_MAP[TEXT_ALIGN].map((item, index) => {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: \"sdoc-dropdown-menu-item\",\n      onClick: () => setType(item.type)\n    }, /*#__PURE__*/React.createElement(\"i\", {\n      className: item.iconClass\n    }));\n  }))));\n};\nTextAlignMenu.defaultProps = {\n  isRichEditor: true,\n  className: 'menu-group-item'\n};\nexport default withTranslation('sdoc-editor')(TextAlignMenu);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}