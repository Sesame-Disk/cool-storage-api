{"ast":null,"code":"import _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { MenuItem } from '../../commons';\nimport { MENUS_CONFIG_MAP, REDO, UNDO } from '../../constants';\nvar HistoryMenu = /*#__PURE__*/function (_React$Component) {\n  _inherits(HistoryMenu, _React$Component);\n  var _super = _createSuper(HistoryMenu);\n  function HistoryMenu() {\n    var _this;\n    _classCallCheck(this, HistoryMenu);\n    _this = _super.apply(this, arguments);\n    _defineProperty(_assertThisInitialized(_this), \"isDisabled\", function (type) {\n      var _this$props = _this.props,\n        editor = _this$props.editor,\n        readonly = _this$props.readonly;\n      if (readonly) return true;\n      var history = editor.history;\n      if (type === UNDO) {\n        return history.undos.length === 0;\n      }\n      return history.redos.length === 0;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onUndoMouseDown\", function () {\n      var editor = _this.props.editor;\n      editor.undo();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRedoMouseDown\", function () {\n      var editor = _this.props.editor;\n      editor.redo();\n    });\n    return _this;\n  }\n  _createClass(HistoryMenu, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props2 = this.props,\n        isRichEditor = _this$props2.isRichEditor,\n        className = _this$props2.className;\n      var undoConfig = MENUS_CONFIG_MAP[UNDO];\n      var redoConfig = MENUS_CONFIG_MAP[REDO];\n      var undoProps = _objectSpread(_objectSpread({\n        isRichEditor: isRichEditor,\n        className: className\n      }, undoConfig), {}, {\n        disabled: this.isDisabled(UNDO),\n        isActive: false,\n        onMouseDown: this.onUndoMouseDown\n      });\n      var redoProps = _objectSpread(_objectSpread({\n        isRichEditor: isRichEditor,\n        className: className\n      }, redoConfig), {}, {\n        disabled: this.isDisabled(REDO),\n        isActive: false,\n        onMouseDown: this.onRedoMouseDown\n      });\n      return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuItem, undoProps), /*#__PURE__*/React.createElement(MenuItem, redoProps));\n    }\n  }]);\n  return HistoryMenu;\n}(React.Component);\nexport default HistoryMenu;","map":{"version":3,"names":["_objectSpread","_defineProperty","React","MenuItem","MENUS_CONFIG_MAP","REDO","UNDO","HistoryMenu","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","_assertThisInitialized","type","_this$props","props","editor","readonly","history","undos","length","redos","undo","redo","_createClass","key","value","render","_this$props2","isRichEditor","className","undoConfig","redoConfig","undoProps","disabled","isDisabled","isActive","onMouseDown","onUndoMouseDown","redoProps","onRedoMouseDown","createElement","Fragment","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/toolbar/header-toolbar/redo-undo.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { MenuItem } from '../../commons';\nimport { MENUS_CONFIG_MAP, REDO, UNDO } from '../../constants';\nclass HistoryMenu extends React.Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"isDisabled\", type => {\n      const {\n        editor,\n        readonly\n      } = this.props;\n      if (readonly) return true;\n      const {\n        history\n      } = editor;\n      if (type === UNDO) {\n        return history.undos.length === 0;\n      }\n      return history.redos.length === 0;\n    });\n    _defineProperty(this, \"onUndoMouseDown\", () => {\n      const {\n        editor\n      } = this.props;\n      editor.undo();\n    });\n    _defineProperty(this, \"onRedoMouseDown\", () => {\n      const {\n        editor\n      } = this.props;\n      editor.redo();\n    });\n  }\n  render() {\n    const {\n      isRichEditor,\n      className\n    } = this.props;\n    const undoConfig = MENUS_CONFIG_MAP[UNDO];\n    const redoConfig = MENUS_CONFIG_MAP[REDO];\n    const undoProps = _objectSpread(_objectSpread({\n      isRichEditor,\n      className\n    }, undoConfig), {}, {\n      disabled: this.isDisabled(UNDO),\n      isActive: false,\n      onMouseDown: this.onUndoMouseDown\n    });\n    const redoProps = _objectSpread(_objectSpread({\n      isRichEditor,\n      className\n    }, redoConfig), {}, {\n      disabled: this.isDisabled(REDO),\n      isActive: false,\n      onMouseDown: this.onRedoMouseDown\n    });\n    return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuItem, undoProps), /*#__PURE__*/React.createElement(MenuItem, redoProps));\n  }\n}\nexport default HistoryMenu;"],"mappings":";;;;;AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,eAAe,MAAM,2CAA2C;AACvE,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,eAAe;AACxC,SAASC,gBAAgB,EAAEC,IAAI,EAAEC,IAAI,QAAQ,iBAAiB;AAAC,IACzDC,WAAW,0BAAAC,gBAAA;EAAAC,SAAA,CAAAF,WAAA,EAAAC,gBAAA;EAAA,IAAAE,MAAA,GAAAC,YAAA,CAAAJ,WAAA;EACf,SAAAA,YAAA,EAAc;IAAA,IAAAK,KAAA;IAAAC,eAAA,OAAAN,WAAA;IACZK,KAAA,GAAAF,MAAA,CAAAI,KAAA,OAASC,SAAS;IAClBd,eAAe,CAAAe,sBAAA,CAAAJ,KAAA,GAAO,YAAY,EAAE,UAAAK,IAAI,EAAI;MAC1C,IAAAC,WAAA,GAGIN,KAAA,CAAKO,KAAK;QAFZC,MAAM,GAAAF,WAAA,CAANE,MAAM;QACNC,QAAQ,GAAAH,WAAA,CAARG,QAAQ;MAEV,IAAIA,QAAQ,EAAE,OAAO,IAAI;MACzB,IACEC,OAAO,GACLF,MAAM,CADRE,OAAO;MAET,IAAIL,IAAI,KAAKX,IAAI,EAAE;QACjB,OAAOgB,OAAO,CAACC,KAAK,CAACC,MAAM,KAAK,CAAC;MACnC;MACA,OAAOF,OAAO,CAACG,KAAK,CAACD,MAAM,KAAK,CAAC;IACnC,CAAC,CAAC;IACFvB,eAAe,CAAAe,sBAAA,CAAAJ,KAAA,GAAO,iBAAiB,EAAE,YAAM;MAC7C,IACEQ,MAAM,GACJR,KAAA,CAAKO,KAAK,CADZC,MAAM;MAERA,MAAM,CAACM,IAAI,CAAC,CAAC;IACf,CAAC,CAAC;IACFzB,eAAe,CAAAe,sBAAA,CAAAJ,KAAA,GAAO,iBAAiB,EAAE,YAAM;MAC7C,IACEQ,MAAM,GACJR,KAAA,CAAKO,KAAK,CADZC,MAAM;MAERA,MAAM,CAACO,IAAI,CAAC,CAAC;IACf,CAAC,CAAC;IAAC,OAAAf,KAAA;EACL;EAACgB,YAAA,CAAArB,WAAA;IAAAsB,GAAA;IAAAC,KAAA,EACD,SAAAC,OAAA,EAAS;MACP,IAAAC,YAAA,GAGI,IAAI,CAACb,KAAK;QAFZc,YAAY,GAAAD,YAAA,CAAZC,YAAY;QACZC,SAAS,GAAAF,YAAA,CAATE,SAAS;MAEX,IAAMC,UAAU,GAAG/B,gBAAgB,CAACE,IAAI,CAAC;MACzC,IAAM8B,UAAU,GAAGhC,gBAAgB,CAACC,IAAI,CAAC;MACzC,IAAMgC,SAAS,GAAGrC,aAAa,CAACA,aAAa,CAAC;QAC5CiC,YAAY,EAAZA,YAAY;QACZC,SAAS,EAATA;MACF,CAAC,EAAEC,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE;QAClBG,QAAQ,EAAE,IAAI,CAACC,UAAU,CAACjC,IAAI,CAAC;QAC/BkC,QAAQ,EAAE,KAAK;QACfC,WAAW,EAAE,IAAI,CAACC;MACpB,CAAC,CAAC;MACF,IAAMC,SAAS,GAAG3C,aAAa,CAACA,aAAa,CAAC;QAC5CiC,YAAY,EAAZA,YAAY;QACZC,SAAS,EAATA;MACF,CAAC,EAAEE,UAAU,CAAC,EAAE,CAAC,CAAC,EAAE;QAClBE,QAAQ,EAAE,IAAI,CAACC,UAAU,CAAClC,IAAI,CAAC;QAC/BmC,QAAQ,EAAE,KAAK;QACfC,WAAW,EAAE,IAAI,CAACG;MACpB,CAAC,CAAC;MACF,OAAO,aAAa1C,KAAK,CAAC2C,aAAa,CAAC3C,KAAK,CAAC4C,QAAQ,EAAE,IAAI,EAAE,aAAa5C,KAAK,CAAC2C,aAAa,CAAC1C,QAAQ,EAAEkC,SAAS,CAAC,EAAE,aAAanC,KAAK,CAAC2C,aAAa,CAAC1C,QAAQ,EAAEwC,SAAS,CAAC,CAAC;IAC7K;EAAC;EAAA,OAAApC,WAAA;AAAA,EAtDuBL,KAAK,CAAC6C,SAAS;AAwDzC,eAAexC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}