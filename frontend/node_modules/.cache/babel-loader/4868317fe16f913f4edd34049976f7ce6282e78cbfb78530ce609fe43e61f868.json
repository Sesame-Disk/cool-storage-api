{"ast":null,"code":"\"use strict\";\n\nvar _createForOfIteratorHelper = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/createForOfIteratorHelper.js\").default;\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unwrapCodeBlock = exports.transformToCodeBlock = exports.setCodeBlockLanguage = exports.isMenuDisabled = exports.isInCodeBlock = exports.getCodeBlockNodeEntry = void 0;\nvar _slate = require(\"slate\");\nvar _elementTypes = require(\"../../constants/element-types\");\nvar _core = require(\"../../core\");\nvar _constant = require(\"./render-elem/constant\");\n// eslint-disable-next-line no-unused-vars\n\nvar isMenuDisabled = function isMenuDisabled(editor, readonly) {\n  if (readonly) return true;\n  var selection = editor.selection;\n  if (!selection) return true;\n  var selectedElements = (0, _core.getSelectedElems)(editor);\n  var isSelectedVoid = selectedElements.find(function (node) {\n    return editor.isVoid(node);\n  });\n  if (isSelectedVoid) return true;\n  // Disable the menu when selection is not in the paragraph or code block\n  var isEnable = selectedElements.every(function (node) {\n    return [_elementTypes.CODE_BLOCK, _elementTypes.PARAGRAPH, _elementTypes.CODE_LINE].includes(node.type);\n  });\n  return !isEnable;\n};\nexports.isMenuDisabled = isMenuDisabled;\nvar getCodeBlockNodeEntry = function getCodeBlockNodeEntry(editor) {\n  if (!editor.selection) return;\n  var _slate$Editor$nodes = _slate.Editor.nodes(editor, {\n      match: function match(node) {\n        return node.type === _elementTypes.CODE_BLOCK;\n      },\n      mode: 'highest'\n    }),\n    _slate$Editor$nodes2 = _slicedToArray(_slate$Editor$nodes, 1),\n    codeBlock = _slate$Editor$nodes2[0];\n  return codeBlock;\n};\nexports.getCodeBlockNodeEntry = getCodeBlockNodeEntry;\nvar isInCodeBlock = function isInCodeBlock(editor) {\n  if (!editor.selection) return false;\n  var _slate$Editor$nodes3 = _slate.Editor.nodes(editor, {\n      match: function match(node) {\n        return node.type === _elementTypes.CODE_BLOCK;\n      },\n      mode: 'highest'\n    }),\n    _slate$Editor$nodes4 = _slicedToArray(_slate$Editor$nodes3, 1),\n    codeBlock = _slate$Editor$nodes4[0];\n  if (!codeBlock) return false;\n  var selectedElements = (0, _core.getSelectedElems)(editor);\n  var isInCodeBlock = !selectedElements.find(function (element) {\n    return ![_elementTypes.CODE_BLOCK, _elementTypes.CODE_LINE].includes(element.type);\n  });\n  return isInCodeBlock;\n};\nexports.isInCodeBlock = isInCodeBlock;\nvar transformToCodeBlock = function transformToCodeBlock(editor) {\n  var selectedElements = (0, _core.getSelectedElems)(editor);\n  var selectedCodeBlockNum = selectedElements.reduce(function (codeBlockNum, node) {\n    return node.type === _elementTypes.CODE_BLOCK ? ++codeBlockNum : codeBlockNum;\n  }, 0);\n  if (selectedCodeBlockNum > 0) return;\n  var originSelection = editor.selection;\n  var originAnchor = originSelection.anchor,\n    originFocus = originSelection.focus;\n  var textList = [];\n  var nodeEntries = _slate.Editor.nodes(editor, {\n    match: function match(node) {\n      return editor.children.includes(node);\n    },\n    // Match the highest level node that custom selected\n    universal: true\n  });\n  var _iterator = _createForOfIteratorHelper(nodeEntries),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var nodeEntry = _step.value;\n      var _nodeEntry = _slicedToArray(nodeEntry, 1),\n        node = _nodeEntry[0];\n      if (node) {\n        textList.push(_slate.Node.string(node));\n      }\n    }\n    // Generate code block\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  var codeBlockChildren = textList.map(function (text) {\n    return (0, _core.generateElement)(_elementTypes.CODE_LINE, {\n      childrenOrText: text\n    });\n  });\n  var codeBlock = (0, _core.generateElement)(_elementTypes.CODE_BLOCK, {\n    childrenOrText: codeBlockChildren,\n    props: {\n      lang: _constant.EXPLAIN_TEXT\n    }\n  });\n  _slate.Editor.withoutNormalizing(editor, function () {\n    _slate.Transforms.removeNodes(editor, {\n      mode: 'highest'\n    });\n    var selectedPath = _slate.Editor.path(editor, originSelection);\n    var beginPath = _slate.Point.isBefore(originAnchor, originFocus) ? originAnchor.path : originFocus.path;\n    var insertPath = selectedPath && Object.keys(selectedPath).length ? [selectedPath[0]] : [beginPath[0]];\n    _slate.Transforms.insertNodes(editor, codeBlock, {\n      at: insertPath\n    });\n    var focusPoint = _slate.Editor.start(editor, insertPath);\n    (0, _core.focusEditor)(editor, focusPoint);\n    // const atPoint = {\n    //   anchor: { offset: 0, path: [insertPath[0], 0, 0] },\n    //   focus: { offset: 0, path: [insertPath[0], 0, 0] }\n    // };\n    // focusEditor(editor, atPoint);\n  });\n};\n\nexports.transformToCodeBlock = transformToCodeBlock;\nvar unwrapCodeBlock = function unwrapCodeBlock(editor) {\n  var selectedCodeBlock = (0, _core.getSelectedNodeEntryByType)(editor, _elementTypes.CODE_BLOCK);\n  if (!selectedCodeBlock) return;\n  var selectedCodeBlockPath = selectedCodeBlock[1];\n  var codeLineEntries = _slate.Editor.nodes(editor, {\n    at: selectedCodeBlockPath,\n    match: function match(node) {\n      return node.type === _elementTypes.CODE_LINE;\n    }\n  });\n  var paragraphNodes = [];\n  var _iterator2 = _createForOfIteratorHelper(codeLineEntries),\n    _step2;\n  try {\n    for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n      var codeLineEntry = _step2.value;\n      var _codeLineEntry = _slicedToArray(codeLineEntry, 1),\n        codeLineNode = _codeLineEntry[0];\n      var paragraph = (0, _core.generateElement)(_elementTypes.PARAGRAPH, {\n        childrenOrText: _slate.Node.string(codeLineNode)\n      });\n      paragraphNodes.push(paragraph);\n    }\n  } catch (err) {\n    _iterator2.e(err);\n  } finally {\n    _iterator2.f();\n  }\n  _slate.Transforms.removeNodes(editor, {\n    at: selectedCodeBlockPath,\n    match: function match(node) {\n      return node.type === _elementTypes.CODE_BLOCK;\n    },\n    mode: 'highest'\n  });\n  _slate.Transforms.insertNodes(editor, paragraphNodes, {\n    at: selectedCodeBlockPath\n  });\n  var focusPath = [selectedCodeBlockPath[0] + paragraphNodes.length - 1];\n  (0, _core.focusEditor)(editor, _slate.Editor.end(editor, focusPath));\n};\n\n/**\n * @param {object} editor\n * @param {keyof LANGUAGE_MAP} [lang = EXPLAIN_TEXT] by default is 'none'\n */\nexports.unwrapCodeBlock = unwrapCodeBlock;\nvar setCodeBlockLanguage = function setCodeBlockLanguage(editor, lang, path) {\n  _slate.Transforms.setNodes(editor, {\n    lang: lang\n  }, {\n    at: path\n  });\n  (0, _core.focusEditor)(editor, editor.selection || _slate.Editor.start(editor, path));\n};\nexports.setCodeBlockLanguage = setCodeBlockLanguage;","map":{"version":3,"names":["_createForOfIteratorHelper","require","default","_slicedToArray","Object","defineProperty","exports","value","unwrapCodeBlock","transformToCodeBlock","setCodeBlockLanguage","isMenuDisabled","isInCodeBlock","getCodeBlockNodeEntry","_slate","_elementTypes","_core","_constant","editor","readonly","selection","selectedElements","getSelectedElems","isSelectedVoid","find","node","isVoid","isEnable","every","CODE_BLOCK","PARAGRAPH","CODE_LINE","includes","type","_slate$Editor$nodes","Editor","nodes","match","mode","_slate$Editor$nodes2","codeBlock","_slate$Editor$nodes3","_slate$Editor$nodes4","element","selectedCodeBlockNum","reduce","codeBlockNum","originSelection","originAnchor","anchor","originFocus","focus","textList","nodeEntries","children","universal","_iterator","_step","s","n","done","nodeEntry","_nodeEntry","push","Node","string","err","e","f","codeBlockChildren","map","text","generateElement","childrenOrText","props","lang","EXPLAIN_TEXT","withoutNormalizing","Transforms","removeNodes","selectedPath","path","beginPath","Point","isBefore","insertPath","keys","length","insertNodes","at","focusPoint","start","focusEditor","selectedCodeBlock","getSelectedNodeEntryByType","selectedCodeBlockPath","codeLineEntries","paragraphNodes","_iterator2","_step2","codeLineEntry","_codeLineEntry","codeLineNode","paragraph","focusPath","end","setNodes"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/code-block/helpers.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.unwrapCodeBlock = exports.transformToCodeBlock = exports.setCodeBlockLanguage = exports.isMenuDisabled = exports.isInCodeBlock = exports.getCodeBlockNodeEntry = void 0;\nvar _slate = require(\"slate\");\nvar _elementTypes = require(\"../../constants/element-types\");\nvar _core = require(\"../../core\");\nvar _constant = require(\"./render-elem/constant\");\n// eslint-disable-next-line no-unused-vars\n\nconst isMenuDisabled = (editor, readonly) => {\n  if (readonly) return true;\n  const {\n    selection\n  } = editor;\n  if (!selection) return true;\n  const selectedElements = (0, _core.getSelectedElems)(editor);\n  const isSelectedVoid = selectedElements.find(node => editor.isVoid(node));\n  if (isSelectedVoid) return true;\n  // Disable the menu when selection is not in the paragraph or code block\n  const isEnable = selectedElements.every(node => [_elementTypes.CODE_BLOCK, _elementTypes.PARAGRAPH, _elementTypes.CODE_LINE].includes(node.type));\n  return !isEnable;\n};\nexports.isMenuDisabled = isMenuDisabled;\nconst getCodeBlockNodeEntry = editor => {\n  if (!editor.selection) return;\n  const [codeBlock] = _slate.Editor.nodes(editor, {\n    match: node => node.type === _elementTypes.CODE_BLOCK,\n    mode: 'highest'\n  });\n  return codeBlock;\n};\nexports.getCodeBlockNodeEntry = getCodeBlockNodeEntry;\nconst isInCodeBlock = editor => {\n  if (!editor.selection) return false;\n  const [codeBlock] = _slate.Editor.nodes(editor, {\n    match: node => node.type === _elementTypes.CODE_BLOCK,\n    mode: 'highest'\n  });\n  if (!codeBlock) return false;\n  const selectedElements = (0, _core.getSelectedElems)(editor);\n  const isInCodeBlock = !selectedElements.find(element => ![_elementTypes.CODE_BLOCK, _elementTypes.CODE_LINE].includes(element.type));\n  return isInCodeBlock;\n};\nexports.isInCodeBlock = isInCodeBlock;\nconst transformToCodeBlock = editor => {\n  const selectedElements = (0, _core.getSelectedElems)(editor);\n  const selectedCodeBlockNum = selectedElements.reduce((codeBlockNum, node) => node.type === _elementTypes.CODE_BLOCK ? ++codeBlockNum : codeBlockNum, 0);\n  if (selectedCodeBlockNum > 0) return;\n  const originSelection = editor.selection;\n  const {\n    anchor: originAnchor,\n    focus: originFocus\n  } = originSelection;\n  const textList = [];\n  const nodeEntries = _slate.Editor.nodes(editor, {\n    match: node => editor.children.includes(node),\n    // Match the highest level node that custom selected\n    universal: true\n  });\n  for (let nodeEntry of nodeEntries) {\n    const [node] = nodeEntry;\n    if (node) {\n      textList.push(_slate.Node.string(node));\n    }\n  }\n  // Generate code block\n  const codeBlockChildren = textList.map(text => (0, _core.generateElement)(_elementTypes.CODE_LINE, {\n    childrenOrText: text\n  }));\n  const codeBlock = (0, _core.generateElement)(_elementTypes.CODE_BLOCK, {\n    childrenOrText: codeBlockChildren,\n    props: {\n      lang: _constant.EXPLAIN_TEXT\n    }\n  });\n  _slate.Editor.withoutNormalizing(editor, () => {\n    _slate.Transforms.removeNodes(editor, {\n      mode: 'highest'\n    });\n    const selectedPath = _slate.Editor.path(editor, originSelection);\n    const beginPath = _slate.Point.isBefore(originAnchor, originFocus) ? originAnchor.path : originFocus.path;\n    const insertPath = selectedPath && Object.keys(selectedPath).length ? [selectedPath[0]] : [beginPath[0]];\n    _slate.Transforms.insertNodes(editor, codeBlock, {\n      at: insertPath\n    });\n    const focusPoint = _slate.Editor.start(editor, insertPath);\n    (0, _core.focusEditor)(editor, focusPoint);\n    // const atPoint = {\n    //   anchor: { offset: 0, path: [insertPath[0], 0, 0] },\n    //   focus: { offset: 0, path: [insertPath[0], 0, 0] }\n    // };\n    // focusEditor(editor, atPoint);\n  });\n};\nexports.transformToCodeBlock = transformToCodeBlock;\nconst unwrapCodeBlock = editor => {\n  const selectedCodeBlock = (0, _core.getSelectedNodeEntryByType)(editor, _elementTypes.CODE_BLOCK);\n  if (!selectedCodeBlock) return;\n  const selectedCodeBlockPath = selectedCodeBlock[1];\n  const codeLineEntries = _slate.Editor.nodes(editor, {\n    at: selectedCodeBlockPath,\n    match: node => node.type === _elementTypes.CODE_LINE\n  });\n  const paragraphNodes = [];\n  for (const codeLineEntry of codeLineEntries) {\n    const [codeLineNode] = codeLineEntry;\n    const paragraph = (0, _core.generateElement)(_elementTypes.PARAGRAPH, {\n      childrenOrText: _slate.Node.string(codeLineNode)\n    });\n    paragraphNodes.push(paragraph);\n  }\n  _slate.Transforms.removeNodes(editor, {\n    at: selectedCodeBlockPath,\n    match: node => node.type === _elementTypes.CODE_BLOCK,\n    mode: 'highest'\n  });\n  _slate.Transforms.insertNodes(editor, paragraphNodes, {\n    at: selectedCodeBlockPath\n  });\n  const focusPath = [selectedCodeBlockPath[0] + paragraphNodes.length - 1];\n  (0, _core.focusEditor)(editor, _slate.Editor.end(editor, focusPath));\n};\n\n/**\n * @param {object} editor\n * @param {keyof LANGUAGE_MAP} [lang = EXPLAIN_TEXT] by default is 'none'\n */\nexports.unwrapCodeBlock = unwrapCodeBlock;\nconst setCodeBlockLanguage = (editor, lang, path) => {\n  _slate.Transforms.setNodes(editor, {\n    lang\n  }, {\n    at: path\n  });\n  (0, _core.focusEditor)(editor, editor.selection || _slate.Editor.start(editor, path));\n};\nexports.setCodeBlockLanguage = setCodeBlockLanguage;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}