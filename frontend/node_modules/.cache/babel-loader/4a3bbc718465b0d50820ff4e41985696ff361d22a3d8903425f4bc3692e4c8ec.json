{"ast":null,"code":"var TOKEN_STYLES = {\n  addition: \"inserted\",\n  attributes: \"propertyName\",\n  bold: \"strong\",\n  cite: \"keyword\",\n  code: \"monospace\",\n  definitionList: \"list\",\n  deletion: \"deleted\",\n  div: \"punctuation\",\n  em: \"emphasis\",\n  footnote: \"variable\",\n  footCite: \"qualifier\",\n  header: \"heading\",\n  html: \"comment\",\n  image: \"atom\",\n  italic: \"emphasis\",\n  link: \"link\",\n  linkDefinition: \"link\",\n  list1: \"list\",\n  list2: \"list.special\",\n  list3: \"list\",\n  notextile: \"string.special\",\n  pre: \"operator\",\n  p: \"content\",\n  quote: \"bracket\",\n  span: \"quote\",\n  specialChar: \"character\",\n  strong: \"strong\",\n  sub: \"content.special\",\n  sup: \"content.special\",\n  table: \"variableName.special\",\n  tableHeading: \"operator\"\n};\nfunction startNewLine(stream, state) {\n  state.mode = Modes.newLayout;\n  state.tableHeading = false;\n  if (state.layoutType === \"definitionList\" && state.spanningLayout && stream.match(RE(\"definitionListEnd\"), false)) state.spanningLayout = false;\n}\nfunction handlePhraseModifier(stream, state, ch) {\n  if (ch === \"_\") {\n    if (stream.eat(\"_\")) return togglePhraseModifier(stream, state, \"italic\", /__/, 2);else return togglePhraseModifier(stream, state, \"em\", /_/, 1);\n  }\n  if (ch === \"*\") {\n    if (stream.eat(\"*\")) {\n      return togglePhraseModifier(stream, state, \"bold\", /\\*\\*/, 2);\n    }\n    return togglePhraseModifier(stream, state, \"strong\", /\\*/, 1);\n  }\n  if (ch === \"[\") {\n    if (stream.match(/\\d+\\]/)) state.footCite = true;\n    return tokenStyles(state);\n  }\n  if (ch === \"(\") {\n    var spec = stream.match(/^(r|tm|c)\\)/);\n    if (spec) return TOKEN_STYLES.specialChar;\n  }\n  if (ch === \"<\" && stream.match(/(\\w+)[^>]+>[^<]+<\\/\\1>/)) return TOKEN_STYLES.html;\n  if (ch === \"?\" && stream.eat(\"?\")) return togglePhraseModifier(stream, state, \"cite\", /\\?\\?/, 2);\n  if (ch === \"=\" && stream.eat(\"=\")) return togglePhraseModifier(stream, state, \"notextile\", /==/, 2);\n  if (ch === \"-\" && !stream.eat(\"-\")) return togglePhraseModifier(stream, state, \"deletion\", /-/, 1);\n  if (ch === \"+\") return togglePhraseModifier(stream, state, \"addition\", /\\+/, 1);\n  if (ch === \"~\") return togglePhraseModifier(stream, state, \"sub\", /~/, 1);\n  if (ch === \"^\") return togglePhraseModifier(stream, state, \"sup\", /\\^/, 1);\n  if (ch === \"%\") return togglePhraseModifier(stream, state, \"span\", /%/, 1);\n  if (ch === \"@\") return togglePhraseModifier(stream, state, \"code\", /@/, 1);\n  if (ch === \"!\") {\n    var type = togglePhraseModifier(stream, state, \"image\", /(?:\\([^\\)]+\\))?!/, 1);\n    stream.match(/^:\\S+/); // optional Url portion\n    return type;\n  }\n  return tokenStyles(state);\n}\nfunction togglePhraseModifier(stream, state, phraseModifier, closeRE, openSize) {\n  var charBefore = stream.pos > openSize ? stream.string.charAt(stream.pos - openSize - 1) : null;\n  var charAfter = stream.peek();\n  if (state[phraseModifier]) {\n    if ((!charAfter || /\\W/.test(charAfter)) && charBefore && /\\S/.test(charBefore)) {\n      var type = tokenStyles(state);\n      state[phraseModifier] = false;\n      return type;\n    }\n  } else if ((!charBefore || /\\W/.test(charBefore)) && charAfter && /\\S/.test(charAfter) && stream.match(new RegExp(\"^.*\\\\S\" + closeRE.source + \"(?:\\\\W|$)\"), false)) {\n    state[phraseModifier] = true;\n    state.mode = Modes.attributes;\n  }\n  return tokenStyles(state);\n}\n;\nfunction tokenStyles(state) {\n  var disabled = textileDisabled(state);\n  if (disabled) return disabled;\n  var styles = [];\n  if (state.layoutType) styles.push(TOKEN_STYLES[state.layoutType]);\n  styles = styles.concat(activeStyles(state, \"addition\", \"bold\", \"cite\", \"code\", \"deletion\", \"em\", \"footCite\", \"image\", \"italic\", \"link\", \"span\", \"strong\", \"sub\", \"sup\", \"table\", \"tableHeading\"));\n  if (state.layoutType === \"header\") styles.push(TOKEN_STYLES.header + \"-\" + state.header);\n  return styles.length ? styles.join(\" \") : null;\n}\nfunction textileDisabled(state) {\n  var type = state.layoutType;\n  switch (type) {\n    case \"notextile\":\n    case \"code\":\n    case \"pre\":\n      return TOKEN_STYLES[type];\n    default:\n      if (state.notextile) return TOKEN_STYLES.notextile + (type ? \" \" + TOKEN_STYLES[type] : \"\");\n      return null;\n  }\n}\nfunction activeStyles(state) {\n  var styles = [];\n  for (var i = 1; i < arguments.length; ++i) {\n    if (state[arguments[i]]) styles.push(TOKEN_STYLES[arguments[i]]);\n  }\n  return styles;\n}\nfunction blankLine(state) {\n  var spanningLayout = state.spanningLayout,\n    type = state.layoutType;\n  for (var key in state) if (state.hasOwnProperty(key)) delete state[key];\n  state.mode = Modes.newLayout;\n  if (spanningLayout) {\n    state.layoutType = type;\n    state.spanningLayout = true;\n  }\n}\nvar REs = {\n  cache: {},\n  single: {\n    bc: \"bc\",\n    bq: \"bq\",\n    definitionList: /- .*?:=+/,\n    definitionListEnd: /.*=:\\s*$/,\n    div: \"div\",\n    drawTable: /\\|.*\\|/,\n    foot: /fn\\d+/,\n    header: /h[1-6]/,\n    html: /\\s*<(?:\\/)?(\\w+)(?:[^>]+)?>(?:[^<]+<\\/\\1>)?/,\n    link: /[^\"]+\":\\S/,\n    linkDefinition: /\\[[^\\s\\]]+\\]\\S+/,\n    list: /(?:#+|\\*+)/,\n    notextile: \"notextile\",\n    para: \"p\",\n    pre: \"pre\",\n    table: \"table\",\n    tableCellAttributes: /[\\/\\\\]\\d+/,\n    tableHeading: /\\|_\\./,\n    tableText: /[^\"_\\*\\[\\(\\?\\+~\\^%@|-]+/,\n    text: /[^!\"_=\\*\\[\\(<\\?\\+~\\^%@-]+/\n  },\n  attributes: {\n    align: /(?:<>|<|>|=)/,\n    selector: /\\([^\\(][^\\)]+\\)/,\n    lang: /\\[[^\\[\\]]+\\]/,\n    pad: /(?:\\(+|\\)+){1,2}/,\n    css: /\\{[^\\}]+\\}/\n  },\n  createRe: function createRe(name) {\n    switch (name) {\n      case \"drawTable\":\n        return REs.makeRe(\"^\", REs.single.drawTable, \"$\");\n      case \"html\":\n        return REs.makeRe(\"^\", REs.single.html, \"(?:\", REs.single.html, \")*\", \"$\");\n      case \"linkDefinition\":\n        return REs.makeRe(\"^\", REs.single.linkDefinition, \"$\");\n      case \"listLayout\":\n        return REs.makeRe(\"^\", REs.single.list, RE(\"allAttributes\"), \"*\\\\s+\");\n      case \"tableCellAttributes\":\n        return REs.makeRe(\"^\", REs.choiceRe(REs.single.tableCellAttributes, RE(\"allAttributes\")), \"+\\\\.\");\n      case \"type\":\n        return REs.makeRe(\"^\", RE(\"allTypes\"));\n      case \"typeLayout\":\n        return REs.makeRe(\"^\", RE(\"allTypes\"), RE(\"allAttributes\"), \"*\\\\.\\\\.?\", \"(\\\\s+|$)\");\n      case \"attributes\":\n        return REs.makeRe(\"^\", RE(\"allAttributes\"), \"+\");\n      case \"allTypes\":\n        return REs.choiceRe(REs.single.div, REs.single.foot, REs.single.header, REs.single.bc, REs.single.bq, REs.single.notextile, REs.single.pre, REs.single.table, REs.single.para);\n      case \"allAttributes\":\n        return REs.choiceRe(REs.attributes.selector, REs.attributes.css, REs.attributes.lang, REs.attributes.align, REs.attributes.pad);\n      default:\n        return REs.makeRe(\"^\", REs.single[name]);\n    }\n  },\n  makeRe: function makeRe() {\n    var pattern = \"\";\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      pattern += typeof arg === \"string\" ? arg : arg.source;\n    }\n    return new RegExp(pattern);\n  },\n  choiceRe: function choiceRe() {\n    var parts = [arguments[0]];\n    for (var i = 1; i < arguments.length; ++i) {\n      parts[i * 2 - 1] = \"|\";\n      parts[i * 2] = arguments[i];\n    }\n    parts.unshift(\"(?:\");\n    parts.push(\")\");\n    return REs.makeRe.apply(null, parts);\n  }\n};\nfunction RE(name) {\n  return REs.cache[name] || (REs.cache[name] = REs.createRe(name));\n}\nvar Modes = {\n  newLayout: function newLayout(stream, state) {\n    if (stream.match(RE(\"typeLayout\"), false)) {\n      state.spanningLayout = false;\n      return (state.mode = Modes.blockType)(stream, state);\n    }\n    var newMode;\n    if (!textileDisabled(state)) {\n      if (stream.match(RE(\"listLayout\"), false)) newMode = Modes.list;else if (stream.match(RE(\"drawTable\"), false)) newMode = Modes.table;else if (stream.match(RE(\"linkDefinition\"), false)) newMode = Modes.linkDefinition;else if (stream.match(RE(\"definitionList\"))) newMode = Modes.definitionList;else if (stream.match(RE(\"html\"), false)) newMode = Modes.html;\n    }\n    return (state.mode = newMode || Modes.text)(stream, state);\n  },\n  blockType: function blockType(stream, state) {\n    var match, type;\n    state.layoutType = null;\n    if (match = stream.match(RE(\"type\"))) type = match[0];else return (state.mode = Modes.text)(stream, state);\n    if (match = type.match(RE(\"header\"))) {\n      state.layoutType = \"header\";\n      state.header = parseInt(match[0][1]);\n    } else if (type.match(RE(\"bq\"))) {\n      state.layoutType = \"quote\";\n    } else if (type.match(RE(\"bc\"))) {\n      state.layoutType = \"code\";\n    } else if (type.match(RE(\"foot\"))) {\n      state.layoutType = \"footnote\";\n    } else if (type.match(RE(\"notextile\"))) {\n      state.layoutType = \"notextile\";\n    } else if (type.match(RE(\"pre\"))) {\n      state.layoutType = \"pre\";\n    } else if (type.match(RE(\"div\"))) {\n      state.layoutType = \"div\";\n    } else if (type.match(RE(\"table\"))) {\n      state.layoutType = \"table\";\n    }\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n  text: function text(stream, state) {\n    if (stream.match(RE(\"text\"))) return tokenStyles(state);\n    var ch = stream.next();\n    if (ch === '\"') return (state.mode = Modes.link)(stream, state);\n    return handlePhraseModifier(stream, state, ch);\n  },\n  attributes: function attributes(stream, state) {\n    state.mode = Modes.layoutLength;\n    if (stream.match(RE(\"attributes\"))) return TOKEN_STYLES.attributes;else return tokenStyles(state);\n  },\n  layoutLength: function layoutLength(stream, state) {\n    if (stream.eat(\".\") && stream.eat(\".\")) state.spanningLayout = true;\n    state.mode = Modes.text;\n    return tokenStyles(state);\n  },\n  list: function list(stream, state) {\n    var match = stream.match(RE(\"list\"));\n    state.listDepth = match[0].length;\n    var listMod = (state.listDepth - 1) % 3;\n    if (!listMod) state.layoutType = \"list1\";else if (listMod === 1) state.layoutType = \"list2\";else state.layoutType = \"list3\";\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n  link: function link(stream, state) {\n    state.mode = Modes.text;\n    if (stream.match(RE(\"link\"))) {\n      stream.match(/\\S+/);\n      return TOKEN_STYLES.link;\n    }\n    return tokenStyles(state);\n  },\n  linkDefinition: function linkDefinition(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.linkDefinition;\n  },\n  definitionList: function definitionList(stream, state) {\n    stream.match(RE(\"definitionList\"));\n    state.layoutType = \"definitionList\";\n    if (stream.match(/\\s*$/)) state.spanningLayout = true;else state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n  html: function html(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.html;\n  },\n  table: function table(stream, state) {\n    state.layoutType = \"table\";\n    return (state.mode = Modes.tableCell)(stream, state);\n  },\n  tableCell: function tableCell(stream, state) {\n    if (stream.match(RE(\"tableHeading\"))) state.tableHeading = true;else stream.eat(\"|\");\n    state.mode = Modes.tableCellAttributes;\n    return tokenStyles(state);\n  },\n  tableCellAttributes: function tableCellAttributes(stream, state) {\n    state.mode = Modes.tableText;\n    if (stream.match(RE(\"tableCellAttributes\"))) return TOKEN_STYLES.attributes;else return tokenStyles(state);\n  },\n  tableText: function tableText(stream, state) {\n    if (stream.match(RE(\"tableText\"))) return tokenStyles(state);\n    if (stream.peek() === \"|\") {\n      // end of cell\n      state.mode = Modes.tableCell;\n      return tokenStyles(state);\n    }\n    return handlePhraseModifier(stream, state, stream.next());\n  }\n};\nexport var textile = {\n  name: \"textile\",\n  startState: function startState() {\n    return {\n      mode: Modes.newLayout\n    };\n  },\n  token: function token(stream, state) {\n    if (stream.sol()) startNewLine(stream, state);\n    return state.mode(stream, state);\n  },\n  blankLine: blankLine\n};","map":{"version":3,"names":["TOKEN_STYLES","addition","attributes","bold","cite","code","definitionList","deletion","div","em","footnote","footCite","header","html","image","italic","link","linkDefinition","list1","list2","list3","notextile","pre","p","quote","span","specialChar","strong","sub","sup","table","tableHeading","startNewLine","stream","state","mode","Modes","newLayout","layoutType","spanningLayout","match","RE","handlePhraseModifier","ch","eat","togglePhraseModifier","tokenStyles","spec","type","phraseModifier","closeRE","openSize","charBefore","pos","string","charAt","charAfter","peek","test","RegExp","source","disabled","textileDisabled","styles","push","concat","activeStyles","length","join","i","arguments","blankLine","key","hasOwnProperty","REs","cache","single","bc","bq","definitionListEnd","drawTable","foot","list","para","tableCellAttributes","tableText","text","align","selector","lang","pad","css","createRe","name","makeRe","choiceRe","pattern","arg","parts","unshift","apply","blockType","newMode","parseInt","next","layoutLength","listDepth","listMod","skipToEnd","tableCell","textile","startState","token","sol"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@codemirror/legacy-modes/mode/textile.js"],"sourcesContent":["var TOKEN_STYLES = {\n  addition: \"inserted\",\n  attributes: \"propertyName\",\n  bold: \"strong\",\n  cite: \"keyword\",\n  code: \"monospace\",\n  definitionList: \"list\",\n  deletion: \"deleted\",\n  div: \"punctuation\",\n  em: \"emphasis\",\n  footnote: \"variable\",\n  footCite: \"qualifier\",\n  header: \"heading\",\n  html: \"comment\",\n  image: \"atom\",\n  italic: \"emphasis\",\n  link: \"link\",\n  linkDefinition: \"link\",\n  list1: \"list\",\n  list2: \"list.special\",\n  list3: \"list\",\n  notextile: \"string.special\",\n  pre: \"operator\",\n  p: \"content\",\n  quote: \"bracket\",\n  span: \"quote\",\n  specialChar: \"character\",\n  strong: \"strong\",\n  sub: \"content.special\",\n  sup: \"content.special\",\n  table: \"variableName.special\",\n  tableHeading: \"operator\"\n};\n\nfunction startNewLine(stream, state) {\n  state.mode = Modes.newLayout;\n  state.tableHeading = false;\n\n  if (state.layoutType === \"definitionList\" && state.spanningLayout &&\n      stream.match(RE(\"definitionListEnd\"), false))\n    state.spanningLayout = false;\n}\n\nfunction handlePhraseModifier(stream, state, ch) {\n  if (ch === \"_\") {\n    if (stream.eat(\"_\"))\n      return togglePhraseModifier(stream, state, \"italic\", /__/, 2);\n    else\n      return togglePhraseModifier(stream, state, \"em\", /_/, 1);\n  }\n\n  if (ch === \"*\") {\n    if (stream.eat(\"*\")) {\n      return togglePhraseModifier(stream, state, \"bold\", /\\*\\*/, 2);\n    }\n    return togglePhraseModifier(stream, state, \"strong\", /\\*/, 1);\n  }\n\n  if (ch === \"[\") {\n    if (stream.match(/\\d+\\]/)) state.footCite = true;\n    return tokenStyles(state);\n  }\n\n  if (ch === \"(\") {\n    var spec = stream.match(/^(r|tm|c)\\)/);\n    if (spec)\n      return TOKEN_STYLES.specialChar\n  }\n\n  if (ch === \"<\" && stream.match(/(\\w+)[^>]+>[^<]+<\\/\\1>/))\n    return TOKEN_STYLES.html\n\n  if (ch === \"?\" && stream.eat(\"?\"))\n    return togglePhraseModifier(stream, state, \"cite\", /\\?\\?/, 2);\n\n  if (ch === \"=\" && stream.eat(\"=\"))\n    return togglePhraseModifier(stream, state, \"notextile\", /==/, 2);\n\n  if (ch === \"-\" && !stream.eat(\"-\"))\n    return togglePhraseModifier(stream, state, \"deletion\", /-/, 1);\n\n  if (ch === \"+\")\n    return togglePhraseModifier(stream, state, \"addition\", /\\+/, 1);\n\n  if (ch === \"~\")\n    return togglePhraseModifier(stream, state, \"sub\", /~/, 1);\n\n  if (ch === \"^\")\n    return togglePhraseModifier(stream, state, \"sup\", /\\^/, 1);\n\n  if (ch === \"%\")\n    return togglePhraseModifier(stream, state, \"span\", /%/, 1);\n\n  if (ch === \"@\")\n    return togglePhraseModifier(stream, state, \"code\", /@/, 1);\n\n  if (ch === \"!\") {\n    var type = togglePhraseModifier(stream, state, \"image\", /(?:\\([^\\)]+\\))?!/, 1);\n    stream.match(/^:\\S+/); // optional Url portion\n    return type;\n  }\n  return tokenStyles(state);\n}\n\nfunction togglePhraseModifier(stream, state, phraseModifier, closeRE, openSize) {\n  var charBefore = stream.pos > openSize ? stream.string.charAt(stream.pos - openSize - 1) : null;\n  var charAfter = stream.peek();\n  if (state[phraseModifier]) {\n    if ((!charAfter || /\\W/.test(charAfter)) && charBefore && /\\S/.test(charBefore)) {\n      var type = tokenStyles(state);\n      state[phraseModifier] = false;\n      return type;\n    }\n  } else if ((!charBefore || /\\W/.test(charBefore)) && charAfter && /\\S/.test(charAfter) &&\n             stream.match(new RegExp(\"^.*\\\\S\" + closeRE.source + \"(?:\\\\W|$)\"), false)) {\n    state[phraseModifier] = true;\n    state.mode = Modes.attributes;\n  }\n  return tokenStyles(state);\n};\n\nfunction tokenStyles(state) {\n  var disabled = textileDisabled(state);\n  if (disabled) return disabled;\n\n  var styles = [];\n  if (state.layoutType) styles.push(TOKEN_STYLES[state.layoutType]);\n\n  styles = styles.concat(activeStyles(\n    state, \"addition\", \"bold\", \"cite\", \"code\", \"deletion\", \"em\", \"footCite\",\n    \"image\", \"italic\", \"link\", \"span\", \"strong\", \"sub\", \"sup\", \"table\", \"tableHeading\"));\n\n  if (state.layoutType === \"header\")\n    styles.push(TOKEN_STYLES.header + \"-\" + state.header);\n\n  return styles.length ? styles.join(\" \") : null;\n}\n\nfunction textileDisabled(state) {\n  var type = state.layoutType;\n\n  switch(type) {\n  case \"notextile\":\n  case \"code\":\n  case \"pre\":\n    return TOKEN_STYLES[type];\n  default:\n    if (state.notextile)\n      return TOKEN_STYLES.notextile + (type ? (\" \" + TOKEN_STYLES[type]) : \"\");\n    return null;\n  }\n}\n\nfunction activeStyles(state) {\n  var styles = [];\n  for (var i = 1; i < arguments.length; ++i) {\n    if (state[arguments[i]])\n      styles.push(TOKEN_STYLES[arguments[i]]);\n  }\n  return styles;\n}\n\nfunction blankLine(state) {\n  var spanningLayout = state.spanningLayout, type = state.layoutType;\n\n  for (var key in state) if (state.hasOwnProperty(key))\n    delete state[key];\n\n  state.mode = Modes.newLayout;\n  if (spanningLayout) {\n    state.layoutType = type;\n    state.spanningLayout = true;\n  }\n}\n\nvar REs = {\n  cache: {},\n  single: {\n    bc: \"bc\",\n    bq: \"bq\",\n    definitionList: /- .*?:=+/,\n    definitionListEnd: /.*=:\\s*$/,\n    div: \"div\",\n    drawTable: /\\|.*\\|/,\n    foot: /fn\\d+/,\n    header: /h[1-6]/,\n    html: /\\s*<(?:\\/)?(\\w+)(?:[^>]+)?>(?:[^<]+<\\/\\1>)?/,\n    link: /[^\"]+\":\\S/,\n    linkDefinition: /\\[[^\\s\\]]+\\]\\S+/,\n    list: /(?:#+|\\*+)/,\n    notextile: \"notextile\",\n    para: \"p\",\n    pre: \"pre\",\n    table: \"table\",\n    tableCellAttributes: /[\\/\\\\]\\d+/,\n    tableHeading: /\\|_\\./,\n    tableText: /[^\"_\\*\\[\\(\\?\\+~\\^%@|-]+/,\n    text: /[^!\"_=\\*\\[\\(<\\?\\+~\\^%@-]+/\n  },\n  attributes: {\n    align: /(?:<>|<|>|=)/,\n    selector: /\\([^\\(][^\\)]+\\)/,\n    lang: /\\[[^\\[\\]]+\\]/,\n    pad: /(?:\\(+|\\)+){1,2}/,\n    css: /\\{[^\\}]+\\}/\n  },\n  createRe: function(name) {\n    switch (name) {\n    case \"drawTable\":\n      return REs.makeRe(\"^\", REs.single.drawTable, \"$\");\n    case \"html\":\n      return REs.makeRe(\"^\", REs.single.html, \"(?:\", REs.single.html, \")*\", \"$\");\n    case \"linkDefinition\":\n      return REs.makeRe(\"^\", REs.single.linkDefinition, \"$\");\n    case \"listLayout\":\n      return REs.makeRe(\"^\", REs.single.list, RE(\"allAttributes\"), \"*\\\\s+\");\n    case \"tableCellAttributes\":\n      return REs.makeRe(\"^\", REs.choiceRe(REs.single.tableCellAttributes,\n                                          RE(\"allAttributes\")), \"+\\\\.\");\n    case \"type\":\n      return REs.makeRe(\"^\", RE(\"allTypes\"));\n    case \"typeLayout\":\n      return REs.makeRe(\"^\", RE(\"allTypes\"), RE(\"allAttributes\"),\n                        \"*\\\\.\\\\.?\", \"(\\\\s+|$)\");\n    case \"attributes\":\n      return REs.makeRe(\"^\", RE(\"allAttributes\"), \"+\");\n\n    case \"allTypes\":\n      return REs.choiceRe(REs.single.div, REs.single.foot,\n                          REs.single.header, REs.single.bc, REs.single.bq,\n                          REs.single.notextile, REs.single.pre, REs.single.table,\n                          REs.single.para);\n\n    case \"allAttributes\":\n      return REs.choiceRe(REs.attributes.selector, REs.attributes.css,\n                          REs.attributes.lang, REs.attributes.align, REs.attributes.pad);\n\n    default:\n      return REs.makeRe(\"^\", REs.single[name]);\n    }\n  },\n  makeRe: function() {\n    var pattern = \"\";\n    for (var i = 0; i < arguments.length; ++i) {\n      var arg = arguments[i];\n      pattern += (typeof arg === \"string\") ? arg : arg.source;\n    }\n    return new RegExp(pattern);\n  },\n  choiceRe: function() {\n    var parts = [arguments[0]];\n    for (var i = 1; i < arguments.length; ++i) {\n      parts[i * 2 - 1] = \"|\";\n      parts[i * 2] = arguments[i];\n    }\n\n    parts.unshift(\"(?:\");\n    parts.push(\")\");\n    return REs.makeRe.apply(null, parts);\n  }\n};\n\nfunction RE(name) {\n  return (REs.cache[name] || (REs.cache[name] = REs.createRe(name)));\n}\n\nvar Modes = {\n  newLayout: function(stream, state) {\n    if (stream.match(RE(\"typeLayout\"), false)) {\n      state.spanningLayout = false;\n      return (state.mode = Modes.blockType)(stream, state);\n    }\n    var newMode;\n    if (!textileDisabled(state)) {\n      if (stream.match(RE(\"listLayout\"), false))\n        newMode = Modes.list;\n      else if (stream.match(RE(\"drawTable\"), false))\n        newMode = Modes.table;\n      else if (stream.match(RE(\"linkDefinition\"), false))\n        newMode = Modes.linkDefinition;\n      else if (stream.match(RE(\"definitionList\")))\n        newMode = Modes.definitionList;\n      else if (stream.match(RE(\"html\"), false))\n        newMode = Modes.html;\n    }\n    return (state.mode = (newMode || Modes.text))(stream, state);\n  },\n\n  blockType: function(stream, state) {\n    var match, type;\n    state.layoutType = null;\n\n    if (match = stream.match(RE(\"type\")))\n      type = match[0];\n    else\n      return (state.mode = Modes.text)(stream, state);\n\n    if (match = type.match(RE(\"header\"))) {\n      state.layoutType = \"header\";\n      state.header = parseInt(match[0][1]);\n    } else if (type.match(RE(\"bq\"))) {\n      state.layoutType = \"quote\";\n    } else if (type.match(RE(\"bc\"))) {\n      state.layoutType = \"code\";\n    } else if (type.match(RE(\"foot\"))) {\n      state.layoutType = \"footnote\";\n    } else if (type.match(RE(\"notextile\"))) {\n      state.layoutType = \"notextile\";\n    } else if (type.match(RE(\"pre\"))) {\n      state.layoutType = \"pre\";\n    } else if (type.match(RE(\"div\"))) {\n      state.layoutType = \"div\";\n    } else if (type.match(RE(\"table\"))) {\n      state.layoutType = \"table\";\n    }\n\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n\n  text: function(stream, state) {\n    if (stream.match(RE(\"text\"))) return tokenStyles(state);\n\n    var ch = stream.next();\n    if (ch === '\"')\n      return (state.mode = Modes.link)(stream, state);\n    return handlePhraseModifier(stream, state, ch);\n  },\n\n  attributes: function(stream, state) {\n    state.mode = Modes.layoutLength;\n\n    if (stream.match(RE(\"attributes\")))\n      return TOKEN_STYLES.attributes\n    else\n      return tokenStyles(state);\n  },\n\n  layoutLength: function(stream, state) {\n    if (stream.eat(\".\") && stream.eat(\".\"))\n      state.spanningLayout = true;\n\n    state.mode = Modes.text;\n    return tokenStyles(state);\n  },\n\n  list: function(stream, state) {\n    var match = stream.match(RE(\"list\"));\n    state.listDepth = match[0].length;\n    var listMod = (state.listDepth - 1) % 3;\n    if (!listMod)\n      state.layoutType = \"list1\";\n    else if (listMod === 1)\n      state.layoutType = \"list2\";\n    else\n      state.layoutType = \"list3\";\n\n    state.mode = Modes.attributes;\n    return tokenStyles(state);\n  },\n\n  link: function(stream, state) {\n    state.mode = Modes.text;\n    if (stream.match(RE(\"link\"))) {\n      stream.match(/\\S+/);\n      return TOKEN_STYLES.link\n    }\n    return tokenStyles(state);\n  },\n\n  linkDefinition: function(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.linkDefinition\n  },\n\n  definitionList: function(stream, state) {\n    stream.match(RE(\"definitionList\"));\n\n    state.layoutType = \"definitionList\";\n\n    if (stream.match(/\\s*$/))\n      state.spanningLayout = true;\n    else\n      state.mode = Modes.attributes;\n\n    return tokenStyles(state);\n  },\n\n  html: function(stream) {\n    stream.skipToEnd();\n    return TOKEN_STYLES.html\n  },\n\n  table: function(stream, state) {\n    state.layoutType = \"table\";\n    return (state.mode = Modes.tableCell)(stream, state);\n  },\n\n  tableCell: function(stream, state) {\n    if (stream.match(RE(\"tableHeading\")))\n      state.tableHeading = true;\n    else\n      stream.eat(\"|\");\n\n    state.mode = Modes.tableCellAttributes;\n    return tokenStyles(state);\n  },\n\n  tableCellAttributes: function(stream, state) {\n    state.mode = Modes.tableText;\n\n    if (stream.match(RE(\"tableCellAttributes\")))\n      return TOKEN_STYLES.attributes\n    else\n      return tokenStyles(state);\n  },\n\n  tableText: function(stream, state) {\n    if (stream.match(RE(\"tableText\")))\n      return tokenStyles(state);\n\n    if (stream.peek() === \"|\") { // end of cell\n      state.mode = Modes.tableCell;\n      return tokenStyles(state);\n    }\n    return handlePhraseModifier(stream, state, stream.next());\n  }\n};\n\nexport const textile = {\n  name: \"textile\",\n  startState: function() {\n    return { mode: Modes.newLayout };\n  },\n  token: function(stream, state) {\n    if (stream.sol()) startNewLine(stream, state);\n    return state.mode(stream, state);\n  },\n  blankLine: blankLine\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}