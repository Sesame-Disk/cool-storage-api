{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useCallback, useRef, useState } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport classnames from 'classnames';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { ChromePicker } from 'react-color';\nimport { DEFAULT_COLORS, STANDARD_COLORS, DEFAULT_RECENT_USED_LIST } from '../../constants';\nimport { LocalStorage } from '../../../../utils';\nimport { eventStopPropagation } from '../../../utils/mouse-event';\nimport ColorItem from './color-item';\nimport Tooltip from '../../../../components/tooltip';\nimport './index.css';\nvar ColorMenu = function ColorMenu(_ref) {\n  var iconClass = _ref.iconClass,\n    id = _ref.id,\n    isRichEditor = _ref.isRichEditor,\n    className = _ref.className,\n    popoverClassName = _ref.popoverClassName,\n    disabled = _ref.disabled,\n    t = _ref.t,\n    setColor = _ref.setColor,\n    recentUsedColorsKey = _ref.recentUsedColorsKey,\n    text = _ref.text,\n    defaultColorTip = _ref.defaultColorTip,\n    defaultColor = _ref.defaultColor,\n    lastUsedColor = _ref.lastUsedColor,\n    updateLastUsedColor = _ref.updateLastUsedColor;\n  var popoverRef = useRef(null);\n  var moreColorsPopoverRef = useRef(null);\n  var _useState = useState(LocalStorage.getItem(recentUsedColorsKey, DEFAULT_RECENT_USED_LIST)),\n    _useState2 = _slicedToArray(_useState, 2),\n    recentUsedColors = _useState2[0],\n    setRecentUsedColors = _useState2[1];\n  var _useState3 = useState(false),\n    _useState4 = _slicedToArray(_useState3, 2),\n    isShowMenu = _useState4[0],\n    setMenuShow = _useState4[1];\n  var _useState5 = useState(false),\n    _useState6 = _slicedToArray(_useState5, 2),\n    isPickerShow = _useState6[0],\n    setPickerShow = _useState6[1];\n  var onSetColor = useCallback(function (color) {\n    var shouldClose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (disabled) return;\n    var validColor = color || '';\n    setColor(validColor);\n    if (validColor !== '' && recentUsedColors[0] !== validColor) {\n      var newRecentUsedColors = recentUsedColors.slice(0, 9);\n      newRecentUsedColors.unshift(validColor);\n      LocalStorage.setItem(recentUsedColorsKey, newRecentUsedColors);\n      setRecentUsedColors(newRecentUsedColors);\n    }\n    updateLastUsedColor && updateLastUsedColor(validColor);\n    if (shouldClose) {\n      popoverRef.current.toggle();\n      setMenuShow(!isShowMenu);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [recentUsedColors, recentUsedColorsKey, isShowMenu, isPickerShow, disabled]);\n  var setColorProxy = useCallback(function (event) {\n    if (event.target.className.includes('sdoc-color-item')) {\n      var color = event.target.dataset.color;\n      onSetColor(color);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [recentUsedColors, recentUsedColorsKey, isShowMenu, isPickerShow]);\n  var toggle = useCallback(function () {\n    if (isPickerShow) return;\n    popoverRef.current.toggle();\n    setMenuShow(!isShowMenu);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isShowMenu, isPickerShow]);\n  var moreColorsPopoverToggle = useCallback(function () {\n    moreColorsPopoverRef.current.toggle();\n    setPickerShow(!isPickerShow);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [moreColorsPopoverRef, isPickerShow]);\n  var onClick = useCallback(function (event) {\n    eventStopPropagation(event);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var onChange = useCallback(function (color) {\n    var validColor = color.hex;\n    onSetColor(validColor, false);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [disabled]);\n  var validClassName = classnames(className, 'sdoc-color-menu sdoc-menu-with-dropdown', {\n    'menu-show': isShowMenu,\n    'disabled': disabled,\n    'rich-icon-btn d-flex': isRichEditor,\n    'rich-icon-btn-disabled': isRichEditor && disabled,\n    'rich-icon-btn-hover': isRichEditor && !disabled,\n    'btn btn-icon btn-secondary btn-active d-flex': !isRichEditor\n  });\n  var setLastUsedColor = useCallback(function (event) {\n    eventStopPropagation(event);\n    onSetColor(lastUsedColor, false);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [recentUsedColors, lastUsedColor, disabled]);\n  var buttonId = \"button-\".concat(id);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: validClassName,\n    id: buttonId,\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('last-used-color-container sdoc-menu-with-dropdown-icon', {\n      'disabled': disabled\n    }),\n    onClick: setLastUsedColor\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: classnames(iconClass, 'sdoc-color-icon')\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"last-used-color\",\n    style: {\n      backgroundColor: lastUsedColor || 'unset'\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    className: \"sdoc-color-toggle sdoc-menu-with-dropdown-triangle\"\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdoc-menu-with-dropdown-triangle-icon sdocfont sdoc-\".concat(isShowMenu ? 'caret-up' : 'drop-down')\n  }))), text && /*#__PURE__*/React.createElement(Tooltip, {\n    target: buttonId\n  }, t(text)), !disabled && /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: id,\n    className: classnames('sdoc-color-menu-popover', popoverClassName),\n    trigger: \"legacy\",\n    placement: \"bottom-start\",\n    hideArrow: true,\n    toggle: toggle,\n    fade: false,\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-dropdown-menu sdoc-color-dropdown-menu\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-3 d-flex flex-column\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-no-color-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-no-color-content\",\n    onClick: function onClick() {\n      return onSetColor(defaultColor);\n    }\n  }, defaultColorTip || t('No_color'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-default-colors-container\",\n    onClick: setColorProxy\n  }, DEFAULT_COLORS.map(function (color, index) {\n    return /*#__PURE__*/React.createElement(ColorItem, {\n      key: \"default-color-\".concat(index),\n      color: color,\n      lastUsedColor: lastUsedColor\n    });\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-standard-colors-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-sub-title\"\n  }, t('Standard_color')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    onClick: setColorProxy\n  }, STANDARD_COLORS.map(function (color, index) {\n    return /*#__PURE__*/React.createElement(ColorItem, {\n      key: \"standard-color-\".concat(index),\n      color: color,\n      lastUsedColor: lastUsedColor\n    });\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-recent-used-colors-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-sub-title\"\n  }, t('Recently_used')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    onClick: setColorProxy\n  }, recentUsedColors.map(function (color, index) {\n    return /*#__PURE__*/React.createElement(ColorItem, {\n      key: \"standard-color-\".concat(index),\n      color: {\n        value: color,\n        name: color\n      }\n    });\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-colors-divider\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('sdoc-more-colors pr-2', {\n      'show-pick': isPickerShow\n    }),\n    id: \"sdoc-more-colors\"\n  }, /*#__PURE__*/React.createElement(\"span\", null, t('More_color')), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-right-slide\"\n  })), /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: \"sdoc-more-colors\",\n    className: \"sdoc-more-colors-popover\",\n    trigger: \"hover\",\n    placement: \"left-end\",\n    hideArrow: true,\n    fade: false,\n    toggle: moreColorsPopoverToggle,\n    ref: moreColorsPopoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-more-colors-container\",\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(ChromePicker, {\n    disableAlpha: true,\n    color: lastUsedColor || '',\n    onChange: onChange\n  }))))));\n};\nColorMenu.defaultProps = {\n  isRichEditor: true,\n  className: 'menu-group-item'\n};\nexport default withTranslation('sdoc-editor')(ColorMenu);","map":{"version":3,"names":["React","useCallback","useRef","useState","withTranslation","classnames","UncontrolledPopover","ChromePicker","DEFAULT_COLORS","STANDARD_COLORS","DEFAULT_RECENT_USED_LIST","LocalStorage","eventStopPropagation","ColorItem","Tooltip","ColorMenu","_ref","iconClass","id","isRichEditor","className","popoverClassName","disabled","t","setColor","recentUsedColorsKey","text","defaultColorTip","defaultColor","lastUsedColor","updateLastUsedColor","popoverRef","moreColorsPopoverRef","_useState","getItem","_useState2","_slicedToArray","recentUsedColors","setRecentUsedColors","_useState3","_useState4","isShowMenu","setMenuShow","_useState5","_useState6","isPickerShow","setPickerShow","onSetColor","color","shouldClose","arguments","length","undefined","validColor","newRecentUsedColors","slice","unshift","setItem","current","toggle","setColorProxy","event","target","includes","dataset","moreColorsPopoverToggle","onClick","onChange","hex","validClassName","setLastUsedColor","buttonId","concat","createElement","Fragment","type","style","backgroundColor","trigger","placement","hideArrow","fade","ref","map","index","key","value","name","disableAlpha","defaultProps"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/commons/color-menu/index.js"],"sourcesContent":["import React, { useCallback, useRef, useState } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport classnames from 'classnames';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { ChromePicker } from 'react-color';\nimport { DEFAULT_COLORS, STANDARD_COLORS, DEFAULT_RECENT_USED_LIST } from '../../constants';\nimport { LocalStorage } from '../../../../utils';\nimport { eventStopPropagation } from '../../../utils/mouse-event';\nimport ColorItem from './color-item';\nimport Tooltip from '../../../../components/tooltip';\nimport './index.css';\nconst ColorMenu = _ref => {\n  let {\n    iconClass,\n    id,\n    isRichEditor,\n    className,\n    popoverClassName,\n    disabled,\n    t,\n    setColor,\n    recentUsedColorsKey,\n    text,\n    defaultColorTip,\n    defaultColor,\n    lastUsedColor,\n    updateLastUsedColor\n  } = _ref;\n  const popoverRef = useRef(null);\n  const moreColorsPopoverRef = useRef(null);\n  const [recentUsedColors, setRecentUsedColors] = useState(LocalStorage.getItem(recentUsedColorsKey, DEFAULT_RECENT_USED_LIST));\n  const [isShowMenu, setMenuShow] = useState(false);\n  const [isPickerShow, setPickerShow] = useState(false);\n  const onSetColor = useCallback(function (color) {\n    let shouldClose = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n    if (disabled) return;\n    const validColor = color || '';\n    setColor(validColor);\n    if (validColor !== '' && recentUsedColors[0] !== validColor) {\n      let newRecentUsedColors = recentUsedColors.slice(0, 9);\n      newRecentUsedColors.unshift(validColor);\n      LocalStorage.setItem(recentUsedColorsKey, newRecentUsedColors);\n      setRecentUsedColors(newRecentUsedColors);\n    }\n    updateLastUsedColor && updateLastUsedColor(validColor);\n    if (shouldClose) {\n      popoverRef.current.toggle();\n      setMenuShow(!isShowMenu);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [recentUsedColors, recentUsedColorsKey, isShowMenu, isPickerShow, disabled]);\n  const setColorProxy = useCallback(event => {\n    if (event.target.className.includes('sdoc-color-item')) {\n      const color = event.target.dataset.color;\n      onSetColor(color);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [recentUsedColors, recentUsedColorsKey, isShowMenu, isPickerShow]);\n  const toggle = useCallback(() => {\n    if (isPickerShow) return;\n    popoverRef.current.toggle();\n    setMenuShow(!isShowMenu);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isShowMenu, isPickerShow]);\n  const moreColorsPopoverToggle = useCallback(() => {\n    moreColorsPopoverRef.current.toggle();\n    setPickerShow(!isPickerShow);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [moreColorsPopoverRef, isPickerShow]);\n  const onClick = useCallback(event => {\n    eventStopPropagation(event);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onChange = useCallback(color => {\n    const validColor = color.hex;\n    onSetColor(validColor, false);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [disabled]);\n  const validClassName = classnames(className, 'sdoc-color-menu sdoc-menu-with-dropdown', {\n    'menu-show': isShowMenu,\n    'disabled': disabled,\n    'rich-icon-btn d-flex': isRichEditor,\n    'rich-icon-btn-disabled': isRichEditor && disabled,\n    'rich-icon-btn-hover': isRichEditor && !disabled,\n    'btn btn-icon btn-secondary btn-active d-flex': !isRichEditor\n  });\n  const setLastUsedColor = useCallback(event => {\n    eventStopPropagation(event);\n    onSetColor(lastUsedColor, false);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [recentUsedColors, lastUsedColor, disabled]);\n  const buttonId = \"button-\".concat(id);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: validClassName,\n    id: buttonId,\n    disabled: disabled\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('last-used-color-container sdoc-menu-with-dropdown-icon', {\n      'disabled': disabled\n    }),\n    onClick: setLastUsedColor\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: classnames(iconClass, 'sdoc-color-icon')\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"last-used-color\",\n    style: {\n      backgroundColor: lastUsedColor || 'unset'\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    id: id,\n    className: \"sdoc-color-toggle sdoc-menu-with-dropdown-triangle\"\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdoc-menu-with-dropdown-triangle-icon sdocfont sdoc-\".concat(isShowMenu ? 'caret-up' : 'drop-down')\n  }))), text && /*#__PURE__*/React.createElement(Tooltip, {\n    target: buttonId\n  }, t(text)), !disabled && /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: id,\n    className: classnames('sdoc-color-menu-popover', popoverClassName),\n    trigger: \"legacy\",\n    placement: \"bottom-start\",\n    hideArrow: true,\n    toggle: toggle,\n    fade: false,\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-dropdown-menu sdoc-color-dropdown-menu\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"p-3 d-flex flex-column\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-no-color-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-no-color-content\",\n    onClick: () => onSetColor(defaultColor)\n  }, defaultColorTip || t('No_color'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-default-colors-container\",\n    onClick: setColorProxy\n  }, DEFAULT_COLORS.map((color, index) => {\n    return /*#__PURE__*/React.createElement(ColorItem, {\n      key: \"default-color-\".concat(index),\n      color: color,\n      lastUsedColor: lastUsedColor\n    });\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-standard-colors-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-sub-title\"\n  }, t('Standard_color')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    onClick: setColorProxy\n  }, STANDARD_COLORS.map((color, index) => {\n    return /*#__PURE__*/React.createElement(ColorItem, {\n      key: \"standard-color-\".concat(index),\n      color: color,\n      lastUsedColor: lastUsedColor\n    });\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-recent-used-colors-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-color-sub-title\"\n  }, t('Recently_used')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"d-flex\",\n    onClick: setColorProxy\n  }, recentUsedColors.map((color, index) => {\n    return /*#__PURE__*/React.createElement(ColorItem, {\n      key: \"standard-color-\".concat(index),\n      color: {\n        value: color,\n        name: color\n      }\n    });\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-colors-divider\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames('sdoc-more-colors pr-2', {\n      'show-pick': isPickerShow\n    }),\n    id: \"sdoc-more-colors\"\n  }, /*#__PURE__*/React.createElement(\"span\", null, t('More_color')), /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-right-slide\"\n  })), /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: \"sdoc-more-colors\",\n    className: \"sdoc-more-colors-popover\",\n    trigger: \"hover\",\n    placement: \"left-end\",\n    hideArrow: true,\n    fade: false,\n    toggle: moreColorsPopoverToggle,\n    ref: moreColorsPopoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-more-colors-container\",\n    onClick: onClick\n  }, /*#__PURE__*/React.createElement(ChromePicker, {\n    disableAlpha: true,\n    color: lastUsedColor || '',\n    onChange: onChange\n  }))))));\n};\nColorMenu.defaultProps = {\n  isRichEditor: true,\n  className: 'menu-group-item'\n};\nexport default withTranslation('sdoc-editor')(ColorMenu);"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAC5D,SAASC,eAAe,QAAQ,eAAe;AAC/C,OAAOC,UAAU,MAAM,YAAY;AACnC,SAASC,mBAAmB,QAAQ,YAAY;AAChD,SAASC,YAAY,QAAQ,aAAa;AAC1C,SAASC,cAAc,EAAEC,eAAe,EAAEC,wBAAwB,QAAQ,iBAAiB;AAC3F,SAASC,YAAY,QAAQ,mBAAmB;AAChD,SAASC,oBAAoB,QAAQ,4BAA4B;AACjE,OAAOC,SAAS,MAAM,cAAc;AACpC,OAAOC,OAAO,MAAM,gCAAgC;AACpD,OAAO,aAAa;AACpB,IAAMC,SAAS,GAAG,SAAZA,SAASA,CAAGC,IAAI,EAAI;EACxB,IACEC,SAAS,GAcPD,IAAI,CAdNC,SAAS;IACTC,EAAE,GAaAF,IAAI,CAbNE,EAAE;IACFC,YAAY,GAYVH,IAAI,CAZNG,YAAY;IACZC,SAAS,GAWPJ,IAAI,CAXNI,SAAS;IACTC,gBAAgB,GAUdL,IAAI,CAVNK,gBAAgB;IAChBC,QAAQ,GASNN,IAAI,CATNM,QAAQ;IACRC,CAAC,GAQCP,IAAI,CARNO,CAAC;IACDC,QAAQ,GAONR,IAAI,CAPNQ,QAAQ;IACRC,mBAAmB,GAMjBT,IAAI,CANNS,mBAAmB;IACnBC,IAAI,GAKFV,IAAI,CALNU,IAAI;IACJC,eAAe,GAIbX,IAAI,CAJNW,eAAe;IACfC,YAAY,GAGVZ,IAAI,CAHNY,YAAY;IACZC,aAAa,GAEXb,IAAI,CAFNa,aAAa;IACbC,mBAAmB,GACjBd,IAAI,CADNc,mBAAmB;EAErB,IAAMC,UAAU,GAAG7B,MAAM,CAAC,IAAI,CAAC;EAC/B,IAAM8B,oBAAoB,GAAG9B,MAAM,CAAC,IAAI,CAAC;EACzC,IAAA+B,SAAA,GAAgD9B,QAAQ,CAACQ,YAAY,CAACuB,OAAO,CAACT,mBAAmB,EAAEf,wBAAwB,CAAC,CAAC;IAAAyB,UAAA,GAAAC,cAAA,CAAAH,SAAA;IAAtHI,gBAAgB,GAAAF,UAAA;IAAEG,mBAAmB,GAAAH,UAAA;EAC5C,IAAAI,UAAA,GAAkCpC,QAAQ,CAAC,KAAK,CAAC;IAAAqC,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA1CE,UAAU,GAAAD,UAAA;IAAEE,WAAW,GAAAF,UAAA;EAC9B,IAAAG,UAAA,GAAsCxC,QAAQ,CAAC,KAAK,CAAC;IAAAyC,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA9CE,YAAY,GAAAD,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAClC,IAAMG,UAAU,GAAG9C,WAAW,CAAC,UAAU+C,KAAK,EAAE;IAC9C,IAAIC,WAAW,GAAGC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,IAAI;IAC1F,IAAI5B,QAAQ,EAAE;IACd,IAAM+B,UAAU,GAAGL,KAAK,IAAI,EAAE;IAC9BxB,QAAQ,CAAC6B,UAAU,CAAC;IACpB,IAAIA,UAAU,KAAK,EAAE,IAAIhB,gBAAgB,CAAC,CAAC,CAAC,KAAKgB,UAAU,EAAE;MAC3D,IAAIC,mBAAmB,GAAGjB,gBAAgB,CAACkB,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC;MACtDD,mBAAmB,CAACE,OAAO,CAACH,UAAU,CAAC;MACvC1C,YAAY,CAAC8C,OAAO,CAAChC,mBAAmB,EAAE6B,mBAAmB,CAAC;MAC9DhB,mBAAmB,CAACgB,mBAAmB,CAAC;IAC1C;IACAxB,mBAAmB,IAAIA,mBAAmB,CAACuB,UAAU,CAAC;IACtD,IAAIJ,WAAW,EAAE;MACflB,UAAU,CAAC2B,OAAO,CAACC,MAAM,CAAC,CAAC;MAC3BjB,WAAW,CAAC,CAACD,UAAU,CAAC;IAC1B;;IAEA;EACF,CAAC,EAAE,CAACJ,gBAAgB,EAAEZ,mBAAmB,EAAEgB,UAAU,EAAEI,YAAY,EAAEvB,QAAQ,CAAC,CAAC;EAC/E,IAAMsC,aAAa,GAAG3D,WAAW,CAAC,UAAA4D,KAAK,EAAI;IACzC,IAAIA,KAAK,CAACC,MAAM,CAAC1C,SAAS,CAAC2C,QAAQ,CAAC,iBAAiB,CAAC,EAAE;MACtD,IAAMf,KAAK,GAAGa,KAAK,CAACC,MAAM,CAACE,OAAO,CAAChB,KAAK;MACxCD,UAAU,CAACC,KAAK,CAAC;IACnB;;IAEA;EACF,CAAC,EAAE,CAACX,gBAAgB,EAAEZ,mBAAmB,EAAEgB,UAAU,EAAEI,YAAY,CAAC,CAAC;EACrE,IAAMc,MAAM,GAAG1D,WAAW,CAAC,YAAM;IAC/B,IAAI4C,YAAY,EAAE;IAClBd,UAAU,CAAC2B,OAAO,CAACC,MAAM,CAAC,CAAC;IAC3BjB,WAAW,CAAC,CAACD,UAAU,CAAC;;IAExB;EACF,CAAC,EAAE,CAACA,UAAU,EAAEI,YAAY,CAAC,CAAC;EAC9B,IAAMoB,uBAAuB,GAAGhE,WAAW,CAAC,YAAM;IAChD+B,oBAAoB,CAAC0B,OAAO,CAACC,MAAM,CAAC,CAAC;IACrCb,aAAa,CAAC,CAACD,YAAY,CAAC;;IAE5B;EACF,CAAC,EAAE,CAACb,oBAAoB,EAAEa,YAAY,CAAC,CAAC;EACxC,IAAMqB,OAAO,GAAGjE,WAAW,CAAC,UAAA4D,KAAK,EAAI;IACnCjD,oBAAoB,CAACiD,KAAK,CAAC;;IAE3B;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAMM,QAAQ,GAAGlE,WAAW,CAAC,UAAA+C,KAAK,EAAI;IACpC,IAAMK,UAAU,GAAGL,KAAK,CAACoB,GAAG;IAC5BrB,UAAU,CAACM,UAAU,EAAE,KAAK,CAAC;;IAE7B;EACF,CAAC,EAAE,CAAC/B,QAAQ,CAAC,CAAC;EACd,IAAM+C,cAAc,GAAGhE,UAAU,CAACe,SAAS,EAAE,yCAAyC,EAAE;IACtF,WAAW,EAAEqB,UAAU;IACvB,UAAU,EAAEnB,QAAQ;IACpB,sBAAsB,EAAEH,YAAY;IACpC,wBAAwB,EAAEA,YAAY,IAAIG,QAAQ;IAClD,qBAAqB,EAAEH,YAAY,IAAI,CAACG,QAAQ;IAChD,8CAA8C,EAAE,CAACH;EACnD,CAAC,CAAC;EACF,IAAMmD,gBAAgB,GAAGrE,WAAW,CAAC,UAAA4D,KAAK,EAAI;IAC5CjD,oBAAoB,CAACiD,KAAK,CAAC;IAC3Bd,UAAU,CAAClB,aAAa,EAAE,KAAK,CAAC;;IAEhC;EACF,CAAC,EAAE,CAACQ,gBAAgB,EAAER,aAAa,EAAEP,QAAQ,CAAC,CAAC;EAC/C,IAAMiD,QAAQ,GAAG,SAAS,CAACC,MAAM,CAACtD,EAAE,CAAC;EACrC,OAAO,aAAalB,KAAK,CAACyE,aAAa,CAACzE,KAAK,CAAC0E,QAAQ,EAAE,IAAI,EAAE,aAAa1E,KAAK,CAACyE,aAAa,CAAC,QAAQ,EAAE;IACvGE,IAAI,EAAE,QAAQ;IACdvD,SAAS,EAAEiD,cAAc;IACzBnD,EAAE,EAAEqD,QAAQ;IACZjD,QAAQ,EAAEA;EACZ,CAAC,EAAE,aAAatB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IACzCrD,SAAS,EAAEf,UAAU,CAAC,wDAAwD,EAAE;MAC9E,UAAU,EAAEiB;IACd,CAAC,CAAC;IACF4C,OAAO,EAAEI;EACX,CAAC,EAAE,aAAatE,KAAK,CAACyE,aAAa,CAAC,GAAG,EAAE;IACvCrD,SAAS,EAAEf,UAAU,CAACY,SAAS,EAAE,iBAAiB;EACpD,CAAC,CAAC,EAAE,aAAajB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IAC1CrD,SAAS,EAAE,iBAAiB;IAC5BwD,KAAK,EAAE;MACLC,eAAe,EAAEhD,aAAa,IAAI;IACpC;EACF,CAAC,CAAC,CAAC,EAAE,aAAa7B,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IAC3CvD,EAAE,EAAEA,EAAE;IACNE,SAAS,EAAE;EACb,CAAC,EAAE,aAAapB,KAAK,CAACyE,aAAa,CAAC,GAAG,EAAE;IACvCrD,SAAS,EAAE,sDAAsD,CAACoD,MAAM,CAAC/B,UAAU,GAAG,UAAU,GAAG,WAAW;EAChH,CAAC,CAAC,CAAC,CAAC,EAAEf,IAAI,IAAI,aAAa1B,KAAK,CAACyE,aAAa,CAAC3D,OAAO,EAAE;IACtDgD,MAAM,EAAES;EACV,CAAC,EAAEhD,CAAC,CAACG,IAAI,CAAC,CAAC,EAAE,CAACJ,QAAQ,IAAI,aAAatB,KAAK,CAACyE,aAAa,CAACnE,mBAAmB,EAAE;IAC9EwD,MAAM,EAAE5C,EAAE;IACVE,SAAS,EAAEf,UAAU,CAAC,yBAAyB,EAAEgB,gBAAgB,CAAC;IAClEyD,OAAO,EAAE,QAAQ;IACjBC,SAAS,EAAE,cAAc;IACzBC,SAAS,EAAE,IAAI;IACfrB,MAAM,EAAEA,MAAM;IACdsB,IAAI,EAAE,KAAK;IACXC,GAAG,EAAEnD;EACP,CAAC,EAAE,aAAa/B,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IACzCrD,SAAS,EAAE;EACb,CAAC,EAAE,aAAapB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IACzCrD,SAAS,EAAE;EACb,CAAC,EAAE,aAAapB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IACzCrD,SAAS,EAAE;EACb,CAAC,EAAE,aAAapB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IACzCrD,SAAS,EAAE,6BAA6B;IACxC8C,OAAO,EAAE,SAAAA,QAAA;MAAA,OAAMnB,UAAU,CAACnB,YAAY,CAAC;IAAA;EACzC,CAAC,EAAED,eAAe,IAAIJ,CAAC,CAAC,UAAU,CAAC,CAAC,CAAC,EAAE,aAAavB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IAC7ErD,SAAS,EAAE,qCAAqC;IAChD8C,OAAO,EAAEN;EACX,CAAC,EAAEpD,cAAc,CAAC2E,GAAG,CAAC,UAACnC,KAAK,EAAEoC,KAAK,EAAK;IACtC,OAAO,aAAapF,KAAK,CAACyE,aAAa,CAAC5D,SAAS,EAAE;MACjDwE,GAAG,EAAE,gBAAgB,CAACb,MAAM,CAACY,KAAK,CAAC;MACnCpC,KAAK,EAAEA,KAAK;MACZnB,aAAa,EAAEA;IACjB,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC,EAAE,aAAa7B,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IAC3CrD,SAAS,EAAE;EACb,CAAC,EAAE,aAAapB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IACzCrD,SAAS,EAAE;EACb,CAAC,EAAEG,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,aAAavB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IAC/DrD,SAAS,EAAE,QAAQ;IACnB8C,OAAO,EAAEN;EACX,CAAC,EAAEnD,eAAe,CAAC0E,GAAG,CAAC,UAACnC,KAAK,EAAEoC,KAAK,EAAK;IACvC,OAAO,aAAapF,KAAK,CAACyE,aAAa,CAAC5D,SAAS,EAAE;MACjDwE,GAAG,EAAE,iBAAiB,CAACb,MAAM,CAACY,KAAK,CAAC;MACpCpC,KAAK,EAAEA,KAAK;MACZnB,aAAa,EAAEA;IACjB,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC,CAAC,EAAE,aAAa7B,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IAC5CrD,SAAS,EAAE;EACb,CAAC,EAAE,aAAapB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IACzCrD,SAAS,EAAE;EACb,CAAC,EAAEG,CAAC,CAAC,eAAe,CAAC,CAAC,EAAE,aAAavB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IAC9DrD,SAAS,EAAE,QAAQ;IACnB8C,OAAO,EAAEN;EACX,CAAC,EAAEvB,gBAAgB,CAAC8C,GAAG,CAAC,UAACnC,KAAK,EAAEoC,KAAK,EAAK;IACxC,OAAO,aAAapF,KAAK,CAACyE,aAAa,CAAC5D,SAAS,EAAE;MACjDwE,GAAG,EAAE,iBAAiB,CAACb,MAAM,CAACY,KAAK,CAAC;MACpCpC,KAAK,EAAE;QACLsC,KAAK,EAAEtC,KAAK;QACZuC,IAAI,EAAEvC;MACR;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,aAAahD,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IAC7CrD,SAAS,EAAE;EACb,CAAC,CAAC,EAAE,aAAapB,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IAC1CrD,SAAS,EAAEf,UAAU,CAAC,uBAAuB,EAAE;MAC7C,WAAW,EAAEwC;IACf,CAAC,CAAC;IACF3B,EAAE,EAAE;EACN,CAAC,EAAE,aAAalB,KAAK,CAACyE,aAAa,CAAC,MAAM,EAAE,IAAI,EAAElD,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,aAAavB,KAAK,CAACyE,aAAa,CAAC,GAAG,EAAE;IACxGrD,SAAS,EAAE;EACb,CAAC,CAAC,CAAC,EAAE,aAAapB,KAAK,CAACyE,aAAa,CAACnE,mBAAmB,EAAE;IACzDwD,MAAM,EAAE,kBAAkB;IAC1B1C,SAAS,EAAE,0BAA0B;IACrC0D,OAAO,EAAE,OAAO;IAChBC,SAAS,EAAE,UAAU;IACrBC,SAAS,EAAE,IAAI;IACfC,IAAI,EAAE,KAAK;IACXtB,MAAM,EAAEM,uBAAuB;IAC/BiB,GAAG,EAAElD;EACP,CAAC,EAAE,aAAahC,KAAK,CAACyE,aAAa,CAAC,KAAK,EAAE;IACzCrD,SAAS,EAAE,4BAA4B;IACvC8C,OAAO,EAAEA;EACX,CAAC,EAAE,aAAalE,KAAK,CAACyE,aAAa,CAAClE,YAAY,EAAE;IAChDiF,YAAY,EAAE,IAAI;IAClBxC,KAAK,EAAEnB,aAAa,IAAI,EAAE;IAC1BsC,QAAQ,EAAEA;EACZ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACT,CAAC;AACDpD,SAAS,CAAC0E,YAAY,GAAG;EACvBtE,YAAY,EAAE,IAAI;EAClBC,SAAS,EAAE;AACb,CAAC;AACD,eAAehB,eAAe,CAAC,aAAa,CAAC,CAACW,SAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}