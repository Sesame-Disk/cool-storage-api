{"ast":null,"code":"import _toConsumableArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { Editor, Element } from '@seafile/slate';\nimport { CODE_BLOCK, IMAGE, DEFAULT_FONT, GOOGLE_FONT_CLASS, FONT, SDOC_FONT_SIZE, HEADERS, TITLE, SUBTITLE, CODE_LINE, TEXT_STYLE_MAP } from '../../constants';\nimport { focusEditor, getParentNode } from '../../core';\nimport context from '../../../../context';\nimport { isMac } from '../../../../utils';\nexport var isMenuDisabled = function isMenuDisabled(editor, readonly) {\n  if (readonly) return true;\n  if (!editor.selection) return true;\n  var _Editor$nodes = Editor.nodes(editor, {\n      match: function match(node) {\n        return !Editor.isEditor(node) && Element.isElement(node) && Editor.isBlock(editor, node);\n      },\n      universal: true,\n      mode: 'highest'\n    }),\n    _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n    match = _Editor$nodes2[0];\n  var elementType = match[0].type;\n  if (elementType === CODE_BLOCK || elementType === IMAGE) {\n    return true;\n  }\n  return false;\n};\n\n// font size\nexport var getFontSize = function getFontSize(editor) {\n  var selection = editor.selection;\n  var marks = Editor.marks(editor);\n  if (marks && marks[TEXT_STYLE_MAP.FONT_SIZE]) {\n    return marks[TEXT_STYLE_MAP.FONT_SIZE];\n  }\n  if (!selection) return SDOC_FONT_SIZE.DEFAULT;\n  var _Editor$nodes3 = Editor.nodes(editor, {\n      at: Editor.unhangRange(editor, selection),\n      match: function match(n) {\n        if (!Editor.isEditor(n) && !Element.isElement(n)) {\n          if (n[TEXT_STYLE_MAP.FONT_SIZE]) return true;\n          var _parentNode = getParentNode(editor.children, n.id);\n          if (!_parentNode) return false;\n          if ([TITLE, SUBTITLE].concat(_toConsumableArray(HEADERS), [CODE_LINE]).includes(_parentNode.type)) {\n            return true;\n          }\n          return false;\n        }\n        return false;\n      }\n    }),\n    _Editor$nodes4 = _slicedToArray(_Editor$nodes3, 1),\n    match = _Editor$nodes4[0];\n  if (!match) return SDOC_FONT_SIZE.DEFAULT;\n  // has font-size attribute\n  var matched = match[0];\n  if (matched[TEXT_STYLE_MAP.FONT_SIZE]) {\n    return matched[TEXT_STYLE_MAP.FONT_SIZE];\n  }\n  var parentNode = getParentNode(editor.children, matched.id);\n  return SDOC_FONT_SIZE[parentNode.type];\n};\nexport var setFontSize = function setFontSize(editor, value) {\n  Editor.addMark(editor, TEXT_STYLE_MAP.FONT_SIZE, value);\n  focusEditor(editor);\n};\nexport var scaleFontSize = function scaleFontSize(editor, type) {\n  var isDisabled = isMenuDisabled(editor);\n  if (isDisabled) return;\n  var fontSize = getFontSize(editor);\n  var fontSizeValue = fontSize;\n  if (type === 'increase') {\n    fontSizeValue = fontSizeValue + 1;\n  }\n  if (type === 'reduce') {\n    fontSizeValue = fontSizeValue - 1;\n    if (fontSizeValue < 1) return;\n  }\n  setFontSize(editor, fontSizeValue);\n};\n\n// font\nexport var getFont = function getFont(editor) {\n  var selection = editor.selection;\n  var marks = Editor.marks(editor);\n  if (marks && marks[TEXT_STYLE_MAP.FONT]) {\n    return marks[TEXT_STYLE_MAP.FONT];\n  }\n  if (!selection) return DEFAULT_FONT;\n  var _Editor$nodes5 = Editor.nodes(editor, {\n      at: Editor.unhangRange(editor, selection),\n      match: function match(n) {\n        return !Editor.isEditor(n) && !Element.isElement(n) && n['font'];\n      }\n    }),\n    _Editor$nodes6 = _slicedToArray(_Editor$nodes5, 1),\n    match = _Editor$nodes6[0];\n  if (!match) return DEFAULT_FONT;\n  return match[0][TEXT_STYLE_MAP.FONT];\n};\nexport var setFont = function setFont(editor, value) {\n  Editor.addMark(editor, TEXT_STYLE_MAP.FONT, value);\n  focusEditor(editor);\n};\nexport var hasFontLoaded = function hasFontLoaded() {\n  var fontObject = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var fontWeight = arguments.length > 1 ? arguments[1] : undefined;\n  var name = fontObject.name,\n    isSystemOwn = fontObject.isSystemOwn;\n  if (isSystemOwn) return true;\n  if (!name) return true;\n  var nameString = name.split(' ').join('+');\n  var fontLinkId = \"sdoc-font-link-\".concat(nameString, \"-\").concat(fontWeight);\n  return document.getElementById(fontLinkId);\n};\nexport var loadFont = function loadFont() {\n  var fontObject = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var fontWeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n  var name = fontObject.name,\n    isSystemOwn = fontObject.isSystemOwn,\n    _fontObject$supportFo = fontObject.supportFontWeight,\n    supportFontWeight = _fontObject$supportFo === void 0 ? [] : _fontObject$supportFo;\n  if (isSystemOwn) return;\n  if (!name) return;\n  var validFontWeight = supportFontWeight.includes(fontWeight) ? fontWeight : supportFontWeight[0];\n  var nameString = name.split(' ').join('+');\n  var fontLinkId = \"sdoc-font-link-\".concat(nameString, \"-\").concat(validFontWeight);\n  if (document.getElementById(fontLinkId)) return;\n  var href = \"https://fonts.googleapis.com/css?family=\".concat(nameString, \":\").concat(validFontWeight);\n  var fontLink = document.createElement('link');\n  fontLink.rel = 'stylesheet';\n  fontLink.href = href;\n  fontLink.id = fontLinkId;\n  fontLink.className = GOOGLE_FONT_CLASS;\n  document.body.appendChild(fontLink);\n};\nexport var generatorFontFamily = function generatorFontFamily(fontName, fontWeight) {\n  var lang = context.getSetting('lang') || 'zh-cn';\n  if (fontName === DEFAULT_FONT) {\n    return \"'Arial', \".concat(lang === 'zh-cn' ? \"\\u5B8B\\u4F53\" : 'Arial', \", 'sans-serif'\");\n  }\n  var fontObject = FONT.find(function (item) {\n    return item.name === fontName;\n  }) || {};\n  var usuallyFontFamilyName = fontObject.usuallyFontFamilyName,\n    fontFamilyName = fontObject.fontFamilyName;\n  loadFont(fontObject, fontWeight);\n  var validFontName = fontFamilyName && isMac() ? fontFamilyName['mac'] : fontName;\n  return \"\".concat(validFontName, \", \").concat(lang === 'zh-cn' ? \"\\u5B8B\\u4F53\" : 'Arial', \", \").concat(usuallyFontFamilyName || 'sans-serif');\n};","map":{"version":3,"names":["Editor","Element","CODE_BLOCK","IMAGE","DEFAULT_FONT","GOOGLE_FONT_CLASS","FONT","SDOC_FONT_SIZE","HEADERS","TITLE","SUBTITLE","CODE_LINE","TEXT_STYLE_MAP","focusEditor","getParentNode","context","isMac","isMenuDisabled","editor","readonly","selection","_Editor$nodes","nodes","match","node","isEditor","isElement","isBlock","universal","mode","_Editor$nodes2","_slicedToArray","elementType","type","getFontSize","marks","FONT_SIZE","DEFAULT","_Editor$nodes3","at","unhangRange","n","parentNode","children","id","concat","_toConsumableArray","includes","_Editor$nodes4","matched","setFontSize","value","addMark","scaleFontSize","isDisabled","fontSize","fontSizeValue","getFont","_Editor$nodes5","_Editor$nodes6","setFont","hasFontLoaded","fontObject","arguments","length","undefined","fontWeight","name","isSystemOwn","nameString","split","join","fontLinkId","document","getElementById","loadFont","_fontObject$supportFo","supportFontWeight","validFontWeight","href","fontLink","createElement","rel","className","body","appendChild","generatorFontFamily","fontName","lang","getSetting","find","item","usuallyFontFamilyName","fontFamilyName","validFontName"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/font/helpers.js"],"sourcesContent":["import { Editor, Element } from '@seafile/slate';\nimport { CODE_BLOCK, IMAGE, DEFAULT_FONT, GOOGLE_FONT_CLASS, FONT, SDOC_FONT_SIZE, HEADERS, TITLE, SUBTITLE, CODE_LINE, TEXT_STYLE_MAP } from '../../constants';\nimport { focusEditor, getParentNode } from '../../core';\nimport context from '../../../../context';\nimport { isMac } from '../../../../utils';\nexport const isMenuDisabled = (editor, readonly) => {\n  if (readonly) return true;\n  if (!editor.selection) return true;\n  const [match] = Editor.nodes(editor, {\n    match: node => {\n      return !Editor.isEditor(node) && Element.isElement(node) && Editor.isBlock(editor, node);\n    },\n    universal: true,\n    mode: 'highest'\n  });\n  const elementType = match[0].type;\n  if (elementType === CODE_BLOCK || elementType === IMAGE) {\n    return true;\n  }\n  return false;\n};\n\n// font size\nexport const getFontSize = editor => {\n  const {\n    selection\n  } = editor;\n  const marks = Editor.marks(editor);\n  if (marks && marks[TEXT_STYLE_MAP.FONT_SIZE]) {\n    return marks[TEXT_STYLE_MAP.FONT_SIZE];\n  }\n  if (!selection) return SDOC_FONT_SIZE.DEFAULT;\n  const [match] = Editor.nodes(editor, {\n    at: Editor.unhangRange(editor, selection),\n    match: n => {\n      if (!Editor.isEditor(n) && !Element.isElement(n)) {\n        if (n[TEXT_STYLE_MAP.FONT_SIZE]) return true;\n        const parentNode = getParentNode(editor.children, n.id);\n        if (!parentNode) return false;\n        if ([TITLE, SUBTITLE, ...HEADERS, CODE_LINE].includes(parentNode.type)) {\n          return true;\n        }\n        return false;\n      }\n      return false;\n    }\n  });\n  if (!match) return SDOC_FONT_SIZE.DEFAULT;\n  // has font-size attribute\n  const matched = match[0];\n  if (matched[TEXT_STYLE_MAP.FONT_SIZE]) {\n    return matched[TEXT_STYLE_MAP.FONT_SIZE];\n  }\n  const parentNode = getParentNode(editor.children, matched.id);\n  return SDOC_FONT_SIZE[parentNode.type];\n};\nexport const setFontSize = (editor, value) => {\n  Editor.addMark(editor, TEXT_STYLE_MAP.FONT_SIZE, value);\n  focusEditor(editor);\n};\nexport const scaleFontSize = (editor, type) => {\n  const isDisabled = isMenuDisabled(editor);\n  if (isDisabled) return;\n  const fontSize = getFontSize(editor);\n  let fontSizeValue = fontSize;\n  if (type === 'increase') {\n    fontSizeValue = fontSizeValue + 1;\n  }\n  if (type === 'reduce') {\n    fontSizeValue = fontSizeValue - 1;\n    if (fontSizeValue < 1) return;\n  }\n  setFontSize(editor, fontSizeValue);\n};\n\n// font\nexport const getFont = editor => {\n  const {\n    selection\n  } = editor;\n  const marks = Editor.marks(editor);\n  if (marks && marks[TEXT_STYLE_MAP.FONT]) {\n    return marks[TEXT_STYLE_MAP.FONT];\n  }\n  if (!selection) return DEFAULT_FONT;\n  const [match] = Editor.nodes(editor, {\n    at: Editor.unhangRange(editor, selection),\n    match: n => !Editor.isEditor(n) && !Element.isElement(n) && n['font']\n  });\n  if (!match) return DEFAULT_FONT;\n  return match[0][TEXT_STYLE_MAP.FONT];\n};\nexport const setFont = (editor, value) => {\n  Editor.addMark(editor, TEXT_STYLE_MAP.FONT, value);\n  focusEditor(editor);\n};\nexport const hasFontLoaded = function () {\n  let fontObject = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let fontWeight = arguments.length > 1 ? arguments[1] : undefined;\n  const {\n    name,\n    isSystemOwn\n  } = fontObject;\n  if (isSystemOwn) return true;\n  if (!name) return true;\n  const nameString = name.split(' ').join('+');\n  const fontLinkId = \"sdoc-font-link-\".concat(nameString, \"-\").concat(fontWeight);\n  return document.getElementById(fontLinkId);\n};\nexport const loadFont = function () {\n  let fontObject = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  let fontWeight = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 400;\n  const {\n    name,\n    isSystemOwn,\n    supportFontWeight = []\n  } = fontObject;\n  if (isSystemOwn) return;\n  if (!name) return;\n  const validFontWeight = supportFontWeight.includes(fontWeight) ? fontWeight : supportFontWeight[0];\n  const nameString = name.split(' ').join('+');\n  const fontLinkId = \"sdoc-font-link-\".concat(nameString, \"-\").concat(validFontWeight);\n  if (document.getElementById(fontLinkId)) return;\n  const href = \"https://fonts.googleapis.com/css?family=\".concat(nameString, \":\").concat(validFontWeight);\n  const fontLink = document.createElement('link');\n  fontLink.rel = 'stylesheet';\n  fontLink.href = href;\n  fontLink.id = fontLinkId;\n  fontLink.className = GOOGLE_FONT_CLASS;\n  document.body.appendChild(fontLink);\n};\nexport const generatorFontFamily = (fontName, fontWeight) => {\n  const lang = context.getSetting('lang') || 'zh-cn';\n  if (fontName === DEFAULT_FONT) {\n    return \"'Arial', \".concat(lang === 'zh-cn' ? '\\u5b8b\\u4f53' : 'Arial', \", 'sans-serif'\");\n  }\n  const fontObject = FONT.find(item => item.name === fontName) || {};\n  const {\n    usuallyFontFamilyName,\n    fontFamilyName\n  } = fontObject;\n  loadFont(fontObject, fontWeight);\n  const validFontName = fontFamilyName && isMac() ? fontFamilyName['mac'] : fontName;\n  return \"\".concat(validFontName, \", \").concat(lang === 'zh-cn' ? '\\u5b8b\\u4f53' : 'Arial', \", \").concat(usuallyFontFamilyName || 'sans-serif');\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}