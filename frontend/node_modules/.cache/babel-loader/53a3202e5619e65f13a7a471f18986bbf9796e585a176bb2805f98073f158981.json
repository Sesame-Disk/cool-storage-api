{"ast":null,"code":"import React, { useCallback } from 'react';\nimport { Transforms } from '@seafile/slate';\nimport { CALLOUT_COLOR_MAP } from '../../constant';\nimport { findPath } from '../../../../core';\nimport { changeFillBackgroundColor } from '../../helper';\nimport './style.css';\nvar ColorSelector = function ColorSelector(_ref) {\n  var editor = _ref.editor,\n    element = _ref.element,\n    onCloseSelector = _ref.onCloseSelector;\n  var onColorClick = useCallback(function (event) {\n    event.stopPropagation();\n    var target = event.target;\n    while (!target.dataset || !target.dataset.backgroundColor) {\n      target = target.parentNode;\n    }\n    var backgroundColor = target.dataset.backgroundColor;\n    var currentPath = findPath(editor, element);\n    Transforms.select(editor, currentPath);\n    changeFillBackgroundColor(editor, backgroundColor);\n    onCloseSelector();\n  }, [editor, element, onCloseSelector]);\n  var isShowCheckedIcon = useCallback(function (currentBackgroundColor) {\n    var _ref3 = element.style || {},\n      background_color = _ref3.background_color;\n    return background_color && background_color === currentBackgroundColor;\n  }, [element.style]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-callout-color-selector-container\",\n    contentEditable: false\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"sdoc-color-selector-list\"\n  }, Object.values(CALLOUT_COLOR_MAP).map(function (_ref2, index) {\n    var border_color = _ref2.border_color,\n      background_color = _ref2.background_color;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: \"sdoc-callout-color-selector-\".concat(index),\n      className: \"sdoc-callout-color-item\",\n      \"data-border-color\": border_color,\n      \"data-background-color\": background_color,\n      style: {\n        borderColor: border_color,\n        backgroundColor: background_color\n      },\n      onClick: onColorClick\n    }, isShowCheckedIcon(background_color) && /*#__PURE__*/React.createElement(\"i\", {\n      className: \"sdoc-callout-color-checked-icon sdocfont sdoc-check-mark\"\n    }));\n  })));\n};\nexport default ColorSelector;","map":{"version":3,"names":["React","useCallback","Transforms","CALLOUT_COLOR_MAP","findPath","changeFillBackgroundColor","ColorSelector","_ref","editor","element","onCloseSelector","onColorClick","event","stopPropagation","target","dataset","backgroundColor","parentNode","currentPath","select","isShowCheckedIcon","currentBackgroundColor","_ref3","style","background_color","createElement","className","contentEditable","Object","values","map","_ref2","index","border_color","key","concat","borderColor","onClick"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/callout/render-elem/callout-color-selector/index.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { Transforms } from '@seafile/slate';\nimport { CALLOUT_COLOR_MAP } from '../../constant';\nimport { findPath } from '../../../../core';\nimport { changeFillBackgroundColor } from '../../helper';\nimport './style.css';\nconst ColorSelector = _ref => {\n  let {\n    editor,\n    element,\n    onCloseSelector\n  } = _ref;\n  const onColorClick = useCallback(event => {\n    event.stopPropagation();\n    let target = event.target;\n    while (!target.dataset || !target.dataset.backgroundColor) {\n      target = target.parentNode;\n    }\n    const {\n      backgroundColor\n    } = target.dataset;\n    const currentPath = findPath(editor, element);\n    Transforms.select(editor, currentPath);\n    changeFillBackgroundColor(editor, backgroundColor);\n    onCloseSelector();\n  }, [editor, element, onCloseSelector]);\n  const isShowCheckedIcon = useCallback(currentBackgroundColor => {\n    const {\n      background_color\n    } = element.style || {};\n    return background_color && background_color === currentBackgroundColor;\n  }, [element.style]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-callout-color-selector-container\",\n    contentEditable: false\n  }, /*#__PURE__*/React.createElement(\"ul\", {\n    className: \"sdoc-color-selector-list\"\n  }, Object.values(CALLOUT_COLOR_MAP).map((_ref2, index) => {\n    let {\n      border_color,\n      background_color\n    } = _ref2;\n    return /*#__PURE__*/React.createElement(\"li\", {\n      key: \"sdoc-callout-color-selector-\".concat(index),\n      className: \"sdoc-callout-color-item\",\n      \"data-border-color\": border_color,\n      \"data-background-color\": background_color,\n      style: {\n        borderColor: border_color,\n        backgroundColor: background_color\n      },\n      onClick: onColorClick\n    }, isShowCheckedIcon(background_color) && /*#__PURE__*/React.createElement(\"i\", {\n      className: \"sdoc-callout-color-checked-icon sdocfont sdoc-check-mark\"\n    }));\n  })));\n};\nexport default ColorSelector;"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,iBAAiB,QAAQ,gBAAgB;AAClD,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,yBAAyB,QAAQ,cAAc;AACxD,OAAO,aAAa;AACpB,IAAMC,aAAa,GAAG,SAAhBA,aAAaA,CAAGC,IAAI,EAAI;EAC5B,IACEC,MAAM,GAGJD,IAAI,CAHNC,MAAM;IACNC,OAAO,GAELF,IAAI,CAFNE,OAAO;IACPC,eAAe,GACbH,IAAI,CADNG,eAAe;EAEjB,IAAMC,YAAY,GAAGV,WAAW,CAAC,UAAAW,KAAK,EAAI;IACxCA,KAAK,CAACC,eAAe,CAAC,CAAC;IACvB,IAAIC,MAAM,GAAGF,KAAK,CAACE,MAAM;IACzB,OAAO,CAACA,MAAM,CAACC,OAAO,IAAI,CAACD,MAAM,CAACC,OAAO,CAACC,eAAe,EAAE;MACzDF,MAAM,GAAGA,MAAM,CAACG,UAAU;IAC5B;IACA,IACED,eAAe,GACbF,MAAM,CAACC,OAAO,CADhBC,eAAe;IAEjB,IAAME,WAAW,GAAGd,QAAQ,CAACI,MAAM,EAAEC,OAAO,CAAC;IAC7CP,UAAU,CAACiB,MAAM,CAACX,MAAM,EAAEU,WAAW,CAAC;IACtCb,yBAAyB,CAACG,MAAM,EAAEQ,eAAe,CAAC;IAClDN,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,CAACF,MAAM,EAAEC,OAAO,EAAEC,eAAe,CAAC,CAAC;EACtC,IAAMU,iBAAiB,GAAGnB,WAAW,CAAC,UAAAoB,sBAAsB,EAAI;IAC9D,IAAAC,KAAA,GAEIb,OAAO,CAACc,KAAK,IAAI,CAAC,CAAC;MADrBC,gBAAgB,GAAAF,KAAA,CAAhBE,gBAAgB;IAElB,OAAOA,gBAAgB,IAAIA,gBAAgB,KAAKH,sBAAsB;EACxE,CAAC,EAAE,CAACZ,OAAO,CAACc,KAAK,CAAC,CAAC;EACnB,OAAO,aAAavB,KAAK,CAACyB,aAAa,CAAC,KAAK,EAAE;IAC7CC,SAAS,EAAE,uCAAuC;IAClDC,eAAe,EAAE;EACnB,CAAC,EAAE,aAAa3B,KAAK,CAACyB,aAAa,CAAC,IAAI,EAAE;IACxCC,SAAS,EAAE;EACb,CAAC,EAAEE,MAAM,CAACC,MAAM,CAAC1B,iBAAiB,CAAC,CAAC2B,GAAG,CAAC,UAACC,KAAK,EAAEC,KAAK,EAAK;IACxD,IACEC,YAAY,GAEVF,KAAK,CAFPE,YAAY;MACZT,gBAAgB,GACdO,KAAK,CADPP,gBAAgB;IAElB,OAAO,aAAaxB,KAAK,CAACyB,aAAa,CAAC,IAAI,EAAE;MAC5CS,GAAG,EAAE,8BAA8B,CAACC,MAAM,CAACH,KAAK,CAAC;MACjDN,SAAS,EAAE,yBAAyB;MACpC,mBAAmB,EAAEO,YAAY;MACjC,uBAAuB,EAAET,gBAAgB;MACzCD,KAAK,EAAE;QACLa,WAAW,EAAEH,YAAY;QACzBjB,eAAe,EAAEQ;MACnB,CAAC;MACDa,OAAO,EAAE1B;IACX,CAAC,EAAES,iBAAiB,CAACI,gBAAgB,CAAC,IAAI,aAAaxB,KAAK,CAACyB,aAAa,CAAC,GAAG,EAAE;MAC9EC,SAAS,EAAE;IACb,CAAC,CAAC,CAAC;EACL,CAAC,CAAC,CAAC,CAAC;AACN,CAAC;AACD,eAAepB,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}