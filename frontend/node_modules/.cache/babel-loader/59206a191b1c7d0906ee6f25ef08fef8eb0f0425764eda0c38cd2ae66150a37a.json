{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Link}from'@gatsbyjs/reach-router';import moment from'moment';import{Dropdown,DropdownToggle,DropdownItem,Button}from'reactstrap';import{seafileAPI}from'../../utils/seafile-api';import{Utils}from'../../utils/utils';import{isPro,gettext,siteRoot,canGenerateUploadLink}from'../../utils/constants';import ShareLink from'../../models/share-link';import Loading from'../../components/loading';import toaster from'../../components/toast';import EmptyTip from'../../components/empty-tip';import ShareLinkPermissionSelect from'../../components/dialog/share-link-permission-select';import ShareAdminLinkEnhanced from'../../services/share-admin-link-enhanced';import SortOptionsDialog from'../../components/dialog/sort-options';import CommonOperationConfirmationDialog from'../../components/dialog/common-operation-confirmation-dialog';import TopToolbar from'../../components/toolbar/top-toolbar';import Selector from'../../components/single-selector';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.toggleItemFreezed=function(isFreezed){_this.setState({isItemFreezed:isFreezed});};_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.sortByTime=function(e){e.preventDefault();var sortBy='time';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};_this.state={isItemFreezed:false};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,sortBy=_this$props.sortBy,sortOrder=_this$props.sortOrder;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsxs(EmptyTip,{children:[/*#__PURE__*/_jsx(\"h2\",{children:gettext('No share links')}),/*#__PURE__*/_jsx(\"p\",{children:gettext('You have not created any share links yet. A share link can be used to share files and folders with anyone. You can create a share link for a file or folder by clicking the share icon to the right of its name.')})]});// sort\nvar sortByName=sortBy=='name';var sortByTime=sortBy=='time';var sortIcon=sortOrder=='asc'?/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-up\"}):/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-down\"});var isDesktop=Utils.isDesktop();// only for some columns\nvar columnWidths=isPro?['14%','7%','14%']:['21%','14%','20%'];var table=/*#__PURE__*/_jsxs(\"table\",{className:\"\".concat(isDesktop?'':'table-thead-hidden'),children:[/*#__PURE__*/_jsx(\"thead\",{children:isDesktop?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"4%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"31%\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:this.sortByName,children:[gettext('Name'),\" \",sortByName&&sortIcon]})}),/*#__PURE__*/_jsx(\"th\",{width:columnWidths[0],children:gettext('Library')}),isPro&&/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Permission')}),/*#__PURE__*/_jsx(\"th\",{width:columnWidths[1],children:gettext('Visits')}),/*#__PURE__*/_jsx(\"th\",{width:columnWidths[2],children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:this.sortByTime,children:[gettext('Expiration'),\" \",sortByTime&&sortIcon]})}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\"})]}):/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"12%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"80%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"8%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{isDesktop:isDesktop,item:item,onRemoveLink:_this2.props.onRemoveLink,isItemFreezed:_this2.state.isItemFreezed,toggleItemFreezed:_this2.toggleItemFreezed},index);})})]});return items.length?/*#__PURE__*/_jsxs(_Fragment,{children:[table,this.props.isLoadingMore&&/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(Loading,{})})]}):emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super2.call(this,props);_this3.updatePermissionOptions=function(){var item=_this3.props.item;var itemType=item.is_dir?item.path==='/'?'library':'dir':'file';var permission=item.repo_folder_permission;var permissionOptions=Utils.getShareLinkPermissionList(itemType,permission,item.path,item.can_edit);var currentPermission=Utils.getShareLinkPermissionStr(_this3.props.item.permissions);_this3.setState({permissionOptions:permissionOptions,currentPermission:currentPermission});};_this3.toggleOpMenu=function(){_this3.setState({isOpMenuOpen:!_this3.state.isOpMenuOpen});};_this3.togglePermSelectDialog=function(){_this3.setState({isPermSelectDialogOpen:!_this3.state.isPermSelectDialogOpen});};_this3.toggleLinkDialog=function(){_this3.setState({isLinkDialogOpen:!_this3.state.isLinkDialogOpen});};_this3.handleMouseEnter=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:true,highlight:true});}};_this3.handleMouseLeave=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:false,highlight:false});}};_this3.viewLink=function(e){e.preventDefault();_this3.toggleLinkDialog();};_this3.removeLink=function(e){e.preventDefault();_this3.props.onRemoveLink(_this3.props.item);};_this3.renderExpiration=function(){var item=_this3.props.item;if(!item.expire_date){return'--';}var expire_date=moment(item.expire_date).format('YYYY-MM-DD');var expire_time=moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');return/*#__PURE__*/_jsx(\"span\",{className:item.is_expired?'error':'',title:expire_time,children:expire_date});};// for 'selector' in desktop\n_this3.changePermission=function(permOption){_this3.changePerm(permOption.value);};_this3.changePerm=function(permission){var item=_this3.props.item;var permissionDetails=Utils.getShareLinkPermissionObject(permission).permissionDetails;seafileAPI.updateShareLink(item.token,JSON.stringify(permissionDetails)).then(function(){_this3.setState({currentPermission:permission});var message=gettext('Successfully modified permission.');toaster.success(message);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.state={highlight:false,isOpIconShown:false,isOpMenuOpen:false,// for mobile\nisPermSelectDialogOpen:false,// for mobile\nisLinkDialogOpen:false,permissionOptions:[],currentPermission:''};return _this3;}_createClass(Item,[{key:\"componentDidMount\",value:function componentDidMount(){if(isPro){this.updatePermissionOptions();}}},{key:\"render\",value:function render(){var item=this.props.item;var _this$state=this.state,currentPermission=_this$state.currentPermission,permissionOptions=_this$state.permissionOptions,isOpIconShown=_this$state.isOpIconShown,isPermSelectDialogOpen=_this$state.isPermSelectDialogOpen,isLinkDialogOpen=_this$state.isLinkDialogOpen;this.permOptions=permissionOptions.map(function(item){return{value:item,text:Utils.getShareLinkPermissionObject(item).text,isSelected:item==currentPermission};});var currentSelectedPermOption=this.permOptions.filter(function(item){return item.isSelected;})[0]||{};var iconUrl,objUrl;if(item.is_dir){var path=item.path==='/'?'/':item.path.slice(0,item.path.length-1);iconUrl=Utils.getFolderIconUrl(false);objUrl=\"\".concat(siteRoot,\"library/\").concat(item.repo_id,\"/\").concat(encodeURIComponent(item.repo_name)).concat(Utils.encodePath(path));}else{iconUrl=Utils.getFileIconUrl(item.obj_name);objUrl=\"\".concat(siteRoot,\"lib/\").concat(item.repo_id,\"/file\").concat(Utils.encodePath(item.path));}var deletedTip=item.obj_id===''?/*#__PURE__*/_jsx(\"span\",{style:{color:'red'},children:gettext('(deleted)')}):null;var desktopItem=/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,onFocus:this.handleMouseEnter,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,width:\"24\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[item.is_dir?/*#__PURE__*/_jsx(Link,{to:objUrl,children:item.obj_name}):/*#__PURE__*/_jsx(\"a\",{href:objUrl,target:\"_blank\",rel:\"noreferrer\",children:item.obj_name}),deletedTip]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(siteRoot,\"library/\").concat(item.repo_id,\"/\").concat(encodeURIComponent(item.repo_name),\"/\"),children:item.repo_name})}),isPro&&/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Selector,{isDropdownToggleShown:isOpIconShown&&!item.is_expired,currentSelectedOption:currentSelectedPermOption,options:this.permOptions,selectOption:this.changePermission,toggleItemFreezed:this.props.toggleItemFreezed})}),/*#__PURE__*/_jsx(\"td\",{children:item.view_cnt}),/*#__PURE__*/_jsx(\"td\",{children:this.renderExpiration()}),/*#__PURE__*/_jsxs(\"td\",{children:[!item.is_expired&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"sf2-icon-link action-icon \".concat(isOpIconShown?'':'invisible'),title:gettext('View'),\"aria-label\":gettext('View'),role:\"button\",onClick:this.viewLink}),/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"sf2-icon-delete action-icon \".concat(isOpIconShown?'':'invisible'),title:gettext('Remove'),\"aria-label\":gettext('Remove'),role:\"button\",onClick:this.removeLink})]})]});var mobileItem=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,alt:\"\",width:\"24\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[item.is_dir?/*#__PURE__*/_jsx(Link,{to:objUrl,children:item.obj_name}):/*#__PURE__*/_jsx(\"a\",{href:objUrl,target:\"_blank\",rel:\"noreferrer\",children:item.obj_name}),isPro&&/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info-highlighted\",children:Utils.getShareLinkPermissionObject(currentPermission).text}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{children:item.repo_name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-meta-info\",children:[gettext('Visits'),\": \",item.view_cnt]}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-meta-info\",children:[gettext('Expiration'),\": \",this.renderExpiration()]})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isOpMenuOpen,toggle:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"i\",className:\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\",title:gettext('More operations'),\"aria-label\":gettext('More operations'),\"data-toggle\":\"dropdown\",\"aria-expanded\":this.state.isOpMenuOpen}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.isOpMenuOpen?'':'d-none',onClick:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mobile-operation-menu-bg-layer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-operation-menu\",children:[isPro&&!item.is_expired&&/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.togglePermSelectDialog,children:gettext('Permission')}),!item.is_expired&&/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.viewLink,children:gettext('View')}),/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.removeLink,children:gettext('Remove')})]})]})]})})]}),isPermSelectDialogOpen&&/*#__PURE__*/_jsx(ShareLinkPermissionSelect,{currentPerm:currentPermission,permissions:permissionOptions,changePerm:this.changePerm,toggleDialog:this.togglePermSelectDialog})]});return/*#__PURE__*/_jsxs(Fragment,{children:[this.props.isDesktop?desktopItem:mobileItem,isLinkDialogOpen&&/*#__PURE__*/_jsx(ShareAdminLinkEnhanced,{link:item.link,password:item.password,viewCount:item.view_cnt,isShareLink:true,toggleDialog:this.toggleLinkDialog})]});}}]);return Item;}(Component);var PER_PAGE=25;var ShareAdminShareLinks=/*#__PURE__*/function(_Component3){_inherits(ShareAdminShareLinks,_Component3);var _super3=_createSuper(ShareAdminShareLinks);function ShareAdminShareLinks(props){var _this4;_classCallCheck(this,ShareAdminShareLinks);_this4=_super3.call(this,props);_this4._sortItems=function(items,sortBy,sortOrder){var comparator;switch(\"\".concat(sortBy,\"-\").concat(sortOrder)){case'name-asc':comparator=function comparator(a,b){var result=Utils.compareTwoWord(a.obj_name,b.obj_name);return result;};break;case'name-desc':comparator=function comparator(a,b){var result=Utils.compareTwoWord(a.obj_name,b.obj_name);return-result;};break;case'time-asc':comparator=function comparator(a,b){return a.expire_date<b.expire_date?-1:1;};break;case'time-desc':comparator=function comparator(a,b){return a.expire_date<b.expire_date?1:-1;};break;// no default\n}items.sort(function(a,b){if(a.is_dir&&!b.is_dir){return-1;}else if(!a.is_dir&&b.is_dir){return 1;}else{return comparator(a,b);}});return items;};_this4.sortItems=function(sortBy,sortOrder){_this4.setState({sortBy:sortBy,sortOrder:sortOrder,items:_this4._sortItems(_this4.state.items,sortBy,sortOrder)});};_this4.handleScroll=function(event){if(!_this4.state.isLoadingMore&&_this4.state.hasMore){var clientHeight=event.target.clientHeight;var scrollHeight=event.target.scrollHeight;var scrollTop=event.target.scrollTop;var isBottom=clientHeight+scrollTop+1>=scrollHeight;if(isBottom){// scroll to the bottom\n_this4.setState({isLoadingMore:true},function(){_this4.getMore();});}}};_this4.getMore=function(){var page=_this4.state.page;seafileAPI.listShareLinks({page:page+1}).then(function(res){var moreItems=res.data.map(function(item){return new ShareLink(item);});_this4.setState({isLoadingMore:false,hasMore:res.data.length==PER_PAGE,page:page+1,items:_this4._sortItems(_this4.state.items.concat(moreItems),_this4.state.sortBy,_this4.state.sortOrder)});}).catch(function(error){_this4.setState({isLoadingMore:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this4.onRemoveLink=function(item){seafileAPI.deleteShareLink(item.token).then(function(){var items=_this4.state.items.filter(function(uploadItem){return uploadItem.token!==item.token;});_this4.setState({items:items});var message=gettext('Successfully deleted 1 item.');toaster.success(message);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.toggleSortOptionsDialog=function(){_this4.setState({isSortOptionsDialogOpen:!_this4.state.isSortOptionsDialogOpen});};_this4.toggleCleanInvalidShareLinksDialog=function(){_this4.setState({isCleanInvalidShareLinksDialogOpen:!_this4.state.isCleanInvalidShareLinksDialogOpen});};_this4.cleanInvalidShareLinks=function(){seafileAPI.cleanInvalidShareLinks().then(function(res){var newItems=_this4.state.items.filter(function(item){return item.obj_id!=='';}).filter(function(item){return!item.is_expired;});_this4.setState({items:newItems});toaster.success(gettext('Successfully cleaned invalid share links.'));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.state={isCleanInvalidShareLinksDialogOpen:false,loading:true,hasMore:false,isLoadingMore:false,page:1,errorMsg:'',items:[],sortBy:'name',// 'name' or 'time'\nsortOrder:'asc'// 'asc' or 'desc'\n};// for mobile\n_this4.sortOptions=[{value:'name-asc',text:gettext('By name ascending')},{value:'name-desc',text:gettext('By name descending')},{value:'time-asc',text:gettext('By expiration ascending')},{value:'time-desc',text:gettext('By expiration descending')}];return _this4;}_createClass(ShareAdminShareLinks,[{key:\"componentDidMount\",value:function componentDidMount(){this.listUserShareLinks();}},{key:\"listUserShareLinks\",value:function listUserShareLinks(){var _this5=this;var page=this.state.page;seafileAPI.listShareLinks({page:page}).then(function(res){var items=res.data.map(function(item){return new ShareLink(item);});_this5.setState({loading:false,hasMore:res.data.length==PER_PAGE,items:_this5._sortItems(items,_this5.state.sortBy,_this5.state.sortOrder)});}).catch(function(error){_this5.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(TopToolbar,{onShowSidePanel:this.props.onShowSidePanel,onSearchedClick:this.props.onSearchedClick,children:/*#__PURE__*/_jsx(Button,{className:\"operation-item d-none d-md-block\",onClick:this.toggleCleanInvalidShareLinksDialog,children:gettext('Clean invalid share links')})}),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-path share-upload-nav\",children:[/*#__PURE__*/_jsxs(\"ul\",{className:\"nav\",children:[/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(siteRoot,\"share-admin-share-links/\"),className:\"nav-link active\",children:gettext('Share Links')})}),canGenerateUploadLink&&/*#__PURE__*/_jsx(\"li\",{className:\"nav-item\",children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(siteRoot,\"share-admin-upload-links/\"),className:\"nav-link\",children:gettext('Upload Links')})})]}),!Utils.isDesktop()&&this.state.items.length>0&&/*#__PURE__*/_jsx(\"span\",{className:\"sf3-font sf3-font-sort action-icon\",onClick:this.toggleSortOptionsDialog})]}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",onScroll:this.handleScroll,children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,isLoadingMore:this.state.isLoadingMore,errorMsg:this.state.errorMsg,items:this.state.items,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems,onRemoveLink:this.onRemoveLink})})]})}),this.state.isSortOptionsDialogOpen&&/*#__PURE__*/_jsx(SortOptionsDialog,{toggleDialog:this.toggleSortOptionsDialog,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortOptions:this.sortOptions,sortItems:this.sortItems}),this.state.isCleanInvalidShareLinksDialogOpen&&/*#__PURE__*/_jsx(CommonOperationConfirmationDialog,{title:gettext('Clean invalid share links'),message:gettext('Are you sure you want to clean invalid share links?'),executeOperation:this.cleanInvalidShareLinks,confirmBtnText:gettext('Clean'),toggleDialog:this.toggleCleanInvalidShareLinksDialog})]});}}]);return ShareAdminShareLinks;}(Component);export default ShareAdminShareLinks;","map":{"version":3,"names":["React","Component","Fragment","Link","moment","Dropdown","DropdownToggle","DropdownItem","Button","seafileAPI","Utils","isPro","gettext","siteRoot","canGenerateUploadLink","ShareLink","Loading","toaster","EmptyTip","ShareLinkPermissionSelect","ShareAdminLinkEnhanced","SortOptionsDialog","CommonOperationConfirmationDialog","TopToolbar","Selector","jsx","_jsx","jsxs","_jsxs","_Fragment","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","toggleItemFreezed","isFreezed","setState","isItemFreezed","sortByName","e","preventDefault","sortBy","sortOrder","sortItems","sortByTime","state","_createClass","key","value","render","_this2","_this$props","loading","errorMsg","items","className","children","emptyTip","sortIcon","isDesktop","columnWidths","table","concat","width","href","onClick","map","item","index","Item","onRemoveLink","length","isLoadingMore","_Component2","_super2","_this3","updatePermissionOptions","itemType","is_dir","path","permission","repo_folder_permission","permissionOptions","getShareLinkPermissionList","can_edit","currentPermission","getShareLinkPermissionStr","permissions","toggleOpMenu","isOpMenuOpen","togglePermSelectDialog","isPermSelectDialogOpen","toggleLinkDialog","isLinkDialogOpen","handleMouseEnter","isOpIconShown","highlight","handleMouseLeave","viewLink","removeLink","renderExpiration","expire_date","format","expire_time","is_expired","title","changePermission","permOption","changePerm","permissionDetails","getShareLinkPermissionObject","updateShareLink","token","JSON","stringify","then","message","success","catch","error","errMessage","getErrorMsg","danger","componentDidMount","_this$state","permOptions","text","isSelected","currentSelectedPermOption","filter","iconUrl","objUrl","slice","getFolderIconUrl","repo_id","encodeURIComponent","repo_name","encodePath","getFileIconUrl","obj_name","deletedTip","obj_id","style","color","desktopItem","onMouseEnter","onMouseLeave","onFocus","src","alt","to","target","rel","isDropdownToggleShown","currentSelectedOption","options","selectOption","view_cnt","role","mobileItem","isOpen","toggle","tag","currentPerm","toggleDialog","link","password","viewCount","isShareLink","PER_PAGE","ShareAdminShareLinks","_Component3","_super3","_this4","_sortItems","comparator","a","b","result","compareTwoWord","sort","handleScroll","event","hasMore","clientHeight","scrollHeight","scrollTop","isBottom","getMore","page","listShareLinks","res","moreItems","data","deleteShareLink","uploadItem","toggleSortOptionsDialog","isSortOptionsDialogOpen","toggleCleanInvalidShareLinksDialog","isCleanInvalidShareLinksDialogOpen","cleanInvalidShareLinks","newItems","sortOptions","listUserShareLinks","_this5","onShowSidePanel","onSearchedClick","onScroll","executeOperation","confirmBtnText"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/share-admin/share-links.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { Dropdown, DropdownToggle, DropdownItem, Button } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport { isPro, gettext, siteRoot, canGenerateUploadLink } from '../../utils/constants';\nimport ShareLink from '../../models/share-link';\nimport Loading from '../../components/loading';\nimport toaster from '../../components/toast';\nimport EmptyTip from '../../components/empty-tip';\nimport ShareLinkPermissionSelect from '../../components/dialog/share-link-permission-select';\nimport ShareAdminLinkEnhanced from '../../services/share-admin-link-enhanced';\nimport SortOptionsDialog from '../../components/dialog/sort-options';\nimport CommonOperationConfirmationDialog from '../../components/dialog/common-operation-confirmation-dialog';\nimport TopToolbar from '../../components/toolbar/top-toolbar';\nimport Selector from '../../components/single-selector';\n\nconst contentPropTypes = {\n  loading: PropTypes.bool.isRequired,\n  isLoadingMore: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  onRemoveLink: PropTypes.func.isRequired\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  toggleItemFreezed = (isFreezed) => {\n    this.setState({ isItemFreezed: isFreezed });\n  };\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  };\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    const sortBy = 'time';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  };\n\n  render() {\n    const { loading, errorMsg, items, sortBy, sortOrder } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No share links')}</h2>\n          <p>{gettext('You have not created any share links yet. A share link can be used to share files and folders with anyone. You can create a share link for a file or folder by clicking the share icon to the right of its name.')}</p>\n        </EmptyTip>\n      );\n\n      // sort\n      const sortByName = sortBy == 'name';\n      const sortByTime = sortBy == 'time';\n      const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n      const isDesktop = Utils.isDesktop();\n      // only for some columns\n      const columnWidths = isPro ? ['14%', '7%', '14%'] : ['21%', '14%', '20%'];\n      const table = (\n        <table className={`${isDesktop ? '' : 'table-thead-hidden'}`}>\n          <thead>\n            {isDesktop ? (\n              <tr>\n                <th width=\"4%\">{/*icon*/}</th>\n                <th width=\"31%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n                <th width={columnWidths[0]}>{gettext('Library')}</th>\n                {isPro && <th width=\"20%\">{gettext('Permission')}</th>}\n                <th width={columnWidths[1]}>{gettext('Visits')}</th>\n                <th width={columnWidths[2]}><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Expiration')} {sortByTime && sortIcon}</a></th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            ) : (\n              <tr>\n                <th width=\"12%\"></th>\n                <th width=\"80%\"></th>\n                <th width=\"8%\"></th>\n              </tr>\n            )}\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (<Item\n                key={index}\n                isDesktop={isDesktop}\n                item={item}\n                onRemoveLink={this.props.onRemoveLink}\n                isItemFreezed={this.state.isItemFreezed}\n                toggleItemFreezed={this.toggleItemFreezed}\n              />\n              );\n            })}\n          </tbody>\n        </table>\n      );\n\n      return items.length ? (\n        <>\n          {table}\n          {this.props.isLoadingMore && <div className=\"flex-shrink-0\"><Loading /></div>}\n        </>\n      ) : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = contentPropTypes;\n\nconst itemPropTypes = {\n  item: PropTypes.object.isRequired,\n  isDesktop: PropTypes.bool.isRequired,\n  onRemoveLink: PropTypes.func.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      highlight: false,\n      isOpIconShown: false,\n      isOpMenuOpen: false, // for mobile\n      isPermSelectDialogOpen: false, // for mobile\n      isLinkDialogOpen: false,\n      permissionOptions: [],\n      currentPermission: '',\n    };\n  }\n\n  componentDidMount() {\n    if (isPro) {\n      this.updatePermissionOptions();\n    }\n  }\n\n  updatePermissionOptions = () => {\n    const item = this.props.item;\n    let itemType = item.is_dir ? (item.path === '/' ? 'library' : 'dir') : 'file';\n    let permission = item.repo_folder_permission;\n    let permissionOptions = Utils.getShareLinkPermissionList(itemType, permission, item.path, item.can_edit);\n    let currentPermission = Utils.getShareLinkPermissionStr(this.props.item.permissions);\n    this.setState({\n      permissionOptions: permissionOptions,\n      currentPermission: currentPermission\n    });\n  };\n\n  toggleOpMenu = () => {\n    this.setState({\n      isOpMenuOpen: !this.state.isOpMenuOpen\n    });\n  };\n\n  togglePermSelectDialog = () => {\n    this.setState({\n      isPermSelectDialogOpen: !this.state.isPermSelectDialogOpen\n    });\n  };\n\n  toggleLinkDialog = () => {\n    this.setState({\n      isLinkDialogOpen: !this.state.isLinkDialogOpen\n    });\n  };\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  viewLink = (e) => {\n    e.preventDefault();\n    this.toggleLinkDialog();\n  };\n\n  removeLink = (e) => {\n    e.preventDefault();\n    this.props.onRemoveLink(this.props.item);\n  };\n\n  renderExpiration = () => {\n    const item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  };\n\n  // for 'selector' in desktop\n  changePermission = (permOption) => {\n    this.changePerm(permOption.value);\n  };\n\n  changePerm = (permission) => {\n    const item = this.props.item;\n    const permissionDetails = Utils.getShareLinkPermissionObject(permission).permissionDetails;\n    seafileAPI.updateShareLink(item.token, JSON.stringify(permissionDetails)).then(() => {\n      this.setState({\n        currentPermission: permission\n      });\n      let message = gettext('Successfully modified permission.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const item = this.props.item;\n    const { currentPermission, permissionOptions, isOpIconShown, isPermSelectDialogOpen, isLinkDialogOpen } = this.state;\n    this.permOptions = permissionOptions.map(item => {\n      return {\n        value: item,\n        text: Utils.getShareLinkPermissionObject(item).text,\n        isSelected: item == currentPermission\n      };\n    });\n    const currentSelectedPermOption = this.permOptions.filter(item => item.isSelected)[0] || {};\n\n    let iconUrl, objUrl;\n    if (item.is_dir) {\n      let path = item.path === '/' ? '/' : item.path.slice(0, item.path.length - 1);\n      iconUrl = Utils.getFolderIconUrl(false);\n      objUrl = `${siteRoot}library/${item.repo_id}/${encodeURIComponent(item.repo_name)}${Utils.encodePath(path)}`;\n    } else {\n      iconUrl = Utils.getFileIconUrl(item.obj_name);\n      objUrl = `${siteRoot}lib/${item.repo_id}/file${Utils.encodePath(item.path)}`;\n    }\n\n    const deletedTip = item.obj_id === '' ? <span style={{ color: 'red' }}>{gettext('(deleted)')}</span> : null;\n    const desktopItem = (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave} onFocus={this.handleMouseEnter}>\n        <td><img src={iconUrl} width=\"24\" alt=\"\" /></td>\n        <td>\n          {item.is_dir ?\n            <Link to={objUrl}>{item.obj_name}</Link> :\n            <a href={objUrl} target=\"_blank\" rel=\"noreferrer\">{item.obj_name}</a>\n          }\n          {deletedTip}\n        </td>\n        <td><Link to={`${siteRoot}library/${item.repo_id}/${encodeURIComponent(item.repo_name)}/`}>{item.repo_name}</Link></td>\n        {isPro &&\n          <td>\n            <Selector\n              isDropdownToggleShown={isOpIconShown && !item.is_expired}\n              currentSelectedOption={currentSelectedPermOption}\n              options={this.permOptions}\n              selectOption={this.changePermission}\n              toggleItemFreezed={this.props.toggleItemFreezed}\n            />\n          </td>\n        }\n        <td>{item.view_cnt}</td>\n        <td>{this.renderExpiration()}</td>\n        <td>\n          {!item.is_expired && <a href=\"#\" className={`sf2-icon-link action-icon ${isOpIconShown ? '' : 'invisible'}`} title={gettext('View')} aria-label={gettext('View')} role=\"button\" onClick={this.viewLink}></a>}\n          <a href=\"#\" className={`sf2-icon-delete action-icon ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Remove')} aria-label={gettext('Remove')} role=\"button\" onClick={this.removeLink}></a>\n        </td>\n      </tr>\n    );\n\n    const mobileItem = (\n      <Fragment>\n        <tr>\n          <td><img src={iconUrl} alt=\"\" width=\"24\" /></td>\n          <td>\n            {item.is_dir ?\n              <Link to={objUrl}>{item.obj_name}</Link> :\n              <a href={objUrl} target=\"_blank\" rel=\"noreferrer\">{item.obj_name}</a>\n            }\n            {isPro && <span className=\"item-meta-info-highlighted\">{Utils.getShareLinkPermissionObject(currentPermission).text}</span>}\n            <br />\n            <span>{item.repo_name}</span><br />\n            <span className=\"item-meta-info\">{gettext('Visits')}: {item.view_cnt}</span>\n            <span className=\"item-meta-info\">{gettext('Expiration')}: {this.renderExpiration()}</span>\n          </td>\n          <td>\n            <Dropdown isOpen={this.state.isOpMenuOpen} toggle={this.toggleOpMenu}>\n              <DropdownToggle\n                tag=\"i\"\n                className=\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\"\n                title={gettext('More operations')}\n                aria-label={gettext('More operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isOpMenuOpen}\n              />\n              <div className={this.state.isOpMenuOpen ? '' : 'd-none'} onClick={this.toggleOpMenu}>\n                <div className=\"mobile-operation-menu-bg-layer\"></div>\n                <div className=\"mobile-operation-menu\">\n                  {(isPro && !item.is_expired) && <DropdownItem className=\"mobile-menu-item\" onClick={this.togglePermSelectDialog}>{gettext('Permission')}</DropdownItem>}\n                  {!item.is_expired && <DropdownItem className=\"mobile-menu-item\" onClick={this.viewLink}>{gettext('View')}</DropdownItem>}\n                  <DropdownItem className=\"mobile-menu-item\" onClick={this.removeLink}>{gettext('Remove')}</DropdownItem>\n                </div>\n              </div>\n            </Dropdown>\n          </td>\n        </tr>\n        {isPermSelectDialogOpen &&\n          <ShareLinkPermissionSelect\n            currentPerm={currentPermission}\n            permissions={permissionOptions}\n            changePerm={this.changePerm}\n            toggleDialog={this.togglePermSelectDialog}\n          />\n        }\n      </Fragment>\n    );\n\n    return (\n      <Fragment>\n        {this.props.isDesktop ? desktopItem : mobileItem}\n        {isLinkDialogOpen &&\n          <ShareAdminLinkEnhanced\n            link={item.link}\n            password={item.password}\n            viewCount={item.view_cnt}\n            isShareLink={true}\n            toggleDialog={this.toggleLinkDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = itemPropTypes;\n\nconst propTypes = {\n  onShowSidePanel: PropTypes.func.isRequired,\n  onSearchedClick: PropTypes.func.isRequired\n};\n\nconst PER_PAGE = 25;\n\nclass ShareAdminShareLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isCleanInvalidShareLinksDialogOpen: false,\n      loading: true,\n      hasMore: false,\n      isLoadingMore: false,\n      page: 1,\n      errorMsg: '',\n      items: [],\n      sortBy: 'name', // 'name' or 'time'\n      sortOrder: 'asc' // 'asc' or 'desc'\n    };\n\n    // for mobile\n    this.sortOptions = [\n      { value: 'name-asc', text: gettext('By name ascending') },\n      { value: 'name-desc', text: gettext('By name descending') },\n      { value: 'time-asc', text: gettext('By expiration ascending') },\n      { value: 'time-desc', text: gettext('By expiration descending') }\n    ];\n  }\n\n  _sortItems = (items, sortBy, sortOrder) => {\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function (a, b) {\n          var result = Utils.compareTwoWord(a.obj_name, b.obj_name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function (a, b) {\n          var result = Utils.compareTwoWord(a.obj_name, b.obj_name);\n          return -result;\n        };\n        break;\n      case 'time-asc':\n        comparator = function (a, b) {\n          return a.expire_date < b.expire_date ? -1 : 1;\n        };\n        break;\n      case 'time-desc':\n        comparator = function (a, b) {\n          return a.expire_date < b.expire_date ? 1 : -1;\n        };\n        break;\n\n      // no default\n    }\n\n    items.sort((a, b) => {\n      if (a.is_dir && !b.is_dir) {\n        return -1;\n      } else if (!a.is_dir && b.is_dir) {\n        return 1;\n      } else {\n        return comparator(a, b);\n      }\n    });\n    return items;\n  };\n\n  sortItems = (sortBy, sortOrder) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: this._sortItems(this.state.items, sortBy, sortOrder)\n    });\n  };\n\n  componentDidMount() {\n    this.listUserShareLinks();\n  }\n\n  listUserShareLinks() {\n    const { page } = this.state;\n    seafileAPI.listShareLinks({ page }).then((res) => {\n      let items = res.data.map(item => {\n        return new ShareLink(item);\n      });\n      this.setState({\n        loading: false,\n        hasMore: res.data.length == PER_PAGE,\n        items: this._sortItems(items, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  handleScroll = (event) => {\n    if (!this.state.isLoadingMore && this.state.hasMore) {\n      const clientHeight = event.target.clientHeight;\n      const scrollHeight = event.target.scrollHeight;\n      const scrollTop = event.target.scrollTop;\n      const isBottom = (clientHeight + scrollTop + 1 >= scrollHeight);\n      if (isBottom) { // scroll to the bottom\n        this.setState({ isLoadingMore: true }, () => {\n          this.getMore();\n        });\n      }\n    }\n  };\n\n  getMore = () => {\n    const { page } = this.state;\n    seafileAPI.listShareLinks({ page: page + 1 }).then((res) => {\n      let moreItems = res.data.map(item => {\n        return new ShareLink(item);\n      });\n      this.setState({\n        isLoadingMore: false,\n        hasMore: res.data.length == PER_PAGE,\n        page: page + 1,\n        items: this._sortItems(this.state.items.concat(moreItems), this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      this.setState({\n        isLoadingMore: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  onRemoveLink = (item) => {\n    seafileAPI.deleteShareLink(item.token).then(() => {\n      let items = this.state.items.filter(uploadItem => {\n        return uploadItem.token !== item.token;\n      });\n      this.setState({ items: items });\n      let message = gettext('Successfully deleted 1 item.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleSortOptionsDialog = () => {\n    this.setState({\n      isSortOptionsDialogOpen: !this.state.isSortOptionsDialogOpen\n    });\n  };\n\n  toggleCleanInvalidShareLinksDialog = () => {\n    this.setState({ isCleanInvalidShareLinksDialogOpen: !this.state.isCleanInvalidShareLinksDialogOpen });\n  };\n\n  cleanInvalidShareLinks = () => {\n    seafileAPI.cleanInvalidShareLinks().then(res => {\n      const newItems = this.state.items.filter(item => item.obj_id !== '').filter(item => !item.is_expired);\n      this.setState({ items: newItems });\n      toaster.success(gettext('Successfully cleaned invalid share links.'));\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <TopToolbar\n          onShowSidePanel={this.props.onShowSidePanel}\n          onSearchedClick={this.props.onSearchedClick}\n        >\n\n          <Button className=\"operation-item d-none d-md-block\" onClick={this.toggleCleanInvalidShareLinksDialog}>{gettext('Clean invalid share links')}</Button>\n        </TopToolbar>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path share-upload-nav\">\n              <ul className=\"nav\">\n                <li className=\"nav-item\">\n                  <Link to={`${siteRoot}share-admin-share-links/`} className=\"nav-link active\">{gettext('Share Links')}</Link>\n                </li>\n                {canGenerateUploadLink && (\n                  <li className=\"nav-item\"><Link to={`${siteRoot}share-admin-upload-links/`} className=\"nav-link\">{gettext('Upload Links')}</Link></li>\n                )}\n              </ul>\n              {(!Utils.isDesktop() && this.state.items.length > 0) && <span className=\"sf3-font sf3-font-sort action-icon\" onClick={this.toggleSortOptionsDialog}></span>}\n            </div>\n            <div className=\"cur-view-content\" onScroll={this.handleScroll}>\n              <Content\n                loading={this.state.loading}\n                isLoadingMore={this.state.isLoadingMore}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n                sortBy={this.state.sortBy}\n                sortOrder={this.state.sortOrder}\n                sortItems={this.sortItems}\n                onRemoveLink={this.onRemoveLink}\n              />\n            </div>\n          </div>\n        </div>\n        {this.state.isSortOptionsDialogOpen &&\n          <SortOptionsDialog\n            toggleDialog={this.toggleSortOptionsDialog}\n            sortBy={this.state.sortBy}\n            sortOrder={this.state.sortOrder}\n            sortOptions={this.sortOptions}\n            sortItems={this.sortItems}\n          />\n        }\n        {this.state.isCleanInvalidShareLinksDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Clean invalid share links')}\n            message={gettext('Are you sure you want to clean invalid share links?')}\n            executeOperation={this.cleanInvalidShareLinks}\n            confirmBtnText={gettext('Clean')}\n            toggleDialog={this.toggleCleanInvalidShareLinksDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nShareAdminShareLinks.propTypes = propTypes;\n\nexport default ShareAdminShareLinks;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}