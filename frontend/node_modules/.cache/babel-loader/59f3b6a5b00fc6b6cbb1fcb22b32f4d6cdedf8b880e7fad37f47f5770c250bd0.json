{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Dropdown,DropdownMenu,DropdownToggle,DropdownItem}from'reactstrap';import{gettext}from'../../utils/constants';import{Utils}from'../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OpMenu=/*#__PURE__*/function(_React$Component){_inherits(OpMenu,_React$Component);var _super=_createSuper(OpMenu);function OpMenu(props){var _this;_classCallCheck(this,OpMenu);_this=_super.call(this,props);_this.onMenuItemClick=function(e){var operation=Utils.getEventData(e,'op');_this.props.onMenuItemClick(operation);};_this.onDropdownToggleClick=function(e){_this.toggleOperationMenu(e);};_this.toggleOperationMenu=function(e){_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.props.onUnfreezedItem();}});};_this.state={isItemMenuShow:false};return _this;}_createClass(OpMenu,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,operations=_this$props.operations,translateOperations=_this$props.translateOperations;return/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"i\",className:\"d-flex w-5 h-5 align-items-center justify-content-center sf-dropdown-toggle fa fa-ellipsis-v\",title:gettext('More operations'),\"aria-label\":gettext('More operations'),\"data-toggle\":\"dropdown\",\"aria-expanded\":this.state.isItemMenuShow}),/*#__PURE__*/_jsx(DropdownMenu,{className:\"my-1 mr-2\",children:operations.map(function(item,index){return/*#__PURE__*/_jsx(DropdownItem,{\"data-op\":item,onClick:_this2.onMenuItemClick,children:translateOperations(item)},index);})})]});}}]);return OpMenu;}(React.Component);export default OpMenu;","map":{"version":3,"names":["React","Dropdown","DropdownMenu","DropdownToggle","DropdownItem","gettext","Utils","jsx","_jsx","jsxs","_jsxs","OpMenu","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onMenuItemClick","e","operation","getEventData","onDropdownToggleClick","toggleOperationMenu","setState","isItemMenuShow","state","onFreezedItem","onUnfreezedItem","_createClass","key","value","render","_this2","_this$props","operations","translateOperations","isOpen","toggle","children","tag","className","title","map","item","index","onClick","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/op-menu.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownMenu, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onMenuItemClick: PropTypes.func.isRequired,\n  operations: PropTypes.array.isRequired,\n  translateOperations: PropTypes.func.isRequired\n};\n\nclass OpMenu extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemMenuShow: false\n    };\n  }\n\n  onMenuItemClick = (e) => {\n    let operation = Utils.getEventData(e, 'op');\n    this.props.onMenuItemClick(operation);\n  };\n\n  onDropdownToggleClick = (e) => {\n    this.toggleOperationMenu(e);\n  };\n\n  toggleOperationMenu = (e) => {\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow},\n      () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  };\n\n  render() {\n    const { operations, translateOperations } = this.props;\n    return (\n      <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n        <DropdownToggle\n          tag=\"i\"\n          className=\"d-flex w-5 h-5 align-items-center justify-content-center sf-dropdown-toggle fa fa-ellipsis-v\"\n          title={gettext('More operations')}\n          aria-label={gettext('More operations')}\n          data-toggle=\"dropdown\"\n          aria-expanded={this.state.isItemMenuShow}\n        />\n        <DropdownMenu className=\"my-1 mr-2\">\n          {operations.map((item, index )=> {\n            return (<DropdownItem key={index} data-op={item} onClick={this.onMenuItemClick}>{translateOperations(item)}</DropdownItem>);\n          })}\n        </DropdownMenu>\n      </Dropdown>\n    );\n  }\n}\n\nOpMenu.propTypes = propTypes;\n\nexport default OpMenu;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,QAAQ,CAAEC,YAAY,CAAEC,cAAc,CAAEC,YAAY,KAAQ,YAAY,CACjF,OAASC,OAAO,KAAQ,uBAAuB,CAC/C,OAASC,KAAK,KAAQ,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAUpC,CAAAC,MAAM,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,MAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,MAAA,EAEV,SAAAA,OAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,MAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAMfG,eAAe,CAAG,SAACC,CAAC,CAAK,CACvB,GAAI,CAAAC,SAAS,CAAGhB,KAAK,CAACiB,YAAY,CAACF,CAAC,CAAE,IAAI,CAAC,CAC3CJ,KAAA,CAAKD,KAAK,CAACI,eAAe,CAACE,SAAS,CAAC,CACvC,CAAC,CAAAL,KAAA,CAEDO,qBAAqB,CAAG,SAACH,CAAC,CAAK,CAC7BJ,KAAA,CAAKQ,mBAAmB,CAACJ,CAAC,CAAC,CAC7B,CAAC,CAAAJ,KAAA,CAEDQ,mBAAmB,CAAG,SAACJ,CAAC,CAAK,CAC3BJ,KAAA,CAAKS,QAAQ,CACX,CAACC,cAAc,CAAE,CAACV,KAAA,CAAKW,KAAK,CAACD,cAAc,CAAC,CAC5C,UAAM,CACJ,GAAIV,KAAA,CAAKW,KAAK,CAACD,cAAc,CAAE,CAC7BV,KAAA,CAAKD,KAAK,CAACa,aAAa,CAAC,CAAC,CAC5B,CAAC,IAAM,CACLZ,KAAA,CAAKD,KAAK,CAACc,eAAe,CAAC,CAAC,CAC9B,CACF,CACF,CAAC,CACH,CAAC,CAzBCb,KAAA,CAAKW,KAAK,CAAG,CACXD,cAAc,CAAE,KAClB,CAAC,CAAC,OAAAV,KAAA,CACJ,CAACc,YAAA,CAAApB,MAAA,GAAAqB,GAAA,UAAAC,KAAA,CAwBD,SAAAC,OAAA,CAAS,KAAAC,MAAA,MACP,IAAAC,WAAA,CAA4C,IAAI,CAACpB,KAAK,CAA9CqB,UAAU,CAAAD,WAAA,CAAVC,UAAU,CAAEC,mBAAmB,CAAAF,WAAA,CAAnBE,mBAAmB,CACvC,mBACE5B,KAAA,CAACT,QAAQ,EAACsC,MAAM,CAAE,IAAI,CAACX,KAAK,CAACD,cAAe,CAACa,MAAM,CAAE,IAAI,CAACf,mBAAoB,CAAAgB,QAAA,eAC5EjC,IAAA,CAACL,cAAc,EACbuC,GAAG,CAAC,GAAG,CACPC,SAAS,CAAC,8FAA8F,CACxGC,KAAK,CAAEvC,OAAO,CAAC,iBAAiB,CAAE,CAClC,aAAYA,OAAO,CAAC,iBAAiB,CAAE,CACvC,cAAY,UAAU,CACtB,gBAAe,IAAI,CAACuB,KAAK,CAACD,cAAe,CAC1C,CAAC,cACFnB,IAAA,CAACN,YAAY,EAACyC,SAAS,CAAC,WAAW,CAAAF,QAAA,CAChCJ,UAAU,CAACQ,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAK,CAC/B,mBAAQvC,IAAA,CAACJ,YAAY,EAAa,UAAS0C,IAAK,CAACE,OAAO,CAAEb,MAAI,CAACf,eAAgB,CAAAqB,QAAA,CAAEH,mBAAmB,CAACQ,IAAI,CAAC,EAA/EC,KAA8F,CAAC,CAC5H,CAAC,CAAC,CACU,CAAC,EACP,CAAC,CAEf,CAAC,WAAApC,MAAA,GAlDkBX,KAAK,CAACiD,SAAS,EAuDpC,cAAe,CAAAtC,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}