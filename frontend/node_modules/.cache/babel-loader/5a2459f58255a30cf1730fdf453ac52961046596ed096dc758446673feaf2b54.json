{"ast":null,"code":"\"use strict\";\n\nvar _toConsumableArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/toConsumableArray.js\").default;\nvar _toArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/toArray.js\").default;\nvar _objectSpread = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformUnorderedList = exports.transformTableRow = exports.transformTableCell = exports.transformTable = exports.transformParagraph = exports.transformOrderedList = exports.transformMath = exports.transformListItem = exports.transformListContent = exports.transformList = exports.transformHtml = exports.transformHr = exports.transformHeader = exports.transformCodeLine = exports.transformCodeBlock = exports.transformCheckListItem = exports.transformCheckList = exports.transformBlockquote = exports.transformBlockHtml = exports.formatMdToSlate = void 0;\nvar _slugid = _interopRequireDefault(require(\"slugid\"));\nvar _core = require(\"../../extension/core\");\nvar _elementTypes = require(\"../../extension/constants/element-types\");\nvar _htmlToSlate = _interopRequireDefault(require(\"../html-to-slate\"));\nvar INLINE_KEY_MAP = {\n  strong: 'bold',\n  emphasis: 'italic'\n};\n\n// <strong><em>aa<em>bb<em></strong>\nvar applyMarkForInlineItem = function applyMarkForInlineItem(result, item) {\n  var textNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var type = item.type,\n    children = item.children,\n    value = item.value;\n  if (type === _elementTypes.LINK) {\n    var child = children.length === 0 ? {\n      type: 'text',\n      value: ''\n    } : children[0];\n    var linkChildren = [{\n      id: _slugid.default.nice(),\n      text: child.value || ''\n    }];\n    var link = {\n      id: _slugid.default.nice(),\n      type: _elementTypes.LINK,\n      url: item.url,\n      title: item.title,\n      children: linkChildren\n    };\n    result.push([(0, _core.generateDefaultText)(), link, (0, _core.generateDefaultText)()]);\n    return result;\n  }\n  if (type === _elementTypes.IMAGE) {\n    var data = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n      src: item.url\n    }, item.title && {\n      title: item.title\n    }), item.alt && {\n      alt: item.alt\n    }), item.width && {\n      width: item.width\n    }), item.height && {\n      height: item.height\n    });\n    var image = {\n      id: _slugid.default.nice(),\n      data: data,\n      type: _elementTypes.IMAGE,\n      children: [(0, _core.generateDefaultText)()]\n    };\n    result.push([(0, _core.generateDefaultText)(), image, (0, _core.generateDefaultText)()]);\n    return result;\n  }\n\n  // Handle special images\n  if (type === 'html') {\n    var nodes = transformHtml(item);\n    result.push(nodes);\n    return result;\n  }\n  if (!textNode.id) {\n    textNode['id'] = _slugid.default.nice();\n  }\n  if (type === 'text') {\n    // https://symbl.cc/en/200B/\n    var formatValue = value && value !== '​' ? value : '';\n    textNode['text'] = formatValue;\n    result.push(textNode);\n    return;\n  }\n  if (type === 'inlineCode') {\n    textNode['code'] = true;\n    textNode['text'] = value || '';\n    result.push(textNode);\n    return;\n  }\n  var attr_key = INLINE_KEY_MAP[type];\n  if (!Array.isArray(children) || children.length === 0 || !attr_key) {\n    textNode['text'] = value || '';\n    result.push(textNode);\n    return;\n  }\n  textNode[attr_key] = true;\n  children.forEach(function (item) {\n    applyMarkForInlineItem(result, item, textNode);\n  });\n};\nvar transformNodeWithInlineChildren = function transformNodeWithInlineChildren(node) {\n  var children = node.children;\n  var defaultChildren = [(0, _core.generateDefaultText)()];\n  if (!children || !Array.isArray(children) || children.length === 0) {\n    return defaultChildren;\n  }\n  var result = [];\n  children.forEach(function (item) {\n    return applyMarkForInlineItem(result, item);\n  });\n  return result.flat();\n};\nvar transformHeader = function transformHeader(node) {\n  var depth = node.depth;\n  var type = \"\".concat(_elementTypes.HEADER).concat(depth);\n  return {\n    id: _slugid.default.nice(),\n    type: type,\n    children: transformNodeWithInlineChildren(node)\n  };\n};\nexports.transformHeader = transformHeader;\nvar transformParagraph = function transformParagraph(node) {\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.PARAGRAPH,\n    children: transformNodeWithInlineChildren(node)\n  };\n};\nexports.transformParagraph = transformParagraph;\nvar transformBlockquote = function transformBlockquote(node) {\n  var children = node.children;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.BLOCKQUOTE,\n    children: children.map(function (child) {\n      var handler = elementHandlers[child.type];\n      return handler(child);\n    }).flat() // flat\n  };\n};\n\nexports.transformBlockquote = transformBlockquote;\nvar transformListContent = function transformListContent(node) {\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.PARAGRAPH,\n    children: transformNodeWithInlineChildren(node)\n  };\n};\nexports.transformListContent = transformListContent;\nvar transformListItem = function transformListItem(node) {\n  var children = node.children;\n  if (children.length === 0) {\n    return {\n      id: _slugid.default.nice(),\n      type: _elementTypes.LIST_ITEM,\n      // eslint-disable-next-line array-callback-return\n      children: [transformListContent({})]\n    };\n  }\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.LIST_ITEM,\n    // eslint-disable-next-line array-callback-return\n    children: children.map(function (child) {\n      if (child.type === _elementTypes.PARAGRAPH) {\n        return transformListContent(child);\n      } else if (child.type === 'code') {\n        return transformCodeBlock(child);\n      } else if (child.type === 'blockquote') {\n        return transformBlockquote(child);\n      } else if (child.type === 'list') {\n        var hasParent = true;\n        return transformList(child, hasParent);\n      } else if (child.type === 'heading') {\n        return transformParagraph(child);\n      } else if (child.type === 'html') {\n        // patch\n        return transformBlockHtml(child);\n      } else if (child.type === 'thematicBreak') {\n        // patch\n        return transformParagraph(child);\n      }\n    }).flat()\n  };\n};\nexports.transformListItem = transformListItem;\nvar transformOrderedList = function transformOrderedList(node) {\n  var children = node.children;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.ORDERED_LIST,\n    children: children.map(function (child) {\n      return transformListItem(child);\n    })\n  };\n};\nexports.transformOrderedList = transformOrderedList;\nvar transformUnorderedList = function transformUnorderedList(node) {\n  var children = node.children;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.UNORDERED_LIST,\n    children: children.map(function (child) {\n      return transformListItem(child);\n    })\n  };\n};\nexports.transformUnorderedList = transformUnorderedList;\nvar transformCheckListItem = function transformCheckListItem(node) {\n  var children = node.children,\n    checked = node.checked;\n  if (children.length === 0) {\n    return {\n      id: _slugid.default.nice(),\n      type: _elementTypes.CHECK_LIST_ITEM,\n      checked: checked ? true : false,\n      children: transformNodeWithInlineChildren({})\n    };\n  }\n  if (children.length === 1) {\n    return {\n      id: _slugid.default.nice(),\n      type: _elementTypes.CHECK_LIST_ITEM,\n      checked: checked ? true : false,\n      children: children.map(function (child) {\n        return transformNodeWithInlineChildren(child);\n      }).flat()\n    };\n  }\n  var _children = _toArray(children),\n    child = _children[0],\n    reset = _children.slice(1);\n  var firstChild = {\n    id: _slugid.default.nice(),\n    type: _elementTypes.CHECK_LIST_ITEM,\n    checked: checked,\n    children: transformNodeWithInlineChildren(child)\n  };\n  var resetChildren = formatMdToSlate(reset);\n  return [firstChild].concat(_toConsumableArray(resetChildren));\n};\nexports.transformCheckListItem = transformCheckListItem;\nvar transformCheckList = function transformCheckList(node) {\n  var children = node.children;\n  return children.map(function (child) {\n    return transformCheckListItem(child);\n  }).flat();\n};\nexports.transformCheckList = transformCheckList;\nvar transformList = function transformList(node, hasParent) {\n  var ordered = node.ordered,\n    children = node.children;\n  var firstChild = children[0];\n  if (ordered === true) {\n    return transformOrderedList(node);\n  }\n  if (ordered === false && firstChild.checked === null) {\n    return transformUnorderedList(node);\n  }\n  // patch tasklist in list\n  if (hasParent) {\n    return transformUnorderedList(node);\n  }\n  return transformCheckList(node);\n};\nexports.transformList = transformList;\nvar transformTableCell = function transformTableCell(cell, align) {\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.TABLE_CELL,\n    children: transformNodeWithInlineChildren(cell)\n  };\n};\nexports.transformTableCell = transformTableCell;\nvar transformTableRow = function transformTableRow(row) {\n  var cells = row.children;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.TABLE_ROW,\n    children: cells.map(function (cell) {\n      return transformTableCell(cell);\n    })\n  };\n};\nexports.transformTableRow = transformTableRow;\nvar transformTable = function transformTable(node) {\n  var rows = node.children,\n    _node$align = node.align,\n    align = _node$align === void 0 ? [] : _node$align;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.TABLE,\n    align: align,\n    children: rows.map(function (row, index) {\n      return transformTableRow(row);\n    })\n  };\n};\nexports.transformTable = transformTable;\nvar transformCodeLine = function transformCodeLine(text) {\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.CODE_LINE,\n    children: [{\n      id: _slugid.default.nice(),\n      text: text\n    }]\n  };\n};\nexports.transformCodeLine = transformCodeLine;\nvar transformCodeBlock = function transformCodeBlock(node) {\n  var lang = node.lang,\n    value = node.value;\n  var children = value.split('\\n');\n  if (children.length === 0) {\n    children = [''];\n  }\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.CODE_BLOCK,\n    lang: lang,\n    children: children.map(function (text) {\n      return transformCodeLine(text);\n    })\n  };\n};\nexports.transformCodeBlock = transformCodeBlock;\nvar transformHr = function transformHr(node) {\n  return {\n    id: _slugid.default.nice(),\n    type: 'hr',\n    children: [(0, _core.generateDefaultText)()]\n  };\n};\nexports.transformHr = transformHr;\nvar transformHtml = function transformHtml(node) {\n  var defaultTextNode = (0, _core.generateDefaultText)();\n  if (node.value.slice(0, 4).toLowerCase() === '<img') {\n    var _DOMParser$parseFromS = new DOMParser().parseFromString(node.value, 'text/html'),\n      body = _DOMParser$parseFromS.body;\n    var img = body.firstChild;\n    var src = img.getAttribute('src');\n    if (!src) return [defaultTextNode];\n    var alt = img.getAttribute('alt');\n    var title = img.getAttribute('title');\n    var width = img.getAttribute('width');\n    var height = img.getAttribute('height');\n    var data = _objectSpread(_objectSpread(_objectSpread(_objectSpread({\n      src: src\n    }, alt && {\n      alt: alt\n    }), title && {\n      title: title\n    }), !isNaN(width) && width > 0 && {\n      width: width\n    }), !isNaN(height) && height > 0 && {\n      height: height\n    });\n    var image = {\n      id: _slugid.default.nice(),\n      data: data,\n      type: _elementTypes.IMAGE,\n      children: [(0, _core.generateDefaultText)()]\n    };\n    return [(0, _core.generateDefaultText)(), image, (0, _core.generateDefaultText)()];\n  }\n  return [defaultTextNode];\n};\nexports.transformHtml = transformHtml;\nvar transformBlockHtml = function transformBlockHtml(node) {\n  if (node.value.slice(0, 4).toLowerCase() === '<img') {\n    return {\n      id: _slugid.default.nice(),\n      type: _elementTypes.PARAGRAPH,\n      children: transformHtml(node)\n    };\n  }\n  return (0, _htmlToSlate.default)(node.value);\n};\nexports.transformBlockHtml = transformBlockHtml;\nvar transformMath = function transformMath(node) {\n  return {\n    id: _slugid.default.nice(),\n    type: 'formula',\n    data: {\n      formula: node.value\n    },\n    children: [(0, _core.generateDefaultText)()]\n  };\n};\nexports.transformMath = transformMath;\nvar elementHandlers = {\n  'paragraph': transformParagraph,\n  'heading': transformHeader,\n  'blockquote': transformBlockquote,\n  'table': transformTable,\n  'list': transformList,\n  // ordered_list | unordered_list | check_list_item\n  'code': transformCodeBlock,\n  'thematicBreak': transformHr,\n  'math': transformMath,\n  'html': transformBlockHtml\n};\nvar formatMdToSlate = function formatMdToSlate(children) {\n  var validChildren = children.filter(function (child) {\n    return elementHandlers[child.type];\n  });\n  return validChildren.map(function (child) {\n    var handler = elementHandlers[child.type];\n    return handler(child);\n  }).flat();\n};\nexports.formatMdToSlate = formatMdToSlate;","map":{"version":3,"names":["_toConsumableArray","require","default","_toArray","_objectSpread","_interopRequireDefault","Object","defineProperty","exports","value","transformUnorderedList","transformTableRow","transformTableCell","transformTable","transformParagraph","transformOrderedList","transformMath","transformListItem","transformListContent","transformList","transformHtml","transformHr","transformHeader","transformCodeLine","transformCodeBlock","transformCheckListItem","transformCheckList","transformBlockquote","transformBlockHtml","formatMdToSlate","_slugid","_core","_elementTypes","_htmlToSlate","INLINE_KEY_MAP","strong","emphasis","applyMarkForInlineItem","result","item","textNode","arguments","length","undefined","type","children","LINK","child","linkChildren","id","nice","text","link","url","title","push","generateDefaultText","IMAGE","data","src","alt","width","height","image","nodes","formatValue","attr_key","Array","isArray","forEach","transformNodeWithInlineChildren","node","defaultChildren","flat","depth","concat","HEADER","PARAGRAPH","BLOCKQUOTE","map","handler","elementHandlers","LIST_ITEM","hasParent","ORDERED_LIST","UNORDERED_LIST","checked","CHECK_LIST_ITEM","_children","reset","slice","firstChild","resetChildren","ordered","cell","align","TABLE_CELL","row","cells","TABLE_ROW","rows","_node$align","TABLE","index","CODE_LINE","lang","split","CODE_BLOCK","defaultTextNode","toLowerCase","_DOMParser$parseFromS","DOMParser","parseFromString","body","img","getAttribute","isNaN","formula","validChildren","filter"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/slate-convert/md-to-slate/transform.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.transformUnorderedList = exports.transformTableRow = exports.transformTableCell = exports.transformTable = exports.transformParagraph = exports.transformOrderedList = exports.transformMath = exports.transformListItem = exports.transformListContent = exports.transformList = exports.transformHtml = exports.transformHr = exports.transformHeader = exports.transformCodeLine = exports.transformCodeBlock = exports.transformCheckListItem = exports.transformCheckList = exports.transformBlockquote = exports.transformBlockHtml = exports.formatMdToSlate = void 0;\nvar _slugid = _interopRequireDefault(require(\"slugid\"));\nvar _core = require(\"../../extension/core\");\nvar _elementTypes = require(\"../../extension/constants/element-types\");\nvar _htmlToSlate = _interopRequireDefault(require(\"../html-to-slate\"));\nconst INLINE_KEY_MAP = {\n  strong: 'bold',\n  emphasis: 'italic'\n};\n\n// <strong><em>aa<em>bb<em></strong>\nconst applyMarkForInlineItem = function (result, item) {\n  let textNode = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  const {\n    type,\n    children,\n    value\n  } = item;\n  if (type === _elementTypes.LINK) {\n    const child = children.length === 0 ? {\n      type: 'text',\n      value: ''\n    } : children[0];\n    const linkChildren = [{\n      id: _slugid.default.nice(),\n      text: child.value || ''\n    }];\n    const link = {\n      id: _slugid.default.nice(),\n      type: _elementTypes.LINK,\n      url: item.url,\n      title: item.title,\n      children: linkChildren\n    };\n    result.push([(0, _core.generateDefaultText)(), link, (0, _core.generateDefaultText)()]);\n    return result;\n  }\n  if (type === _elementTypes.IMAGE) {\n    const data = {\n      src: item.url,\n      ...(item.title && {\n        title: item.title\n      }),\n      ...(item.alt && {\n        alt: item.alt\n      }),\n      ...(item.width && {\n        width: item.width\n      }),\n      ...(item.height && {\n        height: item.height\n      })\n    };\n    const image = {\n      id: _slugid.default.nice(),\n      data: data,\n      type: _elementTypes.IMAGE,\n      children: [(0, _core.generateDefaultText)()]\n    };\n    result.push([(0, _core.generateDefaultText)(), image, (0, _core.generateDefaultText)()]);\n    return result;\n  }\n\n  // Handle special images\n  if (type === 'html') {\n    const nodes = transformHtml(item);\n    result.push(nodes);\n    return result;\n  }\n  if (!textNode.id) {\n    textNode['id'] = _slugid.default.nice();\n  }\n  if (type === 'text') {\n    // https://symbl.cc/en/200B/\n    const formatValue = value && value !== '​' ? value : '';\n    textNode['text'] = formatValue;\n    result.push(textNode);\n    return;\n  }\n  if (type === 'inlineCode') {\n    textNode['code'] = true;\n    textNode['text'] = value || '';\n    result.push(textNode);\n    return;\n  }\n  const attr_key = INLINE_KEY_MAP[type];\n  if (!Array.isArray(children) || children.length === 0 || !attr_key) {\n    textNode['text'] = value || '';\n    result.push(textNode);\n    return;\n  }\n  textNode[attr_key] = true;\n  children.forEach(item => {\n    applyMarkForInlineItem(result, item, textNode);\n  });\n};\nconst transformNodeWithInlineChildren = node => {\n  const {\n    children\n  } = node;\n  const defaultChildren = [(0, _core.generateDefaultText)()];\n  if (!children || !Array.isArray(children) || children.length === 0) {\n    return defaultChildren;\n  }\n  const result = [];\n  children.forEach(item => applyMarkForInlineItem(result, item));\n  return result.flat();\n};\nconst transformHeader = node => {\n  const {\n    depth\n  } = node;\n  const type = \"\".concat(_elementTypes.HEADER).concat(depth);\n  return {\n    id: _slugid.default.nice(),\n    type: type,\n    children: transformNodeWithInlineChildren(node)\n  };\n};\nexports.transformHeader = transformHeader;\nconst transformParagraph = node => {\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.PARAGRAPH,\n    children: transformNodeWithInlineChildren(node)\n  };\n};\nexports.transformParagraph = transformParagraph;\nconst transformBlockquote = node => {\n  const {\n    children\n  } = node;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.BLOCKQUOTE,\n    children: children.map(child => {\n      const handler = elementHandlers[child.type];\n      return handler(child);\n    }).flat() // flat\n  };\n};\nexports.transformBlockquote = transformBlockquote;\nconst transformListContent = node => {\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.PARAGRAPH,\n    children: transformNodeWithInlineChildren(node)\n  };\n};\nexports.transformListContent = transformListContent;\nconst transformListItem = node => {\n  const {\n    children\n  } = node;\n  if (children.length === 0) {\n    return {\n      id: _slugid.default.nice(),\n      type: _elementTypes.LIST_ITEM,\n      // eslint-disable-next-line array-callback-return\n      children: [transformListContent({})]\n    };\n  }\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.LIST_ITEM,\n    // eslint-disable-next-line array-callback-return\n    children: children.map(child => {\n      if (child.type === _elementTypes.PARAGRAPH) {\n        return transformListContent(child);\n      } else if (child.type === 'code') {\n        return transformCodeBlock(child);\n      } else if (child.type === 'blockquote') {\n        return transformBlockquote(child);\n      } else if (child.type === 'list') {\n        const hasParent = true;\n        return transformList(child, hasParent);\n      } else if (child.type === 'heading') {\n        return transformParagraph(child);\n      } else if (child.type === 'html') {\n        // patch\n        return transformBlockHtml(child);\n      } else if (child.type === 'thematicBreak') {\n        // patch\n        return transformParagraph(child);\n      }\n    }).flat()\n  };\n};\nexports.transformListItem = transformListItem;\nconst transformOrderedList = node => {\n  const {\n    children\n  } = node;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.ORDERED_LIST,\n    children: children.map(child => transformListItem(child))\n  };\n};\nexports.transformOrderedList = transformOrderedList;\nconst transformUnorderedList = node => {\n  const {\n    children\n  } = node;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.UNORDERED_LIST,\n    children: children.map(child => transformListItem(child))\n  };\n};\nexports.transformUnorderedList = transformUnorderedList;\nconst transformCheckListItem = node => {\n  const {\n    children,\n    checked\n  } = node;\n  if (children.length === 0) {\n    return {\n      id: _slugid.default.nice(),\n      type: _elementTypes.CHECK_LIST_ITEM,\n      checked: checked ? true : false,\n      children: transformNodeWithInlineChildren({})\n    };\n  }\n  if (children.length === 1) {\n    return {\n      id: _slugid.default.nice(),\n      type: _elementTypes.CHECK_LIST_ITEM,\n      checked: checked ? true : false,\n      children: children.map(child => transformNodeWithInlineChildren(child)).flat()\n    };\n  }\n  const [child, ...reset] = children;\n  const firstChild = {\n    id: _slugid.default.nice(),\n    type: _elementTypes.CHECK_LIST_ITEM,\n    checked: checked,\n    children: transformNodeWithInlineChildren(child)\n  };\n  const resetChildren = formatMdToSlate(reset);\n  return [firstChild, ...resetChildren];\n};\nexports.transformCheckListItem = transformCheckListItem;\nconst transformCheckList = node => {\n  const {\n    children\n  } = node;\n  return children.map(child => transformCheckListItem(child)).flat();\n};\nexports.transformCheckList = transformCheckList;\nconst transformList = (node, hasParent) => {\n  const {\n    ordered,\n    children\n  } = node;\n  const firstChild = children[0];\n  if (ordered === true) {\n    return transformOrderedList(node);\n  }\n  if (ordered === false && firstChild.checked === null) {\n    return transformUnorderedList(node);\n  }\n  // patch tasklist in list\n  if (hasParent) {\n    return transformUnorderedList(node);\n  }\n  return transformCheckList(node);\n};\nexports.transformList = transformList;\nconst transformTableCell = (cell, align) => {\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.TABLE_CELL,\n    children: transformNodeWithInlineChildren(cell)\n  };\n};\nexports.transformTableCell = transformTableCell;\nconst transformTableRow = row => {\n  const {\n    children: cells\n  } = row;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.TABLE_ROW,\n    children: cells.map(cell => transformTableCell(cell))\n  };\n};\nexports.transformTableRow = transformTableRow;\nconst transformTable = node => {\n  const {\n    children: rows,\n    align = []\n  } = node;\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.TABLE,\n    align: align,\n    children: rows.map((row, index) => transformTableRow(row))\n  };\n};\nexports.transformTable = transformTable;\nconst transformCodeLine = text => {\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.CODE_LINE,\n    children: [{\n      id: _slugid.default.nice(),\n      text: text\n    }]\n  };\n};\nexports.transformCodeLine = transformCodeLine;\nconst transformCodeBlock = node => {\n  const {\n    lang,\n    value\n  } = node;\n  let children = value.split('\\n');\n  if (children.length === 0) {\n    children = [''];\n  }\n  return {\n    id: _slugid.default.nice(),\n    type: _elementTypes.CODE_BLOCK,\n    lang: lang,\n    children: children.map(text => transformCodeLine(text))\n  };\n};\nexports.transformCodeBlock = transformCodeBlock;\nconst transformHr = node => {\n  return {\n    id: _slugid.default.nice(),\n    type: 'hr',\n    children: [(0, _core.generateDefaultText)()]\n  };\n};\nexports.transformHr = transformHr;\nconst transformHtml = node => {\n  const defaultTextNode = (0, _core.generateDefaultText)();\n  if (node.value.slice(0, 4).toLowerCase() === '<img') {\n    const {\n      body\n    } = new DOMParser().parseFromString(node.value, 'text/html');\n    const img = body.firstChild;\n    const src = img.getAttribute('src');\n    if (!src) return [defaultTextNode];\n    const alt = img.getAttribute('alt');\n    const title = img.getAttribute('title');\n    const width = img.getAttribute('width');\n    const height = img.getAttribute('height');\n    const data = {\n      src: src,\n      ...(alt && {\n        alt\n      }),\n      ...(title && {\n        title\n      }),\n      ...(!isNaN(width) && width > 0 && {\n        width\n      }),\n      ...(!isNaN(height) && height > 0 && {\n        height\n      })\n    };\n    const image = {\n      id: _slugid.default.nice(),\n      data: data,\n      type: _elementTypes.IMAGE,\n      children: [(0, _core.generateDefaultText)()]\n    };\n    return [(0, _core.generateDefaultText)(), image, (0, _core.generateDefaultText)()];\n  }\n  return [defaultTextNode];\n};\nexports.transformHtml = transformHtml;\nconst transformBlockHtml = node => {\n  if (node.value.slice(0, 4).toLowerCase() === '<img') {\n    return {\n      id: _slugid.default.nice(),\n      type: _elementTypes.PARAGRAPH,\n      children: transformHtml(node)\n    };\n  }\n  return (0, _htmlToSlate.default)(node.value);\n};\nexports.transformBlockHtml = transformBlockHtml;\nconst transformMath = node => {\n  return {\n    id: _slugid.default.nice(),\n    type: 'formula',\n    data: {\n      formula: node.value\n    },\n    children: [(0, _core.generateDefaultText)()]\n  };\n};\nexports.transformMath = transformMath;\nconst elementHandlers = {\n  'paragraph': transformParagraph,\n  'heading': transformHeader,\n  'blockquote': transformBlockquote,\n  'table': transformTable,\n  'list': transformList,\n  // ordered_list | unordered_list | check_list_item\n  'code': transformCodeBlock,\n  'thematicBreak': transformHr,\n  'math': transformMath,\n  'html': transformBlockHtml\n};\nconst formatMdToSlate = children => {\n  const validChildren = children.filter(child => elementHandlers[child.type]);\n  return validChildren.map(child => {\n    const handler = elementHandlers[child.type];\n    return handler(child);\n  }).flat();\n};\nexports.formatMdToSlate = formatMdToSlate;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}