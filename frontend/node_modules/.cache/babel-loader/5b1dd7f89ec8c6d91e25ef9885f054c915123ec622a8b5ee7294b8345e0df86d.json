{"ast":null,"code":"var specialChars = /[+\\-\\/\\\\*~<>=@%|&?!.,:;^]/;\nvar keywords = /true|false|nil|self|super|thisContext/;\nvar Context = function Context(tokenizer, parent) {\n  this.next = tokenizer;\n  this.parent = parent;\n};\nvar Token = function Token(name, context, eos) {\n  this.name = name;\n  this.context = context;\n  this.eos = eos;\n};\nvar State = function State() {\n  this.context = new Context(next, null);\n  this.expectVariable = true;\n  this.indentation = 0;\n  this.userIndentationDelta = 0;\n};\nState.prototype.userIndent = function (indentation, indentUnit) {\n  this.userIndentationDelta = indentation > 0 ? indentation / indentUnit - this.indentation : 0;\n};\nvar next = function next(stream, context, state) {\n  var token = new Token(null, context, false);\n  var aChar = stream.next();\n  if (aChar === '\"') {\n    token = nextComment(stream, new Context(nextComment, context));\n  } else if (aChar === '\\'') {\n    token = nextString(stream, new Context(nextString, context));\n  } else if (aChar === '#') {\n    if (stream.peek() === '\\'') {\n      stream.next();\n      token = nextSymbol(stream, new Context(nextSymbol, context));\n    } else {\n      if (stream.eatWhile(/[^\\s.{}\\[\\]()]/)) token.name = 'string.special';else token.name = 'meta';\n    }\n  } else if (aChar === '$') {\n    if (stream.next() === '<') {\n      stream.eatWhile(/[^\\s>]/);\n      stream.next();\n    }\n    token.name = 'string.special';\n  } else if (aChar === '|' && state.expectVariable) {\n    token.context = new Context(nextTemporaries, context);\n  } else if (/[\\[\\]{}()]/.test(aChar)) {\n    token.name = 'bracket';\n    token.eos = /[\\[{(]/.test(aChar);\n    if (aChar === '[') {\n      state.indentation++;\n    } else if (aChar === ']') {\n      state.indentation = Math.max(0, state.indentation - 1);\n    }\n  } else if (specialChars.test(aChar)) {\n    stream.eatWhile(specialChars);\n    token.name = 'operator';\n    token.eos = aChar !== ';'; // ; cascaded message expression\n  } else if (/\\d/.test(aChar)) {\n    stream.eatWhile(/[\\w\\d]/);\n    token.name = 'number';\n  } else if (/[\\w_]/.test(aChar)) {\n    stream.eatWhile(/[\\w\\d_]/);\n    token.name = state.expectVariable ? keywords.test(stream.current()) ? 'keyword' : 'variable' : null;\n  } else {\n    token.eos = state.expectVariable;\n  }\n  return token;\n};\nvar nextComment = function nextComment(stream, context) {\n  stream.eatWhile(/[^\"]/);\n  return new Token('comment', stream.eat('\"') ? context.parent : context, true);\n};\nvar nextString = function nextString(stream, context) {\n  stream.eatWhile(/[^']/);\n  return new Token('string', stream.eat('\\'') ? context.parent : context, false);\n};\nvar nextSymbol = function nextSymbol(stream, context) {\n  stream.eatWhile(/[^']/);\n  return new Token('string.special', stream.eat('\\'') ? context.parent : context, false);\n};\nvar nextTemporaries = function nextTemporaries(stream, context) {\n  var token = new Token(null, context, false);\n  var aChar = stream.next();\n  if (aChar === '|') {\n    token.context = context.parent;\n    token.eos = true;\n  } else {\n    stream.eatWhile(/[^|]/);\n    token.name = 'variable';\n  }\n  return token;\n};\nexport var smalltalk = {\n  name: \"smalltalk\",\n  startState: function startState() {\n    return new State();\n  },\n  token: function token(stream, state) {\n    state.userIndent(stream.indentation(), stream.indentUnit);\n    if (stream.eatSpace()) {\n      return null;\n    }\n    var token = state.context.next(stream, state.context, state);\n    state.context = token.context;\n    state.expectVariable = token.eos;\n    return token.name;\n  },\n  blankLine: function blankLine(state, indentUnit) {\n    state.userIndent(0, indentUnit);\n  },\n  indent: function indent(state, textAfter, cx) {\n    var i = state.context.next === next && textAfter && textAfter.charAt(0) === ']' ? -1 : state.userIndentationDelta;\n    return (state.indentation + i) * cx.unit;\n  },\n  languageData: {\n    indentOnInput: /^\\s*\\]$/\n  }\n};","map":{"version":3,"names":["specialChars","keywords","Context","tokenizer","parent","next","Token","name","context","eos","State","expectVariable","indentation","userIndentationDelta","prototype","userIndent","indentUnit","stream","state","token","aChar","nextComment","nextString","peek","nextSymbol","eatWhile","nextTemporaries","test","Math","max","current","eat","smalltalk","startState","eatSpace","blankLine","indent","textAfter","cx","i","charAt","unit","languageData","indentOnInput"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@codemirror/legacy-modes/mode/smalltalk.js"],"sourcesContent":["var specialChars = /[+\\-\\/\\\\*~<>=@%|&?!.,:;^]/;\nvar keywords = /true|false|nil|self|super|thisContext/;\n\nvar Context = function(tokenizer, parent) {\n  this.next = tokenizer;\n  this.parent = parent;\n};\n\nvar Token = function(name, context, eos) {\n  this.name = name;\n  this.context = context;\n  this.eos = eos;\n};\n\nvar State = function() {\n  this.context = new Context(next, null);\n  this.expectVariable = true;\n  this.indentation = 0;\n  this.userIndentationDelta = 0;\n};\n\nState.prototype.userIndent = function(indentation, indentUnit) {\n  this.userIndentationDelta = indentation > 0 ? (indentation / indentUnit - this.indentation) : 0;\n};\n\nvar next = function(stream, context, state) {\n  var token = new Token(null, context, false);\n  var aChar = stream.next();\n\n  if (aChar === '\"') {\n    token = nextComment(stream, new Context(nextComment, context));\n\n  } else if (aChar === '\\'') {\n    token = nextString(stream, new Context(nextString, context));\n\n  } else if (aChar === '#') {\n    if (stream.peek() === '\\'') {\n      stream.next();\n      token = nextSymbol(stream, new Context(nextSymbol, context));\n    } else {\n      if (stream.eatWhile(/[^\\s.{}\\[\\]()]/))\n        token.name = 'string.special';\n      else\n        token.name = 'meta';\n    }\n\n  } else if (aChar === '$') {\n    if (stream.next() === '<') {\n      stream.eatWhile(/[^\\s>]/);\n      stream.next();\n    }\n    token.name = 'string.special';\n\n  } else if (aChar === '|' && state.expectVariable) {\n    token.context = new Context(nextTemporaries, context);\n\n  } else if (/[\\[\\]{}()]/.test(aChar)) {\n    token.name = 'bracket';\n    token.eos = /[\\[{(]/.test(aChar);\n\n    if (aChar === '[') {\n      state.indentation++;\n    } else if (aChar === ']') {\n      state.indentation = Math.max(0, state.indentation - 1);\n    }\n\n  } else if (specialChars.test(aChar)) {\n    stream.eatWhile(specialChars);\n    token.name = 'operator';\n    token.eos = aChar !== ';'; // ; cascaded message expression\n\n  } else if (/\\d/.test(aChar)) {\n    stream.eatWhile(/[\\w\\d]/);\n    token.name = 'number';\n\n  } else if (/[\\w_]/.test(aChar)) {\n    stream.eatWhile(/[\\w\\d_]/);\n    token.name = state.expectVariable ? (keywords.test(stream.current()) ? 'keyword' : 'variable') : null;\n\n  } else {\n    token.eos = state.expectVariable;\n  }\n\n  return token;\n};\n\nvar nextComment = function(stream, context) {\n  stream.eatWhile(/[^\"]/);\n  return new Token('comment', stream.eat('\"') ? context.parent : context, true);\n};\n\nvar nextString = function(stream, context) {\n  stream.eatWhile(/[^']/);\n  return new Token('string', stream.eat('\\'') ? context.parent : context, false);\n};\n\nvar nextSymbol = function(stream, context) {\n  stream.eatWhile(/[^']/);\n  return new Token('string.special', stream.eat('\\'') ? context.parent : context, false);\n};\n\nvar nextTemporaries = function(stream, context) {\n  var token = new Token(null, context, false);\n  var aChar = stream.next();\n\n  if (aChar === '|') {\n    token.context = context.parent;\n    token.eos = true;\n\n  } else {\n    stream.eatWhile(/[^|]/);\n    token.name = 'variable';\n  }\n\n  return token;\n};\n\nexport const smalltalk = {\n  name: \"smalltalk\",\n\n  startState: function() {\n    return new State;\n  },\n\n  token: function(stream, state) {\n    state.userIndent(stream.indentation(), stream.indentUnit);\n\n    if (stream.eatSpace()) {\n      return null;\n    }\n\n    var token = state.context.next(stream, state.context, state);\n    state.context = token.context;\n    state.expectVariable = token.eos;\n\n    return token.name;\n  },\n\n  blankLine: function(state, indentUnit) {\n    state.userIndent(0, indentUnit);\n  },\n\n  indent: function(state, textAfter, cx) {\n    var i = state.context.next === next && textAfter && textAfter.charAt(0) === ']' ? -1 : state.userIndentationDelta;\n    return (state.indentation + i) * cx.unit;\n  },\n\n  languageData: {\n    indentOnInput: /^\\s*\\]$/\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}