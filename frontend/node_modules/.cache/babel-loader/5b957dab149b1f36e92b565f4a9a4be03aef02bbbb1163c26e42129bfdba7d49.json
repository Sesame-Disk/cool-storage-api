{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { Editor, Transforms } from '@seafile/slate';\nimport { removeNodeChildren } from './remove-node-children';\nexport var replaceNodeChildren = function replaceNodeChildren(editor, _ref) {\n  var at = _ref.at,\n    nodes = _ref.nodes,\n    insertOptions = _ref.insertOptions,\n    removeOptions = _ref.removeOptions;\n  Editor.withoutNormalizing(editor, function () {\n    removeNodeChildren(editor, at, removeOptions);\n    Transforms.insertNodes(editor, nodes, _objectSpread(_objectSpread({}, insertOptions), {}, {\n      at: at.concat([0])\n    }));\n  });\n};\nexport var replaceNode = function replaceNode(editor) {\n  var _ref2 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    at = _ref2.at,\n    nodes = _ref2.nodes,\n    insertOptions = _ref2.insertOptions,\n    removeOptions = _ref2.removeOptions;\n  Editor.withoutNormalizing(editor, function () {\n    Transforms.removeNodes(editor, _objectSpread({\n      at: at\n    }, removeOptions));\n    Transforms.insertNodes(editor, nodes, _objectSpread(_objectSpread({}, insertOptions), {}, {\n      at: at\n    }));\n  });\n};\nexport var deleteNodeMark = function deleteNodeMark(editor, path, element) {\n  var marks = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  var newElement = _objectSpread({}, element);\n  marks.forEach(function (markItem) {\n    newElement[markItem] && delete newElement[markItem];\n  });\n  replaceNode(editor, {\n    at: path,\n    nodes: newElement\n  });\n};","map":{"version":3,"names":["_objectSpread","Editor","Transforms","removeNodeChildren","replaceNodeChildren","editor","_ref","at","nodes","insertOptions","removeOptions","withoutNormalizing","insertNodes","concat","replaceNode","_ref2","arguments","length","undefined","removeNodes","deleteNodeMark","path","element","marks","newElement","forEach","markItem"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/core/transforms/replace-node.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport { Editor, Transforms } from '@seafile/slate';\nimport { removeNodeChildren } from './remove-node-children';\nexport const replaceNodeChildren = (editor, _ref) => {\n  let {\n    at,\n    nodes,\n    insertOptions,\n    removeOptions\n  } = _ref;\n  Editor.withoutNormalizing(editor, () => {\n    removeNodeChildren(editor, at, removeOptions);\n    Transforms.insertNodes(editor, nodes, _objectSpread(_objectSpread({}, insertOptions), {}, {\n      at: at.concat([0])\n    }));\n  });\n};\nexport const replaceNode = function (editor) {\n  let {\n    at,\n    nodes,\n    insertOptions,\n    removeOptions\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  Editor.withoutNormalizing(editor, () => {\n    Transforms.removeNodes(editor, _objectSpread({\n      at\n    }, removeOptions));\n    Transforms.insertNodes(editor, nodes, _objectSpread(_objectSpread({}, insertOptions), {}, {\n      at\n    }));\n  });\n};\nexport const deleteNodeMark = function (editor, path, element) {\n  let marks = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : [];\n  const newElement = _objectSpread({}, element);\n  marks.forEach(markItem => {\n    newElement[markItem] && delete newElement[markItem];\n  });\n  replaceNode(editor, {\n    at: path,\n    nodes: newElement\n  });\n};"],"mappings":"AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,SAASC,MAAM,EAAEC,UAAU,QAAQ,gBAAgB;AACnD,SAASC,kBAAkB,QAAQ,wBAAwB;AAC3D,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,MAAM,EAAEC,IAAI,EAAK;EACnD,IACEC,EAAE,GAIAD,IAAI,CAJNC,EAAE;IACFC,KAAK,GAGHF,IAAI,CAHNE,KAAK;IACLC,aAAa,GAEXH,IAAI,CAFNG,aAAa;IACbC,aAAa,GACXJ,IAAI,CADNI,aAAa;EAEfT,MAAM,CAACU,kBAAkB,CAACN,MAAM,EAAE,YAAM;IACtCF,kBAAkB,CAACE,MAAM,EAAEE,EAAE,EAAEG,aAAa,CAAC;IAC7CR,UAAU,CAACU,WAAW,CAACP,MAAM,EAAEG,KAAK,EAAER,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAES,aAAa,CAAC,EAAE,CAAC,CAAC,EAAE;MACxFF,EAAE,EAAEA,EAAE,CAACM,MAAM,CAAC,CAAC,CAAC,CAAC;IACnB,CAAC,CAAC,CAAC;EACL,CAAC,CAAC;AACJ,CAAC;AACD,OAAO,IAAMC,WAAW,GAAG,SAAdA,WAAWA,CAAaT,MAAM,EAAE;EAC3C,IAAAU,KAAA,GAKIC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAJxET,EAAE,GAAAQ,KAAA,CAAFR,EAAE;IACFC,KAAK,GAAAO,KAAA,CAALP,KAAK;IACLC,aAAa,GAAAM,KAAA,CAAbN,aAAa;IACbC,aAAa,GAAAK,KAAA,CAAbL,aAAa;EAEfT,MAAM,CAACU,kBAAkB,CAACN,MAAM,EAAE,YAAM;IACtCH,UAAU,CAACiB,WAAW,CAACd,MAAM,EAAEL,aAAa,CAAC;MAC3CO,EAAE,EAAFA;IACF,CAAC,EAAEG,aAAa,CAAC,CAAC;IAClBR,UAAU,CAACU,WAAW,CAACP,MAAM,EAAEG,KAAK,EAAER,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAES,aAAa,CAAC,EAAE,CAAC,CAAC,EAAE;MACxFF,EAAE,EAAFA;IACF,CAAC,CAAC,CAAC;EACL,CAAC,CAAC;AACJ,CAAC;AACD,OAAO,IAAMa,cAAc,GAAG,SAAjBA,cAAcA,CAAaf,MAAM,EAAEgB,IAAI,EAAEC,OAAO,EAAE;EAC7D,IAAIC,KAAK,GAAGP,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE;EAClF,IAAMQ,UAAU,GAAGxB,aAAa,CAAC,CAAC,CAAC,EAAEsB,OAAO,CAAC;EAC7CC,KAAK,CAACE,OAAO,CAAC,UAAAC,QAAQ,EAAI;IACxBF,UAAU,CAACE,QAAQ,CAAC,IAAI,OAAOF,UAAU,CAACE,QAAQ,CAAC;EACrD,CAAC,CAAC;EACFZ,WAAW,CAACT,MAAM,EAAE;IAClBE,EAAE,EAAEc,IAAI;IACRb,KAAK,EAAEgB;EACT,CAAC,CAAC;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}