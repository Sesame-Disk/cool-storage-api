{"ast":null,"code":"import _regeneratorRuntime from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport React, { useCallback } from 'react';\nimport { Button } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\nimport context from '../context';\nimport '../assets/css/error-page.css';\nfunction ErrorPage(_ref) {\n  var t = _ref.t;\n  var normalizeSdoc = useCallback( /*#__PURE__*/_asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n    var res, success;\n    return _regeneratorRuntime().wrap(function _callee$(_context) {\n      while (1) switch (_context.prev = _context.next) {\n        case 0:\n          _context.next = 2;\n          return context.normalizeSdocContent();\n        case 2:\n          res = _context.sent;\n          success = res.data.success;\n          if (success) {\n            // eslint-disable-next-line no-restricted-globals\n            location.reload(true);\n          }\n        case 5:\n        case \"end\":\n          return _context.stop();\n      }\n    }, _callee);\n  })), []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-page\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error-tip\"\n  }, t('Sdoc_error_tip')), /*#__PURE__*/React.createElement(Button, {\n    className: \"error-button\",\n    onClick: function onClick() {\n      return normalizeSdoc();\n    }\n  }, t('Repair')));\n}\nexport default withTranslation('sdoc-editor')(ErrorPage);","map":{"version":3,"names":["React","useCallback","Button","withTranslation","context","ErrorPage","_ref","t","normalizeSdoc","_asyncToGenerator","_regeneratorRuntime","mark","_callee","res","success","wrap","_callee$","_context","prev","next","normalizeSdocContent","sent","data","location","reload","stop","createElement","className","onClick"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/pages/error-page.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { Button } from 'reactstrap';\nimport { withTranslation } from 'react-i18next';\nimport context from '../context';\nimport '../assets/css/error-page.css';\nfunction ErrorPage(_ref) {\n  let {\n    t\n  } = _ref;\n  const normalizeSdoc = useCallback(async () => {\n    const res = await context.normalizeSdocContent();\n    const {\n      success\n    } = res.data;\n    if (success) {\n      // eslint-disable-next-line no-restricted-globals\n      location.reload(true);\n    }\n  }, []);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"error-page\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: \"error-tip\"\n  }, t('Sdoc_error_tip')), /*#__PURE__*/React.createElement(Button, {\n    className: \"error-button\",\n    onClick: () => normalizeSdoc()\n  }, t('Repair')));\n}\nexport default withTranslation('sdoc-editor')(ErrorPage);"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,MAAM,QAAQ,YAAY;AACnC,SAASC,eAAe,QAAQ,eAAe;AAC/C,OAAOC,OAAO,MAAM,YAAY;AAChC,OAAO,8BAA8B;AACrC,SAASC,SAASA,CAACC,IAAI,EAAE;EACvB,IACEC,CAAC,GACCD,IAAI,CADNC,CAAC;EAEH,IAAMC,aAAa,GAAGP,WAAW,eAAAQ,iBAAA,eAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAA;IAAA,IAAAC,GAAA,EAAAC,OAAA;IAAA,OAAAJ,mBAAA,GAAAK,IAAA,UAAAC,SAAAC,QAAA;MAAA,kBAAAA,QAAA,CAAAC,IAAA,GAAAD,QAAA,CAAAE,IAAA;QAAA;UAAAF,QAAA,CAAAE,IAAA;UAAA,OACdf,OAAO,CAACgB,oBAAoB,CAAC,CAAC;QAAA;UAA1CP,GAAG,GAAAI,QAAA,CAAAI,IAAA;UAEPP,OAAO,GACLD,GAAG,CAACS,IAAI,CADVR,OAAO;UAET,IAAIA,OAAO,EAAE;YACX;YACAS,QAAQ,CAACC,MAAM,CAAC,IAAI,CAAC;UACvB;QAAC;QAAA;UAAA,OAAAP,QAAA,CAAAQ,IAAA;MAAA;IAAA,GAAAb,OAAA;EAAA,CACF,IAAE,EAAE,CAAC;EACN,OAAO,aAAaZ,KAAK,CAAC0B,aAAa,CAAC,KAAK,EAAE;IAC7CC,SAAS,EAAE;EACb,CAAC,EAAE,aAAa3B,KAAK,CAAC0B,aAAa,CAAC,MAAM,EAAE;IAC1CC,SAAS,EAAE;EACb,CAAC,EAAEpB,CAAC,CAAC,gBAAgB,CAAC,CAAC,EAAE,aAAaP,KAAK,CAAC0B,aAAa,CAACxB,MAAM,EAAE;IAChEyB,SAAS,EAAE,cAAc;IACzBC,OAAO,EAAE,SAAAA,QAAA;MAAA,OAAMpB,aAAa,CAAC,CAAC;IAAA;EAChC,CAAC,EAAED,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC;AAClB;AACA,eAAeJ,eAAe,CAAC,aAAa,CAAC,CAACE,SAAS,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}