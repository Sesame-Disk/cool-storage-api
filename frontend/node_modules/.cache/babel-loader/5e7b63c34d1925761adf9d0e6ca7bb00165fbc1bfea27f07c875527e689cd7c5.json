{"ast":null,"code":"import _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { Input } from 'reactstrap';\nimport isHotkey from 'is-hotkey';\nimport { TABLE_MAX_COLUMNS, TABLE_MAX_ROWS, TABLE_ELEMENT, TABLE_ELEMENT_POSITION } from '../../constants';\nvar InsertTableElement = /*#__PURE__*/function (_Component) {\n  _inherits(InsertTableElement, _Component);\n  var _super = _createSuper(InsertTableElement);\n  function InsertTableElement(props) {\n    var _this;\n    _classCallCheck(this, InsertTableElement);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"insertTableElement\", function () {\n      var _this$props = _this.props,\n        type = _this$props.type,\n        position = _this$props.position;\n      var count = _this.state.count;\n      _this.props.insertTableElement(type, position, count);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"getTip\", function () {\n      var _this$props2 = _this.props,\n        type = _this$props2.type,\n        position = _this$props2.position,\n        t = _this$props2.t;\n      if (type === TABLE_ELEMENT.ROW) {\n        return position === TABLE_ELEMENT_POSITION.AFTER ? t('Insert_below') : t('Insert_above');\n      }\n      return position === TABLE_ELEMENT_POSITION.AFTER ? t('Insert_on_the_right') : t('Insert_on_the_left');\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onKeyDown\", function (event) {\n      if (isHotkey('enter', event)) {\n        event.preventDefault();\n        _this.insertTableElement();\n        return;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onChange\", function (event) {\n      var value = event.target.value || '0';\n      var newValue = value ? value.replace(/[^\\d,]/g, '') : value;\n      if (newValue === _this.state.count) return;\n      var currentCount = _this.props.currentCount;\n      var numberValue = parseInt(newValue);\n      if (currentCount + numberValue > _this.maxCount) {\n        _this.setState({\n          count: _this.maxCount - currentCount\n        });\n        return;\n      }\n      _this.setState({\n        count: numberValue\n      });\n    });\n    _this.state = {\n      count: props.count || 1\n    };\n    _this.maxCount = props.type === TABLE_ELEMENT.ROW ? TABLE_MAX_ROWS : TABLE_MAX_COLUMNS;\n    return _this;\n  }\n  _createClass(InsertTableElement, [{\n    key: \"render\",\n    value: function render() {\n      var count = this.state.count;\n      var _this$props3 = this.props,\n        t = _this$props3.t,\n        type = _this$props3.type,\n        currentCount = _this$props3.currentCount;\n      var isDisabled = currentCount >= this.maxCount;\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onMouseDown: this.insertTableElement,\n        className: \"dropdown-item d-flex align-items-center justify-content-between\",\n        disabled: isDisabled\n      }, this.getTip(), /*#__PURE__*/React.createElement(\"div\", {\n        className: \"insert-number d-flex align-items-center\"\n      }, /*#__PURE__*/React.createElement(Input, {\n        disabled: isDisabled,\n        className: \"insert-number-input\",\n        onMouseDown: function onMouseDown(e) {\n          e.stopPropagation();\n        },\n        onKeyDown: this.onKeyDown,\n        value: count,\n        onChange: this.onChange\n      }), /*#__PURE__*/React.createElement(\"span\", null, type === TABLE_ELEMENT.ROW ? t('Row(s)') : t('Column(s)'))));\n    }\n  }]);\n  return InsertTableElement;\n}(Component);\nexport default withTranslation('sdoc-editor')(InsertTableElement);","map":{"version":3,"names":["_defineProperty","React","Component","withTranslation","Input","isHotkey","TABLE_MAX_COLUMNS","TABLE_MAX_ROWS","TABLE_ELEMENT","TABLE_ELEMENT_POSITION","InsertTableElement","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","_assertThisInitialized","_this$props","type","position","count","state","insertTableElement","_this$props2","t","ROW","AFTER","event","preventDefault","value","target","newValue","replace","currentCount","numberValue","parseInt","maxCount","setState","_createClass","key","render","_this$props3","isDisabled","createElement","onMouseDown","className","disabled","getTip","e","stopPropagation","onKeyDown","onChange"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/table/menu/table-context-menu/insert-table-element.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React, { Component } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { Input } from 'reactstrap';\nimport isHotkey from 'is-hotkey';\nimport { TABLE_MAX_COLUMNS, TABLE_MAX_ROWS, TABLE_ELEMENT, TABLE_ELEMENT_POSITION } from '../../constants';\nclass InsertTableElement extends Component {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"insertTableElement\", () => {\n      const {\n        type,\n        position\n      } = this.props;\n      const {\n        count\n      } = this.state;\n      this.props.insertTableElement(type, position, count);\n    });\n    _defineProperty(this, \"getTip\", () => {\n      const {\n        type,\n        position,\n        t\n      } = this.props;\n      if (type === TABLE_ELEMENT.ROW) {\n        return position === TABLE_ELEMENT_POSITION.AFTER ? t('Insert_below') : t('Insert_above');\n      }\n      return position === TABLE_ELEMENT_POSITION.AFTER ? t('Insert_on_the_right') : t('Insert_on_the_left');\n    });\n    _defineProperty(this, \"onKeyDown\", event => {\n      if (isHotkey('enter', event)) {\n        event.preventDefault();\n        this.insertTableElement();\n        return;\n      }\n    });\n    _defineProperty(this, \"onChange\", event => {\n      const value = event.target.value || '0';\n      const newValue = value ? value.replace(/[^\\d,]/g, '') : value;\n      if (newValue === this.state.count) return;\n      const {\n        currentCount\n      } = this.props;\n      const numberValue = parseInt(newValue);\n      if (currentCount + numberValue > this.maxCount) {\n        this.setState({\n          count: this.maxCount - currentCount\n        });\n        return;\n      }\n      this.setState({\n        count: numberValue\n      });\n    });\n    this.state = {\n      count: props.count || 1\n    };\n    this.maxCount = props.type === TABLE_ELEMENT.ROW ? TABLE_MAX_ROWS : TABLE_MAX_COLUMNS;\n  }\n  render() {\n    const {\n      count\n    } = this.state;\n    const {\n      t,\n      type,\n      currentCount\n    } = this.props;\n    const isDisabled = currentCount >= this.maxCount;\n    return /*#__PURE__*/React.createElement(\"button\", {\n      onMouseDown: this.insertTableElement,\n      className: \"dropdown-item d-flex align-items-center justify-content-between\",\n      disabled: isDisabled\n    }, this.getTip(), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"insert-number d-flex align-items-center\"\n    }, /*#__PURE__*/React.createElement(Input, {\n      disabled: isDisabled,\n      className: \"insert-number-input\",\n      onMouseDown: e => {\n        e.stopPropagation();\n      },\n      onKeyDown: this.onKeyDown,\n      value: count,\n      onChange: this.onChange\n    }), /*#__PURE__*/React.createElement(\"span\", null, type === TABLE_ELEMENT.ROW ? t('Row(s)') : t('Column(s)'))));\n  }\n}\nexport default withTranslation('sdoc-editor')(InsertTableElement);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}