{"ast":null,"code":"import _objectSpread from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Button}from'reactstrap';import moment from'moment';import{Utils}from'../../../utils/utils';import{seafileAPI}from'../../../utils/seafile-api';import{gettext}from'../../../utils/constants';import toaster from'../../../components/toast';import EmptyTip from'../../../components/empty-tip';import Loading from'../../../components/loading';import Paginator from'../../../components/paginator';import ModalPortal from'../../../components/modal-portal';import OpMenu from'../../../components/dialog/op-menu';import CommonOperationConfirmationDialog from'../../../components/dialog/common-operation-confirmation-dialog';import MainPanelTopbar from'../main-panel-topbar';import Search from'../search';import UserLink from'../user-link';import ReposNav from'./repos-nav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var trashReposExpireDays=window.sysadmin.pageOptions.trashReposExpireDays;var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.getPreviousPageList=function(){_this.props.getListByPage(_this.props.pageInfo.current_page-1);};_this.getNextPageList=function(){_this.props.getListByPage(_this.props.pageInfo.current_page+1);};_this.state={isItemFreezed:false};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,pageInfo=_this$props.pageInfo,curPerPage=_this$props.curPerPage;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center mt-4\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsx(EmptyTip,{children:/*#__PURE__*/_jsx(\"h2\",{children:gettext('No deleted libraries')})});var table=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 small text-secondary\",children:gettext('Tip: libraries deleted {trashReposExpireDays} days ago will be cleaned automatically.').replace('{trashReposExpireDays}',trashReposExpireDays)}),/*#__PURE__*/_jsxs(\"table\",{className:\"table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"5%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"43%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"27%\",children:gettext('Owner')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Deleted Time')}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{repo:item,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem,onDeleteRepo:_this2.props.onDeleteRepo,onRestoreRepo:_this2.props.onRestoreRepo},index);})})]}),pageInfo&&/*#__PURE__*/_jsx(Paginator,{gotoPreviousPage:this.getPreviousPageList,gotoNextPage:this.getNextPageList,currentPage:pageInfo.current_page,hasNextPage:pageInfo.has_next_page,curPerPage:curPerPage,resetPerPage:this.props.resetPerPage})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super2.call(this,props);_this3.handleMouseOver=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:true,highlight:true});}};_this3.handleMouseOut=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:false,highlight:false});}};_this3.onUnfreezedItem=function(){_this3.setState({highlight:false,isOpIconShow:false});_this3.props.onUnfreezedItem();};_this3.onDeleteRepo=function(){var repo=_this3.props.repo;seafileAPI.sysAdminDeleteTrashRepo(repo.id).then(function(res){_this3.props.onDeleteRepo(repo);var msg=gettext('Successfully deleted {name}.').replace('{name}',repo.name);toaster.success(msg);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.onRestoreRepo=function(){var repo=_this3.props.repo;seafileAPI.sysAdminRestoreTrashRepo(repo.id).then(function(res){_this3.props.onRestoreRepo(repo);var message=gettext('Successfully restored the library.');toaster.success(message);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.toggleDeleteRepoDialog=function(e){if(e){e.preventDefault();}_this3.setState({isDeleteRepoDialogOpen:!_this3.state.isDeleteRepoDialogOpen});};_this3.toggleRestoreRepoDialog=function(e){if(e){e.preventDefault();}_this3.setState({isRestoreRepoDialogOpen:!_this3.state.isRestoreRepoDialogOpen});};_this3.translateOperations=function(item){var translateResult='';switch(item){case'Restore':translateResult=gettext('Restore');break;case'Delete':translateResult=gettext('Delete');break;default:break;}return translateResult;};_this3.onMenuItemClick=function(operation){switch(operation){case'Restore':_this3.toggleRestoreRepoDialog();break;case'Delete':_this3.toggleDeleteRepoDialog();break;default:break;}};_this3.state={highlight:false,isOpIconShown:false,isDeleteRepoDialogOpen:false,isRestoreRepoDialogOpen:false};return _this3;}_createClass(Item,[{key:\"render\",value:function render(){var repo=this.props.repo;var _this$state=this.state,isOpIconShown=_this$state.isOpIconShown,isDeleteRepoDialogOpen=_this$state.isDeleteRepoDialogOpen,isRestoreRepoDialogOpen=_this$state.isRestoreRepoDialogOpen;var iconUrl=Utils.getLibIconUrl(repo);var iconTitle=Utils.getLibIconTitle(repo);var repoName='<span class=\"op-target\">'+Utils.HTMLescape(repo.name)+'</span>';return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,title:iconTitle,alt:iconTitle,width:\"24\"})}),/*#__PURE__*/_jsx(\"td\",{children:repo.name}),/*#__PURE__*/_jsx(\"td\",{children:repo.owner.indexOf('@seafile_group')==-1?/*#__PURE__*/_jsx(UserLink,{email:repo.owner,name:repo.owner_name}):repo.group_name}),/*#__PURE__*/_jsx(\"td\",{children:moment(repo.delete_time).fromNow()}),/*#__PURE__*/_jsx(\"td\",{children:isOpIconShown&&/*#__PURE__*/_jsx(OpMenu,{operations:['Restore','Delete'],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem})})]}),isDeleteRepoDialogOpen&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(CommonOperationConfirmationDialog,{title:gettext('Delete Library'),message:gettext('Are you sure you want to delete {placeholder} completely?').replace('{placeholder}',repoName),executeOperation:this.onDeleteRepo,confirmBtnText:gettext('Delete'),toggleDialog:this.toggleDeleteRepoDialog})}),isRestoreRepoDialogOpen&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(CommonOperationConfirmationDialog,{title:gettext('Restore Library'),message:gettext('Are you sure you want to restore {placeholder}?').replace('{placeholder}',repoName),executeOperation:this.onRestoreRepo,confirmBtnText:gettext('Restore'),toggleDialog:this.toggleRestoreRepoDialog})})]});}}]);return Item;}(Component);var TrashRepos=/*#__PURE__*/function(_Component3){_inherits(TrashRepos,_Component3);var _super3=_createSuper(TrashRepos);function TrashRepos(props){var _this4;_classCallCheck(this,TrashRepos);_this4=_super3.call(this,props);_this4.toggleCleanTrashDialog=function(){_this4.setState({isCleanTrashDialogOpen:!_this4.state.isCleanTrashDialogOpen});};_this4.getReposByPage=function(page){var perPage=_this4.state.perPage;seafileAPI.sysAdminListTrashRepos(page,perPage).then(function(res){_this4.setState({repos:res.data.repos,pageInfo:res.data.page_info,loading:false});}).catch(function(error){_this4.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this4.resetPerPage=function(perPage){_this4.setState({perPage:perPage},function(){_this4.getReposByPage(1);});};_this4.onDeleteRepo=function(targetRepo){var repos=_this4.state.repos.filter(function(repo){return repo.id!=targetRepo.id;});_this4.setState({repos:repos});};_this4.onRestoreRepo=function(targetRepo){var repos=_this4.state.repos.filter(function(repo){return repo.id!=targetRepo.id;});_this4.setState({repos:repos});};_this4.cleanTrash=function(){seafileAPI.sysAdminCleanTrashRepos().then(function(res){_this4.setState({repos:[]});toaster.success(gettext('Successfully cleared trash.'));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.getSearch=function(){return/*#__PURE__*/_jsx(Search,{placeholder:gettext('Search libraries by owner'),submit:_this4.searchRepos});};_this4.searchRepos=function(owner){seafileAPI.sysAdminSearchTrashRepos(owner).then(function(res){_this4.setState({repos:res.data.repos,pageInfo:null,errorMsg:'',// necessary!\nloading:false});}).catch(function(error){_this4.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this4.state={loading:true,errorMsg:'',repos:[],pageInfo:{},perPage:25,isCleanTrashDialogOpen:false};return _this4;}_createClass(TrashRepos,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;var urlParams=new URL(window.location).searchParams;var _this$state2=this.state,_this$state2$currentP=_this$state2.currentPage,currentPage=_this$state2$currentP===void 0?1:_this$state2$currentP,perPage=_this$state2.perPage;this.setState({perPage:parseInt(urlParams.get('per_page')||perPage),currentPage:parseInt(urlParams.get('page')||currentPage)},function(){_this5.getReposByPage(_this5.state.currentPage);});}},{key:\"render\",value:function render(){var isCleanTrashDialogOpen=this.state.isCleanTrashDialogOpen;// enable 'search': <MainPanelTopbar search={this.getSearch()}>\nreturn/*#__PURE__*/_jsxs(Fragment,{children:[this.state.repos.length?/*#__PURE__*/_jsx(MainPanelTopbar,_objectSpread(_objectSpread({},this.props),{},{children:/*#__PURE__*/_jsx(Button,{className:\"operation-item\",onClick:this.toggleCleanTrashDialog,children:gettext('Clean')})})):/*#__PURE__*/_jsx(MainPanelTopbar,_objectSpread({},this.props)),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(ReposNav,{currentItem:\"trash\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.repos,pageInfo:this.state.pageInfo,onDeleteRepo:this.onDeleteRepo,onRestoreRepo:this.onRestoreRepo,getListByPage:this.getReposByPage,resetPerPage:this.resetPerPage,curPerPage:this.state.perPage})})]})}),isCleanTrashDialogOpen&&/*#__PURE__*/_jsx(CommonOperationConfirmationDialog,{title:gettext('Clear Trash'),message:gettext('Are you sure you want to clear trash?'),executeOperation:this.cleanTrash,confirmBtnText:gettext('Clear'),toggleDialog:this.toggleCleanTrashDialog})]});}}]);return TrashRepos;}(Component);export default TrashRepos;","map":{"version":3,"names":["React","Component","Fragment","Button","moment","Utils","seafileAPI","gettext","toaster","EmptyTip","Loading","Paginator","ModalPortal","OpMenu","CommonOperationConfirmationDialog","MainPanelTopbar","Search","UserLink","ReposNav","jsx","_jsx","jsxs","_jsxs","trashReposExpireDays","window","sysadmin","pageOptions","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onFreezedItem","setState","isItemFreezed","onUnfreezedItem","getPreviousPageList","getListByPage","pageInfo","current_page","getNextPageList","state","_createClass","key","value","render","_this2","_this$props","loading","errorMsg","items","curPerPage","className","children","emptyTip","table","replace","width","map","item","index","Item","repo","onDeleteRepo","onRestoreRepo","gotoPreviousPage","gotoNextPage","currentPage","hasNextPage","has_next_page","resetPerPage","length","_Component2","_super2","_this3","handleMouseOver","isOpIconShown","highlight","handleMouseOut","isOpIconShow","sysAdminDeleteTrashRepo","id","then","res","msg","name","success","catch","error","errMessage","getErrorMsg","danger","sysAdminRestoreTrashRepo","message","toggleDeleteRepoDialog","e","preventDefault","isDeleteRepoDialogOpen","toggleRestoreRepoDialog","isRestoreRepoDialogOpen","translateOperations","translateResult","onMenuItemClick","operation","_this$state","iconUrl","getLibIconUrl","iconTitle","getLibIconTitle","repoName","HTMLescape","onMouseEnter","onMouseLeave","src","title","alt","owner","indexOf","email","owner_name","group_name","delete_time","fromNow","operations","executeOperation","confirmBtnText","toggleDialog","TrashRepos","_Component3","_super3","_this4","toggleCleanTrashDialog","isCleanTrashDialogOpen","getReposByPage","page","perPage","sysAdminListTrashRepos","repos","data","page_info","targetRepo","filter","cleanTrash","sysAdminCleanTrashRepos","getSearch","placeholder","submit","searchRepos","sysAdminSearchTrashRepos","componentDidMount","_this5","urlParams","URL","location","searchParams","_this$state2","_this$state2$currentP","parseInt","get","_objectSpread","onClick","currentItem"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/repos/trash-repos.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport ModalPortal from '../../../components/modal-portal';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Search from '../search';\nimport UserLink from '../user-link';\nimport ReposNav from './repos-nav';\n\nconst { trashReposExpireDays } = window.sysadmin.pageOptions;\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageList = () => {\n    this.props.getListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No deleted libraries')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <p className=\"mt-4 small text-secondary\">{gettext('Tip: libraries deleted {trashReposExpireDays} days ago will be cleaned automatically.').replace('{trashReposExpireDays}', trashReposExpireDays)}</p>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"5%\">{/*icon*/}</th>\n                <th width=\"43%\">{gettext('Name')}</th>\n                <th width=\"27%\">{gettext('Owner')}</th>\n                <th width=\"20%\">{gettext('Deleted Time')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  repo={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  onDeleteRepo={this.props.onDeleteRepo}\n                  onRestoreRepo={this.props.onRestoreRepo}\n                />);\n              })}\n            </tbody>\n          </table>\n          {pageInfo &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageList}\n            gotoNextPage={this.getNextPageList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  deleteItem: PropTypes.func,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  resetPerPage: PropTypes.func,\n  pageInfo: PropTypes.object,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false,\n      isDeleteRepoDialogOpen: false,\n      isRestoreRepoDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseOut = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onDeleteRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminDeleteTrashRepo(repo.id).then((res) => {\n      this.props.onDeleteRepo(repo);\n      const msg = gettext('Successfully deleted {name}.').replace('{name}', repo.name);\n      toaster.success(msg);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onRestoreRepo = () => {\n    const repo = this.props.repo;\n    seafileAPI.sysAdminRestoreTrashRepo(repo.id).then((res) => {\n      this.props.onRestoreRepo(repo);\n      let message = gettext('Successfully restored the library.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleDeleteRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isDeleteRepoDialogOpen: !this.state.isDeleteRepoDialogOpen});\n  };\n\n  toggleRestoreRepoDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isRestoreRepoDialogOpen: !this.state.isRestoreRepoDialogOpen});\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Restore':\n        translateResult = gettext('Restore');\n        break;\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      default:\n        break;\n    }\n\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Restore':\n        this.toggleRestoreRepoDialog();\n        break;\n      case 'Delete':\n        this.toggleDeleteRepoDialog();\n        break;\n      default:\n        break;\n    }\n  };\n\n  render () {\n    const { repo } = this.props;\n    const { isOpIconShown, isDeleteRepoDialogOpen, isRestoreRepoDialogOpen } = this.state;\n    const iconUrl = Utils.getLibIconUrl(repo);\n    const iconTitle = Utils.getLibIconTitle(repo);\n    const repoName = '<span class=\"op-target\">' + Utils.HTMLescape(repo.name) + '</span>';\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>{repo.name}</td>\n          <td>\n            {repo.owner.indexOf('@seafile_group') == -1 ?\n              <UserLink email={repo.owner} name={repo.owner_name} /> :\n              repo.group_name}\n          </td>\n          <td>{moment(repo.delete_time).fromNow()}</td>\n          <td>\n            {isOpIconShown && (\n              <OpMenu\n                operations={['Restore', 'Delete']}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            )}\n          </td>\n        </tr>\n        {isDeleteRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Delete Library')}\n              message={gettext('Are you sure you want to delete {placeholder} completely?').replace('{placeholder}', repoName)}\n              executeOperation={this.onDeleteRepo}\n              confirmBtnText={gettext('Delete')}\n              toggleDialog={this.toggleDeleteRepoDialog}\n            />\n          </ModalPortal>\n        }\n        {isRestoreRepoDialogOpen &&\n          <ModalPortal>\n            <CommonOperationConfirmationDialog\n              title={gettext('Restore Library')}\n              message={gettext('Are you sure you want to restore {placeholder}?').replace('{placeholder}', repoName)}\n              executeOperation={this.onRestoreRepo}\n              confirmBtnText={gettext('Restore')}\n              toggleDialog={this.toggleRestoreRepoDialog}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  repo: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onRestoreRepo: PropTypes.func,\n};\n\nclass TrashRepos extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      repos: [],\n      pageInfo: {},\n      perPage: 25,\n      isCleanTrashDialogOpen: false\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getReposByPage(this.state.currentPage);\n    });\n  }\n\n  toggleCleanTrashDialog = () => {\n    this.setState({isCleanTrashDialogOpen: !this.state.isCleanTrashDialogOpen});\n  };\n\n  getReposByPage = (page) => {\n    let perPage = this.state.perPage;\n    seafileAPI.sysAdminListTrashRepos(page, perPage).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getReposByPage(1);\n    });\n  };\n\n  onDeleteRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  onRestoreRepo = (targetRepo) => {\n    let repos = this.state.repos.filter(repo => {\n      return repo.id != targetRepo.id;\n    });\n    this.setState({\n      repos: repos\n    });\n  };\n\n  cleanTrash = () => {\n    seafileAPI.sysAdminCleanTrashRepos().then(res => {\n      this.setState({repos: []});\n      toaster.success(gettext('Successfully cleared trash.'));\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  getSearch = () => {\n    return <Search\n      placeholder={gettext('Search libraries by owner')}\n      submit={this.searchRepos}\n    />;\n  };\n\n  searchRepos = (owner) => {\n    seafileAPI.sysAdminSearchTrashRepos(owner).then((res) => {\n      this.setState({\n        repos: res.data.repos,\n        pageInfo: null,\n        errorMsg: '', // necessary!\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  render() {\n    const { isCleanTrashDialogOpen } = this.state;\n\n    // enable 'search': <MainPanelTopbar search={this.getSearch()}>\n    return (\n      <Fragment>\n        {this.state.repos.length ? (\n          <MainPanelTopbar {...this.props}>\n            <Button className=\"operation-item\" onClick={this.toggleCleanTrashDialog}>{gettext('Clean')}</Button>\n          </MainPanelTopbar>\n        ) : <MainPanelTopbar {...this.props} />\n        }\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <ReposNav currentItem=\"trash\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.repos}\n                pageInfo={this.state.pageInfo}\n                onDeleteRepo={this.onDeleteRepo}\n                onRestoreRepo={this.onRestoreRepo}\n                getListByPage={this.getReposByPage}\n                resetPerPage={this.resetPerPage}\n                curPerPage={this.state.perPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isCleanTrashDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Clear Trash')}\n            message={gettext('Are you sure you want to clear trash?')}\n            executeOperation={this.cleanTrash}\n            confirmBtnText={gettext('Clear')}\n            toggleDialog={this.toggleCleanTrashDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nexport default TrashRepos;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}