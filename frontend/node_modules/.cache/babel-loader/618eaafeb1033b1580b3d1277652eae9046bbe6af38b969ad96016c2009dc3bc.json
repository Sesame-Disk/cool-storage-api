{"ast":null,"code":"import _objectSpread from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{seafileAPI}from'../../../utils/seafile-api';import{gettext}from'../../../utils/constants';import{Utils}from'../../../utils/utils';import toaster from'../../../components/toast';import OpMenu from'../../../components/dialog/op-menu';import Loading from'../../../components/loading';import Paginator from'../../../components/paginator';import MainPanelTopbar from'../main-panel-topbar';import Nav from'./nav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VirusFileItem=/*#__PURE__*/function(_Component){_inherits(VirusFileItem,_Component);var _super=_createSuper(VirusFileItem);function VirusFileItem(props){var _this;_classCallCheck(this,VirusFileItem);_this=_super.call(this,props);_this.handleMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({isOpIconShown:true,highlight:true});}};_this.handleMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({isOpIconShown:false,highlight:false});}};_this.onUnfreezedItem=function(){_this.setState({highlight:false,isOpIconShow:false});_this.props.onUnfreezedItem();};_this.onMenuItemClick=function(operation){_this.props.handleFile(_this.props.virusFile.virus_id,operation);};_this.translateOperations=function(item){var translateResult='';switch(item){case'delete':translateResult=gettext('Delete');break;case'ignore':translateResult=gettext('Ignore');break;case'do-not-ignore':translateResult=gettext('Don\\'t ignore');break;}return translateResult;};_this.state={highlight:false,isOpIconShown:false};return _this;}_createClass(VirusFileItem,[{key:\"render\",value:function render(){var virusFile=this.props.virusFile;var fileStatus='',fileOpList=[];if(virusFile.has_deleted){fileStatus=/*#__PURE__*/_jsx(\"span\",{className:\"text-green\",children:gettext('Deleted')});}else if(virusFile.has_ignored){fileStatus=/*#__PURE__*/_jsx(\"span\",{className:\"text-orange\",children:gettext('Ignored')});fileOpList=['do-not-ignore'];}else{fileStatus=/*#__PURE__*/_jsx(\"span\",{className:\"text-red\",children:gettext('Unhandled')});fileOpList=['delete','ignore'];}return/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{children:virusFile.repo_name}),/*#__PURE__*/_jsx(\"td\",{children:virusFile.repo_owner}),/*#__PURE__*/_jsx(\"td\",{children:virusFile.file_path}),/*#__PURE__*/_jsx(\"td\",{children:fileStatus}),/*#__PURE__*/_jsx(\"td\",{children:fileOpList.length>0&&this.state.isOpIconShown&&/*#__PURE__*/_jsx(OpMenu,{operations:fileOpList,translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem})})]});}}]);return VirusFileItem;}(Component);var Content=/*#__PURE__*/function(_Component2){_inherits(Content,_Component2);var _super2=_createSuper(Content);function Content(props){var _this2;_classCallCheck(this,Content);_this2=_super2.call(this,props);_this2.onFreezedItem=function(){_this2.setState({isItemFreezed:true});};_this2.onUnfreezedItem=function(){_this2.setState({isItemFreezed:false});};_this2.getPreviousPage=function(){_this2.props.getListByPage(_this2.props.currentPage-1);};_this2.getNextPage=function(){_this2.props.getListByPage(_this2.props.currentPage+1);};_this2.state={isItemFreezed:false};return _this2;}_createClass(Content,[{key:\"render\",value:function render(){var _this3=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,virusFiles=_this$props.virusFiles,curPerPage=_this$props.curPerPage,hasNextPage=_this$props.hasNextPage,currentPage=_this$props.currentPage;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center mt-4\",children:errorMsg});}else{return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"27%\",children:gettext('Library')}),/*#__PURE__*/_jsx(\"th\",{width:\"25%\",children:gettext('Owner')}),/*#__PURE__*/_jsx(\"th\",{width:\"28%\",children:gettext('Virus File')}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:gettext('Status')}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:virusFiles.map(function(virusFile,index){return/*#__PURE__*/_jsx(VirusFileItem,{virusFile:virusFile,isItemFreezed:_this3.state.isItemFreezed,onFreezedItem:_this3.onFreezedItem,onUnfreezedItem:_this3.onUnfreezedItem,handleFile:_this3.props.handleFile},index);})})]}),virusFiles.length>0&&/*#__PURE__*/_jsx(Paginator,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:currentPage,hasNextPage:hasNextPage,curPerPage:curPerPage,resetPerPage:this.props.resetPerPage})]});}}}]);return Content;}(Component);var AllVirusFiles=/*#__PURE__*/function(_Component3){_inherits(AllVirusFiles,_Component3);var _super3=_createSuper(AllVirusFiles);function AllVirusFiles(props){var _this4;_classCallCheck(this,AllVirusFiles);_this4=_super3.call(this,props);_this4.getListByPage=function(page){var perPage=_this4.state.perPage;seafileAPI.listVirusFiles(page,perPage).then(function(res){var data=res.data;_this4.setState({loading:false,virusFiles:data.virus_file_list,hasNextPage:data.has_next_page});}).catch(function(error){_this4.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this4.resetPerPage=function(perPage){_this4.setState({perPage:perPage},function(){_this4.getListByPage(1);});};_this4.handleFile=function(virusID,op){var request;switch(op){case'delete':request=seafileAPI.deleteVirusFile(virusID);break;case'ignore':request=seafileAPI.toggleIgnoreVirusFile(virusID,true);break;case'do-not-ignore':request=seafileAPI.toggleIgnoreVirusFile(virusID,false);break;}request.then(function(res){_this4.setState({virusFiles:_this4.state.virusFiles.map(function(item){if(item.virus_id==virusID){if(op=='delete'){item.has_deleted=true;}else{item=res.data.virus_file;}}return item;})});}).catch(function(error){toaster.danger(Utils.getErrorMsg(error));});};_this4.state={loading:true,errorMsg:'',virusFiles:[],currentPage:1,perPage:25,hasNextPage:false};return _this4;}_createClass(AllVirusFiles,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;var urlParams=new URL(window.location).searchParams;var _this$state=this.state,currentPage=_this$state.currentPage,perPage=_this$state.perPage;this.setState({perPage:parseInt(urlParams.get('per_page')||perPage),currentPage:parseInt(urlParams.get('page')||currentPage)},function(){_this5.getListByPage(_this5.state.currentPage);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,_objectSpread({},this.props)),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(Nav,{currentItem:\"all\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,virusFiles:this.state.virusFiles,currentPage:this.state.currentPage,hasNextPage:this.state.hasNextPage,curPerPage:this.state.perPage,resetPerPage:this.resetPerPage,getListByPage:this.getListByPage,handleFile:this.handleFile})})]})})]});}}]);return AllVirusFiles;}(Component);export default AllVirusFiles;","map":{"version":3,"names":["React","Component","Fragment","seafileAPI","gettext","Utils","toaster","OpMenu","Loading","Paginator","MainPanelTopbar","Nav","jsx","_jsx","jsxs","_jsxs","VirusFileItem","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleMouseEnter","isItemFreezed","setState","isOpIconShown","highlight","handleMouseLeave","onUnfreezedItem","isOpIconShow","onMenuItemClick","operation","handleFile","virusFile","virus_id","translateOperations","item","translateResult","state","_createClass","key","value","render","fileStatus","fileOpList","has_deleted","className","children","has_ignored","onMouseEnter","onMouseLeave","repo_name","repo_owner","file_path","length","operations","onFreezedItem","Content","_Component2","_super2","_this2","getPreviousPage","getListByPage","currentPage","getNextPage","_this3","_this$props","loading","errorMsg","virusFiles","curPerPage","hasNextPage","width","map","index","gotoPreviousPage","gotoNextPage","resetPerPage","AllVirusFiles","_Component3","_super3","_this4","page","perPage","listVirusFiles","then","res","data","virus_file_list","has_next_page","catch","error","getErrorMsg","virusID","op","request","deleteVirusFile","toggleIgnoreVirusFile","virus_file","danger","componentDidMount","_this5","urlParams","URL","window","location","searchParams","_this$state","parseInt","get","_objectSpread","currentItem"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/virus-scan/all-virus-files.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../../components/toast';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport Nav from './nav';\n\nconst virusFileItemPropTypes = {\n  virusFile: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n};\n\nclass VirusFileItem extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  onMenuItemClick = (operation) => {\n    this.props.handleFile(this.props.virusFile.virus_id, operation);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'ignore':\n        translateResult = gettext('Ignore');\n        break;\n      case 'do-not-ignore':\n        translateResult = gettext('Don\\'t ignore');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const virusFile = this.props.virusFile;\n    let fileStatus = '',\n      fileOpList = [];\n    if (virusFile.has_deleted) {\n      fileStatus = <span className=\"text-green\">{gettext('Deleted')}</span>;\n    } else if (virusFile.has_ignored) {\n      fileStatus = <span className=\"text-orange\">{gettext('Ignored')}</span>;\n      fileOpList = ['do-not-ignore'];\n    } else {\n      fileStatus = <span className=\"text-red\">{gettext('Unhandled')}</span>;\n      fileOpList = ['delete', 'ignore'];\n    }\n\n    return (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n        <td>{virusFile.repo_name}</td>\n        <td>{virusFile.repo_owner}</td>\n        <td>{virusFile.file_path}</td>\n        <td>{fileStatus}</td>\n        <td>\n          {fileOpList.length > 0 && this.state.isOpIconShown &&\n            <OpMenu\n              operations={fileOpList}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n          }\n        </td>\n      </tr>\n    );\n  }\n}\n\nVirusFileItem.propTypes = virusFileItemPropTypes;\n\n\nconst virusFileListPropTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  virusFiles: PropTypes.array.isRequired,\n  currentPage: PropTypes.number,\n  hasNextPage: PropTypes.bool,\n  curPerPage: PropTypes.number,\n  resetPerPage: PropTypes.func,\n  getListByPage: PropTypes.func.isRequired,\n  handleFile: PropTypes.func.isRequired,\n};\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getListByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getListByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const {\n      loading, errorMsg, virusFiles,\n      curPerPage, hasNextPage, currentPage\n    } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      return (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"27%\">{gettext('Library')}</th>\n                <th width=\"25%\">{gettext('Owner')}</th>\n                <th width=\"28%\">{gettext('Virus File')}</th>\n                <th width=\"15%\">{gettext('Status')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {virusFiles.map((virusFile, index) => {\n                return (\n                  <VirusFileItem\n                    key={index}\n                    virusFile={virusFile}\n                    isItemFreezed={this.state.isItemFreezed}\n                    onFreezedItem={this.onFreezedItem}\n                    onUnfreezedItem={this.onUnfreezedItem}\n                    handleFile={this.props.handleFile}\n                  />\n                );\n              })}\n            </tbody>\n          </table>\n          {virusFiles.length > 0 &&\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n          }\n        </Fragment>\n      );\n    }\n  }\n}\n\nContent.propTypes = virusFileListPropTypes;\n\n\nclass AllVirusFiles extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      virusFiles: [],\n      currentPage: 1,\n      perPage: 25,\n      hasNextPage: false\n    };\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const {\n      currentPage, perPage\n    } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getListByPage(this.state.currentPage);\n    });\n  }\n\n  getListByPage = (page) => {\n    const { perPage } = this.state;\n    seafileAPI.listVirusFiles(page, perPage).then((res) => {\n      const data = res.data;\n      this.setState({\n        loading: false,\n        virusFiles: data.virus_file_list,\n        hasNextPage: data.has_next_page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getListByPage(1);\n    });\n  };\n\n  handleFile = (virusID, op) => {\n    let request;\n    switch(op) {\n      case 'delete':\n        request = seafileAPI.deleteVirusFile(virusID);\n        break;\n      case 'ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, true);\n        break;\n      case 'do-not-ignore':\n        request = seafileAPI.toggleIgnoreVirusFile(virusID, false);\n        break;\n    }\n    request.then((res) => {\n      this.setState({\n        virusFiles: this.state.virusFiles.map((item) => {\n          if (item.virus_id == virusID) {\n            if (op == 'delete') {\n              item.has_deleted = true;\n            } else {\n              item = res.data.virus_file;\n            }\n          }\n          return item;\n        })\n      });\n    }).catch((error) => {\n      toaster.danger(Utils.getErrorMsg(error));\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <Nav currentItem=\"all\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                virusFiles={this.state.virusFiles}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getListByPage={this.getListByPage}\n                handleFile={this.handleFile}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default AllVirusFiles;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}