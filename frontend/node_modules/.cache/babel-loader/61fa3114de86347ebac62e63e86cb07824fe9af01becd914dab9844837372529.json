{"ast":null,"code":"import _objectSpread from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Modal,ModalHeader,ModalBody}from'reactstrap';import isHotkey from'is-hotkey';import{zIndexes,DIALOG_MAX_HEIGHT,EXTRA_ATTRIBUTES_COLUMN_TYPE}from'../../../constants';import{gettext}from'../../../utils/constants';import{seafileAPI}from'../../../utils/seafile-api';import{Utils}from'../../../utils/utils';import{getSelectColumnOptions,getValidColumns}from'../../../utils/extra-attributes';import Column from'./column';import Loading from'../../loading';import toaster from'../../toast';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ExtraAttributesDialog=/*#__PURE__*/function(_Component){_inherits(ExtraAttributesDialog,_Component);var _super=_createSuper(ExtraAttributesDialog);function ExtraAttributesDialog(props){var _this;_classCallCheck(this,ExtraAttributesDialog);_this=_super.call(this,props);_this.startAnimation=function(callback){if(_this.state.animationEnd===true){callback&&callback();}// use setTimeout to make sure real dom rendered\nsetTimeout(function(){var dom=_this.modalRef.current.firstChild;var _this$getDialogStyle=_this.getDialogStyle(),width=_this$getDialogStyle.width,maxWidth=_this$getDialogStyle.maxWidth,marginLeft=_this$getDialogStyle.marginLeft,height=_this$getDialogStyle.height;dom.style.width=\"\".concat(width,\"px\");dom.style.maxWidth=\"\".concat(maxWidth,\"px\");dom.style.marginLeft=\"\".concat(marginLeft,\"px\");dom.style.height=\"\".concat(height,\"px\");dom.style.marginRight='unset';dom.style.marginTop='28px';// after animation, change style and run callback\nsetTimeout(function(){_this.setState({animationEnd:true},function(){dom.style.transition='none';callback&&callback();});},280);},1);};_this.getFormatUpdateData=function(){var update=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var columns=_this.state.columns;var updateData={};var _loop=function _loop(key){var column=columns.find(function(column){return column.key===key;});if(column&&column.editable){var type=column.type,name=column.name;var value=update[key];if(type===EXTRA_ATTRIBUTES_COLUMN_TYPE.SINGLE_SELECT){var options=getSelectColumnOptions(column);var option=options.find(function(item){return item.id===value;});updateData[name]=option?option.name:'';}else{updateData[column.name]=update[key];}}};for(var key in update){_loop(key);}return updateData;};_this.getData=function(){var _this$props=_this.props,repoID=_this$props.repoID,filePath=_this$props.filePath;seafileAPI.getFileExtendedProperties(repoID,filePath).then(function(res){var _res$data=res.data,row=_res$data.row,metadata=_res$data.metadata,editable_columns=_res$data.editable_columns;_this.isExist=Boolean(row._id);_this.setState({row:row,columns:getValidColumns(metadata,editable_columns,_this.isEmptyFile),isLoading:false,errorMsg:''});}).catch(function(error){var errorMsg=Utils.getErrorMsg(error);_this.setState({isLoading:false,errorMsg:errorMsg});});};_this.createData=function(data){var _this$props2=_this.props,repoID=_this$props2.repoID,filePath=_this$props2.filePath;seafileAPI.newFileExtendedProperties(repoID,filePath,data).then(function(res){_this.isExist=true;var row=res.data.row;_this.setState({row:row,isLoading:false,errorMsg:''});}).catch(function(error){var errorMsg=Utils.getErrorMsg(error);toaster.danger(gettext(errorMsg));});};_this.updateData=function(update,column){var newRow=_objectSpread(_objectSpread({},_this.state.row),update);_this.setState({row:newRow},function(){var data=_this.getFormatUpdateData(update);var _this$props3=_this.props,repoID=_this$props3.repoID,filePath=_this$props3.filePath;if(_this.isExist){seafileAPI.updateFileExtendedProperties(repoID,filePath,data).then(function(res){_this.setState({update:{},row:res.data.row});}).catch(function(error){var errorMsg=Utils.getErrorMsg(error);toaster.danger(gettext(errorMsg));});}else{_this.createData(data);}});};_this.onHotKey=function(event){if(isHotkey('esc',event)){_this.onToggle();return;}};_this.onToggle=function(){_this.props.onToggle();};_this.getDialogStyle=function(){var width=800;return{width:width,maxWidth:width,marginLeft:(window.innerWidth-width)/2,height:DIALOG_MAX_HEIGHT};};_this.getInitStyle=function(){var transition='all .3s';var defaultMargin=80;// sequence cell width\nvar defaultHeight=100;var marginTop='30%';var width=window.innerWidth;return{width:\"\".concat(width-defaultMargin,\"px\"),maxWidth:\"\".concat(width-defaultMargin,\"px\"),marginLeft:\"\".concat(defaultMargin,\"px\"),height:\"\".concat(defaultHeight,\"px\"),marginRight:\"\".concat(defaultMargin,\"px\"),marginTop:marginTop,transition:transition};};_this.renderColumns=function(){var _this$state=_this.state,isLoading=_this$state.isLoading,errorMsg=_this$state.errorMsg,columns=_this$state.columns,row=_this$state.row,update=_this$state.update;if(isLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"w-100 h-100 d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(Loading,{})});}if(errorMsg){return/*#__PURE__*/_jsx(\"div\",{className:\"w-100 h-100 d-flex align-items-center justify-content-center error-message\",children:gettext(errorMsg)});}var newRow=_objectSpread(_objectSpread({},row),update);return/*#__PURE__*/_jsx(_Fragment,{children:columns.map(function(column){return/*#__PURE__*/_jsx(Column,{column:column,row:newRow,columns:columns,onCommit:_this.updateData},column.key);})});};_this.renderContent=function(){if(!_this.state.animationEnd)return null;return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:_this.onToggle,children:gettext('Edit extra properties')}),/*#__PURE__*/_jsx(ModalBody,{children:_this.renderColumns()})]});};var direntDetail=props.direntDetail,direntType=props.direntType;_this.state={animationEnd:false,isLoading:true,update:{},row:{},columns:[],errorMsg:''};if(direntType==='dir'){_this.isEmptyFile=false;}else{var direntDetailId=(direntDetail===null||direntDetail===void 0?void 0:direntDetail.id)||'';_this.isEmptyFile=direntDetailId==='0'.repeat(direntDetailId.length);}_this.isExist=false;_this.modalRef=/*#__PURE__*/React.createRef();return _this;}_createClass(ExtraAttributesDialog,[{key:\"componentDidMount\",value:function componentDidMount(){this.startAnimation(this.getData);window.addEventListener('keydown',this.onHotKey);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){window.removeEventListener('keydown',this.onHotKey);}},{key:\"render\",value:function render(){var animationEnd=this.state.animationEnd;return/*#__PURE__*/_jsx(Modal,{isOpen:true,className:\"extra-attributes-dialog\",style:animationEnd?this.getDialogStyle():this.getInitStyle(),zIndex:zIndexes.EXTRA_ATTRIBUTES_DIALOG_MODAL,contentClassName:\"extra-attributes-content-container\",modalClassName:\"extra-attributes-modal\",wrapClassName:\"extra-attributes\",fade:false,innerRef:this.modalRef,toggle:this.onToggle,children:this.renderContent()});}}]);return ExtraAttributesDialog;}(Component);export default ExtraAttributesDialog;","map":{"version":3,"names":["React","Component","Modal","ModalHeader","ModalBody","isHotkey","zIndexes","DIALOG_MAX_HEIGHT","EXTRA_ATTRIBUTES_COLUMN_TYPE","gettext","seafileAPI","Utils","getSelectColumnOptions","getValidColumns","Column","Loading","toaster","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","ExtraAttributesDialog","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","startAnimation","callback","state","animationEnd","setTimeout","dom","modalRef","current","firstChild","_this$getDialogStyle","getDialogStyle","width","maxWidth","marginLeft","height","style","concat","marginRight","marginTop","setState","transition","getFormatUpdateData","update","arguments","length","undefined","columns","updateData","_loop","key","column","find","editable","type","name","value","SINGLE_SELECT","options","option","item","id","getData","_this$props","repoID","filePath","getFileExtendedProperties","then","res","_res$data","data","row","metadata","editable_columns","isExist","Boolean","_id","isEmptyFile","isLoading","errorMsg","catch","error","getErrorMsg","createData","_this$props2","newFileExtendedProperties","danger","newRow","_objectSpread","_this$props3","updateFileExtendedProperties","onHotKey","event","onToggle","window","innerWidth","getInitStyle","defaultMargin","defaultHeight","renderColumns","_this$state","className","children","map","onCommit","renderContent","toggle","direntDetail","direntType","direntDetailId","repeat","createRef","_createClass","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","isOpen","zIndex","EXTRA_ATTRIBUTES_DIALOG_MODAL","contentClassName","modalClassName","wrapClassName","fade","innerRef"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/extra-attributes-dialog/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport isHotkey from 'is-hotkey';\nimport { zIndexes, DIALOG_MAX_HEIGHT, EXTRA_ATTRIBUTES_COLUMN_TYPE } from '../../../constants';\nimport { gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport { getSelectColumnOptions, getValidColumns } from '../../../utils/extra-attributes';\nimport Column from './column';\nimport Loading from '../../loading';\nimport toaster from '../../toast';\n\nimport './index.css';\n\nclass ExtraAttributesDialog extends Component {\n\n  constructor(props) {\n    super(props);\n    const { direntDetail, direntType } = props;\n    this.state = {\n      animationEnd: false,\n      isLoading: true,\n      update: {},\n      row: {},\n      columns: [],\n      errorMsg: '',\n    };\n    if (direntType === 'dir') {\n      this.isEmptyFile = false;\n    } else {\n      const direntDetailId = direntDetail?.id || '';\n      this.isEmptyFile = direntDetailId === '0'.repeat(direntDetailId.length);\n    }\n    this.isExist = false;\n    this.modalRef = React.createRef();\n  }\n\n  componentDidMount() {\n    this.startAnimation(this.getData);\n    window.addEventListener('keydown', this.onHotKey);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onHotKey);\n  }\n\n  startAnimation = (callback) => {\n    if (this.state.animationEnd === true) {\n      callback && callback();\n    }\n\n    // use setTimeout to make sure real dom rendered\n    setTimeout(() => {\n      let dom = this.modalRef.current.firstChild;\n      const { width, maxWidth, marginLeft, height } = this.getDialogStyle();\n      dom.style.width = `${width}px`;\n      dom.style.maxWidth = `${maxWidth}px`;\n      dom.style.marginLeft = `${marginLeft}px`;\n      dom.style.height = `${height}px`;\n      dom.style.marginRight = 'unset';\n      dom.style.marginTop = '28px';\n\n      // after animation, change style and run callback\n      setTimeout(() => {\n        this.setState({ animationEnd: true }, () => {\n          dom.style.transition = 'none';\n          callback && callback();\n        });\n      }, 280);\n    }, 1);\n  };\n\n  getFormatUpdateData = (update = {}) => {\n    const { columns } = this.state;\n    const updateData = {};\n    for (let key in update) {\n      const column = columns.find(column => column.key === key);\n      if (column && column.editable) {\n        const { type, name } = column;\n        const value = update[key];\n        if (type === EXTRA_ATTRIBUTES_COLUMN_TYPE.SINGLE_SELECT) {\n          const options = getSelectColumnOptions(column);\n          const option = options.find(item => item.id === value);\n          updateData[name] = option ? option.name : '';\n        } else {\n          updateData[column.name] = update[key];\n        }\n      }\n    }\n    return updateData;\n  };\n\n  getData = () => {\n    const { repoID, filePath } = this.props;\n    seafileAPI.getFileExtendedProperties(repoID, filePath).then(res => {\n      const { row, metadata, editable_columns } = res.data;\n      this.isExist = Boolean(row._id);\n      this.setState({ row: row, columns: getValidColumns(metadata, editable_columns, this.isEmptyFile), isLoading: false, errorMsg: '' });\n    }).catch(error => {\n      const errorMsg =Utils.getErrorMsg(error);\n      this.setState({ isLoading: false, errorMsg });\n    });\n  };\n\n  createData = (data) => {\n    const { repoID, filePath } = this.props;\n    seafileAPI.newFileExtendedProperties(repoID, filePath, data).then(res => {\n      this.isExist = true;\n      const { row } = res.data;\n      this.setState({ row: row, isLoading: false, errorMsg: '' });\n    }).catch(error => {\n      const errorMsg =Utils.getErrorMsg(error);\n      toaster.danger(gettext(errorMsg));\n    });\n  };\n\n  updateData = (update, column) => {\n    const newRow = { ...this.state.row, ...update };\n    this.setState({ row: newRow }, () => {\n      const data = this.getFormatUpdateData(update);\n      const { repoID, filePath } = this.props;\n      if (this.isExist) {\n        seafileAPI.updateFileExtendedProperties(repoID, filePath, data).then(res => {\n          this.setState({ update: {}, row: res.data.row });\n        }).catch(error => {\n          const errorMsg = Utils.getErrorMsg(error);\n          toaster.danger(gettext(errorMsg));\n        });\n      } else {\n        this.createData(data);\n      }\n    });\n  };\n\n  onHotKey = (event) => {\n    if (isHotkey('esc', event)) {\n      this.onToggle();\n      return;\n    }\n  };\n\n  onToggle = () => {\n    this.props.onToggle();\n  };\n\n  getDialogStyle = () => {\n    const width = 800;\n    return {\n      width,\n      maxWidth: width,\n      marginLeft: (window.innerWidth - width) / 2,\n      height: DIALOG_MAX_HEIGHT,\n    };\n  };\n\n  getInitStyle = () => {\n    const transition = 'all .3s';\n    const defaultMargin = 80; // sequence cell width\n    const defaultHeight = 100;\n    const marginTop = '30%';\n    const width = window.innerWidth;\n    return {\n      width: `${width - defaultMargin}px`,\n      maxWidth: `${width - defaultMargin}px`,\n      marginLeft: `${defaultMargin}px`,\n      height: `${defaultHeight}px`,\n      marginRight: `${defaultMargin}px`,\n      marginTop,\n      transition,\n    };\n  };\n\n  renderColumns = () => {\n    const { isLoading, errorMsg, columns, row, update } = this.state;\n    if (isLoading) {\n      return (\n        <div className=\"w-100 h-100 d-flex align-items-center justify-content-center\">\n          <Loading />\n        </div>\n      );\n    }\n\n    if (errorMsg) {\n      return (\n        <div className=\"w-100 h-100 d-flex align-items-center justify-content-center error-message\">\n          {gettext(errorMsg)}\n        </div>\n      );\n    }\n\n    const newRow = { ...row, ...update };\n\n    return (\n      <>\n        {columns.map(column => {\n          return (\n            <Column\n              key={column.key}\n              column={column}\n              row={newRow}\n              columns={columns}\n              onCommit={this.updateData}\n            />\n          );\n        })}\n      </>\n    );\n\n  };\n\n  renderContent = () => {\n    if (!this.state.animationEnd) return null;\n\n    return (\n      <>\n        <ModalHeader toggle={this.onToggle}>{gettext('Edit extra properties')}</ModalHeader>\n        <ModalBody>\n          {this.renderColumns()}\n        </ModalBody>\n      </>\n    );\n  };\n\n  render() {\n    const { animationEnd } = this.state;\n\n    return (\n      <Modal\n        isOpen={true}\n        className=\"extra-attributes-dialog\"\n        style={animationEnd ? this.getDialogStyle() : this.getInitStyle()}\n        zIndex={zIndexes.EXTRA_ATTRIBUTES_DIALOG_MODAL}\n        contentClassName=\"extra-attributes-content-container\"\n        modalClassName=\"extra-attributes-modal\"\n        wrapClassName=\"extra-attributes\"\n        fade={false}\n        innerRef={this.modalRef}\n        toggle={this.onToggle}\n      >\n        {this.renderContent()}\n      </Modal>\n    );\n  }\n}\n\nExtraAttributesDialog.propTypes = {\n  repoID: PropTypes.string,\n  filePath: PropTypes.string,\n  direntType: PropTypes.string,\n  direntDetail: PropTypes.object,\n  onToggle: PropTypes.func,\n};\n\nexport default ExtraAttributesDialog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}