{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _regeneratorRuntime from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport dayjs from 'dayjs';\nimport classNames from 'classnames';\nimport { Node } from '@seafile/slate';\nimport { ReactEditor } from '@seafile/slate-react';\nimport context from '../../../context';\nimport { useCommentContext } from '../hooks/comment-hooks/use-comment-context';\nimport CommentItemContent from './comment-item-content';\nimport CommentItemReply from './comment-item-reply';\nimport CommentEditor from './comment-editor';\nimport CommentItemResolvedReply from './comment-item-resolved-reply';\nimport { COMMENT_URL_CLASSNAME } from '../constants';\nimport CommentDeletePopover from './comment-delete-popover';\nvar CommentItemWrapper = function CommentItemWrapper(_ref) {\n  var container = _ref.container,\n    element = _ref.element,\n    isActive = _ref.isActive,\n    comment = _ref.comment,\n    onCommentClick = _ref.onCommentClick,\n    updateScrollPosition = _ref.updateScrollPosition,\n    hiddenComment = _ref.hiddenComment,\n    editor = _ref.editor;\n  var listRef = useRef(null);\n  var _useCommentContext = useCommentContext(),\n    dispatch = _useCommentContext.dispatch;\n  var scrollRef = useRef(document.querySelector('.sdoc-scroll-container'));\n  var commentOpToolsId = \"commentOpTools_\".concat(comment.id);\n  var deleteComment = useCallback( /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(commentId) {\n      var elementId;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            _context.next = 2;\n            return context.deleteComment(commentId);\n          case 2:\n            elementId = comment.detail.element_id;\n            dispatch({\n              type: 'DELETE_COMMENT',\n              payload: {\n                element_id: elementId,\n                comment_id: commentId\n              }\n            });\n          case 4:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee);\n    }));\n    return function (_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }(), [comment.detail, dispatch]);\n  var updateComment = useCallback( /*#__PURE__*/function () {\n    var _ref3 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee2(commentId, newComment) {\n      var elementId;\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            _context2.next = 2;\n            return context.updateComment(commentId, newComment);\n          case 2:\n            elementId = comment.detail.element_id;\n            dispatch({\n              type: 'UPDATE_COMMENT',\n              payload: {\n                element_id: elementId,\n                comment_id: commentId,\n                comment: newComment\n              }\n            });\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function (_x2, _x3) {\n      return _ref3.apply(this, arguments);\n    };\n  }(), [comment.detail, dispatch]);\n  var updateCommentState = useCallback( /*#__PURE__*/function () {\n    var _ref4 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee3(commentId, newComment) {\n      var time, user, reply, res, returnReply, newReply, elementId;\n      return _regeneratorRuntime().wrap(function _callee3$(_context3) {\n        while (1) switch (_context3.prev = _context3.next) {\n          case 0:\n            time = dayjs().format('YYYY-MM-DD HH:mm:ss');\n            user = context.getUserInfo();\n            reply = {\n              type: 'comment',\n              reply: newComment.resolved,\n              updated_at: time,\n              author: user.username\n            }; // When updating comment status, add a new reply\n            _context3.next = 5;\n            return context.insertReply(commentId, reply);\n          case 5:\n            res = _context3.sent;\n            returnReply = res.data.reply;\n            newReply = _objectSpread(_objectSpread({}, reply), {}, {\n              id: returnReply.id,\n              reply: returnReply.reply,\n              user_name: returnReply.user_name,\n              avatar_url: returnReply.avatar_url\n            });\n            elementId = comment.detail.element_id;\n            dispatch({\n              type: 'INSERT_REPLY',\n              payload: {\n                element_id: elementId,\n                comment_id: commentId,\n                reply: newReply\n              }\n            });\n\n            // Modify comment status\n            _context3.next = 12;\n            return context.updateComment(commentId, newComment);\n          case 12:\n            dispatch({\n              type: 'UPDATE_COMMENT_STATE',\n              payload: {\n                element_id: elementId,\n                comment_id: commentId,\n                comment: newComment\n              }\n            });\n\n            // If the status of the comment is set to resolved, the page jumps to the position of the comment\n            if (newComment.resolved === true) {\n              setTimeout(function () {\n                updateScrollPosition && updateScrollPosition();\n              }, 100);\n            }\n          case 14:\n          case \"end\":\n            return _context3.stop();\n        }\n      }, _callee3);\n    }));\n    return function (_x4, _x5) {\n      return _ref4.apply(this, arguments);\n    };\n  }(), [comment.detail, dispatch, updateScrollPosition]);\n  var insertReply = useCallback( /*#__PURE__*/function () {\n    var _ref5 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee4(commentId, replies) {\n      var elementId, i, reply, res, returnReply, newReply, newComment;\n      return _regeneratorRuntime().wrap(function _callee4$(_context4) {\n        while (1) switch (_context4.prev = _context4.next) {\n          case 0:\n            elementId = comment.detail.element_id;\n            i = 0;\n          case 2:\n            if (!(i < replies.length)) {\n              _context4.next = 13;\n              break;\n            }\n            reply = replies[i];\n            _context4.next = 6;\n            return context.insertReply(commentId, reply);\n          case 6:\n            res = _context4.sent;\n            returnReply = res.data.reply;\n            newReply = _objectSpread(_objectSpread({}, reply), {}, {\n              id: returnReply.id,\n              reply: returnReply.reply,\n              user_name: returnReply.user_name,\n              avatar_url: returnReply.avatar_url\n            });\n            dispatch({\n              type: 'INSERT_REPLY',\n              payload: {\n                element_id: elementId,\n                comment_id: commentId,\n                reply: newReply\n              }\n            });\n          case 10:\n            i++;\n            _context4.next = 2;\n            break;\n          case 13:\n            if (!(replies.length > 1)) {\n              _context4.next = 18;\n              break;\n            }\n            newComment = {\n              resolved: false\n            };\n            _context4.next = 17;\n            return context.updateComment(commentId, newComment);\n          case 17:\n            dispatch({\n              type: 'UPDATE_COMMENT_STATE',\n              payload: {\n                element_id: elementId,\n                comment_id: commentId,\n                comment: newComment\n              }\n            });\n          case 18:\n            setTimeout(function () {\n              var options = {\n                top: 10000,\n                behavior: 'smooth'\n              };\n              listRef.current.scrollTo(options);\n            }, 0);\n          case 19:\n          case \"end\":\n            return _context4.stop();\n        }\n      }, _callee4);\n    }));\n    return function (_x6, _x7) {\n      return _ref5.apply(this, arguments);\n    };\n  }(), [comment.detail, dispatch]);\n  var insertContent = useCallback(function (content) {\n    var user = context.getUserInfo();\n    var replies = [];\n\n    // The comment has already been resolved, when adding a new reply, resubmit the comment\n    if (comment.resolved) {\n      var _time = dayjs().format('YYYY-MM-DD HH:mm:ss');\n      var stateChangeReply = {\n        type: 'comment',\n        reply: false,\n        updated_at: _time,\n        author: user.username\n      };\n      replies.push(stateChangeReply);\n    }\n\n    // User added reply\n    var time = dayjs().format('YYYY-MM-DD HH:mm:ss');\n    var reply = {\n      type: 'reply',\n      reply: content,\n      updated_at: time,\n      author: user.username\n    };\n    replies.push(reply);\n    insertReply(comment.id, replies);\n  }, [comment.id, comment.resolved, insertReply]);\n  var deleteReply = useCallback( /*#__PURE__*/function () {\n    var _ref6 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee5(replyId) {\n      var commentId, elementId;\n      return _regeneratorRuntime().wrap(function _callee5$(_context5) {\n        while (1) switch (_context5.prev = _context5.next) {\n          case 0:\n            commentId = comment.id;\n            elementId = comment.detail.element_id;\n            _context5.next = 4;\n            return context.deleteReply(commentId, replyId);\n          case 4:\n            dispatch({\n              type: 'DELETE_REPLY',\n              payload: {\n                element_id: elementId,\n                comment_id: commentId,\n                reply_id: replyId\n              }\n            });\n          case 5:\n          case \"end\":\n            return _context5.stop();\n        }\n      }, _callee5);\n    }));\n    return function (_x8) {\n      return _ref6.apply(this, arguments);\n    };\n  }(), [comment.detail, comment.id, dispatch]);\n  var updateReply = useCallback( /*#__PURE__*/function () {\n    var _ref7 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee6(replyId, newReply) {\n      var commentId, elementId;\n      return _regeneratorRuntime().wrap(function _callee6$(_context6) {\n        while (1) switch (_context6.prev = _context6.next) {\n          case 0:\n            commentId = comment.id;\n            elementId = comment.detail.element_id;\n            _context6.next = 4;\n            return context.updateReply(commentId, replyId, newReply);\n          case 4:\n            dispatch({\n              type: 'UPDATE_REPLY',\n              payload: {\n                element_id: elementId,\n                comment_id: commentId,\n                reply_id: replyId,\n                reply: newReply\n              }\n            });\n          case 5:\n          case \"end\":\n            return _context6.stop();\n        }\n      }, _callee6);\n    }));\n    return function (_x9, _x10) {\n      return _ref7.apply(this, arguments);\n    };\n  }(), [comment.detail, comment.id, dispatch]);\n  var onItemClick = useCallback(function (event) {\n    if (event.target.className === COMMENT_URL_CLASSNAME) return;\n    onCommentClick(comment);\n  }, [comment, onCommentClick]);\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isShowDeleteDialog = _useState2[0],\n    setIsShowDeleteDialog = _useState2[1];\n  var onDeleteComment = useCallback(function () {\n    setIsShowDeleteDialog(true);\n  }, []);\n  var _deleteComment = useCallback(function () {\n    deleteComment(comment.id);\n    setIsShowDeleteDialog(false);\n  }, [comment.id, deleteComment]);\n  useEffect(function () {\n    if (!isActive) {\n      setIsShowDeleteDialog(false);\n    }\n  }, [isActive]);\n  var className = classNames('comment-ui-container', {\n    'active': isActive,\n    'sdoc-resolved': comment.resolved,\n    'd-flex flex-column pt-0': element\n  });\n  var tip = comment.resolved ? 'Reopen_discussion' : 'Enter_reply_Enter_for_new_line_Shift_Enter_to_send';\n  var handleScrollToArticle = useCallback(function (e) {\n    e.stopPropagation();\n    var dom = ReactEditor.toDOMNode(editor, element);\n    var headerHeight = 56 + 37;\n    scrollRef.current.scrollTo({\n      top: dom.offsetTop - headerHeight,\n      behavior: 'smooth'\n    });\n  }, [editor, element, scrollRef]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"comment-item-wrapper_\".concat(comment.id),\n    className: className,\n    onClick: onItemClick\n  }, element && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-item-selected-text-container\",\n    onClick: handleScrollToArticle\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-comment-quote mr-2\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-item-selected-text\"\n  }, Node.string(element))), /*#__PURE__*/React.createElement(\"div\", {\n    ref: listRef,\n    className: \"comment-item-list\"\n  }, /*#__PURE__*/React.createElement(CommentItemContent, {\n    key: comment.id,\n    container: container,\n    isActive: isActive,\n    comment: comment,\n    updateComment: updateComment,\n    updateCommentState: updateCommentState,\n    onDeleteComment: onDeleteComment,\n    targetId: commentOpToolsId\n  }), comment.replies && comment.replies.length > 0 && comment.replies.map(function (reply) {\n    var type = reply.type;\n\n    // type is reply | comment\n    if (type === 'reply') {\n      var props = {\n        key: reply.id,\n        isActive: isActive,\n        container: container,\n        reply: reply,\n        deleteReply: deleteReply,\n        updateReply: updateReply\n      };\n      return /*#__PURE__*/React.createElement(CommentItemReply, props);\n    }\n    return /*#__PURE__*/React.createElement(CommentItemResolvedReply, {\n      key: reply.id,\n      reply: reply\n    });\n  })), isActive && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-reply-wrapper\"\n  }, /*#__PURE__*/React.createElement(CommentEditor, {\n    type: \"reply\",\n    placeholder: tip,\n    insertContent: insertContent,\n    hiddenComment: hiddenComment\n  })), isShowDeleteDialog && isActive && /*#__PURE__*/React.createElement(CommentDeletePopover, {\n    type: \"comment\",\n    setIsShowDeleteDialog: setIsShowDeleteDialog,\n    targetId: commentOpToolsId,\n    deleteConfirm: _deleteComment,\n    setIsShowDeleteModal: setIsShowDeleteDialog,\n    parentDom: listRef.current\n  }));\n};\nCommentItemWrapper.defaultProps = {\n  container: 'sdoc-comment-list-container'\n};\nexport default CommentItemWrapper;","map":{"version":3,"names":["_objectSpread","React","useCallback","useEffect","useRef","useState","dayjs","classNames","Node","ReactEditor","context","useCommentContext","CommentItemContent","CommentItemReply","CommentEditor","CommentItemResolvedReply","COMMENT_URL_CLASSNAME","CommentDeletePopover","CommentItemWrapper","_ref","container","element","isActive","comment","onCommentClick","updateScrollPosition","hiddenComment","editor","listRef","_useCommentContext","dispatch","scrollRef","document","querySelector","commentOpToolsId","concat","id","deleteComment","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","commentId","elementId","wrap","_callee$","_context","prev","next","detail","element_id","type","payload","comment_id","stop","_x","apply","arguments","updateComment","_ref3","_callee2","newComment","_callee2$","_context2","_x2","_x3","updateCommentState","_ref4","_callee3","time","user","reply","res","returnReply","newReply","_callee3$","_context3","format","getUserInfo","resolved","updated_at","author","username","insertReply","sent","data","user_name","avatar_url","setTimeout","_x4","_x5","_ref5","_callee4","replies","i","_callee4$","_context4","length","options","top","behavior","current","scrollTo","_x6","_x7","insertContent","content","stateChangeReply","push","deleteReply","_ref6","_callee5","replyId","_callee5$","_context5","reply_id","_x8","updateReply","_ref7","_callee6","_callee6$","_context6","_x9","_x10","onItemClick","event","target","className","_useState","_useState2","_slicedToArray","isShowDeleteDialog","setIsShowDeleteDialog","onDeleteComment","_deleteComment","tip","handleScrollToArticle","e","stopPropagation","dom","toDOMNode","headerHeight","offsetTop","createElement","onClick","string","ref","key","targetId","map","props","placeholder","deleteConfirm","setIsShowDeleteModal","parentDom","defaultProps"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/comment/components/comment-item-wrapper.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport dayjs from 'dayjs';\nimport classNames from 'classnames';\nimport { Node } from '@seafile/slate';\nimport { ReactEditor } from '@seafile/slate-react';\nimport context from '../../../context';\nimport { useCommentContext } from '../hooks/comment-hooks/use-comment-context';\nimport CommentItemContent from './comment-item-content';\nimport CommentItemReply from './comment-item-reply';\nimport CommentEditor from './comment-editor';\nimport CommentItemResolvedReply from './comment-item-resolved-reply';\nimport { COMMENT_URL_CLASSNAME } from '../constants';\nimport CommentDeletePopover from './comment-delete-popover';\nconst CommentItemWrapper = _ref => {\n  let {\n    container,\n    element,\n    isActive,\n    comment,\n    onCommentClick,\n    updateScrollPosition,\n    hiddenComment,\n    editor\n  } = _ref;\n  const listRef = useRef(null);\n  const {\n    dispatch\n  } = useCommentContext();\n  const scrollRef = useRef(document.querySelector('.sdoc-scroll-container'));\n  const commentOpToolsId = \"commentOpTools_\".concat(comment.id);\n  const deleteComment = useCallback(async commentId => {\n    await context.deleteComment(commentId);\n    const {\n      element_id: elementId\n    } = comment.detail;\n    dispatch({\n      type: 'DELETE_COMMENT',\n      payload: {\n        element_id: elementId,\n        comment_id: commentId\n      }\n    });\n  }, [comment.detail, dispatch]);\n  const updateComment = useCallback(async (commentId, newComment) => {\n    await context.updateComment(commentId, newComment);\n    const {\n      element_id: elementId\n    } = comment.detail;\n    dispatch({\n      type: 'UPDATE_COMMENT',\n      payload: {\n        element_id: elementId,\n        comment_id: commentId,\n        comment: newComment\n      }\n    });\n  }, [comment.detail, dispatch]);\n  const updateCommentState = useCallback(async (commentId, newComment) => {\n    const time = dayjs().format('YYYY-MM-DD HH:mm:ss');\n    const user = context.getUserInfo();\n    const reply = {\n      type: 'comment',\n      reply: newComment.resolved,\n      updated_at: time,\n      author: user.username\n    };\n\n    // When updating comment status, add a new reply\n    const res = await context.insertReply(commentId, reply);\n    const {\n      reply: returnReply\n    } = res.data;\n    const newReply = _objectSpread(_objectSpread({}, reply), {}, {\n      id: returnReply.id,\n      reply: returnReply.reply,\n      user_name: returnReply.user_name,\n      avatar_url: returnReply.avatar_url\n    });\n    const {\n      element_id: elementId\n    } = comment.detail;\n    dispatch({\n      type: 'INSERT_REPLY',\n      payload: {\n        element_id: elementId,\n        comment_id: commentId,\n        reply: newReply\n      }\n    });\n\n    // Modify comment status\n    await context.updateComment(commentId, newComment);\n    dispatch({\n      type: 'UPDATE_COMMENT_STATE',\n      payload: {\n        element_id: elementId,\n        comment_id: commentId,\n        comment: newComment\n      }\n    });\n\n    // If the status of the comment is set to resolved, the page jumps to the position of the comment\n    if (newComment.resolved === true) {\n      setTimeout(() => {\n        updateScrollPosition && updateScrollPosition();\n      }, 100);\n    }\n  }, [comment.detail, dispatch, updateScrollPosition]);\n  const insertReply = useCallback(async (commentId, replies) => {\n    const {\n      element_id: elementId\n    } = comment.detail;\n    for (let i = 0; i < replies.length; i++) {\n      const reply = replies[i];\n      const res = await context.insertReply(commentId, reply);\n      const {\n        reply: returnReply\n      } = res.data;\n      const newReply = _objectSpread(_objectSpread({}, reply), {}, {\n        id: returnReply.id,\n        reply: returnReply.reply,\n        user_name: returnReply.user_name,\n        avatar_url: returnReply.avatar_url\n      });\n      dispatch({\n        type: 'INSERT_REPLY',\n        payload: {\n          element_id: elementId,\n          comment_id: commentId,\n          reply: newReply\n        }\n      });\n    }\n\n    // If the number of replies is greater than one, it means that the comment needs to be resubmitted and the status of the comment should be modified\n    if (replies.length > 1) {\n      const newComment = {\n        resolved: false\n      };\n      await context.updateComment(commentId, newComment);\n      dispatch({\n        type: 'UPDATE_COMMENT_STATE',\n        payload: {\n          element_id: elementId,\n          comment_id: commentId,\n          comment: newComment\n        }\n      });\n    }\n    setTimeout(() => {\n      const options = {\n        top: 10000,\n        behavior: 'smooth'\n      };\n      listRef.current.scrollTo(options);\n    }, 0);\n  }, [comment.detail, dispatch]);\n  const insertContent = useCallback(content => {\n    const user = context.getUserInfo();\n    const replies = [];\n\n    // The comment has already been resolved, when adding a new reply, resubmit the comment\n    if (comment.resolved) {\n      const time = dayjs().format('YYYY-MM-DD HH:mm:ss');\n      const stateChangeReply = {\n        type: 'comment',\n        reply: false,\n        updated_at: time,\n        author: user.username\n      };\n      replies.push(stateChangeReply);\n    }\n\n    // User added reply\n    const time = dayjs().format('YYYY-MM-DD HH:mm:ss');\n    const reply = {\n      type: 'reply',\n      reply: content,\n      updated_at: time,\n      author: user.username\n    };\n    replies.push(reply);\n    insertReply(comment.id, replies);\n  }, [comment.id, comment.resolved, insertReply]);\n  const deleteReply = useCallback(async replyId => {\n    const commentId = comment.id;\n    const {\n      element_id: elementId\n    } = comment.detail;\n    await context.deleteReply(commentId, replyId);\n    dispatch({\n      type: 'DELETE_REPLY',\n      payload: {\n        element_id: elementId,\n        comment_id: commentId,\n        reply_id: replyId\n      }\n    });\n  }, [comment.detail, comment.id, dispatch]);\n  const updateReply = useCallback(async (replyId, newReply) => {\n    const commentId = comment.id;\n    const {\n      element_id: elementId\n    } = comment.detail;\n    await context.updateReply(commentId, replyId, newReply);\n    dispatch({\n      type: 'UPDATE_REPLY',\n      payload: {\n        element_id: elementId,\n        comment_id: commentId,\n        reply_id: replyId,\n        reply: newReply\n      }\n    });\n  }, [comment.detail, comment.id, dispatch]);\n  const onItemClick = useCallback(event => {\n    if (event.target.className === COMMENT_URL_CLASSNAME) return;\n    onCommentClick(comment);\n  }, [comment, onCommentClick]);\n  const [isShowDeleteDialog, setIsShowDeleteDialog] = useState(false);\n  const onDeleteComment = useCallback(() => {\n    setIsShowDeleteDialog(true);\n  }, []);\n  const _deleteComment = useCallback(() => {\n    deleteComment(comment.id);\n    setIsShowDeleteDialog(false);\n  }, [comment.id, deleteComment]);\n  useEffect(() => {\n    if (!isActive) {\n      setIsShowDeleteDialog(false);\n    }\n  }, [isActive]);\n  const className = classNames('comment-ui-container', {\n    'active': isActive,\n    'sdoc-resolved': comment.resolved,\n    'd-flex flex-column pt-0': element\n  });\n  const tip = comment.resolved ? 'Reopen_discussion' : 'Enter_reply_Enter_for_new_line_Shift_Enter_to_send';\n  const handleScrollToArticle = useCallback(e => {\n    e.stopPropagation();\n    const dom = ReactEditor.toDOMNode(editor, element);\n    const headerHeight = 56 + 37;\n    scrollRef.current.scrollTo({\n      top: dom.offsetTop - headerHeight,\n      behavior: 'smooth'\n    });\n  }, [editor, element, scrollRef]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    id: \"comment-item-wrapper_\".concat(comment.id),\n    className: className,\n    onClick: onItemClick\n  }, element && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-item-selected-text-container\",\n    onClick: handleScrollToArticle\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-comment-quote mr-2\"\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-item-selected-text\"\n  }, Node.string(element))), /*#__PURE__*/React.createElement(\"div\", {\n    ref: listRef,\n    className: \"comment-item-list\"\n  }, /*#__PURE__*/React.createElement(CommentItemContent, {\n    key: comment.id,\n    container: container,\n    isActive: isActive,\n    comment: comment,\n    updateComment: updateComment,\n    updateCommentState: updateCommentState,\n    onDeleteComment: onDeleteComment,\n    targetId: commentOpToolsId\n  }), comment.replies && comment.replies.length > 0 && comment.replies.map(reply => {\n    const {\n      type\n    } = reply;\n\n    // type is reply | comment\n    if (type === 'reply') {\n      const props = {\n        key: reply.id,\n        isActive,\n        container,\n        reply,\n        deleteReply,\n        updateReply\n      };\n      return /*#__PURE__*/React.createElement(CommentItemReply, props);\n    }\n    return /*#__PURE__*/React.createElement(CommentItemResolvedReply, {\n      key: reply.id,\n      reply: reply\n    });\n  })), isActive && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-reply-wrapper\"\n  }, /*#__PURE__*/React.createElement(CommentEditor, {\n    type: \"reply\",\n    placeholder: tip,\n    insertContent: insertContent,\n    hiddenComment: hiddenComment\n  })), isShowDeleteDialog && isActive && /*#__PURE__*/React.createElement(CommentDeletePopover, {\n    type: \"comment\",\n    setIsShowDeleteDialog: setIsShowDeleteDialog,\n    targetId: commentOpToolsId,\n    deleteConfirm: _deleteComment,\n    setIsShowDeleteModal: setIsShowDeleteDialog,\n    parentDom: listRef.current\n  }));\n};\nCommentItemWrapper.defaultProps = {\n  container: 'sdoc-comment-list-container'\n};\nexport default CommentItemWrapper;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}