{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment,Component}from'react';import{Link}from'@gatsbyjs/reach-router';import{Dropdown,DropdownToggle,DropdownItem}from'reactstrap';import{seafileAPI}from'../../utils/seafile-api';import{Utils}from'../../utils/utils';import{gettext,siteRoot,isPro}from'../../utils/constants';import Loading from'../../components/loading';import EmptyTip from'../../components/empty-tip';import toaster from'../../components/toast';import SharePermissionEditor from'../../components/select-editor/share-permission-editor';import SharedFolderInfo from'../../models/shared-folder-info';import PermSelect from'../../components/dialog/perm-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(){var _this;_classCallCheck(this,Content);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortItems(sortBy,sortOrder);};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,sortBy=_this$props.sortBy,sortOrder=_this$props.sortOrder;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsxs(EmptyTip,{children:[/*#__PURE__*/_jsx(\"h2\",{children:gettext('No folders shared')}),/*#__PURE__*/_jsx(\"p\",{children:gettext('You have not shared any folders with other users yet. You can share a folder with other users by clicking the share icon to the right of a folder\\'s name.')})]});// sort\nvar sortByName=sortBy=='name';var sortIcon=sortOrder=='asc'?/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-up\"}):/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-down\"});var isDesktop=Utils.isDesktop();var table=/*#__PURE__*/_jsxs(\"table\",{className:\"table-hover \".concat(isDesktop?'':'table-thead-hidden'),children:[/*#__PURE__*/_jsx(\"thead\",{children:isDesktop?/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"4%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"34%\",children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:this.sortByName,children:[gettext('Name'),\" \",sortByName&&sortIcon]})}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:gettext('Share To')}),/*#__PURE__*/_jsx(\"th\",{width:\"24%\",children:gettext('Permission')}),/*#__PURE__*/_jsx(\"th\",{width:\"8%\"})]}):/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"12%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"80%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"8%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{isDesktop:isDesktop,item:item},index);})})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this2;_classCallCheck(this,Item);_this2=_super2.call(this,props);_this2.toggleOpMenu=function(){_this2.setState({isOpMenuOpen:!_this2.state.isOpMenuOpen});};_this2.togglePermSelectDialog=function(){_this2.setState({isPermSelectDialogOpen:!_this2.state.isPermSelectDialogOpen});};_this2.onMouseEnter=function(){_this2.setState({isOpIconShown:true});};_this2.onMouseLeave=function(){_this2.setState({isOpIconShown:false});};_this2.unshare=function(e){e.preventDefault();var item=_this2.props.item;var options={'p':item.path};if(item.share_type=='personal'){Object.assign(options,{'share_type':'user','username':item.user_email});}else{Object.assign(options,{'share_type':item.share_type,// 'group'\n'group_id':item.group_id});}seafileAPI.unshareFolder(item.repo_id,options).then(function(res){_this2.setState({unshared:true});var message=gettext('Successfully unshared {name}').replace('{name}',item.folder_name);toaster.success(message);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster(errMessage);});};_this2.changePerm=function(permission){var item=_this2.props.item;var postData={'permission':permission};var options={'p':item.path};if(item.share_type=='personal'){Object.assign(options,{'share_type':'user','username':item.user_email});}else{Object.assign(options,{'share_type':item.share_type,// 'group'\n'group_id':item.group_id});}seafileAPI.updateFolderSharePerm(item.repo_id,postData,options).then(function(res){_this2.setState({share_permission:permission});toaster.success(gettext('Successfully modified permission.'));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this2.onEditPermission=function(event){event.nativeEvent.stopImmediatePropagation();_this2.setState({isShowPermEditor:true});};_this2.state={share_permission:_this2.props.item.share_permission,share_permission_name:_this2.props.item.share_permission_name,isOpIconShown:false,isOpMenuOpen:false,// for mobile\nisPermSelectDialogOpen:false,// for mobile\nunshared:false,isShowPermEditor:false};_this2.permissions=['rw','r'];if(isPro){_this2.permissions.push('cloud-edit','preview');}return _this2;}_createClass(Item,[{key:\"render\",value:function render(){if(this.state.unshared){return null;}var item=this.props.item;var _this$state=this.state,share_permission=_this$state.share_permission,share_permission_name=_this$state.share_permission_name,isOpIconShown=_this$state.isOpIconShown,isPermSelectDialogOpen=_this$state.isPermSelectDialogOpen,isShowPermEditor=_this$state.isShowPermEditor;var is_readonly=false;if(share_permission=='r'||share_permission=='preview'){is_readonly=true;}var iconUrl=Utils.getFolderIconUrl(is_readonly);var iconTitle=Utils.getFolderIconTitle({'permission':share_permission});var folderUrl=\"\".concat(siteRoot,\"library/\").concat(item.repo_id,\"/\").concat(encodeURIComponent(item.repo_name)).concat(Utils.encodePath(item.path));// custom defined permission\nif(share_permission.startsWith('custom-')){share_permission=share_permission.slice(7);}var desktopItem=/*#__PURE__*/_jsxs(\"tr\",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onFocus:this.onMouseEnter,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,title:iconTitle,alt:iconTitle,width:\"24\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Link,{to:folderUrl,children:item.folder_name})}),/*#__PURE__*/_jsx(\"td\",{children:item.share_type=='personal'?/*#__PURE__*/_jsx(\"span\",{title:item.contact_email,children:item.user_name}):item.group_name}),/*#__PURE__*/_jsxs(\"td\",{children:[!isShowPermEditor&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:Utils.sharePerms(share_permission)||share_permission_name}),isOpIconShown&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",role:\"button\",\"aria-label\":gettext('Edit'),title:gettext('Edit'),className:\"fa fa-pencil-alt attr-action-icon\",onClick:this.onEditPermission})]}),isShowPermEditor&&/*#__PURE__*/_jsx(SharePermissionEditor,{repoID:item.repo_id,isTextMode:true,isEditIconShow:isOpIconShown,isEditing:true,autoFocus:true,currentPermission:share_permission,permissions:this.permissions,onPermissionChanged:this.changePerm})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",role:\"button\",\"aria-label\":gettext('Unshare'),className:\"action-icon sf2-icon-x3 \".concat(isOpIconShown?'':'invisible'),title:gettext('Unshare'),onClick:this.unshare})})]});var mobileItem=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,title:iconTitle,alt:iconTitle,width:\"24\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{to:folderUrl,children:item.folder_name}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info-highlighted\",children:Utils.sharePerms(share_permission)}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info\",children:\"\".concat(gettext('Share To:'),\" \").concat(item.share_type=='personal'?item.user_name:item.group_name)})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isOpMenuOpen,toggle:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"i\",className:\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\",title:gettext('More operations'),\"aria-label\":gettext('More operations'),\"data-toggle\":\"dropdown\",\"aria-expanded\":this.state.isOpMenuOpen}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.isOpMenuOpen?'':'d-none',onClick:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mobile-operation-menu-bg-layer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-operation-menu\",children:[/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.togglePermSelectDialog,children:gettext('Permission')}),/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.unshare,children:gettext('Unshare')})]})]})]})})]}),isPermSelectDialogOpen&&/*#__PURE__*/_jsx(PermSelect,{repoID:item.repo_id,currentPerm:share_permission,permissions:this.permissions,changePerm:this.changePerm,toggleDialog:this.togglePermSelectDialog})]});return this.props.isDesktop?desktopItem:mobileItem;}}]);return Item;}(Component);var ShareAdminFolders=/*#__PURE__*/function(_Component3){_inherits(ShareAdminFolders,_Component3);var _super3=_createSuper(ShareAdminFolders);function ShareAdminFolders(props){var _this3;_classCallCheck(this,ShareAdminFolders);_this3=_super3.call(this,props);_this3._sortItems=function(items,sortBy,sortOrder){var comparator;switch(\"\".concat(sortBy,\"-\").concat(sortOrder)){case'name-asc':comparator=function comparator(a,b){var result=Utils.compareTwoWord(a.folder_name,b.folder_name);return result;};break;case'name-desc':comparator=function comparator(a,b){var result=Utils.compareTwoWord(a.folder_name,b.folder_name);return-result;};break;}items.sort(comparator);return items;};_this3.sortItems=function(sortBy,sortOrder){_this3.setState({sortBy:sortBy,sortOrder:sortOrder,items:_this3._sortItems(_this3.state.items,sortBy,sortOrder)});};_this3.state={loading:true,errorMsg:'',items:[],sortBy:'name',sortOrder:'asc'// 'asc' or 'desc'\n};return _this3;}_createClass(ShareAdminFolders,[{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;seafileAPI.listSharedFolders().then(function(res){var items=res.data.map(function(item){return new SharedFolderInfo(item);});_this4.setState({loading:false,items:_this4._sortItems(items,_this4.state.sortBy,_this4.state.sortOrder)});}).catch(function(error){_this4.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",id:\"share-admin-libs\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-path\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"sf-heading\",children:gettext('Folders')})}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{errorMsg:this.state.errorMsg,loading:this.state.loading,items:this.state.items,sortBy:this.state.sortBy,sortOrder:this.state.sortOrder,sortItems:this.sortItems})})]})});}}]);return ShareAdminFolders;}(Component);export default ShareAdminFolders;","map":{"version":3,"names":["React","Fragment","Component","Link","Dropdown","DropdownToggle","DropdownItem","seafileAPI","Utils","gettext","siteRoot","isPro","Loading","EmptyTip","toaster","SharePermissionEditor","SharedFolderInfo","PermSelect","jsx","_jsx","jsxs","_jsxs","Content","_Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","sortByName","e","preventDefault","sortBy","sortOrder","props","sortItems","_createClass","key","value","render","_this$props","loading","errorMsg","items","className","children","emptyTip","sortIcon","isDesktop","table","width","href","onClick","map","item","index","Item","_Component2","_super2","_this2","toggleOpMenu","setState","isOpMenuOpen","state","togglePermSelectDialog","isPermSelectDialogOpen","onMouseEnter","isOpIconShown","onMouseLeave","unshare","options","path","share_type","Object","assign","user_email","group_id","unshareFolder","repo_id","then","res","unshared","message","replace","folder_name","success","catch","error","errMessage","getErrorMsg","changePerm","permission","postData","updateFolderSharePerm","share_permission","danger","onEditPermission","event","nativeEvent","stopImmediatePropagation","isShowPermEditor","share_permission_name","permissions","push","_this$state","is_readonly","iconUrl","getFolderIconUrl","iconTitle","getFolderIconTitle","folderUrl","encodeURIComponent","repo_name","encodePath","startsWith","slice","desktopItem","onFocus","src","title","alt","to","contact_email","user_name","group_name","sharePerms","role","repoID","isTextMode","isEditIconShow","isEditing","autoFocus","currentPermission","onPermissionChanged","mobileItem","isOpen","toggle","tag","currentPerm","toggleDialog","ShareAdminFolders","_Component3","_super3","_this3","_sortItems","comparator","a","b","result","compareTwoWord","sort","componentDidMount","_this4","listSharedFolders","data","id"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/share-admin/folders.js"],"sourcesContent":["import React, { Fragment, Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { Dropdown, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport { gettext, siteRoot, isPro } from '../../utils/constants';\nimport Loading from '../../components/loading';\nimport EmptyTip from '../../components/empty-tip';\nimport toaster from '../../components/toast';\nimport SharePermissionEditor from '../../components/select-editor/share-permission-editor';\nimport SharedFolderInfo from '../../models/shared-folder-info';\nimport PermSelect from '../../components/dialog/perm-select';\n\nclass Content extends Component {\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortItems(sortBy, sortOrder);\n  };\n\n  render() {\n    const { loading, errorMsg, items, sortBy, sortOrder } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No folders shared')}</h2>\n          <p>{gettext('You have not shared any folders with other users yet. You can share a folder with other users by clicking the share icon to the right of a folder\\'s name.')}</p>\n        </EmptyTip>\n      );\n\n      // sort\n      const sortByName = sortBy == 'name';\n      const sortIcon = sortOrder == 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n\n      const isDesktop = Utils.isDesktop();\n      const table = (\n        <table className={`table-hover ${isDesktop ? '': 'table-thead-hidden'}`}>\n          <thead>\n            {isDesktop ? (\n              <tr>\n                <th width=\"4%\">{/*icon*/}</th>\n                <th width=\"34%\"><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {sortByName && sortIcon}</a></th>\n                <th width=\"30%\">{gettext('Share To')}</th>\n                <th width=\"24%\">{gettext('Permission')}</th>\n                <th width=\"8%\"></th>\n              </tr>\n            ) : (\n              <tr>\n                <th width=\"12%\"></th>\n                <th width=\"80%\"></th>\n                <th width=\"8%\"></th>\n              </tr>\n            )}\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return (<Item key={index} isDesktop={isDesktop} item={item} />);\n            })}\n          </tbody>\n        </table>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  sortItems: PropTypes.func.isRequired,\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      share_permission: this.props.item.share_permission,\n      share_permission_name: this.props.item.share_permission_name,\n      isOpIconShown: false,\n      isOpMenuOpen: false, // for mobile\n      isPermSelectDialogOpen: false, // for mobile\n      unshared: false,\n      isShowPermEditor: false,\n    };\n\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('cloud-edit', 'preview');\n    }\n  }\n\n  toggleOpMenu = () => {\n    this.setState({\n      isOpMenuOpen: !this.state.isOpMenuOpen\n    });\n  };\n\n  togglePermSelectDialog = () => {\n    this.setState({\n      isPermSelectDialogOpen: !this.state.isPermSelectDialogOpen\n    });\n  };\n\n  onMouseEnter = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  unshare = (e) => {\n    e.preventDefault();\n\n    const item = this.props.item;\n    let options = {\n      'p': item.path\n    };\n    if (item.share_type == 'personal') {\n      Object.assign(options, {\n        'share_type': 'user',\n        'username': item.user_email\n      });\n    } else {\n      Object.assign(options, {\n        'share_type': item.share_type, // 'group'\n        'group_id': item.group_id\n      });\n    }\n\n    seafileAPI.unshareFolder(item.repo_id, options).then((res) => {\n      this.setState({\n        unshared: true\n      });\n      let message = gettext('Successfully unshared {name}').replace('{name}', item.folder_name);\n      toaster.success(message);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster(errMessage);\n    });\n  };\n\n  changePerm = (permission) => {\n    const item = this.props.item;\n    const postData = {\n      'permission': permission\n    };\n    let options = {\n      'p': item.path\n    };\n    if (item.share_type == 'personal') {\n      Object.assign(options, {\n        'share_type': 'user',\n        'username': item.user_email\n      });\n    } else {\n      Object.assign(options, {\n        'share_type': item.share_type, // 'group'\n        'group_id': item.group_id\n      });\n    }\n\n    seafileAPI.updateFolderSharePerm(item.repo_id, postData, options).then((res) => {\n      this.setState({share_permission: permission});\n      toaster.success(gettext('Successfully modified permission.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onEditPermission = (event) => {\n    event.nativeEvent.stopImmediatePropagation();\n    this.setState({isShowPermEditor: true});\n  };\n\n  render() {\n    if (this.state.unshared) {\n      return null;\n    }\n\n    const item = this.props.item;\n    let { share_permission, share_permission_name, isOpIconShown, isPermSelectDialogOpen, isShowPermEditor } = this.state;\n\n    let is_readonly = false;\n    if (share_permission == 'r' || share_permission == 'preview') {\n      is_readonly = true;\n    }\n    let iconUrl = Utils.getFolderIconUrl(is_readonly);\n    let iconTitle = Utils.getFolderIconTitle({\n      'permission': share_permission\n    });\n    let folderUrl = `${siteRoot}library/${item.repo_id}/${encodeURIComponent(item.repo_name)}${Utils.encodePath(item.path)}`;\n\n    // custom defined permission\n    if (share_permission.startsWith('custom-')) {\n      share_permission = share_permission.slice(7);\n    }\n    const desktopItem = (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onFocus={this.onMouseEnter}>\n        <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n        <td><Link to={folderUrl}>{item.folder_name}</Link></td>\n        <td>\n          {item.share_type == 'personal' ?\n            <span title={item.contact_email}>{item.user_name}</span> : item.group_name}\n        </td>\n        <td>\n          {!isShowPermEditor && (\n            <div>\n              <span>{Utils.sharePerms(share_permission) || share_permission_name}</span>\n              {isOpIconShown && (\n                <a href=\"#\"\n                  role=\"button\"\n                  aria-label={gettext('Edit')}\n                  title={gettext('Edit')}\n                  className=\"fa fa-pencil-alt attr-action-icon\"\n                  onClick={this.onEditPermission}>\n                </a>\n              )}\n            </div>\n          )}\n          {isShowPermEditor && (\n            <SharePermissionEditor\n              repoID={item.repo_id}\n              isTextMode={true}\n              isEditIconShow={isOpIconShown}\n              isEditing={true}\n              autoFocus={true}\n              currentPermission={share_permission}\n              permissions={this.permissions}\n              onPermissionChanged={this.changePerm}\n            />\n          )}\n        </td>\n        <td><a href=\"#\" role=\"button\" aria-label={gettext('Unshare')} className={`action-icon sf2-icon-x3 ${isOpIconShown ? '': 'invisible'}`} title={gettext('Unshare')} onClick={this.unshare}></a></td>\n      </tr>\n    );\n\n    const mobileItem = (\n      <Fragment>\n        <tr>\n          <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n          <td>\n            <Link to={folderUrl}>{item.folder_name}</Link>\n            <span className=\"item-meta-info-highlighted\">{Utils.sharePerms(share_permission)}</span>\n            <br />\n            <span className=\"item-meta-info\">{`${gettext('Share To:')} ${item.share_type == 'personal' ? item.user_name : item.group_name}`}</span>\n          </td>\n          <td>\n            <Dropdown isOpen={this.state.isOpMenuOpen} toggle={this.toggleOpMenu}>\n              <DropdownToggle\n                tag=\"i\"\n                className=\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\"\n                title={gettext('More operations')}\n                aria-label={gettext('More operations')}\n                data-toggle=\"dropdown\"\n                aria-expanded={this.state.isOpMenuOpen}\n              />\n              <div className={this.state.isOpMenuOpen ? '' : 'd-none'} onClick={this.toggleOpMenu}>\n                <div className=\"mobile-operation-menu-bg-layer\"></div>\n                <div className=\"mobile-operation-menu\">\n                  <DropdownItem className=\"mobile-menu-item\" onClick={this.togglePermSelectDialog}>{gettext('Permission')}</DropdownItem>\n                  <DropdownItem className=\"mobile-menu-item\" onClick={this.unshare}>{gettext('Unshare')}</DropdownItem>\n                </div>\n              </div>\n            </Dropdown>\n          </td>\n        </tr>\n        {isPermSelectDialogOpen &&(\n          <PermSelect\n            repoID={item.repo_id}\n            currentPerm={share_permission}\n            permissions={this.permissions}\n            changePerm={this.changePerm}\n            toggleDialog={this.togglePermSelectDialog}\n          />\n        )}\n      </Fragment>\n    );\n\n    return this.props.isDesktop ? desktopItem : mobileItem;\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isDesktop: PropTypes.bool.isRequired,\n};\n\nclass ShareAdminFolders extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      sortBy: 'name',\n      sortOrder: 'asc' // 'asc' or 'desc'\n    };\n  }\n\n  _sortItems = (items, sortBy, sortOrder) => {\n    let comparator;\n\n    switch (`${sortBy}-${sortOrder}`) {\n      case 'name-asc':\n        comparator = function(a, b) {\n          var result = Utils.compareTwoWord(a.folder_name, b.folder_name);\n          return result;\n        };\n        break;\n      case 'name-desc':\n        comparator = function(a, b) {\n          var result = Utils.compareTwoWord(a.folder_name, b.folder_name);\n          return -result;\n        };\n        break;\n    }\n\n    items.sort(comparator);\n    return items;\n  };\n\n  sortItems = (sortBy, sortOrder) => {\n    this.setState({\n      sortBy: sortBy,\n      sortOrder: sortOrder,\n      items: this._sortItems(this.state.items, sortBy, sortOrder)\n    });\n  };\n\n  componentDidMount() {\n    seafileAPI.listSharedFolders().then((res) => {\n      let items = res.data.map(item => {\n        return new SharedFolderInfo(item);\n      });\n      this.setState({\n        loading: false,\n        items: this._sortItems(items, this.state.sortBy, this.state.sortOrder)\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"main-panel-center\">\n        <div className=\"cur-view-container\" id=\"share-admin-libs\">\n          <div className=\"cur-view-path\">\n            <h3 className=\"sf-heading\">{gettext('Folders')}</h3>\n          </div>\n          <div className=\"cur-view-content\">\n            <Content\n              errorMsg={this.state.errorMsg}\n              loading={this.state.loading}\n              items={this.state.items}\n              sortBy={this.state.sortBy}\n              sortOrder={this.state.sortOrder}\n              sortItems={this.sortItems}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default ShareAdminFolders;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}