{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import{Link}from'@gatsbyjs/reach-router';import moment from'moment';import{gettext}from'../../utils/constants';import{Utils}from'../../utils/utils';import Loading from'../../components/loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DirentItem=/*#__PURE__*/function(_React$Component){_inherits(DirentItem,_React$Component);var _super=_createSuper(DirentItem);function DirentItem(props){var _this;_classCallCheck(this,DirentItem);_this=_super.call(this,props);_this.handleMouseOver=function(){_this.setState({isOpIconShown:true});};_this.handleMouseOut=function(){_this.setState({isOpIconShown:false});};_this.openFolder=function(){_this.props.openFolder(_this.props.dirent);};_this.downloadDirent=function(e){e.preventDefault();_this.props.downloadDirent(_this.props.dirent);};_this.state={isOpIconShown:false};return _this;}_createClass(DirentItem,[{key:\"render\",value:function render(){var isOpIconShown=this.state.isOpIconShown;var dirent=this.props.dirent;var iconUrl=Utils.getDirentIcon(dirent);return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,width:\"24\",alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:dirent.is_file?dirent.name:/*#__PURE__*/_jsx(Link,{to:\"#\",onClick:this.openFolder,children:dirent.name})}),/*#__PURE__*/_jsx(\"td\",{children:isOpIconShown&&dirent.is_file&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"op-icon sf2-icon-download\",title:gettext('Download'),onClick:this.downloadDirent})}),/*#__PURE__*/_jsx(\"td\",{children:Utils.bytesToSize(dirent.size)}),/*#__PURE__*/_jsx(\"td\",{children:moment(dirent.mtime).fromNow()})]})});}}]);return DirentItem;}(React.Component);var DirContent=/*#__PURE__*/function(_React$Component2){_inherits(DirContent,_React$Component2);var _super2=_createSuper(DirContent);function DirContent(props){_classCallCheck(this,DirContent);return _super2.call(this,props);}_createClass(DirContent,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,direntList=_this$props.direntList;if(loading){return/*#__PURE__*/_jsx(Loading,{});}if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center mt-4\",children:errorMsg});}return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"table\",{className:\"table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"5%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"55%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:gettext('Size')}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:gettext('Last Update')})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:direntList.map(function(dirent,index){return/*#__PURE__*/_jsx(DirentItem,{dirent:dirent,openFolder:_this2.props.openFolder,deleteDirent:_this2.props.deleteDirent,downloadDirent:_this2.props.downloadDirent},index);})})]})});}}]);return DirContent;}(React.Component);export default DirContent;","map":{"version":3,"names":["React","Fragment","Link","moment","gettext","Utils","Loading","jsx","_jsx","jsxs","_jsxs","DirentItem","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleMouseOver","setState","isOpIconShown","handleMouseOut","openFolder","dirent","downloadDirent","e","preventDefault","state","_createClass","key","value","render","iconUrl","getDirentIcon","children","onMouseEnter","onMouseLeave","className","src","width","alt","is_file","name","to","onClick","href","title","bytesToSize","size","mtime","fromNow","Component","DirContent","_React$Component2","_super2","_this2","_this$props","loading","errorMsg","direntList","map","index","deleteDirent"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/share-with-ocm/remote-dir-content.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport moment from 'moment';\nimport { gettext } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\n\nclass DirentItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  openFolder = () => {\n    this.props.openFolder(this.props.dirent);\n  };\n\n  downloadDirent = (e) => {\n    e.preventDefault();\n    this.props.downloadDirent(this.props.dirent);\n  };\n\n  render () {\n    let { isOpIconShown } = this.state;\n    let { dirent } = this.props;\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td className=\"text-center\"><img src={iconUrl} width=\"24\" alt='' /></td>\n          <td>\n            {dirent.is_file ?\n              dirent.name :\n              <Link to=\"#\" onClick={this.openFolder}>{dirent.name}</Link>\n            }\n          </td>\n          <td>\n            {isOpIconShown && dirent.is_file &&\n            <a href=\"#\" className=\"op-icon sf2-icon-download\" title={gettext('Download')} onClick={this.downloadDirent}></a>\n            }\n          </td>\n          <td>{Utils.bytesToSize(dirent.size)}</td>\n          <td>{moment(dirent.mtime).fromNow()}</td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nDirentItem.propTypes = {\n  dirent: PropTypes.object.isRequired,\n  openFolder: PropTypes.func.isRequired,\n  deleteDirent: PropTypes.func.isRequired,\n  downloadDirent: PropTypes.func.isRequired,\n};\n\nclass DirContent extends React.Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    let { loading, errorMsg, direntList } = this.props;\n\n    if (loading) {\n      return <Loading />;\n    }\n\n    if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    }\n\n    return (\n      <Fragment>\n        <table className=\"table-hover\">\n          <thead>\n            <tr>\n              <th width=\"5%\">{/*icon*/}</th>\n              <th width=\"55%\">{gettext('Name')}</th>\n              <th width=\"10%\">{/*operation*/}</th>\n              <th width=\"15%\">{gettext('Size')}</th>\n              <th width=\"15%\">{gettext('Last Update')}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {direntList.map((dirent, index) => {\n              return <DirentItem\n                key={index}\n                dirent={dirent}\n                openFolder={this.props.openFolder}\n                deleteDirent={this.props.deleteDirent}\n                downloadDirent={this.props.downloadDirent}\n              />;\n            })}\n          </tbody>\n        </table>\n      </Fragment>\n    );\n  }\n}\n\nDirContent.propTypes =  {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  direntList: PropTypes.array.isRequired,\n  openFolder: PropTypes.func.isRequired,\n  deleteDirent: PropTypes.func.isRequired,\n  downloadDirent: PropTypes.func.isRequired,\n};\n\nexport default DirContent;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}