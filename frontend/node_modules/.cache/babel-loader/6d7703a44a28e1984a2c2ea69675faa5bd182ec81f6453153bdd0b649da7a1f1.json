{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Modal,ModalHeader,ModalBody,ModalFooter,Button}from'reactstrap';import{gettext,siteRoot}from'../../utils/constants';import ModalPortal from'../modal-portal';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _window$app$pageOptio=window.app.pageOptions,csrfToken=_window$app$pageOptio.csrfToken,isOrgContext=_window$app$pageOptio.isOrgContext,orgID=_window$app$pageOptio.orgID,samlConnected=_window$app$pageOptio.samlConnected,enableMultiADFS=_window$app$pageOptio.enableMultiADFS,orgSamlConnected=_window$app$pageOptio.orgSamlConnected,socialNextPage=_window$app$pageOptio.socialNextPage;var SocialLoginSAML=/*#__PURE__*/function(_React$Component){_inherits(SocialLoginSAML,_React$Component);var _super=_createSuper(SocialLoginSAML);function SocialLoginSAML(props){var _this;_classCallCheck(this,SocialLoginSAML);_this=_super.call(this,props);_this.confirmDisconnect=function(){_this.setState({isConfirmDialogOpen:true});};_this.disconnect=function(){_this.form.current.submit();};_this.toggleDialog=function(){_this.setState({isConfirmDialogOpen:!_this.state.isConfirmDialogOpen});};_this.form=/*#__PURE__*/React.createRef();_this.state={isConfirmDialogOpen:false};return _this;}_createClass(SocialLoginSAML,[{key:\"render\",value:function render(){var connectUrl=enableMultiADFS&&isOrgContext?\"\".concat(siteRoot,\"org/custom/\").concat(orgID,\"/saml2/connect/?next=\").concat(encodeURIComponent(socialNextPage)):\"\".concat(siteRoot,\"saml2/connect/?next=\").concat(encodeURIComponent(socialNextPage));var disconnectUrl=orgSamlConnected&&isOrgContext?\"\".concat(siteRoot,\"org/custom/\").concat(orgID,\"/saml2/disconnect/?next=\").concat(encodeURIComponent(socialNextPage)):\"\".concat(siteRoot,\"saml2/disconnect/?next=\").concat(encodeURIComponent(socialNextPage));return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"setting-item\",id:\"social-auth\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"setting-item-heading\",children:gettext('Social Login')}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-2\",children:'SAML'}),samlConnected||orgSamlConnected&&isOrgContext?/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-outline-primary\",onClick:this.confirmDisconnect,children:gettext('Disconnect')}):/*#__PURE__*/_jsx(\"a\",{href:connectUrl,className:\"btn btn-outline-primary\",children:gettext('Connect')})]}),this.state.isConfirmDialogOpen&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsxs(Modal,{centered:true,isOpen:true,toggle:this.toggleDialog,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggleDialog,children:gettext('Disconnect')}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsx(\"p\",{children:gettext('Are you sure you want to disconnect?')}),/*#__PURE__*/_jsx(\"form\",{ref:this.form,className:\"d-none\",method:\"post\",action:disconnectUrl,children:/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"csrfmiddlewaretoken\",value:csrfToken})})]}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:this.toggleDialog,children:gettext('Cancel')}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:this.disconnect,children:gettext('Disconnect')})]})]})})]});}}]);return SocialLoginSAML;}(React.Component);export default SocialLoginSAML;","map":{"version":3,"names":["React","Modal","ModalHeader","ModalBody","ModalFooter","Button","gettext","siteRoot","ModalPortal","jsx","_jsx","jsxs","_jsxs","_window$app$pageOptio","window","app","pageOptions","csrfToken","isOrgContext","orgID","samlConnected","enableMultiADFS","orgSamlConnected","socialNextPage","SocialLoginSAML","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","confirmDisconnect","setState","isConfirmDialogOpen","disconnect","form","current","submit","toggleDialog","state","createRef","_createClass","key","value","render","connectUrl","concat","encodeURIComponent","disconnectUrl","Fragment","children","className","id","onClick","href","centered","isOpen","toggle","ref","method","action","type","name","color","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/user-settings/social-login-saml.js"],"sourcesContent":["import React from 'react';\nimport { Modal, ModalHeader, ModalBody, ModalFooter, Button } from 'reactstrap';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport ModalPortal from '../modal-portal';\n\nconst {\n  csrfToken,\n  isOrgContext,\n  orgID,\n  samlConnected,\n  enableMultiADFS,\n  orgSamlConnected,\n  socialNextPage\n} = window.app.pageOptions;\n\nclass SocialLoginSAML extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.form = React.createRef();\n    this.state = {\n      isConfirmDialogOpen: false\n    };\n  }\n\n  confirmDisconnect = () => {\n    this.setState({\n      isConfirmDialogOpen: true\n    });\n  };\n\n  disconnect = () => {\n    this.form.current.submit();\n  };\n\n  toggleDialog = () => {\n    this.setState({\n      isConfirmDialogOpen: !this.state.isConfirmDialogOpen\n    });\n  };\n\n  render() {\n    let connectUrl = (enableMultiADFS && isOrgContext) ? `${siteRoot}org/custom/${orgID}/saml2/connect/?next=${encodeURIComponent(socialNextPage)}` : `${siteRoot}saml2/connect/?next=${encodeURIComponent(socialNextPage)}`;\n    let disconnectUrl = (orgSamlConnected && isOrgContext) ? `${siteRoot}org/custom/${orgID}/saml2/disconnect/?next=${encodeURIComponent(socialNextPage)}` : `${siteRoot}saml2/disconnect/?next=${encodeURIComponent(socialNextPage)}`;\n\n    return (\n      <React.Fragment>\n        <div className=\"setting-item\" id=\"social-auth\">\n          <h3 className=\"setting-item-heading\">{gettext('Social Login')}</h3>\n          <p className=\"mb-2\">{'SAML'}</p>\n          {(samlConnected || (orgSamlConnected && isOrgContext)) ?\n            <button className=\"btn btn-outline-primary\" onClick={this.confirmDisconnect}>{gettext('Disconnect')}</button> :\n            <a href={connectUrl} className=\"btn btn-outline-primary\">{gettext('Connect')}</a>\n          }\n        </div>\n        {this.state.isConfirmDialogOpen && (\n          <ModalPortal>\n            <Modal centered={true} isOpen={true} toggle={this.toggleDialog}>\n              <ModalHeader toggle={this.toggleDialog}>{gettext('Disconnect')}</ModalHeader>\n              <ModalBody>\n                <p>{gettext('Are you sure you want to disconnect?')}</p>\n                <form ref={this.form} className=\"d-none\" method=\"post\" action={disconnectUrl}>\n                  <input type=\"hidden\" name=\"csrfmiddlewaretoken\" value={csrfToken} />\n                </form>\n              </ModalBody>\n              <ModalFooter>\n                <Button color=\"secondary\" onClick={this.toggleDialog}>{gettext('Cancel')}</Button>\n                <Button color=\"primary\" onClick={this.disconnect}>{gettext('Disconnect')}</Button>\n              </ModalFooter>\n            </Modal>\n          </ModalPortal>\n        )}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default SocialLoginSAML;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}