{"ast":null,"code":"import _regeneratorRuntime from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import{ButtonGroup,ButtonDropdown,Dropdown,DropdownToggle,DropdownMenu,DropdownItem}from'reactstrap';import IconButton from'../icon-button';import{gettext,siteRoot}from'../../utils/constants';import{Utils}from'../../utils/utils';import ModalPortal from'../modal-portal';import ShareDialog from'../dialog/share-dialog';import{seafileAPI}from'../../utils/seafile-api';import toaster from'../toast';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _window$app$pageOptio=window.app.pageOptions,canLockUnlockFile=_window$app$pageOptio.canLockUnlockFile,repoID=_window$app$pageOptio.repoID,repoName=_window$app$pageOptio.repoName,repoEncrypted=_window$app$pageOptio.repoEncrypted,parentDir=_window$app$pageOptio.parentDir,filePerm=_window$app$pageOptio.filePerm,filePath=_window$app$pageOptio.filePath,fileType=_window$app$pageOptio.fileType,fileName=_window$app$pageOptio.fileName,canEditFile=_window$app$pageOptio.canEditFile,err=_window$app$pageOptio.err,canDownloadFile=_window$app$pageOptio.canDownloadFile;var FileToolbar=/*#__PURE__*/function(_React$Component){_inherits(FileToolbar,_React$Component);var _super=_createSuper(FileToolbar);function FileToolbar(props){var _this;_classCallCheck(this,FileToolbar);_this=_super.call(this,props);_this.toggleShareDialog=function(){_this.setState({isShareDialogOpen:!_this.state.isShareDialogOpen});};_this.toggleMoreOpMenu=function(){_this.setState({moreDropdownOpen:!_this.state.moreDropdownOpen});};_this.toggle=function(){_this.setState({dropdownOpen:!_this.state.dropdownOpen});};_this.state={isLoading:true,dropdownOpen:false,moreDropdownOpen:false,isShareDialogOpen:false};return _this;}_createClass(FileToolbar,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var permissionID,permissionRes,errorMsg;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(!(filePerm&&filePerm.startsWith('custom-'))){_context.next=19;break;}this.isCustomPermission=true;permissionID=filePerm.split('-')[1];_context.prev=3;_context.next=6;return seafileAPI.getCustomPermission(repoID,permissionID);case 6:permissionRes=_context.sent;this.customPermission=permissionRes.data.permission;// share dialog need a global custom_permission\nwindow.custom_permission=this.customPermission;this.setState({isLoading:false});_context.next=17;break;case 12:_context.prev=12;_context.t0=_context[\"catch\"](3);errorMsg=Utils.getErrorMsg(_context.t0);toaster.danger(errorMsg);this.setState({isLoading:false});case 17:_context.next=20;break;case 19:this.setState({isLoading:false});case 20:case\"end\":return _context.stop();}},_callee,this,[[3,12]]);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){if(this.state.isLoading){return null;}var _this$props=this.props,isLocked=_this$props.isLocked,lockedByMe=_this$props.lockedByMe;var moreDropdownOpen=this.state.moreDropdownOpen;var showLockUnlockBtn=false;var lockUnlockText,lockUnlockIcon;if(canLockUnlockFile){if(!isLocked){showLockUnlockBtn=true;lockUnlockText=gettext('Lock');lockUnlockIcon='fa fa-lock';}else if(lockedByMe){showLockUnlockBtn=true;lockUnlockText=gettext('Unlock');lockUnlockIcon='fa fa-unlock';}}var showShareBtn=false;if(repoEncrypted){showShareBtn=true;// for internal link\n}else if(filePerm=='rw'||filePerm=='r'){showShareBtn=true;}var isCustomPermission=this.isCustomPermission,customPermission=this.customPermission;if(isCustomPermission){var download_external_link=customPermission.permission.download_external_link;showShareBtn=download_external_link;}return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(ButtonGroup,{className:\"d-none d-md-block flex-shrink-0 ml-4\",children:[fileType=='PDF'&&/*#__PURE__*/_jsx(IconButton,{id:\"seafile-pdf-print\",icon:\"fa fa-print\",text:gettext('Print')}),/*#__PURE__*/_jsx(IconButton,{id:\"open-parent-folder\",icon:\"fa fa-folder-open\",text:gettext('Open parent folder'),tag:\"a\",href:\"\".concat(siteRoot,\"library/\").concat(repoID,\"/\").concat(Utils.encodePath(repoName+parentDir))}),showLockUnlockBtn&&/*#__PURE__*/_jsx(IconButton,{id:\"lock-unlock-file\",icon:lockUnlockIcon,text:lockUnlockText,onClick:this.props.toggleLockFile}),showShareBtn&&/*#__PURE__*/_jsx(IconButton,{id:\"share-file\",icon:\"fa fa-share-alt\",text:gettext('Share'),onClick:this.toggleShareDialog}),canEditFile&&fileType!='SDoc'&&!err&&(this.props.isSaving?/*#__PURE__*/_jsx(\"button\",{type:'button',\"aria-label\":gettext('Saving...'),className:'btn btn-icon btn-secondary btn-active',children:/*#__PURE__*/_jsx(\"i\",{className:'fa fa-spin fa-spinner'})}):this.props.needSave?/*#__PURE__*/_jsx(IconButton,{text:gettext('Save'),id:'saveButton',icon:'fa fa-save'// button imported in this file does not have functionalities of\n// isActive as button imported in markdowneditor has\n//isActive={!isContentChanged}\n,onClick:this.props.onSave}):/*#__PURE__*/_jsx(\"button\",{type:'button',className:'btn btn-icon btn-secondary btn-active',disabled:true,children:/*#__PURE__*/_jsx(\"i\",{className:'fa fa-save'})})),canDownloadFile&&/*#__PURE__*/_jsx(IconButton,{id:\"download-file\",icon:\"fa fa-download\",text:gettext('Download'),tag:\"a\",href:\"?dl=1\"}),/*#__PURE__*/_jsx(IconButton,{id:\"file-details\",icon:\"fas fa-info\",text:gettext('Details'),onClick:this.props.toggleDetailsPanel}),filePerm=='rw'&&/*#__PURE__*/_jsx(IconButton,{id:\"open-via-client\",icon:\"sf3-font sf3-font-desktop\",text:gettext('Open via Client'),tag:\"a\",href:\"seafile://openfile?repo_id=\".concat(encodeURIComponent(repoID),\"&path=\").concat(encodeURIComponent(filePath))}),/*#__PURE__*/_jsxs(ButtonDropdown,{isOpen:moreDropdownOpen,toggle:this.toggleMoreOpMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{\"aria-label\":gettext('More operations'),children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-ellipsis-v\"})}),/*#__PURE__*/_jsx(DropdownMenu,{right:true,children:filePerm=='rw'&&/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"repo/file_revisions/\").concat(repoID,\"/?p=\").concat(encodeURIComponent(filePath),\"&referer=\").concat(encodeURIComponent(location.href)),className:\"dropdown-item\",children:gettext('History')})})]})]}),/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.dropdownOpen,toggle:this.toggle,className:\"d-block d-md-none flex-shrink-0 ml-4\",children:[/*#__PURE__*/_jsx(ButtonGroup,{children:canEditFile&&fileType!='SDoc'&&!err&&(this.props.isSaving?/*#__PURE__*/_jsx(\"button\",{type:'button',\"aria-label\":gettext('Saving...'),className:'btn btn-icon btn-secondary btn-active',children:/*#__PURE__*/_jsx(\"i\",{className:'fa fa-spin fa-spinner'})}):this.props.needSave?/*#__PURE__*/_jsx(IconButton,{text:gettext('Save'),id:'saveButton',icon:'fa fa-save'// button imported in this file does not have functionalities of\n// isActive as button imported in markdowneditor has\n//isActive={!isContentChanged}\n,onClick:this.props.onSave}):/*#__PURE__*/_jsx(\"button\",{type:'button',className:'btn btn-icon btn-secondary btn-active',disabled:true,children:/*#__PURE__*/_jsx(\"i\",{className:'fa fa-save'})}))}),/*#__PURE__*/_jsx(DropdownToggle,{className:\"sf2-icon-more mx-1\",\"aria-label\":gettext('More operations')}),/*#__PURE__*/_jsxs(DropdownMenu,{right:true,children:[/*#__PURE__*/_jsx(DropdownItem,{children:/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"library/\").concat(repoID,\"/\").concat(Utils.encodePath(repoName+parentDir)),className:\"text-inherit\",children:gettext('Open parent folder')})}),showLockUnlockBtn&&/*#__PURE__*/_jsx(DropdownItem,{onClick:this.props.toggleLockFile,children:lockUnlockText}),showShareBtn&&/*#__PURE__*/_jsx(DropdownItem,{onClick:this.toggleShareDialog,children:gettext('Share')}),filePerm=='rw'&&/*#__PURE__*/_jsx(DropdownItem,{children:/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"repo/file_revisions/\").concat(repoID,\"/?p=\").concat(encodeURIComponent(filePath),\"&referer=\").concat(encodeURIComponent(location.href)),className:\"text-inherit\",children:gettext('History')})}),canDownloadFile&&/*#__PURE__*/_jsx(DropdownItem,{children:/*#__PURE__*/_jsx(\"a\",{href:\"?dl=1\",className:\"text-inherit\",children:gettext('Download')})}),/*#__PURE__*/_jsx(DropdownItem,{onClick:this.props.toggleDetailsPanel,children:gettext('Details')})]})]}),this.state.isShareDialogOpen&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(ShareDialog,{itemType:\"file\",itemName:fileName,itemPath:filePath,userPerm:filePerm,repoID:repoID,repoEncrypted:repoEncrypted,toggleDialog:this.toggleShareDialog})})]});}}]);return FileToolbar;}(React.Component);export default FileToolbar;","map":{"version":3,"names":["React","Fragment","ButtonGroup","ButtonDropdown","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","IconButton","gettext","siteRoot","Utils","ModalPortal","ShareDialog","seafileAPI","toaster","jsx","_jsx","jsxs","_jsxs","_window$app$pageOptio","window","app","pageOptions","canLockUnlockFile","repoID","repoName","repoEncrypted","parentDir","filePerm","filePath","fileType","fileName","canEditFile","err","canDownloadFile","FileToolbar","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","toggleShareDialog","setState","isShareDialogOpen","state","toggleMoreOpMenu","moreDropdownOpen","toggle","dropdownOpen","isLoading","_createClass","key","value","_componentDidMount","_asyncToGenerator","_regeneratorRuntime","mark","_callee","permissionID","permissionRes","errorMsg","wrap","_callee$","_context","prev","next","startsWith","isCustomPermission","split","getCustomPermission","sent","customPermission","data","permission","custom_permission","t0","getErrorMsg","danger","stop","componentDidMount","apply","arguments","render","_this$props","isLocked","lockedByMe","showLockUnlockBtn","lockUnlockText","lockUnlockIcon","showShareBtn","download_external_link","children","className","id","icon","text","tag","href","concat","encodePath","onClick","toggleLockFile","isSaving","type","needSave","onSave","disabled","toggleDetailsPanel","encodeURIComponent","isOpen","right","location","itemType","itemName","itemPath","userPerm","toggleDialog","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/file-view/file-toolbar.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { ButtonGroup, ButtonDropdown, Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport IconButton from '../icon-button';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport ModalPortal from '../modal-portal';\nimport ShareDialog from '../dialog/share-dialog';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport toaster from '../toast';\n\nconst propTypes = {\n  isLocked: PropTypes.bool.isRequired,\n  lockedByMe: PropTypes.bool.isRequired,\n  onSave: PropTypes.func,\n  isSaving: PropTypes.bool,\n  needSave: PropTypes.bool,\n  toggleLockFile: PropTypes.func.isRequired,\n  toggleDetailsPanel: PropTypes.func.isRequired\n};\n\nconst {\n  canLockUnlockFile,\n  repoID, repoName, repoEncrypted, parentDir, filePerm, filePath,\n  fileType,\n  fileName,\n  canEditFile, err,\n  // fileEnc, // for 'edit', not undefined only for some kinds of files (e.g. text file)\n  canDownloadFile,\n} = window.app.pageOptions;\n\nclass FileToolbar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isLoading: true,\n      dropdownOpen: false,\n      moreDropdownOpen: false,\n      isShareDialogOpen: false,\n    };\n  }\n\n  async componentDidMount() {\n    if (filePerm && filePerm.startsWith('custom-')) {\n      this.isCustomPermission = true;\n      const permissionID = filePerm.split('-')[1];\n      try {\n        const permissionRes = await seafileAPI.getCustomPermission(repoID, permissionID);\n        this.customPermission = permissionRes.data.permission;\n        // share dialog need a global custom_permission\n        window.custom_permission = this.customPermission;\n        this.setState({isLoading: false});\n      } catch(error) {\n        let errorMsg = Utils.getErrorMsg(error);\n        toaster.danger(errorMsg);\n        this.setState({isLoading: false});\n      }\n    } else {\n      this.setState({isLoading: false});\n    }\n  }\n\n  toggleShareDialog = () => {\n    this.setState({isShareDialogOpen: !this.state.isShareDialogOpen});\n  };\n\n  toggleMoreOpMenu = () => {\n    this.setState({\n      moreDropdownOpen: !this.state.moreDropdownOpen\n    });\n  };\n\n  toggle = () => {\n    this.setState({\n      dropdownOpen: !this.state.dropdownOpen\n    });\n  };\n\n  render() {\n    if (this.state.isLoading) {\n      return null;\n    }\n\n    const { isLocked, lockedByMe } = this.props;\n    const { moreDropdownOpen } = this.state;\n    let showLockUnlockBtn = false;\n    let lockUnlockText, lockUnlockIcon;\n    if (canLockUnlockFile) {\n      if (!isLocked) {\n        showLockUnlockBtn = true;\n        lockUnlockText = gettext('Lock');\n        lockUnlockIcon = 'fa fa-lock';\n      } else if (lockedByMe) {\n        showLockUnlockBtn = true;\n        lockUnlockText = gettext('Unlock');\n        lockUnlockIcon = 'fa fa-unlock';\n      }\n    }\n\n    let showShareBtn = false;\n    if (repoEncrypted) {\n      showShareBtn = true; // for internal link\n    } else if (filePerm == 'rw' || filePerm == 'r') {\n      showShareBtn = true;\n    }\n\n    const { isCustomPermission, customPermission } = this;\n    if (isCustomPermission) {\n      const { download_external_link } = customPermission.permission;\n      showShareBtn = download_external_link;\n    }\n\n    return (\n      <Fragment>\n        <ButtonGroup className=\"d-none d-md-block flex-shrink-0 ml-4\">\n          {fileType == 'PDF' && (\n            <IconButton\n              id=\"seafile-pdf-print\"\n              icon=\"fa fa-print\"\n              text={gettext('Print')}\n            />\n          )}\n          <IconButton\n            id=\"open-parent-folder\"\n            icon=\"fa fa-folder-open\"\n            text={gettext('Open parent folder')}\n            tag=\"a\"\n            href={`${siteRoot}library/${repoID}/${Utils.encodePath(repoName + parentDir)}`}\n          />\n          {showLockUnlockBtn && (\n            <IconButton\n              id=\"lock-unlock-file\"\n              icon={lockUnlockIcon}\n              text={lockUnlockText}\n              onClick={this.props.toggleLockFile}\n            />\n          )}\n          {showShareBtn && (\n            <IconButton\n              id=\"share-file\"\n              icon='fa fa-share-alt'\n              text={gettext('Share')}\n              onClick={this.toggleShareDialog}\n            />\n          )}\n\n          {(canEditFile && fileType != 'SDoc' && !err) &&\n            ( this.props.isSaving ?\n              <button type={'button'} aria-label={gettext('Saving...')} className={'btn btn-icon btn-secondary btn-active'}>\n                <i className={'fa fa-spin fa-spinner'}/></button> :\n              (\n                this.props.needSave ?\n                  <IconButton\n                    text={gettext('Save')}\n                    id={'saveButton'}\n                    icon={'fa fa-save'}\n                    // button imported in this file does not have functionalities of\n                    // isActive as button imported in markdowneditor has\n                    //isActive={!isContentChanged}\n                    onClick={this.props.onSave}\n                  /> :\n                  <button type={'button'} className={'btn btn-icon btn-secondary btn-active'} disabled>\n                    <i className={'fa fa-save'}/></button>\n              )\n            )}\n          {canDownloadFile && (\n            <IconButton\n              id=\"download-file\"\n              icon=\"fa fa-download\"\n              text={gettext('Download')}\n              tag=\"a\"\n              href=\"?dl=1\"\n            />\n          )}\n          <IconButton\n            id=\"file-details\"\n            icon='fas fa-info'\n            text={gettext('Details')}\n            onClick={this.props.toggleDetailsPanel}\n          />\n          {filePerm == 'rw' && (\n            <IconButton\n              id=\"open-via-client\"\n              icon=\"sf3-font sf3-font-desktop\"\n              text={gettext('Open via Client')}\n              tag=\"a\"\n              href={`seafile://openfile?repo_id=${encodeURIComponent(repoID)}&path=${encodeURIComponent(filePath)}`}\n            />\n          )}\n          <ButtonDropdown isOpen={moreDropdownOpen} toggle={this.toggleMoreOpMenu}>\n            <DropdownToggle aria-label={gettext('More operations')}>\n              <span className=\"fas fa-ellipsis-v\"></span>\n            </DropdownToggle>\n            <DropdownMenu right={true}>\n              {filePerm == 'rw' && (\n                <a href={`${siteRoot}repo/file_revisions/${repoID}/?p=${encodeURIComponent(filePath)}&referer=${encodeURIComponent(location.href)}`} className=\"dropdown-item\">\n                  {gettext('History')}\n                </a>\n              )}\n            </DropdownMenu>\n          </ButtonDropdown>\n        </ButtonGroup>\n\n        <Dropdown isOpen={this.state.dropdownOpen} toggle={this.toggle} className=\"d-block d-md-none flex-shrink-0 ml-4\">\n          <ButtonGroup >\n            {(canEditFile && fileType != 'SDoc' && !err) &&\n                (this.props.isSaving ?\n                  <button type={'button'} aria-label={gettext('Saving...')} className={'btn btn-icon btn-secondary btn-active'}>\n                    <i className={'fa fa-spin fa-spinner'}/></button> :\n                  (\n                    this.props.needSave ?\n                      <IconButton\n                        text={gettext('Save')}\n                        id={'saveButton'}\n                        icon={'fa fa-save'}\n                        // button imported in this file does not have functionalities of\n                        // isActive as button imported in markdowneditor has\n                        //isActive={!isContentChanged}\n                        onClick={this.props.onSave}\n                      /> :\n                      <button type={'button'} className={'btn btn-icon btn-secondary btn-active'} disabled>\n                        <i className={'fa fa-save'}/></button>\n                  )\n                )}\n          </ButtonGroup>\n\n          <DropdownToggle className=\"sf2-icon-more mx-1\" aria-label={gettext('More operations')}></DropdownToggle>\n          <DropdownMenu right={true}>\n            <DropdownItem>\n              <a href={`${siteRoot}library/${repoID}/${Utils.encodePath(repoName + parentDir)}`} className=\"text-inherit\">\n                {gettext('Open parent folder')}\n              </a>\n            </DropdownItem>\n            {showLockUnlockBtn && (\n              <DropdownItem onClick={this.props.toggleLockFile}>\n                {lockUnlockText}\n              </DropdownItem>\n            )}\n            {showShareBtn && (\n              <DropdownItem onClick={this.toggleShareDialog}>\n                {gettext('Share')}\n              </DropdownItem>\n            )}\n            {filePerm == 'rw' && (\n              <DropdownItem>\n                <a href={`${siteRoot}repo/file_revisions/${repoID}/?p=${encodeURIComponent(filePath)}&referer=${encodeURIComponent(location.href)}`} className=\"text-inherit\">\n                  {gettext('History')}\n                </a>\n              </DropdownItem>\n            )}\n            {canDownloadFile && (\n              <DropdownItem>\n                <a href=\"?dl=1\" className=\"text-inherit\">\n                  {gettext('Download')}\n                </a>\n              </DropdownItem>\n            )}\n            <DropdownItem onClick={this.props.toggleDetailsPanel}>{gettext('Details')}</DropdownItem>\n          </DropdownMenu>\n        </Dropdown>\n\n        {this.state.isShareDialogOpen && (\n          <ModalPortal>\n            <ShareDialog\n              itemType='file'\n              itemName={fileName}\n              itemPath={filePath}\n              userPerm={filePerm}\n              repoID={repoID}\n              repoEncrypted={repoEncrypted}\n              toggleDialog={this.toggleShareDialog}\n            />\n          </ModalPortal>\n        )}\n      </Fragment>\n    );\n  }\n}\n\nFileToolbar.propTypes = propTypes;\n\nexport default FileToolbar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}