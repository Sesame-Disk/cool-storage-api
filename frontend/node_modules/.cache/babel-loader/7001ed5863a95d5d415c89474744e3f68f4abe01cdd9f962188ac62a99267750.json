{"ast":null,"code":"import deselectCurrent from'toggle-selection';function copy(text){var reselectPrevious,range,selection,mark,success=false;try{reselectPrevious=deselectCurrent();range=document.createRange();selection=document.getSelection();// 'a' is for 'copy a link to seafile markdown editor'\nmark=document.createElement('a');mark.textContent=text;document.body.appendChild(mark);range.selectNode(mark);selection.addRange(range);var successful=document.execCommand('copy');if(!successful){//console.log('copy command was unsuccessful');\n}success=true;}catch(err){// console.error('unable to copy using execCommand');\n}finally{if(selection){if(typeof selection.removeRange=='function'){selection.removeRange(range);}else{selection.removeAllRanges();}}if(mark){document.body.removeChild(mark);}reselectPrevious();}return success;}export default copy;","map":{"version":3,"names":["deselectCurrent","copy","text","reselectPrevious","range","selection","mark","success","document","createRange","getSelection","createElement","textContent","body","appendChild","selectNode","addRange","successful","execCommand","err","removeRange","removeAllRanges","removeChild"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/copy-to-clipboard.js"],"sourcesContent":["import deselectCurrent from 'toggle-selection';\n\nfunction copy(text) {\n  let reselectPrevious, range, selection, mark, success = false;\n  try {\n    reselectPrevious = deselectCurrent();\n\n    range = document.createRange();\n    selection = document.getSelection();\n\n    // 'a' is for 'copy a link to seafile markdown editor'\n    mark = document.createElement('a');\n    mark.textContent = text;\n\n    document.body.appendChild(mark);\n\n    range.selectNode(mark);\n    selection.addRange(range);\n\n    const successful = document.execCommand('copy');\n    if (!successful) {\n      //console.log('copy command was unsuccessful');\n    }\n    success = true;\n  } catch (err) {\n    // console.error('unable to copy using execCommand');\n  } finally {\n    if (selection) {\n      if (typeof selection.removeRange == 'function') {\n        selection.removeRange(range);\n      } else {\n        selection.removeAllRanges();\n      }\n    }\n\n    if (mark) {\n      document.body.removeChild(mark);\n    }\n    reselectPrevious();\n  }\n\n  return success;\n}\n\nexport default copy;\n"],"mappings":"AAAA,MAAO,CAAAA,eAAe,KAAM,kBAAkB,CAE9C,QAAS,CAAAC,IAAIA,CAACC,IAAI,CAAE,CAClB,GAAI,CAAAC,gBAAgB,CAAEC,KAAK,CAAEC,SAAS,CAAEC,IAAI,CAAEC,OAAO,CAAG,KAAK,CAC7D,GAAI,CACFJ,gBAAgB,CAAGH,eAAe,CAAC,CAAC,CAEpCI,KAAK,CAAGI,QAAQ,CAACC,WAAW,CAAC,CAAC,CAC9BJ,SAAS,CAAGG,QAAQ,CAACE,YAAY,CAAC,CAAC,CAEnC;AACAJ,IAAI,CAAGE,QAAQ,CAACG,aAAa,CAAC,GAAG,CAAC,CAClCL,IAAI,CAACM,WAAW,CAAGV,IAAI,CAEvBM,QAAQ,CAACK,IAAI,CAACC,WAAW,CAACR,IAAI,CAAC,CAE/BF,KAAK,CAACW,UAAU,CAACT,IAAI,CAAC,CACtBD,SAAS,CAACW,QAAQ,CAACZ,KAAK,CAAC,CAEzB,GAAM,CAAAa,UAAU,CAAGT,QAAQ,CAACU,WAAW,CAAC,MAAM,CAAC,CAC/C,GAAI,CAACD,UAAU,CAAE,CACf;AAAA,CAEFV,OAAO,CAAG,IAAI,CAChB,CAAE,MAAOY,GAAG,CAAE,CACZ;AAAA,CACD,OAAS,CACR,GAAId,SAAS,CAAE,CACb,GAAI,MAAO,CAAAA,SAAS,CAACe,WAAW,EAAI,UAAU,CAAE,CAC9Cf,SAAS,CAACe,WAAW,CAAChB,KAAK,CAAC,CAC9B,CAAC,IAAM,CACLC,SAAS,CAACgB,eAAe,CAAC,CAAC,CAC7B,CACF,CAEA,GAAIf,IAAI,CAAE,CACRE,QAAQ,CAACK,IAAI,CAACS,WAAW,CAAChB,IAAI,CAAC,CACjC,CACAH,gBAAgB,CAAC,CAAC,CACpB,CAEA,MAAO,CAAAI,OAAO,CAChB,CAEA,cAAe,CAAAN,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}