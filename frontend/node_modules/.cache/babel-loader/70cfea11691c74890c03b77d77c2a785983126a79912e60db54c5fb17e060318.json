{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Popover}from'reactstrap';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var NotificationPopover=/*#__PURE__*/function(_React$Component){_inherits(NotificationPopover,_React$Component);var _super=_createSuper(NotificationPopover);function NotificationPopover(){var _this;_classCallCheck(this,NotificationPopover);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.handleOutsideClick=function(e){if(!_this.notificationContainerRef.contains(e.target)&&!document.getElementById('notice-icon').contains(e.target)){_this.props.onNotificationListToggle();}};_this.onNotificationDialogToggle=function(){_this.props.onNotificationDialogToggle();_this.props.onNotificationListToggle();};_this.onHandleScroll=function(){if(_this.notificationListRef.offsetHeight+_this.notificationListRef.scrollTop+1>=_this.notificationsWrapperRef.offsetHeight){_this.props.listNotifications&&_this.props.listNotifications();}};return _this;}_createClass(NotificationPopover,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('mousedown',this.handleOutsideClick,true);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('mousedown',this.handleOutsideClick,true);}},{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,headerText=_this$props.headerText,bodyText=_this$props.bodyText,footerText=_this$props.footerText;return/*#__PURE__*/_jsx(Popover,{className:\"notification-wrapper\",target:\"notification-popover\",isOpen:true,fade:false,hideArrow:true,placement:\"bottom\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"notification-container\",ref:function ref(_ref3){return _this2.notificationContainerRef=_ref3;},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notification-header\",children:[headerText,/*#__PURE__*/_jsx(\"span\",{className:\"sf3-font sf3-font-x-01 notification-close-icon\",onClick:this.props.onNotificationListToggle})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"notification-body\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mark-notifications\",onClick:this.props.onMarkAllNotifications,children:bodyText}),/*#__PURE__*/_jsx(\"div\",{className:\"notification-list-container\",onScroll:this.onHandleScroll,ref:function ref(_ref2){return _this2.notificationListRef=_ref2;},children:/*#__PURE__*/_jsx(\"div\",{ref:function ref(_ref){return _this2.notificationsWrapperRef=_ref;},children:this.props.children})}),/*#__PURE__*/_jsx(\"div\",{className:\"notification-footer\",onClick:this.onNotificationDialogToggle,children:footerText})]})]})});}}]);return NotificationPopover;}(React.Component);NotificationPopover.defaultProps={headerText:'',bodyText:'',footerText:''};export{NotificationPopover as default};","map":{"version":3,"names":["React","Popover","jsx","_jsx","jsxs","_jsxs","NotificationPopover","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","handleOutsideClick","e","notificationContainerRef","contains","target","document","getElementById","props","onNotificationListToggle","onNotificationDialogToggle","onHandleScroll","notificationListRef","offsetHeight","scrollTop","notificationsWrapperRef","listNotifications","_createClass","key","value","componentDidMount","addEventListener","componentWillUnmount","removeEventListener","render","_this2","_this$props","headerText","bodyText","footerText","className","isOpen","fade","hideArrow","placement","children","ref","onClick","onMarkAllNotifications","onScroll","Component","defaultProps","default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/common/notification-popover/index.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Popover } from 'reactstrap';\nimport './index.css';\n\nexport default class NotificationPopover extends React.Component {\n\n  static propTypes = {\n    headerText: PropTypes.string.isRequired,\n    bodyText: PropTypes.string.isRequired,\n    footerText: PropTypes.string.isRequired,\n    onNotificationListToggle: PropTypes.func,\n    onNotificationDialogToggle: PropTypes.func,\n    listNotifications: PropTypes.func,\n    onMarkAllNotifications: PropTypes.func,\n    children: PropTypes.any,\n  };\n\n  static defaultProps = {\n    headerText: '',\n    bodyText: '',\n    footerText: '',\n  };\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.handleOutsideClick, true);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.handleOutsideClick, true);\n  }\n\n  handleOutsideClick = (e) => {\n    if (!this.notificationContainerRef.contains(e.target) && !document.getElementById('notice-icon').contains(e.target)) {\n      this.props.onNotificationListToggle();\n    }\n  };\n\n  onNotificationDialogToggle = () => {\n    this.props.onNotificationDialogToggle();\n    this.props.onNotificationListToggle();\n  };\n\n  onHandleScroll = () => {\n    if (this.notificationListRef.offsetHeight + this.notificationListRef.scrollTop + 1 >= this.notificationsWrapperRef.offsetHeight) {\n      this.props.listNotifications && this.props.listNotifications();\n    }\n  };\n\n  render() {\n    const { headerText, bodyText, footerText } = this.props;\n    return (\n      <Popover\n        className=\"notification-wrapper\"\n        target=\"notification-popover\"\n        isOpen={true}\n        fade={false}\n        hideArrow={true}\n        placement=\"bottom\"\n      >\n        <div className=\"notification-container\" ref={ref => this.notificationContainerRef = ref}>\n          <div className=\"notification-header\">\n            {headerText}\n            <span className=\"sf3-font sf3-font-x-01 notification-close-icon\" onClick={this.props.onNotificationListToggle}></span>\n          </div>\n          <div className=\"notification-body\">\n            <div className=\"mark-notifications\" onClick={this.props.onMarkAllNotifications}>{bodyText}</div>\n            <div className=\"notification-list-container\" onScroll={this.onHandleScroll} ref={ref => this.notificationListRef = ref}>\n              <div ref={ref => this.notificationsWrapperRef = ref}>\n                {this.props.children}\n              </div>\n            </div>\n            <div className=\"notification-footer\" onClick={this.onNotificationDialogToggle}>{footerText}</div>\n          </div>\n        </div>\n      </Popover>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}