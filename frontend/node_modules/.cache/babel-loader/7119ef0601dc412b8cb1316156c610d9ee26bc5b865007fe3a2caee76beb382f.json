{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import{Button}from'reactstrap';import{isPro,gettext}from'../../../utils/constants';import{seafileAPI}from'../../../utils/seafile-api';import{Utils}from'../../../utils/utils';import toaster from'../../toast';import SharePermissionEditor from'../../select-editor/share-permission-editor';import{SeahubSelect,NoGroupMessage}from'../../common/select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var GroupItem=/*#__PURE__*/function(_React$Component){_inherits(GroupItem,_React$Component);var _super=_createSuper(GroupItem);function GroupItem(props){var _this;_classCallCheck(this,GroupItem);_this=_super.call(this,props);_this.onMouseEnter=function(){_this.setState({isOperationShow:true});};_this.onMouseLeave=function(){_this.setState({isOperationShow:false});};_this.deleteShareItem=function(){var item=_this.props.item;_this.props.deleteShareItem(item.group_id);};_this.onChangeUserPermission=function(permission){var item=_this.props.item;_this.props.onChangeUserPermission(item,permission);};_this.state={isOperationShow:false};return _this;}_createClass(GroupItem,[{key:\"render\",value:function render(){var item=this.props.item;var currentPermission=Utils.getSharedPermission(item);return/*#__PURE__*/_jsxs(\"tr\",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{className:\"name\",children:item.group_name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(SharePermissionEditor,{repoID:item.repo_id,isTextMode:true,autoFocus:true,isEditIconShow:this.state.isOperationShow,currentPermission:currentPermission,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission,isSysAdmin:true})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"sf2-icon-x3 action-icon \".concat(this.state.isOperationShow?'':'hide'),onClick:this.deleteShareItem,title:gettext('Delete')})})]});}}]);return GroupItem;}(React.Component);var GroupList=/*#__PURE__*/function(_React$Component2){_inherits(GroupList,_React$Component2);var _super2=_createSuper(GroupList);function GroupList(){_classCallCheck(this,GroupList);return _super2.apply(this,arguments);}_createClass(GroupList,[{key:\"render\",value:function render(){var _this2=this;var items=this.props.items;return/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(GroupItem,{item:item,permissions:_this2.props.permissions,deleteShareItem:_this2.props.deleteShareItem,onChangeUserPermission:_this2.props.onChangeUserPermission},index);})});}}]);return GroupList;}(React.Component);var SysAdminShareToGroup=/*#__PURE__*/function(_React$Component3){_inherits(SysAdminShareToGroup,_React$Component3);var _super3=_createSuper(SysAdminShareToGroup);function SysAdminShareToGroup(props){var _this3;_classCallCheck(this,SysAdminShareToGroup);_this3=_super3.call(this,props);_this3.handleSelectChange=function(option){_this3.setState({selectedOption:option});};_this3.loadOptions=function(){seafileAPI.shareableGroups().then(function(res){_this3.options=[];for(var i=0;i<res.data.length;i++){var obj={};obj.value=res.data[i].name;obj.id=res.data[i].id;obj.label=res.data[i].name;_this3.options.push(obj);}}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.listSharedGroups=function(){var repoID=_this3.props.repoID;seafileAPI.sysAdminListRepoSharedItems(repoID,'group').then(function(res){if(res.data.length!==0){_this3.setState({sharedItems:res.data});}}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.setPermission=function(permission){_this3.setState({permission:permission});};_this3.shareToGroup=function(){var groups=[];var repoID=_this3.props.repoID;if(_this3.state.selectedOption){groups[0]=_this3.state.selectedOption.id;}seafileAPI.sysAdminAddRepoSharedItem(repoID,'group',groups,_this3.state.permission).then(function(res){var errorMsg=[];if(res.data.failed.length>0){for(var i=0;i<res.data.failed.length;i++){errorMsg[i]=res.data.failed[i];}}var items=res.data.success;_this3.setState({errorMsg:errorMsg,sharedItems:_this3.state.sharedItems.concat(items),selectedOption:null,permission:'rw'});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.deleteShareItem=function(groupID){var repoID=_this3.props.repoID;seafileAPI.sysAdminDeleteRepoSharedItem(repoID,'group',groupID).then(function(){_this3.setState({sharedItems:_this3.state.sharedItems.filter(function(item){return item.group_id!==groupID;})});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.onChangeUserPermission=function(item,permission){var repoID=_this3.props.repoID;var groupID=item.group_id;seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID,'group',groupID,permission).then(function(){_this3.updateSharedItems(item,permission);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.updateSharedItems=function(item,permission){var groupID=item.group_id;var sharedItems=_this3.state.sharedItems.map(function(sharedItem){var sharedItemGroupID=sharedItem.group_id;if(groupID===sharedItemGroupID){sharedItem.permission=permission;sharedItem.is_admin=permission==='admin'?true:false;}return sharedItem;});_this3.setState({sharedItems:sharedItems});};_this3.state={selectedOption:null,errorMsg:[],permission:'rw',sharedItems:[]};_this3.options=[];_this3.permissions=['rw','r'];if(isPro){_this3.permissions.push('admin','cloud-edit','preview');}return _this3;}_createClass(SysAdminShareToGroup,[{key:\"componentDidMount\",value:function componentDidMount(){this.loadOptions();this.listSharedGroups();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"50%\",children:gettext('Group')}),/*#__PURE__*/_jsx(\"th\",{width:\"35%\",children:gettext('Permission')}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(SeahubSelect,{onChange:this.handleSelectChange,options:this.options,placeholder:gettext('Select groups'),maxMenuHeight:200,value:this.state.selectedOption,components:{NoOptionsMessage:NoGroupMessage}})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(SharePermissionEditor,{repoID:this.props.repoID,isTextMode:false,isEditIconShow:false,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission,isSysAdmin:true})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:this.shareToGroup,children:gettext('Submit')})})]}),this.state.errorMsg.length>0&&this.state.errorMsg.map(function(item,index){var errMessage=item.group_name+': '+item.error_msg;return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:3,children:/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:errMessage})})},index);})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"share-list-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"table-thead-hidden\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"50%\",children:gettext('Group')}),/*#__PURE__*/_jsx(\"th\",{width:\"35%\",children:gettext('Permission')}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\"})]})}),/*#__PURE__*/_jsx(GroupList,{items:this.state.sharedItems,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission})]})})]});}}]);return SysAdminShareToGroup;}(React.Component);export default SysAdminShareToGroup;","map":{"version":3,"names":["React","Fragment","Button","isPro","gettext","seafileAPI","Utils","toaster","SharePermissionEditor","SeahubSelect","NoGroupMessage","jsx","_jsx","jsxs","_jsxs","GroupItem","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onMouseEnter","setState","isOperationShow","onMouseLeave","deleteShareItem","item","group_id","onChangeUserPermission","permission","state","_createClass","key","value","render","currentPermission","getSharedPermission","children","className","group_name","repoID","repo_id","isTextMode","autoFocus","isEditIconShow","permissions","onPermissionChanged","isSysAdmin","concat","onClick","title","Component","GroupList","_React$Component2","_super2","apply","arguments","_this2","items","map","index","SysAdminShareToGroup","_React$Component3","_super3","_this3","handleSelectChange","option","selectedOption","loadOptions","shareableGroups","then","res","options","i","data","length","obj","name","id","label","push","catch","error","errMessage","getErrorMsg","danger","listSharedGroups","sysAdminListRepoSharedItems","sharedItems","setPermission","shareToGroup","groups","sysAdminAddRepoSharedItem","errorMsg","failed","success","groupID","sysAdminDeleteRepoSharedItem","filter","sysAdminUpdateRepoSharedItemPermission","updateSharedItems","sharedItem","sharedItemGroupID","is_admin","componentDidMount","width","onChange","placeholder","maxMenuHeight","components","NoOptionsMessage","error_msg","colSpan"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/sysadmin-dialog/sysadmin-share-to-group.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { isPro, gettext } from '../../../utils/constants';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { Utils } from '../../../utils/utils';\nimport toaster from '../../toast';\nimport SharePermissionEditor from '../../select-editor/share-permission-editor';\nimport { SeahubSelect, NoGroupMessage } from '../../common/select';\n\nclass GroupItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  };\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.group_id);\n  };\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item, permission);\n  };\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = Utils.getSharedPermission(item);\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td className='name'>{item.group_name}</td>\n        <td>\n          <SharePermissionEditor\n            repoID={item.repo_id}\n            isTextMode={true}\n            autoFocus={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n            isSysAdmin={true}\n          />\n        </td>\n        <td>\n          <span\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            title={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nGroupItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nclass GroupList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <GroupItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nGroupList.propTypes = {\n  items: PropTypes.array.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemPath: PropTypes.string.isRequired,\n  itemType: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isRepoOwner: PropTypes.bool.isRequired,\n};\n\nclass SysAdminShareToGroup extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedOption: null,\n      errorMsg: [],\n      permission: 'rw',\n      sharedItems: []\n    };\n    this.options = [];\n    this.permissions = ['rw', 'r'];\n    if (isPro) {\n      this.permissions.push('admin', 'cloud-edit', 'preview');\n    }\n  }\n\n  handleSelectChange = (option) => {\n    this.setState({selectedOption: option});\n  };\n\n  componentDidMount() {\n    this.loadOptions();\n    this.listSharedGroups();\n  }\n\n  loadOptions = () => {\n    seafileAPI.shareableGroups().then((res) => {\n      this.options = [];\n      for (let i = 0 ; i < res.data.length; i++) {\n        let obj = {};\n        obj.value = res.data[i].name;\n        obj.id = res.data[i].id;\n        obj.label = res.data[i].name;\n        this.options.push(obj);\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  listSharedGroups = () => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminListRepoSharedItems(repoID, 'group').then((res) => {\n      if(res.data.length !== 0) {\n        this.setState({\n          sharedItems: res.data\n        });\n      }\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  };\n\n  shareToGroup = () => {\n    let groups = [];\n    let repoID = this.props.repoID;\n    if (this.state.selectedOption) {\n      groups[0] = this.state.selectedOption.id;\n    }\n    seafileAPI.sysAdminAddRepoSharedItem(repoID, 'group', groups, this.state.permission).then(res => {\n      let errorMsg = [];\n      if (res.data.failed.length > 0) {\n        for (let i = 0 ; i < res.data.failed.length ; i++) {\n          errorMsg[i] = res.data.failed[i];\n        }\n      }\n      let items = res.data.success;\n      this.setState({\n        errorMsg: errorMsg,\n        sharedItems: this.state.sharedItems.concat(items),\n        selectedOption: null,\n        permission: 'rw',\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteShareItem = (groupID) => {\n    let repoID = this.props.repoID;\n    seafileAPI.sysAdminDeleteRepoSharedItem(repoID, 'group', groupID).then(() => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter(item => { return item.group_id !== groupID; })\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onChangeUserPermission = (item, permission) => {\n    let repoID = this.props.repoID;\n    let groupID = item.group_id;\n    seafileAPI.sysAdminUpdateRepoSharedItemPermission(repoID, 'group', groupID, permission).then(() => {\n      this.updateSharedItems(item, permission);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateSharedItems = (item, permission) => {\n    let groupID = item.group_id;\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      let sharedItemGroupID = sharedItem.group_id;\n      if (groupID === sharedItemGroupID) {\n        sharedItem.permission = permission;\n        sharedItem.is_admin = permission === 'admin' ? true : false;\n      }\n      return sharedItem;\n    });\n    this.setState({sharedItems: sharedItems});\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <table>\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('Group')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\"></th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <SeahubSelect\n                  onChange={this.handleSelectChange}\n                  options={this.options}\n                  placeholder={gettext('Select groups')}\n                  maxMenuHeight={200}\n                  value={this.state.selectedOption}\n                  components={{ NoOptionsMessage: NoGroupMessage }}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  repoID={this.props.repoID}\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                  isSysAdmin={true}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareToGroup}>{gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n              this.state.errorMsg.map((item, index) => {\n                let errMessage = item.group_name + ': ' + item.error_msg;\n                return (\n                  <tr key={index}>\n                    <td colSpan={3}><p className=\"error\">{errMessage}</p></td>\n                  </tr>\n                );\n              })\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"table-thead-hidden\">\n            <thead>\n              <tr>\n                <th width=\"50%\">{gettext('Group')}</th>\n                <th width=\"35%\">{gettext('Permission')}</th>\n                <th width=\"15%\"></th>\n              </tr>\n            </thead>\n            <GroupList\n              items={this.state.sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nSysAdminShareToGroup.propTypes = propTypes;\n\nexport default SysAdminShareToGroup;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}