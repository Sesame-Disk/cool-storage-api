{"ast":null,"code":"function inBlock(style, terminator, returnTokenizer) {\n  return function (stream, state) {\n    while (!stream.eol()) {\n      if (stream.match(terminator)) {\n        state.tokenize = inText;\n        break;\n      }\n      stream.next();\n    }\n    if (returnTokenizer) state.tokenize = returnTokenizer;\n    return style;\n  };\n}\nfunction inLine(style) {\n  return function (stream, state) {\n    while (!stream.eol()) {\n      stream.next();\n    }\n    state.tokenize = inText;\n    return style;\n  };\n}\nfunction inText(stream, state) {\n  function chain(parser) {\n    state.tokenize = parser;\n    return parser(stream, state);\n  }\n  var sol = stream.sol();\n  var ch = stream.next();\n\n  //non start of line\n  switch (ch) {\n    //switch is generally much faster than if, so it is used here\n    case \"{\":\n      //plugin\n      stream.eat(\"/\");\n      stream.eatSpace();\n      stream.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?(}]/);\n      state.tokenize = inPlugin;\n      return \"tag\";\n    case \"_\":\n      //bold\n      if (stream.eat(\"_\")) return chain(inBlock(\"strong\", \"__\", inText));\n      break;\n    case \"'\":\n      //italics\n      if (stream.eat(\"'\")) return chain(inBlock(\"em\", \"''\", inText));\n      break;\n    case \"(\":\n      // Wiki Link\n      if (stream.eat(\"(\")) return chain(inBlock(\"link\", \"))\", inText));\n      break;\n    case \"[\":\n      // Weblink\n      return chain(inBlock(\"url\", \"]\", inText));\n      break;\n    case \"|\":\n      //table\n      if (stream.eat(\"|\")) return chain(inBlock(\"comment\", \"||\"));\n      break;\n    case \"-\":\n      if (stream.eat(\"=\")) {\n        //titleBar\n        return chain(inBlock(\"header string\", \"=-\", inText));\n      } else if (stream.eat(\"-\")) {\n        //deleted\n        return chain(inBlock(\"error tw-deleted\", \"--\", inText));\n      }\n      break;\n    case \"=\":\n      //underline\n      if (stream.match(\"==\")) return chain(inBlock(\"tw-underline\", \"===\", inText));\n      break;\n    case \":\":\n      if (stream.eat(\":\")) return chain(inBlock(\"comment\", \"::\"));\n      break;\n    case \"^\":\n      //box\n      return chain(inBlock(\"tw-box\", \"^\"));\n      break;\n    case \"~\":\n      //np\n      if (stream.match(\"np~\")) return chain(inBlock(\"meta\", \"~/np~\"));\n      break;\n  }\n\n  //start of line types\n  if (sol) {\n    switch (ch) {\n      case \"!\":\n        //header at start of line\n        if (stream.match('!!!!!')) {\n          return chain(inLine(\"header string\"));\n        } else if (stream.match('!!!!')) {\n          return chain(inLine(\"header string\"));\n        } else if (stream.match('!!!')) {\n          return chain(inLine(\"header string\"));\n        } else if (stream.match('!!')) {\n          return chain(inLine(\"header string\"));\n        } else {\n          return chain(inLine(\"header string\"));\n        }\n        break;\n      case \"*\": //unordered list line item, or <li /> at start of line\n      case \"#\": //ordered list line item, or <li /> at start of line\n      case \"+\":\n        //ordered list line item, or <li /> at start of line\n        return chain(inLine(\"tw-listitem bracket\"));\n        break;\n    }\n  }\n\n  //stream.eatWhile(/[&{]/); was eating up plugins, turned off to act less like html and more like tiki\n  return null;\n}\n\n// Return variables for tokenizers\nvar pluginName, type;\nfunction inPlugin(stream, state) {\n  var ch = stream.next();\n  var peek = stream.peek();\n  if (ch == \"}\") {\n    state.tokenize = inText;\n    //type = ch == \")\" ? \"endPlugin\" : \"selfclosePlugin\"; inPlugin\n    return \"tag\";\n  } else if (ch == \"(\" || ch == \")\") {\n    return \"bracket\";\n  } else if (ch == \"=\") {\n    type = \"equals\";\n    if (peek == \">\") {\n      stream.next();\n      peek = stream.peek();\n    }\n\n    //here we detect values directly after equal character with no quotes\n    if (!/[\\'\\\"]/.test(peek)) {\n      state.tokenize = inAttributeNoQuote();\n    }\n    //end detect values\n\n    return \"operator\";\n  } else if (/[\\'\\\"]/.test(ch)) {\n    state.tokenize = inAttribute(ch);\n    return state.tokenize(stream, state);\n  } else {\n    stream.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?]/);\n    return \"keyword\";\n  }\n}\nfunction inAttribute(quote) {\n  return function (stream, state) {\n    while (!stream.eol()) {\n      if (stream.next() == quote) {\n        state.tokenize = inPlugin;\n        break;\n      }\n    }\n    return \"string\";\n  };\n}\nfunction inAttributeNoQuote() {\n  return function (stream, state) {\n    while (!stream.eol()) {\n      var ch = stream.next();\n      var peek = stream.peek();\n      if (ch == \" \" || ch == \",\" || /[ )}]/.test(peek)) {\n        state.tokenize = inPlugin;\n        break;\n      }\n    }\n    return \"string\";\n  };\n}\nvar curState, setStyle;\nfunction pass() {\n  for (var i = arguments.length - 1; i >= 0; i--) curState.cc.push(arguments[i]);\n}\nfunction cont() {\n  pass.apply(null, arguments);\n  return true;\n}\nfunction pushContext(pluginName, startOfLine) {\n  var noIndent = curState.context && curState.context.noIndent;\n  curState.context = {\n    prev: curState.context,\n    pluginName: pluginName,\n    indent: curState.indented,\n    startOfLine: startOfLine,\n    noIndent: noIndent\n  };\n}\nfunction popContext() {\n  if (curState.context) curState.context = curState.context.prev;\n}\nfunction element(type) {\n  if (type == \"openPlugin\") {\n    curState.pluginName = pluginName;\n    return cont(attributes, endplugin(curState.startOfLine));\n  } else if (type == \"closePlugin\") {\n    var err = false;\n    if (curState.context) {\n      err = curState.context.pluginName != pluginName;\n      popContext();\n    } else {\n      err = true;\n    }\n    if (err) setStyle = \"error\";\n    return cont(endcloseplugin(err));\n  } else if (type == \"string\") {\n    if (!curState.context || curState.context.name != \"!cdata\") pushContext(\"!cdata\");\n    if (curState.tokenize == inText) popContext();\n    return cont();\n  } else return cont();\n}\nfunction endplugin(startOfLine) {\n  return function (type) {\n    if (type == \"selfclosePlugin\" || type == \"endPlugin\") return cont();\n    if (type == \"endPlugin\") {\n      pushContext(curState.pluginName, startOfLine);\n      return cont();\n    }\n    return cont();\n  };\n}\nfunction endcloseplugin(err) {\n  return function (type) {\n    if (err) setStyle = \"error\";\n    if (type == \"endPlugin\") return cont();\n    return pass();\n  };\n}\nfunction attributes(type) {\n  if (type == \"keyword\") {\n    setStyle = \"attribute\";\n    return cont(attributes);\n  }\n  if (type == \"equals\") return cont(attvalue, attributes);\n  return pass();\n}\nfunction attvalue(type) {\n  if (type == \"keyword\") {\n    setStyle = \"string\";\n    return cont();\n  }\n  if (type == \"string\") return cont(attvaluemaybe);\n  return pass();\n}\nfunction attvaluemaybe(type) {\n  if (type == \"string\") return cont(attvaluemaybe);else return pass();\n}\nexport var tiki = {\n  name: \"tiki\",\n  startState: function startState() {\n    return {\n      tokenize: inText,\n      cc: [],\n      indented: 0,\n      startOfLine: true,\n      pluginName: null,\n      context: null\n    };\n  },\n  token: function token(stream, state) {\n    if (stream.sol()) {\n      state.startOfLine = true;\n      state.indented = stream.indentation();\n    }\n    if (stream.eatSpace()) return null;\n    setStyle = type = pluginName = null;\n    var style = state.tokenize(stream, state);\n    if ((style || type) && style != \"comment\") {\n      curState = state;\n      while (true) {\n        var comb = state.cc.pop() || element;\n        if (comb(type || style)) break;\n      }\n    }\n    state.startOfLine = false;\n    return setStyle || style;\n  },\n  indent: function indent(state, textAfter, cx) {\n    var context = state.context;\n    if (context && context.noIndent) return 0;\n    if (context && /^{\\//.test(textAfter)) context = context.prev;\n    while (context && !context.startOfLine) context = context.prev;\n    if (context) return context.indent + cx.unit;else return 0;\n  }\n};","map":{"version":3,"names":["inBlock","style","terminator","returnTokenizer","stream","state","eol","match","tokenize","inText","next","inLine","chain","parser","sol","ch","eat","eatSpace","eatWhile","inPlugin","pluginName","type","peek","test","inAttributeNoQuote","inAttribute","quote","curState","setStyle","pass","i","arguments","length","cc","push","cont","apply","pushContext","startOfLine","noIndent","context","prev","indent","indented","popContext","element","attributes","endplugin","err","endcloseplugin","name","attvalue","attvaluemaybe","tiki","startState","token","indentation","comb","pop","textAfter","cx","unit"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@codemirror/legacy-modes/mode/tiki.js"],"sourcesContent":["function inBlock(style, terminator, returnTokenizer) {\n  return function(stream, state) {\n    while (!stream.eol()) {\n      if (stream.match(terminator)) {\n        state.tokenize = inText;\n        break;\n      }\n      stream.next();\n    }\n\n    if (returnTokenizer) state.tokenize = returnTokenizer;\n\n    return style;\n  };\n}\n\nfunction inLine(style) {\n  return function(stream, state) {\n    while(!stream.eol()) {\n      stream.next();\n    }\n    state.tokenize = inText;\n    return style;\n  };\n}\n\nfunction inText(stream, state) {\n  function chain(parser) {\n    state.tokenize = parser;\n    return parser(stream, state);\n  }\n\n  var sol = stream.sol();\n  var ch = stream.next();\n\n  //non start of line\n  switch (ch) { //switch is generally much faster than if, so it is used here\n  case \"{\": //plugin\n    stream.eat(\"/\");\n    stream.eatSpace();\n    stream.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?(}]/);\n    state.tokenize = inPlugin;\n    return \"tag\";\n  case \"_\": //bold\n    if (stream.eat(\"_\"))\n      return chain(inBlock(\"strong\", \"__\", inText));\n    break;\n  case \"'\": //italics\n    if (stream.eat(\"'\"))\n      return chain(inBlock(\"em\", \"''\", inText));\n    break;\n  case \"(\":// Wiki Link\n    if (stream.eat(\"(\"))\n      return chain(inBlock(\"link\", \"))\", inText));\n    break;\n  case \"[\":// Weblink\n    return chain(inBlock(\"url\", \"]\", inText));\n    break;\n  case \"|\": //table\n    if (stream.eat(\"|\"))\n      return chain(inBlock(\"comment\", \"||\"));\n    break;\n  case \"-\":\n    if (stream.eat(\"=\")) {//titleBar\n      return chain(inBlock(\"header string\", \"=-\", inText));\n    } else if (stream.eat(\"-\")) {//deleted\n      return chain(inBlock(\"error tw-deleted\", \"--\", inText));\n    }\n    break;\n  case \"=\": //underline\n    if (stream.match(\"==\"))\n      return chain(inBlock(\"tw-underline\", \"===\", inText));\n    break;\n  case \":\":\n    if (stream.eat(\":\"))\n      return chain(inBlock(\"comment\", \"::\"));\n    break;\n  case \"^\": //box\n    return chain(inBlock(\"tw-box\", \"^\"));\n    break;\n  case \"~\": //np\n    if (stream.match(\"np~\"))\n      return chain(inBlock(\"meta\", \"~/np~\"));\n    break;\n  }\n\n  //start of line types\n  if (sol) {\n    switch (ch) {\n    case \"!\": //header at start of line\n      if (stream.match('!!!!!')) {\n        return chain(inLine(\"header string\"));\n      } else if (stream.match('!!!!')) {\n        return chain(inLine(\"header string\"));\n      } else if (stream.match('!!!')) {\n        return chain(inLine(\"header string\"));\n      } else if (stream.match('!!')) {\n        return chain(inLine(\"header string\"));\n      } else {\n        return chain(inLine(\"header string\"));\n      }\n      break;\n    case \"*\": //unordered list line item, or <li /> at start of line\n    case \"#\": //ordered list line item, or <li /> at start of line\n    case \"+\": //ordered list line item, or <li /> at start of line\n      return chain(inLine(\"tw-listitem bracket\"));\n      break;\n    }\n  }\n\n  //stream.eatWhile(/[&{]/); was eating up plugins, turned off to act less like html and more like tiki\n  return null;\n}\n\n// Return variables for tokenizers\nvar pluginName, type;\nfunction inPlugin(stream, state) {\n  var ch = stream.next();\n  var peek = stream.peek();\n\n  if (ch == \"}\") {\n    state.tokenize = inText;\n    //type = ch == \")\" ? \"endPlugin\" : \"selfclosePlugin\"; inPlugin\n    return \"tag\";\n  } else if (ch == \"(\" || ch == \")\") {\n    return \"bracket\";\n  } else if (ch == \"=\") {\n    type = \"equals\";\n\n    if (peek == \">\") {\n      stream.next();\n      peek = stream.peek();\n    }\n\n    //here we detect values directly after equal character with no quotes\n    if (!/[\\'\\\"]/.test(peek)) {\n      state.tokenize = inAttributeNoQuote();\n    }\n    //end detect values\n\n    return \"operator\";\n  } else if (/[\\'\\\"]/.test(ch)) {\n    state.tokenize = inAttribute(ch);\n    return state.tokenize(stream, state);\n  } else {\n    stream.eatWhile(/[^\\s\\u00a0=\\\"\\'\\/?]/);\n    return \"keyword\";\n  }\n}\n\nfunction inAttribute(quote) {\n  return function(stream, state) {\n    while (!stream.eol()) {\n      if (stream.next() == quote) {\n        state.tokenize = inPlugin;\n        break;\n      }\n    }\n    return \"string\";\n  };\n}\n\nfunction inAttributeNoQuote() {\n  return function(stream, state) {\n    while (!stream.eol()) {\n      var ch = stream.next();\n      var peek = stream.peek();\n      if (ch == \" \" || ch == \",\" || /[ )}]/.test(peek)) {\n        state.tokenize = inPlugin;\n        break;\n      }\n    }\n    return \"string\";\n  };\n}\n\nvar curState, setStyle;\nfunction pass() {\n  for (var i = arguments.length - 1; i >= 0; i--) curState.cc.push(arguments[i]);\n}\n\nfunction cont() {\n  pass.apply(null, arguments);\n  return true;\n}\n\nfunction pushContext(pluginName, startOfLine) {\n  var noIndent = curState.context && curState.context.noIndent;\n  curState.context = {\n    prev: curState.context,\n    pluginName: pluginName,\n    indent: curState.indented,\n    startOfLine: startOfLine,\n    noIndent: noIndent\n  };\n}\n\nfunction popContext() {\n  if (curState.context) curState.context = curState.context.prev;\n}\n\nfunction element(type) {\n  if (type == \"openPlugin\") {curState.pluginName = pluginName; return cont(attributes, endplugin(curState.startOfLine));}\n  else if (type == \"closePlugin\") {\n    var err = false;\n    if (curState.context) {\n      err = curState.context.pluginName != pluginName;\n      popContext();\n    } else {\n      err = true;\n    }\n    if (err) setStyle = \"error\";\n    return cont(endcloseplugin(err));\n  }\n  else if (type == \"string\") {\n    if (!curState.context || curState.context.name != \"!cdata\") pushContext(\"!cdata\");\n    if (curState.tokenize == inText) popContext();\n    return cont();\n  }\n  else return cont();\n}\n\nfunction endplugin(startOfLine) {\n  return function(type) {\n    if (\n      type == \"selfclosePlugin\" ||\n        type == \"endPlugin\"\n    )\n      return cont();\n    if (type == \"endPlugin\") {pushContext(curState.pluginName, startOfLine); return cont();}\n    return cont();\n  };\n}\n\nfunction endcloseplugin(err) {\n  return function(type) {\n    if (err) setStyle = \"error\";\n    if (type == \"endPlugin\") return cont();\n    return pass();\n  };\n}\n\nfunction attributes(type) {\n  if (type == \"keyword\") {setStyle = \"attribute\"; return cont(attributes);}\n  if (type == \"equals\") return cont(attvalue, attributes);\n  return pass();\n}\nfunction attvalue(type) {\n  if (type == \"keyword\") {setStyle = \"string\"; return cont();}\n  if (type == \"string\") return cont(attvaluemaybe);\n  return pass();\n}\nfunction attvaluemaybe(type) {\n  if (type == \"string\") return cont(attvaluemaybe);\n  else return pass();\n}\nexport const tiki = {\n  name: \"tiki\",\n  startState: function() {\n    return {tokenize: inText, cc: [], indented: 0, startOfLine: true, pluginName: null, context: null};\n  },\n  token: function(stream, state) {\n    if (stream.sol()) {\n      state.startOfLine = true;\n      state.indented = stream.indentation();\n    }\n    if (stream.eatSpace()) return null;\n\n    setStyle = type = pluginName = null;\n    var style = state.tokenize(stream, state);\n    if ((style || type) && style != \"comment\") {\n      curState = state;\n      while (true) {\n        var comb = state.cc.pop() || element;\n        if (comb(type || style)) break;\n      }\n    }\n    state.startOfLine = false;\n    return setStyle || style;\n  },\n  indent: function(state, textAfter, cx) {\n    var context = state.context;\n    if (context && context.noIndent) return 0;\n    if (context && /^{\\//.test(textAfter))\n      context = context.prev;\n    while (context && !context.startOfLine)\n      context = context.prev;\n    if (context) return context.indent + cx.unit;\n    else return 0;\n  }\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}