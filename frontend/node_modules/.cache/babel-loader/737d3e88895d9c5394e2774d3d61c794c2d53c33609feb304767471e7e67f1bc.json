{"ast":null,"code":"var hrefReg=/\\[.+\\]\\(\\S+\\)|<img src=(\\S+).+\\/>|!\\[\\]\\(\\S+\\)|<\\S+>/g,imageReg1=/^<img src=\"(\\S+)\" .+\\/>/,imageReg2=/^!\\[\\]\\((\\S+)\\)/,linkReg1=/^\\[.+\\]\\(\\S+\\)/,linkReg2=/^<\\S+>$/;var getLinks=function getLinks(hrefs){var hrefObj={links:[],images:[]};hrefs.forEach(function(href){if(href.search(linkReg1)>=0||href.search(linkReg2)>=0){hrefObj.links.push(href);}else{var imageSrcs=href.match(imageReg1);var imageSrcs1=href.match(imageReg2);if(imageSrcs){hrefObj.images.push(imageSrcs[1]);}else if(imageSrcs1){hrefObj.images.push(imageSrcs1[1]);}}});return hrefObj;};var getPreviewContent=function getPreviewContent(markdownContent){var previewText='';var newMarkdownContent=markdownContent.replace(hrefReg,'');for(var index=0;index<newMarkdownContent.length;index++){if(newMarkdownContent[index]==='#'){continue;}else if(newMarkdownContent[index]==='\\n'){previewText+=' ';}else{previewText+=newMarkdownContent[index];}if(previewText.length===30){break;}}var hrefs=markdownContent.match(hrefReg);if(hrefs){var _getLinks=getLinks(hrefs),images=_getLinks.images,links=_getLinks.links;return{previewText:previewText,images:images,links:links};}return{previewText:previewText,images:[],links:[]};};export default getPreviewContent;","map":{"version":3,"names":["hrefReg","imageReg1","imageReg2","linkReg1","linkReg2","getLinks","hrefs","hrefObj","links","images","forEach","href","search","push","imageSrcs","match","imageSrcs1","getPreviewContent","markdownContent","previewText","newMarkdownContent","replace","index","length","_getLinks"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/utils/markdown-utils.js"],"sourcesContent":["const hrefReg = /\\[.+\\]\\(\\S+\\)|<img src=(\\S+).+\\/>|!\\[\\]\\(\\S+\\)|<\\S+>/g,\n  imageReg1 = /^<img src=\"(\\S+)\" .+\\/>/,\n  imageReg2 = /^!\\[\\]\\((\\S+)\\)/,\n  linkReg1 = /^\\[.+\\]\\(\\S+\\)/,\n  linkReg2 = /^<\\S+>$/;\n\nconst getLinks = (hrefs) => {\n  const hrefObj = {\n    links: [],\n    images: []\n  };\n  hrefs.forEach((href) => {\n    if (href.search(linkReg1) >= 0 || href.search(linkReg2) >= 0) {\n      hrefObj.links.push(href);\n    } else {\n      let imageSrcs = href.match(imageReg1);\n      let imageSrcs1 = href.match(imageReg2);\n      if (imageSrcs) {\n        hrefObj.images.push(imageSrcs[1]);\n      } else if (imageSrcs1) {\n        hrefObj.images.push(imageSrcs1[1]);\n      }\n    }\n  });\n  return hrefObj;\n};\n\n\nconst getPreviewContent = (markdownContent) => {\n  let previewText = '';\n  let newMarkdownContent = markdownContent.replace(hrefReg, '');\n  for (let index = 0; index < newMarkdownContent.length; index++) {\n    if (newMarkdownContent[index] === '#') {\n      continue;\n    } else if (newMarkdownContent[index] === '\\n') {\n      previewText += ' ';\n    } else {\n      previewText += newMarkdownContent[index];\n    }\n    if (previewText.length === 30) {\n      break;\n    }\n  }\n\n  const hrefs = markdownContent.match(hrefReg);\n  if (hrefs) {\n    const { images, links } = getLinks(hrefs);\n    return { previewText, images, links };\n  }\n  return { previewText, images: [], links: [] };\n};\n\n\nexport default getPreviewContent;\n"],"mappings":"AAAA,GAAM,CAAAA,OAAO,CAAG,uDAAuD,CACrEC,SAAS,CAAG,yBAAyB,CACrCC,SAAS,CAAG,iBAAiB,CAC7BC,QAAQ,CAAG,gBAAgB,CAC3BC,QAAQ,CAAG,SAAS,CAEtB,GAAM,CAAAC,QAAQ,CAAG,QAAX,CAAAA,QAAQA,CAAIC,KAAK,CAAK,CAC1B,GAAM,CAAAC,OAAO,CAAG,CACdC,KAAK,CAAE,EAAE,CACTC,MAAM,CAAE,EACV,CAAC,CACDH,KAAK,CAACI,OAAO,CAAC,SAACC,IAAI,CAAK,CACtB,GAAIA,IAAI,CAACC,MAAM,CAACT,QAAQ,CAAC,EAAI,CAAC,EAAIQ,IAAI,CAACC,MAAM,CAACR,QAAQ,CAAC,EAAI,CAAC,CAAE,CAC5DG,OAAO,CAACC,KAAK,CAACK,IAAI,CAACF,IAAI,CAAC,CAC1B,CAAC,IAAM,CACL,GAAI,CAAAG,SAAS,CAAGH,IAAI,CAACI,KAAK,CAACd,SAAS,CAAC,CACrC,GAAI,CAAAe,UAAU,CAAGL,IAAI,CAACI,KAAK,CAACb,SAAS,CAAC,CACtC,GAAIY,SAAS,CAAE,CACbP,OAAO,CAACE,MAAM,CAACI,IAAI,CAACC,SAAS,CAAC,CAAC,CAAC,CAAC,CACnC,CAAC,IAAM,IAAIE,UAAU,CAAE,CACrBT,OAAO,CAACE,MAAM,CAACI,IAAI,CAACG,UAAU,CAAC,CAAC,CAAC,CAAC,CACpC,CACF,CACF,CAAC,CAAC,CACF,MAAO,CAAAT,OAAO,CAChB,CAAC,CAGD,GAAM,CAAAU,iBAAiB,CAAG,QAApB,CAAAA,iBAAiBA,CAAIC,eAAe,CAAK,CAC7C,GAAI,CAAAC,WAAW,CAAG,EAAE,CACpB,GAAI,CAAAC,kBAAkB,CAAGF,eAAe,CAACG,OAAO,CAACrB,OAAO,CAAE,EAAE,CAAC,CAC7D,IAAK,GAAI,CAAAsB,KAAK,CAAG,CAAC,CAAEA,KAAK,CAAGF,kBAAkB,CAACG,MAAM,CAAED,KAAK,EAAE,CAAE,CAC9D,GAAIF,kBAAkB,CAACE,KAAK,CAAC,GAAK,GAAG,CAAE,CACrC,SACF,CAAC,IAAM,IAAIF,kBAAkB,CAACE,KAAK,CAAC,GAAK,IAAI,CAAE,CAC7CH,WAAW,EAAI,GAAG,CACpB,CAAC,IAAM,CACLA,WAAW,EAAIC,kBAAkB,CAACE,KAAK,CAAC,CAC1C,CACA,GAAIH,WAAW,CAACI,MAAM,GAAK,EAAE,CAAE,CAC7B,MACF,CACF,CAEA,GAAM,CAAAjB,KAAK,CAAGY,eAAe,CAACH,KAAK,CAACf,OAAO,CAAC,CAC5C,GAAIM,KAAK,CAAE,CACT,IAAAkB,SAAA,CAA0BnB,QAAQ,CAACC,KAAK,CAAC,CAAjCG,MAAM,CAAAe,SAAA,CAANf,MAAM,CAAED,KAAK,CAAAgB,SAAA,CAALhB,KAAK,CACrB,MAAO,CAAEW,WAAW,CAAXA,WAAW,CAAEV,MAAM,CAANA,MAAM,CAAED,KAAK,CAALA,KAAM,CAAC,CACvC,CACA,MAAO,CAAEW,WAAW,CAAXA,WAAW,CAAEV,MAAM,CAAE,EAAE,CAAED,KAAK,CAAE,EAAG,CAAC,CAC/C,CAAC,CAGD,cAAe,CAAAS,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}