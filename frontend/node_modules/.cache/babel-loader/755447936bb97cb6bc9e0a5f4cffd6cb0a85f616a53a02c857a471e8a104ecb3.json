{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { Editor, Node, Transforms } from '@seafile/slate';\nimport { QUICK_INSERT } from '../../constants';\nimport { generateEmptyElement } from '../../core';\nimport { ReactEditor } from '@seafile/slate-react';\nexport var getQuickInsertEntity = function getQuickInsertEntity(editor) {\n  var _Editor$nodes = Editor.nodes(editor, {\n      match: function match(n) {\n        return n.type === QUICK_INSERT;\n      }\n    }),\n    _Editor$nodes2 = _slicedToArray(_Editor$nodes, 1),\n    quickInsertEntity = _Editor$nodes2[0];\n  return quickInsertEntity;\n};\nexport var genQuickInsert = function genQuickInsert() {\n  var quickInsert = generateEmptyElement(QUICK_INSERT);\n  return quickInsert;\n};\nexport var transformToText = function transformToText(editor, quickInsertNode) {\n  var path = ReactEditor.findPath(editor, quickInsertNode);\n  var text = Node.string(quickInsertNode);\n  var _Editor$next = Editor.next(editor, {\n      at: path\n    }),\n    _Editor$next2 = _slicedToArray(_Editor$next, 2),\n    insertPath = _Editor$next2[1];\n  var insertPoint = Editor.start(editor, insertPath);\n  var insertPathRef = Editor.pointRef(editor, insertPoint);\n  var insertText = '/' + text;\n  Transforms.insertText(editor, insertText, {\n    at: insertPoint\n  });\n  Transforms.removeNodes(editor, {\n    at: path\n  });\n  return insertPathRef.unref();\n};","map":{"version":3,"names":["Editor","Node","Transforms","QUICK_INSERT","generateEmptyElement","ReactEditor","getQuickInsertEntity","editor","_Editor$nodes","nodes","match","n","type","_Editor$nodes2","_slicedToArray","quickInsertEntity","genQuickInsert","quickInsert","transformToText","quickInsertNode","path","findPath","text","string","_Editor$next","next","at","_Editor$next2","insertPath","insertPoint","start","insertPathRef","pointRef","insertText","removeNodes","unref"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/quick-insert/helper.js"],"sourcesContent":["import { Editor, Node, Transforms } from '@seafile/slate';\nimport { QUICK_INSERT } from '../../constants';\nimport { generateEmptyElement } from '../../core';\nimport { ReactEditor } from '@seafile/slate-react';\nexport const getQuickInsertEntity = editor => {\n  const [quickInsertEntity] = Editor.nodes(editor, {\n    match: n => n.type === QUICK_INSERT\n  });\n  return quickInsertEntity;\n};\nexport const genQuickInsert = () => {\n  const quickInsert = generateEmptyElement(QUICK_INSERT);\n  return quickInsert;\n};\nexport const transformToText = (editor, quickInsertNode) => {\n  const path = ReactEditor.findPath(editor, quickInsertNode);\n  const text = Node.string(quickInsertNode);\n  const [, insertPath] = Editor.next(editor, {\n    at: path\n  });\n  const insertPoint = Editor.start(editor, insertPath);\n  const insertPathRef = Editor.pointRef(editor, insertPoint);\n  const insertText = '/' + text;\n  Transforms.insertText(editor, insertText, {\n    at: insertPoint\n  });\n  Transforms.removeNodes(editor, {\n    at: path\n  });\n  return insertPathRef.unref();\n};"],"mappings":";AAAA,SAASA,MAAM,EAAEC,IAAI,EAAEC,UAAU,QAAQ,gBAAgB;AACzD,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,oBAAoB,QAAQ,YAAY;AACjD,SAASC,WAAW,QAAQ,sBAAsB;AAClD,OAAO,IAAMC,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAGC,MAAM,EAAI;EAC5C,IAAAC,aAAA,GAA4BR,MAAM,CAACS,KAAK,CAACF,MAAM,EAAE;MAC/CG,KAAK,EAAE,SAAAA,MAAAC,CAAC;QAAA,OAAIA,CAAC,CAACC,IAAI,KAAKT,YAAY;MAAA;IACrC,CAAC,CAAC;IAAAU,cAAA,GAAAC,cAAA,CAAAN,aAAA;IAFKO,iBAAiB,GAAAF,cAAA;EAGxB,OAAOE,iBAAiB;AAC1B,CAAC;AACD,OAAO,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAA,EAAS;EAClC,IAAMC,WAAW,GAAGb,oBAAoB,CAACD,YAAY,CAAC;EACtD,OAAOc,WAAW;AACpB,CAAC;AACD,OAAO,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAIX,MAAM,EAAEY,eAAe,EAAK;EAC1D,IAAMC,IAAI,GAAGf,WAAW,CAACgB,QAAQ,CAACd,MAAM,EAAEY,eAAe,CAAC;EAC1D,IAAMG,IAAI,GAAGrB,IAAI,CAACsB,MAAM,CAACJ,eAAe,CAAC;EACzC,IAAAK,YAAA,GAAuBxB,MAAM,CAACyB,IAAI,CAAClB,MAAM,EAAE;MACzCmB,EAAE,EAAEN;IACN,CAAC,CAAC;IAAAO,aAAA,GAAAb,cAAA,CAAAU,YAAA;IAFOI,UAAU,GAAAD,aAAA;EAGnB,IAAME,WAAW,GAAG7B,MAAM,CAAC8B,KAAK,CAACvB,MAAM,EAAEqB,UAAU,CAAC;EACpD,IAAMG,aAAa,GAAG/B,MAAM,CAACgC,QAAQ,CAACzB,MAAM,EAAEsB,WAAW,CAAC;EAC1D,IAAMI,UAAU,GAAG,GAAG,GAAGX,IAAI;EAC7BpB,UAAU,CAAC+B,UAAU,CAAC1B,MAAM,EAAE0B,UAAU,EAAE;IACxCP,EAAE,EAAEG;EACN,CAAC,CAAC;EACF3B,UAAU,CAACgC,WAAW,CAAC3B,MAAM,EAAE;IAC7BmB,EAAE,EAAEN;EACN,CAAC,CAAC;EACF,OAAOW,aAAa,CAACI,KAAK,CAAC,CAAC;AAC9B,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}