{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParticipantsContext } from '../../hooks/use-participants';\nimport ParticipantAvatar from './participant-avatar';\nimport Tooltip from '../../../../components/tooltip';\nimport CommentParticipantsEditor from '../comment-participants-editor';\nimport './index.css';\nvar CommentAllParticipants = function CommentAllParticipants() {\n  var popoverRef = useRef();\n  var _useParticipantsConte = useParticipantsContext(),\n    participants = _useParticipantsConte.participants;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var addParticipantId = 'sdoc-add-participants';\n  var commentsParticipantsId = 'sdoc-comments-participants';\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isDidMount = _useState2[0],\n    setDidMount = _useState2[1];\n  useEffect(function () {\n    setDidMount(true);\n  }, []);\n  var toggle = useCallback(function () {\n    popoverRef.current && popoverRef.current.toggle();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [popoverRef.current]);\n  var participantsCount = participants.length;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comments-participants-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comments-participants-editor-target\",\n    id: commentsParticipantsId\n  }), participants.slice(0, 14).map(function (participant, index) {\n    var username = participant.username;\n    return /*#__PURE__*/React.createElement(ParticipantAvatar, {\n      key: username,\n      participant: participant,\n      index: index,\n      showMore: participantsCount > 13 && index === 13\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-comments-participants\",\n    id: addParticipantId,\n    onClick: toggle\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-add\"\n  })), isDidMount && /*#__PURE__*/React.createElement(Tooltip, {\n    target: addParticipantId\n  }, t('Add_participants'))), isDidMount && /*#__PURE__*/React.createElement(CommentParticipantsEditor, {\n    target: commentsParticipantsId,\n    ref: popoverRef\n  }));\n};\nexport default CommentAllParticipants;","map":{"version":3,"names":["React","useCallback","useEffect","useRef","useState","useTranslation","useParticipantsContext","ParticipantAvatar","Tooltip","CommentParticipantsEditor","CommentAllParticipants","popoverRef","_useParticipantsConte","participants","_useTranslation","t","addParticipantId","commentsParticipantsId","_useState","_useState2","_slicedToArray","isDidMount","setDidMount","toggle","current","participantsCount","length","createElement","Fragment","className","id","slice","map","participant","index","username","key","showMore","onClick","target","ref"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/comment/components/comment-all-participants/index.js"],"sourcesContent":["import React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParticipantsContext } from '../../hooks/use-participants';\nimport ParticipantAvatar from './participant-avatar';\nimport Tooltip from '../../../../components/tooltip';\nimport CommentParticipantsEditor from '../comment-participants-editor';\nimport './index.css';\nconst CommentAllParticipants = () => {\n  const popoverRef = useRef();\n  const {\n    participants\n  } = useParticipantsContext();\n  const {\n    t\n  } = useTranslation();\n  const addParticipantId = 'sdoc-add-participants';\n  const commentsParticipantsId = 'sdoc-comments-participants';\n  const [isDidMount, setDidMount] = useState(false);\n  useEffect(() => {\n    setDidMount(true);\n  }, []);\n  const toggle = useCallback(() => {\n    popoverRef.current && popoverRef.current.toggle();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [popoverRef.current]);\n  const participantsCount = participants.length;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comments-participants-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comments-participants-editor-target\",\n    id: commentsParticipantsId\n  }), participants.slice(0, 14).map((participant, index) => {\n    const {\n      username\n    } = participant;\n    return /*#__PURE__*/React.createElement(ParticipantAvatar, {\n      key: username,\n      participant: participant,\n      index: index,\n      showMore: participantsCount > 13 && index === 13\n    });\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"add-comments-participants\",\n    id: addParticipantId,\n    onClick: toggle\n  }, /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-add\"\n  })), isDidMount && /*#__PURE__*/React.createElement(Tooltip, {\n    target: addParticipantId\n  }, t('Add_participants'))), isDidMount && /*#__PURE__*/React.createElement(CommentParticipantsEditor, {\n    target: commentsParticipantsId,\n    ref: popoverRef\n  }));\n};\nexport default CommentAllParticipants;"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACvE,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,sBAAsB,QAAQ,8BAA8B;AACrE,OAAOC,iBAAiB,MAAM,sBAAsB;AACpD,OAAOC,OAAO,MAAM,gCAAgC;AACpD,OAAOC,yBAAyB,MAAM,gCAAgC;AACtE,OAAO,aAAa;AACpB,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAA,EAAS;EACnC,IAAMC,UAAU,GAAGR,MAAM,CAAC,CAAC;EAC3B,IAAAS,qBAAA,GAEIN,sBAAsB,CAAC,CAAC;IAD1BO,YAAY,GAAAD,qBAAA,CAAZC,YAAY;EAEd,IAAAC,eAAA,GAEIT,cAAc,CAAC,CAAC;IADlBU,CAAC,GAAAD,eAAA,CAADC,CAAC;EAEH,IAAMC,gBAAgB,GAAG,uBAAuB;EAChD,IAAMC,sBAAsB,GAAG,4BAA4B;EAC3D,IAAAC,SAAA,GAAkCd,QAAQ,CAAC,KAAK,CAAC;IAAAe,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA1CG,UAAU,GAAAF,UAAA;IAAEG,WAAW,GAAAH,UAAA;EAC9BjB,SAAS,CAAC,YAAM;IACdoB,WAAW,CAAC,IAAI,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;EACN,IAAMC,MAAM,GAAGtB,WAAW,CAAC,YAAM;IAC/BU,UAAU,CAACa,OAAO,IAAIb,UAAU,CAACa,OAAO,CAACD,MAAM,CAAC,CAAC;;IAEjD;EACF,CAAC,EAAE,CAACZ,UAAU,CAACa,OAAO,CAAC,CAAC;EACxB,IAAMC,iBAAiB,GAAGZ,YAAY,CAACa,MAAM;EAC7C,OAAO,aAAa1B,KAAK,CAAC2B,aAAa,CAAC3B,KAAK,CAAC4B,QAAQ,EAAE,IAAI,EAAE,aAAa5B,KAAK,CAAC2B,aAAa,CAAC,KAAK,EAAE;IACpGE,SAAS,EAAE;EACb,CAAC,EAAE,aAAa7B,KAAK,CAAC2B,aAAa,CAAC,KAAK,EAAE;IACzCE,SAAS,EAAE,qCAAqC;IAChDC,EAAE,EAAEb;EACN,CAAC,CAAC,EAAEJ,YAAY,CAACkB,KAAK,CAAC,CAAC,EAAE,EAAE,CAAC,CAACC,GAAG,CAAC,UAACC,WAAW,EAAEC,KAAK,EAAK;IACxD,IACEC,QAAQ,GACNF,WAAW,CADbE,QAAQ;IAEV,OAAO,aAAanC,KAAK,CAAC2B,aAAa,CAACpB,iBAAiB,EAAE;MACzD6B,GAAG,EAAED,QAAQ;MACbF,WAAW,EAAEA,WAAW;MACxBC,KAAK,EAAEA,KAAK;MACZG,QAAQ,EAAEZ,iBAAiB,GAAG,EAAE,IAAIS,KAAK,KAAK;IAChD,CAAC,CAAC;EACJ,CAAC,CAAC,EAAE,aAAalC,KAAK,CAAC2B,aAAa,CAAC,KAAK,EAAE;IAC1CE,SAAS,EAAE,2BAA2B;IACtCC,EAAE,EAAEd,gBAAgB;IACpBsB,OAAO,EAAEf;EACX,CAAC,EAAE,aAAavB,KAAK,CAAC2B,aAAa,CAAC,GAAG,EAAE;IACvCE,SAAS,EAAE;EACb,CAAC,CAAC,CAAC,EAAER,UAAU,IAAI,aAAarB,KAAK,CAAC2B,aAAa,CAACnB,OAAO,EAAE;IAC3D+B,MAAM,EAAEvB;EACV,CAAC,EAAED,CAAC,CAAC,kBAAkB,CAAC,CAAC,CAAC,EAAEM,UAAU,IAAI,aAAarB,KAAK,CAAC2B,aAAa,CAAClB,yBAAyB,EAAE;IACpG8B,MAAM,EAAEtB,sBAAsB;IAC9BuB,GAAG,EAAE7B;EACP,CAAC,CAAC,CAAC;AACL,CAAC;AACD,eAAeD,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}