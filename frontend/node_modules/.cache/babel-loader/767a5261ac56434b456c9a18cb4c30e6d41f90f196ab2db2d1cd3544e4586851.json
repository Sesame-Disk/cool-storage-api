{"ast":null,"code":"'use strict';\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n  return _typeof(obj);\n}\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n    return target;\n  };\n  return _extends.apply(this, arguments);\n}\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n  return target;\n}\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n  return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n  return target;\n}\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n  return _assertThisInitialized(self);\n}\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return self;\n}\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n  return _setPrototypeOf(o, p);\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nvar React = require('react');\nvar PropTypes = require('prop-types'); // qr.js doesn't handle error level of zero (M) so we need to do it right,\n// thus the deep require.\n\nvar QRCodeImpl = require('qr.js/lib/QRCode');\nvar ErrorCorrectLevel = require('qr.js/lib/ErrorCorrectLevel'); // TODO: pull this off of the QRCode class type so it matches.\n\n// Convert from UTF-16, forcing the use of byte-mode encoding in our QR Code.\n// This allows us to encode Hanji, Kanji, emoji, etc. Ideally we'd do more\n// detection and not resort to byte-mode if possible, but we're trading off\n// a smaller library for a smaller amount of data we can potentially encode.\n// Based on http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/\nfunction convertStr(str) {\n  var out = '';\n  for (var i = 0; i < str.length; i++) {\n    var charcode = str.charCodeAt(i);\n    if (charcode < 0x0080) {\n      out += String.fromCharCode(charcode);\n    } else if (charcode < 0x0800) {\n      out += String.fromCharCode(0xc0 | charcode >> 6);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else if (charcode < 0xd800 || charcode >= 0xe000) {\n      out += String.fromCharCode(0xe0 | charcode >> 12);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else {\n      // This is a surrogate pair, so we'll reconsitute the pieces and work\n      // from that\n      i++;\n      charcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n      out += String.fromCharCode(0xf0 | charcode >> 18);\n      out += String.fromCharCode(0x80 | charcode >> 12 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    }\n  }\n  return out;\n}\nvar DEFAULT_PROPS = {\n  size: 128,\n  level: 'L',\n  bgColor: '#FFFFFF',\n  fgColor: '#000000',\n  includeMargin: false\n};\nvar PROP_TYPES = process.env.NODE_ENV !== 'production' ? {\n  value: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  level: PropTypes.oneOf(['L', 'M', 'Q', 'H']),\n  bgColor: PropTypes.string,\n  fgColor: PropTypes.string,\n  includeMargin: PropTypes.bool,\n  imageSettings: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    height: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    excavate: PropTypes.bool,\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n} : {};\nvar MARGIN_SIZE = 4; // This is *very* rough estimate of max amount of QRCode allowed to be covered.\n// It is \"wrong\" in a lot of ways (area is a terrible way to estimate, it\n// really should be number of modules covered), but if for some reason we don't\n// get an explicit height or width, I'd rather default to something than throw.\n\nvar DEFAULT_IMG_SCALE = 0.1;\nfunction generatePath(modules) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var ops = [];\n  modules.forEach(function (row, y) {\n    var start = null;\n    row.forEach(function (cell, x) {\n      if (!cell && start !== null) {\n        // M0 0h7v1H0z injects the space with the move and drops the comma,\n        // saving a char per operation\n        ops.push(\"M\".concat(start + margin, \" \").concat(y + margin, \"h\").concat(x - start, \"v1H\").concat(start + margin, \"z\"));\n        start = null;\n        return;\n      } // end of row, clean up or skip\n\n      if (x === row.length - 1) {\n        if (!cell) {\n          // We would have closed the op above already so this can only mean\n          // 2+ light modules in a row.\n          return;\n        }\n        if (start === null) {\n          // Just a single dark module.\n          ops.push(\"M\".concat(x + margin, \",\").concat(y + margin, \" h1v1H\").concat(x + margin, \"z\"));\n        } else {\n          // Otherwise finish the current line.\n          ops.push(\"M\".concat(start + margin, \",\").concat(y + margin, \" h\").concat(x + 1 - start, \"v1H\").concat(start + margin, \"z\"));\n        }\n        return;\n      }\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join('');\n} // We could just do this in generatePath, except that we want to support\n// non-Path2D canvas, so we need to keep it an explicit step.\n\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map(function (row, y) {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n    return row.map(function (cell, x) {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n      return false;\n    });\n  });\n}\nfunction getImageSettings(props, cells) {\n  var imageSettings = props.imageSettings,\n    size = props.size,\n    includeMargin = props.includeMargin;\n  if (imageSettings == null) {\n    return null;\n  }\n  var margin = includeMargin ? MARGIN_SIZE : 0;\n  var numCells = cells.length + margin * 2;\n  var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  var scale = numCells / size;\n  var w = (imageSettings.width || defaultSize) * scale;\n  var h = (imageSettings.height || defaultSize) * scale;\n  var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  var excavation = null;\n  if (imageSettings.excavate) {\n    var floorX = Math.floor(x);\n    var floorY = Math.floor(y);\n    var ceilW = Math.ceil(w + x - floorX);\n    var ceilH = Math.ceil(h + y - floorY);\n    excavation = {\n      x: floorX,\n      y: floorY,\n      w: ceilW,\n      h: ceilH\n    };\n  }\n  return {\n    x: x,\n    y: y,\n    h: h,\n    w: w,\n    excavation: excavation\n  };\n} // For canvas we're going to switch our drawing mode based on whether or not\n// the environment supports Path2D. We only need the constructor to be\n// supported, but Edge doesn't actually support the path (string) type\n// argument. Luckily it also doesn't support the addPath() method. We can\n// treat that as the same thing.\n\nvar SUPPORTS_PATH2D = function () {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n  return true;\n}();\nvar QRCodeCanvas = /*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(QRCodeCanvas, _React$PureComponent);\n  function QRCodeCanvas() {\n    var _getPrototypeOf2;\n    var _this;\n    _classCallCheck(this, QRCodeCanvas);\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _defineProperty(_assertThisInitialized(_this), \"_canvas\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"_image\", void 0);\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      imgLoaded: false\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleImageLoad\", function () {\n      _this.setState({\n        imgLoaded: true\n      });\n    });\n    return _this;\n  }\n  _createClass(QRCodeCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this._image && this._image.complete) {\n        this.handleImageLoad();\n      }\n      this.update();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this$props$imageSett, _nextProps$imageSetti;\n      var currentSrc = (_this$props$imageSett = this.props.imageSettings) === null || _this$props$imageSett === void 0 ? void 0 : _this$props$imageSett.src;\n      var nextSrc = (_nextProps$imageSetti = nextProps.imageSettings) === null || _nextProps$imageSetti === void 0 ? void 0 : _nextProps$imageSetti.src;\n      if (currentSrc !== nextSrc) {\n        this.setState({\n          imgLoaded: false\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this$props = this.props,\n        value = _this$props.value,\n        size = _this$props.size,\n        level = _this$props.level,\n        bgColor = _this$props.bgColor,\n        fgColor = _this$props.fgColor,\n        includeMargin = _this$props.includeMargin,\n        imageSettings = _this$props.imageSettings; // We'll use type===-1 to force QRCode to automatically pick the best type\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n      if (this._canvas != null) {\n        var canvas = this._canvas;\n        var ctx = canvas.getContext('2d');\n        if (!ctx) {\n          return;\n        }\n        var cells = qrcode.modules;\n        if (cells === null) {\n          return;\n        }\n        var margin = includeMargin ? MARGIN_SIZE : 0;\n        var numCells = cells.length + margin * 2;\n        var calculatedImageSettings = getImageSettings(this.props, cells);\n        if (imageSettings != null && calculatedImageSettings != null) {\n          if (calculatedImageSettings.excavation != null) {\n            cells = excavateModules(cells, calculatedImageSettings.excavation);\n          }\n        } // We're going to scale this so that the number of drawable units\n        // matches the number of cells. This avoids rounding issues, but does\n        // result in some potentially unwanted single pixel issues between\n        // blocks, only in environments that don't support Path2D.\n\n        var pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        var scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale); // Draw solid background, only paint dark modules.\n\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n        if (SUPPORTS_PATH2D) {\n          // $FlowFixMe: Path2D c'tor doesn't support args yet.\n          ctx.fill(new Path2D(generatePath(cells, margin)));\n        } else {\n          cells.forEach(function (row, rdx) {\n            row.forEach(function (cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n        if (this.state.imgLoaded && this._image && calculatedImageSettings != null) {\n          ctx.drawImage(this._image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$props2 = this.props,\n        value = _this$props2.value,\n        size = _this$props2.size,\n        level = _this$props2.level,\n        bgColor = _this$props2.bgColor,\n        fgColor = _this$props2.fgColor,\n        style = _this$props2.style,\n        includeMargin = _this$props2.includeMargin,\n        imageSettings = _this$props2.imageSettings,\n        otherProps = _objectWithoutProperties(_this$props2, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"style\", \"includeMargin\", \"imageSettings\"]);\n      var canvasStyle = _objectSpread({\n        height: size,\n        width: size\n      }, style);\n      var img = null;\n      var imgSrc = imageSettings && imageSettings.src;\n      if (imageSettings != null && imgSrc != null) {\n        img = React.createElement(\"img\", {\n          src: imgSrc,\n          style: {\n            display: 'none'\n          },\n          onLoad: this.handleImageLoad,\n          ref: function ref(_ref) {\n            return _this2._image = _ref;\n          }\n        });\n      }\n      return React.createElement(React.Fragment, null, React.createElement(\"canvas\", _extends({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: function ref(_ref2) {\n          return _this2._canvas = _ref2;\n        }\n      }, otherProps)), img);\n    }\n  }]);\n  return QRCodeCanvas;\n}(React.PureComponent);\n_defineProperty(QRCodeCanvas, \"defaultProps\", DEFAULT_PROPS);\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeCanvas.propTypes = PROP_TYPES;\n}\nvar QRCodeSVG = /*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(QRCodeSVG, _React$PureComponent2);\n  function QRCodeSVG() {\n    _classCallCheck(this, QRCodeSVG);\n    return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG).apply(this, arguments));\n  }\n  _createClass(QRCodeSVG, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n        value = _this$props3.value,\n        size = _this$props3.size,\n        level = _this$props3.level,\n        bgColor = _this$props3.bgColor,\n        fgColor = _this$props3.fgColor,\n        includeMargin = _this$props3.includeMargin,\n        imageSettings = _this$props3.imageSettings,\n        otherProps = _objectWithoutProperties(_this$props3, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"includeMargin\", \"imageSettings\"]); // We'll use type===-1 to force QRCode to automatically pick the best type\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n      var cells = qrcode.modules;\n      if (cells === null) {\n        return null;\n      }\n      var margin = includeMargin ? MARGIN_SIZE : 0;\n      var numCells = cells.length + margin * 2;\n      var calculatedImageSettings = getImageSettings(this.props, cells);\n      var image = null;\n      if (imageSettings != null && calculatedImageSettings != null) {\n        if (calculatedImageSettings.excavation != null) {\n          cells = excavateModules(cells, calculatedImageSettings.excavation);\n        }\n        image = React.createElement(\"image\", {\n          xlinkHref: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\"\n        });\n      } // Drawing strategy: instead of a rect per module, we're going to create a\n      // single path for the dark modules and layer that on top of a light rect,\n      // for a total of 2 DOM nodes. We pay a bit more in string concat but that's\n      // way faster than DOM ops.\n      // For level 1, 441 nodes -> 2\n      // For level 40, 31329 -> 2\n\n      var fgPath = generatePath(cells, margin);\n      return React.createElement(\"svg\", _extends({\n        shapeRendering: \"crispEdges\",\n        height: size,\n        width: size,\n        viewBox: \"0 0 \".concat(numCells, \" \").concat(numCells)\n      }, otherProps), React.createElement(\"path\", {\n        fill: bgColor,\n        d: \"M0,0 h\".concat(numCells, \"v\").concat(numCells, \"H0z\")\n      }), React.createElement(\"path\", {\n        fill: fgColor,\n        d: fgPath\n      }), image);\n    }\n  }]);\n  return QRCodeSVG;\n}(React.PureComponent);\n_defineProperty(QRCodeSVG, \"defaultProps\", DEFAULT_PROPS);\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeSVG.propTypes = PROP_TYPES;\n}\nvar QRCode = function QRCode(props) {\n  var renderAs = props.renderAs,\n    otherProps = _objectWithoutProperties(props, [\"renderAs\"]);\n  var Component = renderAs === 'svg' ? QRCodeSVG : QRCodeCanvas;\n  return React.createElement(Component, otherProps);\n};\nQRCode.defaultProps = _objectSpread({\n  renderAs: 'canvas'\n}, DEFAULT_PROPS);\nmodule.exports = QRCode;","map":{"version":3,"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_extends","Object","assign","target","i","arguments","length","source","key","hasOwnProperty","call","apply","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","defineProperty","_objectWithoutProperties","excluded","_objectWithoutPropertiesLoose","sourceSymbolKeys","indexOf","propertyIsEnumerable","sourceKeys","_classCallCheck","instance","Constructor","TypeError","_defineProperties","props","descriptor","configurable","writable","_createClass","protoProps","staticProps","_possibleConstructorReturn","self","_assertThisInitialized","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","ReferenceError","_inherits","subClass","superClass","create","value","_setPrototypeOf","p","React","require","PropTypes","QRCodeImpl","ErrorCorrectLevel","convertStr","str","out","charcode","charCodeAt","String","fromCharCode","DEFAULT_PROPS","size","level","bgColor","fgColor","includeMargin","PROP_TYPES","process","env","NODE_ENV","string","isRequired","number","oneOf","bool","imageSettings","shape","src","height","width","excavate","x","y","MARGIN_SIZE","DEFAULT_IMG_SCALE","generatePath","modules","margin","undefined","ops","row","start","cell","concat","join","excavateModules","excavation","slice","map","h","w","getImageSettings","cells","numCells","defaultSize","Math","floor","scale","floorX","floorY","ceilW","ceil","ceilH","SUPPORTS_PATH2D","Path2D","addPath","e","QRCodeCanvas","_React$PureComponent","_getPrototypeOf2","_this","_len","args","Array","_key","imgLoaded","setState","componentDidMount","_image","complete","handleImageLoad","update","componentWillReceiveProps","nextProps","_this$props$imageSett","_nextProps$imageSetti","currentSrc","nextSrc","componentDidUpdate","_this$props","qrcode","addData","make","_canvas","canvas","ctx","getContext","calculatedImageSettings","pixelRatio","window","devicePixelRatio","fillStyle","fillRect","fill","rdx","cdx","state","drawImage","render","_this2","_this$props2","style","otherProps","canvasStyle","img","imgSrc","createElement","display","onLoad","ref","_ref","Fragment","_ref2","PureComponent","propTypes","QRCodeSVG","_React$PureComponent2","_this$props3","image","xlinkHref","preserveAspectRatio","fgPath","shapeRendering","viewBox","d","QRCode","renderAs","Component","defaultProps","module","exports"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/qrcode.react/lib/index.js"],"sourcesContent":["'use strict';\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar React = require('react');\n\nvar PropTypes = require('prop-types'); // qr.js doesn't handle error level of zero (M) so we need to do it right,\n// thus the deep require.\n\n\nvar QRCodeImpl = require('qr.js/lib/QRCode');\n\nvar ErrorCorrectLevel = require('qr.js/lib/ErrorCorrectLevel'); // TODO: pull this off of the QRCode class type so it matches.\n\n\n// Convert from UTF-16, forcing the use of byte-mode encoding in our QR Code.\n// This allows us to encode Hanji, Kanji, emoji, etc. Ideally we'd do more\n// detection and not resort to byte-mode if possible, but we're trading off\n// a smaller library for a smaller amount of data we can potentially encode.\n// Based on http://jonisalonen.com/2012/from-utf-16-to-utf-8-in-javascript/\nfunction convertStr(str) {\n  var out = '';\n\n  for (var i = 0; i < str.length; i++) {\n    var charcode = str.charCodeAt(i);\n\n    if (charcode < 0x0080) {\n      out += String.fromCharCode(charcode);\n    } else if (charcode < 0x0800) {\n      out += String.fromCharCode(0xc0 | charcode >> 6);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else if (charcode < 0xd800 || charcode >= 0xe000) {\n      out += String.fromCharCode(0xe0 | charcode >> 12);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    } else {\n      // This is a surrogate pair, so we'll reconsitute the pieces and work\n      // from that\n      i++;\n      charcode = 0x10000 + ((charcode & 0x3ff) << 10 | str.charCodeAt(i) & 0x3ff);\n      out += String.fromCharCode(0xf0 | charcode >> 18);\n      out += String.fromCharCode(0x80 | charcode >> 12 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode >> 6 & 0x3f);\n      out += String.fromCharCode(0x80 | charcode & 0x3f);\n    }\n  }\n\n  return out;\n}\n\nvar DEFAULT_PROPS = {\n  size: 128,\n  level: 'L',\n  bgColor: '#FFFFFF',\n  fgColor: '#000000',\n  includeMargin: false\n};\nvar PROP_TYPES = process.env.NODE_ENV !== 'production' ? {\n  value: PropTypes.string.isRequired,\n  size: PropTypes.number,\n  level: PropTypes.oneOf(['L', 'M', 'Q', 'H']),\n  bgColor: PropTypes.string,\n  fgColor: PropTypes.string,\n  includeMargin: PropTypes.bool,\n  imageSettings: PropTypes.shape({\n    src: PropTypes.string.isRequired,\n    height: PropTypes.number.isRequired,\n    width: PropTypes.number.isRequired,\n    excavate: PropTypes.bool,\n    x: PropTypes.number,\n    y: PropTypes.number\n  })\n} : {};\nvar MARGIN_SIZE = 4; // This is *very* rough estimate of max amount of QRCode allowed to be covered.\n// It is \"wrong\" in a lot of ways (area is a terrible way to estimate, it\n// really should be number of modules covered), but if for some reason we don't\n// get an explicit height or width, I'd rather default to something than throw.\n\nvar DEFAULT_IMG_SCALE = 0.1;\n\nfunction generatePath(modules) {\n  var margin = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n  var ops = [];\n  modules.forEach(function (row, y) {\n    var start = null;\n    row.forEach(function (cell, x) {\n      if (!cell && start !== null) {\n        // M0 0h7v1H0z injects the space with the move and drops the comma,\n        // saving a char per operation\n        ops.push(\"M\".concat(start + margin, \" \").concat(y + margin, \"h\").concat(x - start, \"v1H\").concat(start + margin, \"z\"));\n        start = null;\n        return;\n      } // end of row, clean up or skip\n\n\n      if (x === row.length - 1) {\n        if (!cell) {\n          // We would have closed the op above already so this can only mean\n          // 2+ light modules in a row.\n          return;\n        }\n\n        if (start === null) {\n          // Just a single dark module.\n          ops.push(\"M\".concat(x + margin, \",\").concat(y + margin, \" h1v1H\").concat(x + margin, \"z\"));\n        } else {\n          // Otherwise finish the current line.\n          ops.push(\"M\".concat(start + margin, \",\").concat(y + margin, \" h\").concat(x + 1 - start, \"v1H\").concat(start + margin, \"z\"));\n        }\n\n        return;\n      }\n\n      if (cell && start === null) {\n        start = x;\n      }\n    });\n  });\n  return ops.join('');\n} // We could just do this in generatePath, except that we want to support\n// non-Path2D canvas, so we need to keep it an explicit step.\n\n\nfunction excavateModules(modules, excavation) {\n  return modules.slice().map(function (row, y) {\n    if (y < excavation.y || y >= excavation.y + excavation.h) {\n      return row;\n    }\n\n    return row.map(function (cell, x) {\n      if (x < excavation.x || x >= excavation.x + excavation.w) {\n        return cell;\n      }\n\n      return false;\n    });\n  });\n}\n\nfunction getImageSettings(props, cells) {\n  var imageSettings = props.imageSettings,\n      size = props.size,\n      includeMargin = props.includeMargin;\n\n  if (imageSettings == null) {\n    return null;\n  }\n\n  var margin = includeMargin ? MARGIN_SIZE : 0;\n  var numCells = cells.length + margin * 2;\n  var defaultSize = Math.floor(size * DEFAULT_IMG_SCALE);\n  var scale = numCells / size;\n  var w = (imageSettings.width || defaultSize) * scale;\n  var h = (imageSettings.height || defaultSize) * scale;\n  var x = imageSettings.x == null ? cells.length / 2 - w / 2 : imageSettings.x * scale;\n  var y = imageSettings.y == null ? cells.length / 2 - h / 2 : imageSettings.y * scale;\n  var excavation = null;\n\n  if (imageSettings.excavate) {\n    var floorX = Math.floor(x);\n    var floorY = Math.floor(y);\n    var ceilW = Math.ceil(w + x - floorX);\n    var ceilH = Math.ceil(h + y - floorY);\n    excavation = {\n      x: floorX,\n      y: floorY,\n      w: ceilW,\n      h: ceilH\n    };\n  }\n\n  return {\n    x: x,\n    y: y,\n    h: h,\n    w: w,\n    excavation: excavation\n  };\n} // For canvas we're going to switch our drawing mode based on whether or not\n// the environment supports Path2D. We only need the constructor to be\n// supported, but Edge doesn't actually support the path (string) type\n// argument. Luckily it also doesn't support the addPath() method. We can\n// treat that as the same thing.\n\n\nvar SUPPORTS_PATH2D = function () {\n  try {\n    new Path2D().addPath(new Path2D());\n  } catch (e) {\n    return false;\n  }\n\n  return true;\n}();\n\nvar QRCodeCanvas =\n/*#__PURE__*/\nfunction (_React$PureComponent) {\n  _inherits(QRCodeCanvas, _React$PureComponent);\n\n  function QRCodeCanvas() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, QRCodeCanvas);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(QRCodeCanvas)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_this), \"_canvas\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"_image\", void 0);\n\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      imgLoaded: false\n    });\n\n    _defineProperty(_assertThisInitialized(_this), \"handleImageLoad\", function () {\n      _this.setState({\n        imgLoaded: true\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(QRCodeCanvas, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this._image && this._image.complete) {\n        this.handleImageLoad();\n      }\n\n      this.update();\n    }\n  }, {\n    key: \"componentWillReceiveProps\",\n    value: function componentWillReceiveProps(nextProps) {\n      var _this$props$imageSett, _nextProps$imageSetti;\n\n      var currentSrc = (_this$props$imageSett = this.props.imageSettings) === null || _this$props$imageSett === void 0 ? void 0 : _this$props$imageSett.src;\n      var nextSrc = (_nextProps$imageSetti = nextProps.imageSettings) === null || _nextProps$imageSetti === void 0 ? void 0 : _nextProps$imageSetti.src;\n\n      if (currentSrc !== nextSrc) {\n        this.setState({\n          imgLoaded: false\n        });\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      this.update();\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this$props = this.props,\n          value = _this$props.value,\n          size = _this$props.size,\n          level = _this$props.level,\n          bgColor = _this$props.bgColor,\n          fgColor = _this$props.fgColor,\n          includeMargin = _this$props.includeMargin,\n          imageSettings = _this$props.imageSettings; // We'll use type===-1 to force QRCode to automatically pick the best type\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n\n      if (this._canvas != null) {\n        var canvas = this._canvas;\n        var ctx = canvas.getContext('2d');\n\n        if (!ctx) {\n          return;\n        }\n\n        var cells = qrcode.modules;\n\n        if (cells === null) {\n          return;\n        }\n\n        var margin = includeMargin ? MARGIN_SIZE : 0;\n        var numCells = cells.length + margin * 2;\n        var calculatedImageSettings = getImageSettings(this.props, cells);\n\n        if (imageSettings != null && calculatedImageSettings != null) {\n          if (calculatedImageSettings.excavation != null) {\n            cells = excavateModules(cells, calculatedImageSettings.excavation);\n          }\n        } // We're going to scale this so that the number of drawable units\n        // matches the number of cells. This avoids rounding issues, but does\n        // result in some potentially unwanted single pixel issues between\n        // blocks, only in environments that don't support Path2D.\n\n\n        var pixelRatio = window.devicePixelRatio || 1;\n        canvas.height = canvas.width = size * pixelRatio;\n        var scale = size / numCells * pixelRatio;\n        ctx.scale(scale, scale); // Draw solid background, only paint dark modules.\n\n        ctx.fillStyle = bgColor;\n        ctx.fillRect(0, 0, numCells, numCells);\n        ctx.fillStyle = fgColor;\n\n        if (SUPPORTS_PATH2D) {\n          // $FlowFixMe: Path2D c'tor doesn't support args yet.\n          ctx.fill(new Path2D(generatePath(cells, margin)));\n        } else {\n          cells.forEach(function (row, rdx) {\n            row.forEach(function (cell, cdx) {\n              if (cell) {\n                ctx.fillRect(cdx + margin, rdx + margin, 1, 1);\n              }\n            });\n          });\n        }\n\n        if (this.state.imgLoaded && this._image && calculatedImageSettings != null) {\n          ctx.drawImage(this._image, calculatedImageSettings.x + margin, calculatedImageSettings.y + margin, calculatedImageSettings.w, calculatedImageSettings.h);\n        }\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props2 = this.props,\n          value = _this$props2.value,\n          size = _this$props2.size,\n          level = _this$props2.level,\n          bgColor = _this$props2.bgColor,\n          fgColor = _this$props2.fgColor,\n          style = _this$props2.style,\n          includeMargin = _this$props2.includeMargin,\n          imageSettings = _this$props2.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props2, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"style\", \"includeMargin\", \"imageSettings\"]);\n\n      var canvasStyle = _objectSpread({\n        height: size,\n        width: size\n      }, style);\n\n      var img = null;\n      var imgSrc = imageSettings && imageSettings.src;\n\n      if (imageSettings != null && imgSrc != null) {\n        img = React.createElement(\"img\", {\n          src: imgSrc,\n          style: {\n            display: 'none'\n          },\n          onLoad: this.handleImageLoad,\n          ref: function ref(_ref) {\n            return _this2._image = _ref;\n          }\n        });\n      }\n\n      return React.createElement(React.Fragment, null, React.createElement(\"canvas\", _extends({\n        style: canvasStyle,\n        height: size,\n        width: size,\n        ref: function ref(_ref2) {\n          return _this2._canvas = _ref2;\n        }\n      }, otherProps)), img);\n    }\n  }]);\n\n  return QRCodeCanvas;\n}(React.PureComponent);\n\n_defineProperty(QRCodeCanvas, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeCanvas.propTypes = PROP_TYPES;\n}\n\nvar QRCodeSVG =\n/*#__PURE__*/\nfunction (_React$PureComponent2) {\n  _inherits(QRCodeSVG, _React$PureComponent2);\n\n  function QRCodeSVG() {\n    _classCallCheck(this, QRCodeSVG);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(QRCodeSVG).apply(this, arguments));\n  }\n\n  _createClass(QRCodeSVG, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props3 = this.props,\n          value = _this$props3.value,\n          size = _this$props3.size,\n          level = _this$props3.level,\n          bgColor = _this$props3.bgColor,\n          fgColor = _this$props3.fgColor,\n          includeMargin = _this$props3.includeMargin,\n          imageSettings = _this$props3.imageSettings,\n          otherProps = _objectWithoutProperties(_this$props3, [\"value\", \"size\", \"level\", \"bgColor\", \"fgColor\", \"includeMargin\", \"imageSettings\"]); // We'll use type===-1 to force QRCode to automatically pick the best type\n\n\n      var qrcode = new QRCodeImpl(-1, ErrorCorrectLevel[level]);\n      qrcode.addData(convertStr(value));\n      qrcode.make();\n      var cells = qrcode.modules;\n\n      if (cells === null) {\n        return null;\n      }\n\n      var margin = includeMargin ? MARGIN_SIZE : 0;\n      var numCells = cells.length + margin * 2;\n      var calculatedImageSettings = getImageSettings(this.props, cells);\n      var image = null;\n\n      if (imageSettings != null && calculatedImageSettings != null) {\n        if (calculatedImageSettings.excavation != null) {\n          cells = excavateModules(cells, calculatedImageSettings.excavation);\n        }\n\n        image = React.createElement(\"image\", {\n          xlinkHref: imageSettings.src,\n          height: calculatedImageSettings.h,\n          width: calculatedImageSettings.w,\n          x: calculatedImageSettings.x + margin,\n          y: calculatedImageSettings.y + margin,\n          preserveAspectRatio: \"none\"\n        });\n      } // Drawing strategy: instead of a rect per module, we're going to create a\n      // single path for the dark modules and layer that on top of a light rect,\n      // for a total of 2 DOM nodes. We pay a bit more in string concat but that's\n      // way faster than DOM ops.\n      // For level 1, 441 nodes -> 2\n      // For level 40, 31329 -> 2\n\n\n      var fgPath = generatePath(cells, margin);\n      return React.createElement(\"svg\", _extends({\n        shapeRendering: \"crispEdges\",\n        height: size,\n        width: size,\n        viewBox: \"0 0 \".concat(numCells, \" \").concat(numCells)\n      }, otherProps), React.createElement(\"path\", {\n        fill: bgColor,\n        d: \"M0,0 h\".concat(numCells, \"v\").concat(numCells, \"H0z\")\n      }), React.createElement(\"path\", {\n        fill: fgColor,\n        d: fgPath\n      }), image);\n    }\n  }]);\n\n  return QRCodeSVG;\n}(React.PureComponent);\n\n_defineProperty(QRCodeSVG, \"defaultProps\", DEFAULT_PROPS);\n\nif (process.env.NODE_ENV !== 'production') {\n  QRCodeSVG.propTypes = PROP_TYPES;\n}\n\nvar QRCode = function QRCode(props) {\n  var renderAs = props.renderAs,\n      otherProps = _objectWithoutProperties(props, [\"renderAs\"]);\n\n  var Component = renderAs === 'svg' ? QRCodeSVG : QRCodeCanvas;\n  return React.createElement(Component, otherProps);\n};\n\nQRCode.defaultProps = _objectSpread({\n  renderAs: 'canvas'\n}, DEFAULT_PROPS);\nmodule.exports = QRCode;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}