{"ast":null,"code":"import _objectSpread from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Button}from'reactstrap';import moment from'moment';import{Utils}from'../../../utils/utils';import{seafileAPI}from'../../../utils/seafile-api';import{gettext}from'../../../utils/constants';import toaster from'../../../components/toast';import EmptyTip from'../../../components/empty-tip';import Loading from'../../../components/loading';import Paginator from'../../../components/paginator';import OpMenu from'../../../components/dialog/op-menu';import MainPanelTopbar from'../main-panel-topbar';import UserLink from'../user-link';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.getPreviousPage=function(){_this.props.getItemsByPage(_this.props.currentPage-1);};_this.getNextPage=function(){_this.props.getItemsByPage(_this.props.currentPage+1);};_this.state={isItemFreezed:false};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,curPerPage=_this$props.curPerPage,hasNextPage=_this$props.hasNextPage,currentPage=_this$props.currentPage;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center mt-4\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsx(EmptyTip,{children:/*#__PURE__*/_jsx(\"h2\",{children:gettext('No invitations')})});var table=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Inviter')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Accepter')}),/*#__PURE__*/_jsx(\"th\",{width:\"9%\",children:gettext('Type')}),/*#__PURE__*/_jsx(\"th\",{width:\"14%\",children:gettext('Invited at')}),/*#__PURE__*/_jsx(\"th\",{width:\"14%\",children:gettext('Accepted at')}),/*#__PURE__*/_jsx(\"th\",{width:\"18%\",children:gettext('Expired at')}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{item:item,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem,deleteItem:_this2.props.deleteItem},index);})})]}),/*#__PURE__*/_jsx(Paginator,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:currentPage,hasNextPage:hasNextPage,curPerPage:curPerPage,resetPerPage:this.props.resetPerPage})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super2.call(this,props);_this3.handleMouseEnter=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:true,highlight:true});}};_this3.handleMouseLeave=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:false,highlight:false});}};_this3.onUnfreezedItem=function(){_this3.setState({highlight:false,isOpIconShow:false});_this3.props.onUnfreezedItem();};_this3.deleteItem=function(){_this3.props.deleteItem(_this3.props.item);};_this3.translateOperations=function(item){var translateResult='';switch(item){case'Delete':translateResult=gettext('Delete');break;}return translateResult;};_this3.onMenuItemClick=function(operation){switch(operation){case'Delete':_this3.deleteItem();break;default:break;}};_this3.getInviteTypeText=function(){var translateResult='';switch(_this3.props.item.invite_type){case'Guest':translateResult=gettext('Guest');break;case'guest':translateResult=gettext('Guest');break;case'Default':translateResult=gettext('Default');break;case'default':translateResult=gettext('Default');break;}return translateResult;};_this3.state={isOpIconShown:false,highlight:false};return _this3;}_createClass(Item,[{key:\"render\",value:function render(){var item=this.props.item;var isOpIconShown=this.state.isOpIconShown;return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(UserLink,{email:item.inviter_email,name:item.inviter_name})}),/*#__PURE__*/_jsx(\"td\",{children:item.accept_time?/*#__PURE__*/_jsx(UserLink,{email:item.accepter_email,name:item.accepter_name}):item.accepter_email}),/*#__PURE__*/_jsx(\"td\",{children:this.getInviteTypeText()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{title:moment(item.invite_time).format('llll'),children:moment(item.invite_time).fromNow()})}),/*#__PURE__*/_jsx(\"td\",{children:item.accept_time?/*#__PURE__*/_jsx(\"span\",{title:moment(item.accept_time).format('llll'),children:moment(item.accept_time).fromNow()}):'--'}),/*#__PURE__*/_jsx(\"td\",{children:item.is_expired?/*#__PURE__*/_jsx(\"span\",{className:\"text-red\",children:moment(item.expire_time).format('YYYY-MM-DD HH:mm')}):moment(item.expire_time).format('YYYY-MM-DD HH:mm')}),/*#__PURE__*/_jsx(\"td\",{children:isOpIconShown&&/*#__PURE__*/_jsx(OpMenu,{operations:['Delete'],translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem})})]})});}}]);return Item;}(Component);var Invitations=/*#__PURE__*/function(_Component3){_inherits(Invitations,_Component3);var _super3=_createSuper(Invitations);function Invitations(props){var _this4;_classCallCheck(this,Invitations);_this4=_super3.call(this,props);_this4.getItemsByPage=function(page){var perPage=_this4.state.perPage;seafileAPI.sysAdminListInvitations(page,perPage).then(function(res){_this4.setState({loading:false,items:res.data.invitation_list,hasNextPage:Utils.hasNextPage(page,perPage,res.data.total_count),currentPage:page});}).catch(function(error){_this4.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this4.deleteItem=function(targetItem){var token=targetItem.token;seafileAPI.sysAdminDeleteInvitation(token).then(function(res){var items=_this4.state.items.filter(function(item){return item.token!=token;});_this4.setState({items:items});toaster.success(gettext('Successfully deleted 1 item.'));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.deleteItemInBatch=function(){seafileAPI.sysAdminDeleteExpiredInvitations().then(function(res){var prevItems=_this4.state.items;var items=_this4.state.items.filter(function(item){return!item.is_expired||item.accept_time;});if(items.length<prevItems.length){_this4.setState({items:items});toaster.success(gettext('Operation succeeded.'));}}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.resetPerPage=function(perPage){_this4.setState({perPage:perPage},function(){_this4.getItemsByPage(1);});};_this4.state={loading:true,errorMsg:'',items:[],totalItemCount:0,hasNextPage:false,currentPage:1,perPage:25};return _this4;}_createClass(Invitations,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;var urlParams=new URL(window.location).searchParams;var _this$state=this.state,currentPage=_this$state.currentPage,perPage=_this$state.perPage;this.setState({perPage:parseInt(urlParams.get('per_page')||perPage),currentPage:parseInt(urlParams.get('page')||currentPage)},function(){_this5.getItemsByPage(_this5.state.currentPage);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,_objectSpread(_objectSpread({},this.props),{},{children:/*#__PURE__*/_jsx(Button,{className:\"btn btn-secondary operation-item\",onClick:this.deleteItemInBatch,children:gettext('Delete Expired Invitations')})})),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-path\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"sf-heading\",children:gettext('Invitations')})}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.items,currentPage:this.state.currentPage,hasNextPage:this.state.hasNextPage,curPerPage:this.state.perPage,resetPerPage:this.resetPerPage,getItemsByPage:this.getItemsByPage,deleteItem:this.deleteItem})})]})})]});}}]);return Invitations;}(Component);export default Invitations;","map":{"version":3,"names":["React","Component","Fragment","Button","moment","Utils","seafileAPI","gettext","toaster","EmptyTip","Loading","Paginator","OpMenu","MainPanelTopbar","UserLink","jsx","_jsx","jsxs","_jsxs","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onFreezedItem","setState","isItemFreezed","onUnfreezedItem","getPreviousPage","getItemsByPage","currentPage","getNextPage","state","_createClass","key","value","render","_this2","_this$props","loading","errorMsg","items","curPerPage","hasNextPage","className","children","emptyTip","table","width","map","item","index","Item","deleteItem","gotoPreviousPage","gotoNextPage","resetPerPage","length","_Component2","_super2","_this3","handleMouseEnter","isOpIconShown","highlight","handleMouseLeave","isOpIconShow","translateOperations","translateResult","onMenuItemClick","operation","getInviteTypeText","invite_type","onMouseEnter","onMouseLeave","email","inviter_email","name","inviter_name","accept_time","accepter_email","accepter_name","title","invite_time","format","fromNow","is_expired","expire_time","operations","Invitations","_Component3","_super3","_this4","page","perPage","sysAdminListInvitations","then","res","data","invitation_list","total_count","catch","error","getErrorMsg","targetItem","token","sysAdminDeleteInvitation","filter","success","errMessage","danger","deleteItemInBatch","sysAdminDeleteExpiredInvitations","prevItems","totalItemCount","componentDidMount","_this5","urlParams","URL","window","location","searchParams","_this$state","parseInt","get","_objectSpread","onClick"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/invitations/invitations.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getItemsByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getItemsByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, curPerPage, hasNextPage, currentPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No invitations')}</h2>\n        </EmptyTip>\n      );\n\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"20%\">{gettext('Inviter')}</th>\n                <th width=\"20%\">{gettext('Accepter')}</th>\n                <th width=\"9%\">{gettext('Type')}</th>\n                <th width=\"14%\">{gettext('Invited at')}</th>\n                <th width=\"14%\">{gettext('Accepted at')}</th>\n                <th width=\"18%\">{gettext('Expired at')}</th>\n                <th width=\"5%\"></th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  deleteItem={this.props.deleteItem}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getItemsByPage: PropTypes.func,\n  curPerPage: PropTypes.number,\n  deleteItem: PropTypes.func,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  deleteItem = () => {\n    this.props.deleteItem(this.props.item);\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch (item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n    }\n    return translateResult;\n  };\n\n  onMenuItemClick = (operation) => {\n    switch(operation) {\n      case 'Delete':\n        this.deleteItem();\n        break;\n      default:\n        break;\n    }\n  };\n\n  getInviteTypeText = () => {\n    let translateResult = '';\n    switch (this.props.item.invite_type) {\n      case 'Guest':\n        translateResult = gettext('Guest');\n        break;\n      case 'guest':\n        translateResult = gettext('Guest');\n        break;\n      case 'Default':\n        translateResult = gettext('Default');\n        break;\n      case 'default':\n        translateResult = gettext('Default');\n        break;\n    }\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const {\n      isOpIconShown\n    } = this.state;\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.inviter_email} name={item.inviter_name} />\n          </td>\n          <td>\n            {item.accept_time ?\n              <UserLink email={item.accepter_email} name={item.accepter_name} /> :\n              item.accepter_email\n            }\n          </td>\n          <td>{this.getInviteTypeText()}</td>\n          <td>\n            <span title={moment(item.invite_time).format('llll')}>{moment(item.invite_time).fromNow()}</span>\n          </td>\n          <td>\n            {item.accept_time ?\n              <span title={moment(item.accept_time).format('llll')}>{moment(item.accept_time).fromNow()}</span> :\n              '--'\n            }\n          </td>\n          <td>\n            {item.is_expired ?\n              <span className=\"text-red\">{moment(item.expire_time).format('YYYY-MM-DD HH:mm')}</span> :\n              moment(item.expire_time).format('YYYY-MM-DD HH:mm')\n            }\n          </td>\n          <td>\n            {isOpIconShown &&\n            <OpMenu\n              operations={['Delete']}\n              translateOperations={this.translateOperations}\n              onMenuItemClick={this.onMenuItemClick}\n              onFreezedItem={this.props.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n            />\n            }\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  deleteItem: PropTypes.func,\n  onFreezedItem: PropTypes.func.isRequired,\n};\n\nclass Invitations extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      items: [],\n      totalItemCount: 0,\n      hasNextPage: false,\n      currentPage: 1,\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getItemsByPage(this.state.currentPage);\n    });\n  }\n\n  getItemsByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInvitations(page, perPage).then(res => {\n      this.setState({\n        loading: false,\n        items: res.data.invitation_list,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n        currentPage: page\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteItem = (targetItem) => {\n    const token = targetItem.token;\n    seafileAPI.sysAdminDeleteInvitation(token).then(res => {\n      let items = this.state.items.filter(item => {\n        return item.token != token;\n      });\n      this.setState({items: items});\n      toaster.success(gettext('Successfully deleted 1 item.'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteItemInBatch = () => {\n    seafileAPI.sysAdminDeleteExpiredInvitations().then(res => {\n      const prevItems = this.state.items;\n      const items = this.state.items.filter(item => !item.is_expired || item.accept_time);\n      if (items.length < prevItems.length) {\n        this.setState({\n          items: items\n        });\n        toaster.success(gettext('Operation succeeded.'));\n      }\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getItemsByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.deleteItemInBatch}>{gettext('Delete Expired Invitations')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Invitations')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n                currentPage={this.state.currentPage}\n                hasNextPage={this.state.hasNextPage}\n                curPerPage={this.state.perPage}\n                resetPerPage={this.resetPerPage}\n                getItemsByPage={this.getItemsByPage}\n                deleteItem={this.deleteItem}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default Invitations;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}