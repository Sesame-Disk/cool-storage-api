{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _slateReact = require(\"slate-react\");\nvar _reactI18next = require(\"react-i18next\");\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _helper = require(\"../helper\");\nvar _imagePreviewer = _interopRequireDefault(require(\"./image-previewer\"));\nvar _constants = require(\"../../../../constants\");\nrequire(\"./style.css\");\n/* eslint-disable react-hooks/rules-of-hooks */\n\nvar renderImage = function renderImage(_ref, editor) {\n  var _element$data, _element$data2, _element$data3, _element$data4;\n  var attributes = _ref.attributes,\n    children = _ref.children,\n    element = _ref.element;\n  var _ref2 = (0, _react.useState)(element === null || element === void 0 ? void 0 : (_element$data = element.data) === null || _element$data === void 0 ? void 0 : _element$data.init),\n    _ref3 = _slicedToArray(_ref2, 2),\n    isLoadingImage = _ref3[0],\n    setIsLoadingImage = _ref3[1];\n  var _ref4 = (0, _react.useState)(false),\n    _ref5 = _slicedToArray(_ref4, 2),\n    isError = _ref5[0],\n    setIsError = _ref5[1];\n  var _ref6 = (0, _react.useState)(false),\n    _ref7 = _slicedToArray(_ref6, 2),\n    isResizing = _ref7[0],\n    setIsResizing = _ref7[1];\n  var _ref8 = (0, _react.useState)(false),\n    _ref9 = _slicedToArray(_ref8, 2),\n    isFullScreening = _ref9[0],\n    setIsFullScreening = _ref9[1];\n  var _ref10 = (0, _react.useState)({\n      height: 0,\n      width: 0\n    }),\n    _ref11 = _slicedToArray(_ref10, 2),\n    imgSizeInfo = _ref11[0],\n    setImgSizeInfo = _ref11[1];\n  var _ref12 = (0, _reactI18next.useTranslation)(_constants.TRANSLATE_NAMESPACE),\n    t = _ref12.t;\n  var imgRef = (0, _react.useRef)(null);\n  var resizerRef = (0, _react.useRef)();\n  var isSelected = (0, _slateReact.useSelected)();\n  (0, _react.useEffect)(function () {\n    var _element$data5 = element.data,\n      data = _element$data5 === void 0 ? {} : _element$data5;\n    if (!data.init) return;\n    var url = data.src;\n    (0, _helper.lazyLoadImage)(url, function (image) {\n      setIsLoadingImage(false);\n      setIsError(false);\n    }, function () {\n      setIsLoadingImage(false);\n      setIsError(true);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var handleStartResize = (0, _react.useCallback)(function (event) {\n    event.stopPropagation();\n    var _imgRef$current = imgRef.current,\n      height = _imgRef$current.clientHeight,\n      width = _imgRef$current.clientWidth;\n    setIsResizing(true);\n    setImgSizeInfo({\n      width: width,\n      height: height\n    });\n    var handleMouseMove = function handleMouseMove(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var img = imgRef.current;\n      var resizer = resizerRef.current;\n      var changeX = event.clientX - resizer.getBoundingClientRect().left - 5;\n      var imageWidth = img.width + changeX;\n      var imageHeight = imageWidth / img.naturalWidth * img.naturalHeight;\n      if (imageWidth < 20) return;\n      img.width = imageWidth;\n      img.height = imageHeight;\n      setImgSizeInfo({\n        width: img.clientWidth,\n        height: img.clientHeight\n      });\n    };\n    var handleMouseUp = function handleMouseUp() {\n      document.removeEventListener('mousemove', handleMouseMove);\n      if (!isResizing) {\n        setIsResizing(false);\n        var _imgRef$current2 = imgRef.current,\n          _height = _imgRef$current2.clientHeight,\n          _width = _imgRef$current2.clientWidth;\n        (0, _helper.updateImage)(editor, _objectSpread(_objectSpread({}, element.data), {}, {\n          width: _width,\n          height: _height\n        }));\n      }\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  }, [editor, element.data, isResizing]);\n  var toggleImagePreviewer = (0, _react.useCallback)(function (event) {\n    event.preventDefault();\n    setIsFullScreening(false);\n  }, []);\n  return /*#__PURE__*/_react.default.createElement(\"span\", Object.assign({}, attributes, {\n    contentEditable: false,\n    className: \"sf-image-wrapper\"\n  }), isLoadingImage && /*#__PURE__*/_react.default.createElement(\"span\", null, t('Image_is_uploading'), \"...\"), !isLoadingImage && /*#__PURE__*/_react.default.createElement(\"img\", {\n    ref: imgRef,\n    className: (0, _classnames.default)('sf-image', {\n      'selected': isSelected,\n      'error': isError\n    }),\n    alt: (element === null || element === void 0 ? void 0 : (_element$data2 = element.data) === null || _element$data2 === void 0 ? void 0 : _element$data2.alt) || ' ' + t('Image_loading_failed'),\n    src: element === null || element === void 0 ? void 0 : (_element$data3 = element.data) === null || _element$data3 === void 0 ? void 0 : _element$data3.src,\n    width: element === null || element === void 0 ? void 0 : element.data.width,\n    height: element === null || element === void 0 ? void 0 : element.data.height\n  }), isSelected && !isLoadingImage && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"span\", {\n    ref: resizerRef,\n    className: \"resizer\",\n    onMouseDown: handleStartResize\n  }), /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"full-screen\",\n    contentEditable: false,\n    onClick: function onClick() {\n      return setIsFullScreening(true);\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"i\", {\n    className: 'iconfont icon-fullscreen',\n    title: t('Full_screen')\n  }))), isResizing && /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"image-size-info-tooltip\"\n  }, \"\".concat(t('Width'), \":\").concat(imgSizeInfo.width, \"  \").concat(t('Height'), \":\").concat(imgSizeInfo.height)), isFullScreening && /*#__PURE__*/_react.default.createElement(_imagePreviewer.default, {\n    imgUrl: element === null || element === void 0 ? void 0 : (_element$data4 = element.data) === null || _element$data4 === void 0 ? void 0 : _element$data4.src,\n    toggleImagePreviewer: toggleImagePreviewer\n  }), children);\n};\nvar _default = exports.default = renderImage;","map":{"version":3,"names":["_objectSpread","require","default","_slicedToArray","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","value","_react","_slateReact","_reactI18next","_classnames","_helper","_imagePreviewer","_constants","renderImage","_ref","editor","_element$data","_element$data2","_element$data3","_element$data4","attributes","children","element","_ref2","useState","data","init","_ref3","isLoadingImage","setIsLoadingImage","_ref4","_ref5","isError","setIsError","_ref6","_ref7","isResizing","setIsResizing","_ref8","_ref9","isFullScreening","setIsFullScreening","_ref10","height","width","_ref11","imgSizeInfo","setImgSizeInfo","_ref12","useTranslation","TRANSLATE_NAMESPACE","t","imgRef","useRef","resizerRef","isSelected","useSelected","useEffect","_element$data5","url","src","lazyLoadImage","image","handleStartResize","useCallback","event","stopPropagation","_imgRef$current","current","clientHeight","clientWidth","handleMouseMove","preventDefault","img","resizer","changeX","clientX","getBoundingClientRect","left","imageWidth","imageHeight","naturalWidth","naturalHeight","handleMouseUp","document","removeEventListener","_imgRef$current2","updateImage","addEventListener","toggleImagePreviewer","createElement","assign","contentEditable","className","ref","alt","Fragment","onMouseDown","onClick","title","concat","imgUrl","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/image/render-element/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _slateReact = require(\"slate-react\");\nvar _reactI18next = require(\"react-i18next\");\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _helper = require(\"../helper\");\nvar _imagePreviewer = _interopRequireDefault(require(\"./image-previewer\"));\nvar _constants = require(\"../../../../constants\");\nrequire(\"./style.css\");\n/* eslint-disable react-hooks/rules-of-hooks */\n\nconst renderImage = (_ref, editor) => {\n  var _element$data, _element$data2, _element$data3, _element$data4;\n  let {\n    attributes,\n    children,\n    element\n  } = _ref;\n  const [isLoadingImage, setIsLoadingImage] = (0, _react.useState)(element === null || element === void 0 ? void 0 : (_element$data = element.data) === null || _element$data === void 0 ? void 0 : _element$data.init);\n  const [isError, setIsError] = (0, _react.useState)(false);\n  const [isResizing, setIsResizing] = (0, _react.useState)(false);\n  const [isFullScreening, setIsFullScreening] = (0, _react.useState)(false);\n  const [imgSizeInfo, setImgSizeInfo] = (0, _react.useState)({\n    height: 0,\n    width: 0\n  });\n  const {\n    t\n  } = (0, _reactI18next.useTranslation)(_constants.TRANSLATE_NAMESPACE);\n  const imgRef = (0, _react.useRef)(null);\n  const resizerRef = (0, _react.useRef)();\n  const isSelected = (0, _slateReact.useSelected)();\n  (0, _react.useEffect)(() => {\n    const {\n      data = {}\n    } = element;\n    if (!data.init) return;\n    const url = data.src;\n    (0, _helper.lazyLoadImage)(url, image => {\n      setIsLoadingImage(false);\n      setIsError(false);\n    }, () => {\n      setIsLoadingImage(false);\n      setIsError(true);\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleStartResize = (0, _react.useCallback)(event => {\n    event.stopPropagation();\n    const {\n      clientHeight: height,\n      clientWidth: width\n    } = imgRef.current;\n    setIsResizing(true);\n    setImgSizeInfo({\n      width,\n      height\n    });\n    const handleMouseMove = event => {\n      event.preventDefault();\n      event.stopPropagation();\n      const img = imgRef.current;\n      const resizer = resizerRef.current;\n      const changeX = event.clientX - resizer.getBoundingClientRect().left - 5;\n      const imageWidth = img.width + changeX;\n      const imageHeight = imageWidth / img.naturalWidth * img.naturalHeight;\n      if (imageWidth < 20) return;\n      img.width = imageWidth;\n      img.height = imageHeight;\n      setImgSizeInfo({\n        width: img.clientWidth,\n        height: img.clientHeight\n      });\n    };\n    const handleMouseUp = () => {\n      document.removeEventListener('mousemove', handleMouseMove);\n      if (!isResizing) {\n        setIsResizing(false);\n        const {\n          clientHeight: height,\n          clientWidth: width\n        } = imgRef.current;\n        (0, _helper.updateImage)(editor, {\n          ...element.data,\n          width,\n          height\n        });\n      }\n      document.removeEventListener('mouseup', handleMouseUp);\n    };\n    document.addEventListener('mousemove', handleMouseMove);\n    document.addEventListener('mouseup', handleMouseUp);\n  }, [editor, element.data, isResizing]);\n  const toggleImagePreviewer = (0, _react.useCallback)(event => {\n    event.preventDefault();\n    setIsFullScreening(false);\n  }, []);\n  return /*#__PURE__*/_react.default.createElement(\"span\", Object.assign({}, attributes, {\n    contentEditable: false,\n    className: \"sf-image-wrapper\"\n  }), isLoadingImage && /*#__PURE__*/_react.default.createElement(\"span\", null, t('Image_is_uploading'), \"...\"), !isLoadingImage && /*#__PURE__*/_react.default.createElement(\"img\", {\n    ref: imgRef,\n    className: (0, _classnames.default)('sf-image', {\n      'selected': isSelected,\n      'error': isError\n    }),\n    alt: (element === null || element === void 0 ? void 0 : (_element$data2 = element.data) === null || _element$data2 === void 0 ? void 0 : _element$data2.alt) || ' ' + t('Image_loading_failed'),\n    src: element === null || element === void 0 ? void 0 : (_element$data3 = element.data) === null || _element$data3 === void 0 ? void 0 : _element$data3.src,\n    width: element === null || element === void 0 ? void 0 : element.data.width,\n    height: element === null || element === void 0 ? void 0 : element.data.height\n  }), isSelected && !isLoadingImage && /*#__PURE__*/_react.default.createElement(_react.default.Fragment, null, /*#__PURE__*/_react.default.createElement(\"span\", {\n    ref: resizerRef,\n    className: \"resizer\",\n    onMouseDown: handleStartResize\n  }), /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"full-screen\",\n    contentEditable: false,\n    onClick: () => setIsFullScreening(true)\n  }, /*#__PURE__*/_react.default.createElement(\"i\", {\n    className: 'iconfont icon-fullscreen',\n    title: t('Full_screen')\n  }))), isResizing && /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"image-size-info-tooltip\"\n  }, \"\".concat(t('Width'), \":\").concat(imgSizeInfo.width, \"  \").concat(t('Height'), \":\").concat(imgSizeInfo.height)), isFullScreening && /*#__PURE__*/_react.default.createElement(_imagePreviewer.default, {\n    imgUrl: element === null || element === void 0 ? void 0 : (_element$data4 = element.data) === null || _element$data4 === void 0 ? void 0 : _element$data4.src,\n    toggleImagePreviewer: toggleImagePreviewer\n  }), children);\n};\nvar _default = exports.default = renderImage;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}