{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { isInsertImageMenuDisabled } from '../helpers';\nimport { IMAGE, MENUS_CONFIG_MAP, LOCAL_IMAGE } from '../../../constants';\nimport DropdownMenuItem from '../../../commons/dropdown-menu-item';\nimport { COMMENT_EDITOR, INTERNAL_EVENT } from '../../../../constants';\nimport { MenuItem } from '../../../commons';\nvar ImageMenu = function ImageMenu(_ref) {\n  var editor = _ref.editor,\n    readonly = _ref.readonly,\n    eventBus = _ref.eventBus,\n    isRichEditor = _ref.isRichEditor,\n    className = _ref.className;\n  var disabled = isInsertImageMenuDisabled(editor, readonly);\n  var menuConfig = MENUS_CONFIG_MAP[IMAGE];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var openInsertLocalImage = useCallback(function () {\n    eventBus.dispatch(INTERNAL_EVENT.INSERT_ELEMENT, {\n      type: LOCAL_IMAGE,\n      editor: editor\n    });\n  }, [editor, eventBus]);\n\n  // Apply for comment Editor\n  if (editor.editorType === COMMENT_EDITOR) {\n    var commentEditorConfig = _objectSpread(_objectSpread({}, menuConfig), {}, {\n      text: 'Upload_local_image'\n    });\n    var menuProps = _objectSpread(_objectSpread({\n      isRichEditor: isRichEditor,\n      className: className\n    }, commentEditorConfig), {}, {\n      disabled: disabled,\n      isActive: false,\n      onMouseDown: openInsertLocalImage\n    });\n    return /*#__PURE__*/React.createElement(MenuItem, menuProps);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DropdownMenuItem, {\n    disabled: disabled,\n    menuConfig: menuConfig,\n    className: \"pr-2\"\n  }, !disabled && /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-right-slide sdoc-dropdown-item-right-icon\"\n  })), !disabled && /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: menuConfig.id,\n    trigger: \"hover\",\n    className: \"sdoc-menu-popover sdoc-dropdown-menu sdoc-sub-dropdown-menu sdoc-insert-image-menu-popover\",\n    placement: \"right-start\",\n    hideArrow: true,\n    fade: false\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-insert-image-menu-popover-container sdoc-dropdown-menu-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-dropdown-menu-item\",\n    onClick: openInsertLocalImage\n  }, t('Upload_local_image')))));\n};\nexport default ImageMenu;","map":{"version":3,"names":["_objectSpread","React","useCallback","useTranslation","UncontrolledPopover","isInsertImageMenuDisabled","IMAGE","MENUS_CONFIG_MAP","LOCAL_IMAGE","DropdownMenuItem","COMMENT_EDITOR","INTERNAL_EVENT","MenuItem","ImageMenu","_ref","editor","readonly","eventBus","isRichEditor","className","disabled","menuConfig","_useTranslation","t","openInsertLocalImage","dispatch","INSERT_ELEMENT","type","editorType","commentEditorConfig","text","menuProps","isActive","onMouseDown","createElement","Fragment","target","id","trigger","placement","hideArrow","fade","onClick"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/image/menu/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { isInsertImageMenuDisabled } from '../helpers';\nimport { IMAGE, MENUS_CONFIG_MAP, LOCAL_IMAGE } from '../../../constants';\nimport DropdownMenuItem from '../../../commons/dropdown-menu-item';\nimport { COMMENT_EDITOR, INTERNAL_EVENT } from '../../../../constants';\nimport { MenuItem } from '../../../commons';\nconst ImageMenu = _ref => {\n  let {\n    editor,\n    readonly,\n    eventBus,\n    isRichEditor,\n    className\n  } = _ref;\n  const disabled = isInsertImageMenuDisabled(editor, readonly);\n  const menuConfig = MENUS_CONFIG_MAP[IMAGE];\n  const {\n    t\n  } = useTranslation();\n  const openInsertLocalImage = useCallback(() => {\n    eventBus.dispatch(INTERNAL_EVENT.INSERT_ELEMENT, {\n      type: LOCAL_IMAGE,\n      editor\n    });\n  }, [editor, eventBus]);\n\n  // Apply for comment Editor\n  if (editor.editorType === COMMENT_EDITOR) {\n    const commentEditorConfig = _objectSpread(_objectSpread({}, menuConfig), {}, {\n      text: 'Upload_local_image'\n    });\n    const menuProps = _objectSpread(_objectSpread({\n      isRichEditor,\n      className\n    }, commentEditorConfig), {}, {\n      disabled: disabled,\n      isActive: false,\n      onMouseDown: openInsertLocalImage\n    });\n    return /*#__PURE__*/React.createElement(MenuItem, menuProps);\n  }\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(DropdownMenuItem, {\n    disabled: disabled,\n    menuConfig: menuConfig,\n    className: \"pr-2\"\n  }, !disabled && /*#__PURE__*/React.createElement(\"i\", {\n    className: \"sdocfont sdoc-right-slide sdoc-dropdown-item-right-icon\"\n  })), !disabled && /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: menuConfig.id,\n    trigger: \"hover\",\n    className: \"sdoc-menu-popover sdoc-dropdown-menu sdoc-sub-dropdown-menu sdoc-insert-image-menu-popover\",\n    placement: \"right-start\",\n    hideArrow: true,\n    fade: false\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-insert-image-menu-popover-container sdoc-dropdown-menu-container\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-dropdown-menu-item\",\n    onClick: openInsertLocalImage\n  }, t('Upload_local_image')))));\n};\nexport default ImageMenu;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}