{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Input,Button}from'reactstrap';import{gettext}from'../../../utils/constants';import SettingItemBase from'./setting-item-base';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WebSettingInput=/*#__PURE__*/function(_Component){_inherits(WebSettingInput,_Component);var _super=_createSuper(WebSettingInput);function WebSettingInput(props){var _this;_classCallCheck(this,WebSettingInput);_this=_super.call(this,props);_this.toggleBtns=function(){_this.setState({isBtnsShown:!_this.state.isBtnsShown});};_this.hideBtns=function(e){if(!_this.state.isBtnsShown){return;}if(_this.props.value!=_this.state.value){_this.setState({value:_this.props.value});}_this.toggleBtns();};_this.onInputChange=function(e){_this.setState({value:e.target.value});};_this.onSubmit=function(e){var value=_this.state.value.trim();if(value!=_this.props.value){_this.props.saveSetting(_this.props.keyText,value);}_this.toggleBtns();};_this.state={isBtnsShown:false,value:_this.props.value};return _this;}_createClass(WebSettingInput,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){this.setState({value:nextProps.value});}},{key:\"render\",value:function render(){var _this$state=this.state,isBtnsShown=_this$state.isBtnsShown,value=_this$state.value;var _this$props=this.props,helpTip=_this$props.helpTip,displayName=_this$props.displayName,inputType=_this$props.inputType;return/*#__PURE__*/_jsx(SettingItemBase,{displayName:displayName,helpTip:helpTip,mainContent:/*#__PURE__*/_jsx(Input,{type:inputType||'text',className:inputType=='textarea'?'web-setting-textarea':'',onChange:this.onInputChange,onFocus:this.toggleBtns,onBlur:this.hideBtns,value:value}),extraContent:isBtnsShown?/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Button,{className:\"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit\",onMouseDown:this.onSubmit,title:gettext('Submit')}),/*#__PURE__*/_jsx(Button,{className:\"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel\",title:gettext('Cancel')})]}):null});}}]);return WebSettingInput;}(Component);export default WebSettingInput;","map":{"version":3,"names":["React","Component","Fragment","Input","Button","gettext","SettingItemBase","jsx","_jsx","jsxs","_jsxs","WebSettingInput","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","toggleBtns","setState","isBtnsShown","state","hideBtns","e","value","onInputChange","target","onSubmit","trim","saveSetting","keyText","_createClass","key","UNSAFE_componentWillReceiveProps","nextProps","render","_this$state","_this$props","helpTip","displayName","inputType","mainContent","type","className","onChange","onFocus","onBlur","extraContent","children","onMouseDown","title"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/web-settings/input-item.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Input, Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  inputType: PropTypes.string,\n  saveSetting: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  value: PropTypes.oneOfType([PropTypes.string,PropTypes.number]),\n  helpTip: PropTypes.string.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingInput extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isBtnsShown: false,\n      value: this.props.value\n    };\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    this.setState({value: nextProps.value});\n  }\n\n  toggleBtns = () => {\n    this.setState({isBtnsShown: !this.state.isBtnsShown});\n  };\n\n  hideBtns = (e) => {\n    if (!this.state.isBtnsShown) {\n      return;\n    }\n    if (this.props.value != this.state.value) {\n      this.setState({value: this.props.value});\n    }\n    this.toggleBtns();\n  };\n\n  onInputChange = (e) => {\n    this.setState({ value: e.target.value });\n  };\n\n  onSubmit = (e) => {\n    const value = this.state.value.trim();\n    if (value != this.props.value) {\n      this.props.saveSetting(this.props.keyText, value);\n    }\n    this.toggleBtns();\n  };\n\n  render() {\n    const { isBtnsShown, value } = this.state;\n    const { helpTip, displayName, inputType } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <Input type={inputType || 'text'} className={inputType == 'textarea' ? 'web-setting-textarea' : ''} onChange={this.onInputChange} onFocus={this.toggleBtns} onBlur={this.hideBtns} value={value} />\n        }\n        extraContent={\n          isBtnsShown ?\n            <Fragment>\n              <Button className=\"sf2-icon-tick web-setting-icon-btn web-setting-icon-btn-submit\" onMouseDown={this.onSubmit} title={gettext('Submit')}></Button>\n              <Button className=\"ml-1 sf2-icon-x2 web-setting-icon-btn web-setting-icon-btn-cancel\" title={gettext('Cancel')}></Button>\n            </Fragment> : null\n        }\n      />\n    );\n  }\n}\n\nWebSettingInput.propTypes = propTypes;\n\nexport default WebSettingInput;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,OAASC,KAAK,CAAEC,MAAM,KAAQ,YAAY,CAC1C,OAASC,OAAO,KAAQ,0BAA0B,CAClD,MAAO,CAAAC,eAAe,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAW5C,CAAAC,eAAe,uBAAAC,UAAA,EAAAC,SAAA,CAAAF,eAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,eAAA,EAEnB,SAAAA,gBAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,eAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAWfG,UAAU,CAAG,UAAM,CACjBH,KAAA,CAAKI,QAAQ,CAAC,CAACC,WAAW,CAAE,CAACL,KAAA,CAAKM,KAAK,CAACD,WAAW,CAAC,CAAC,CACvD,CAAC,CAAAL,KAAA,CAEDO,QAAQ,CAAG,SAACC,CAAC,CAAK,CAChB,GAAI,CAACR,KAAA,CAAKM,KAAK,CAACD,WAAW,CAAE,CAC3B,OACF,CACA,GAAIL,KAAA,CAAKD,KAAK,CAACU,KAAK,EAAIT,KAAA,CAAKM,KAAK,CAACG,KAAK,CAAE,CACxCT,KAAA,CAAKI,QAAQ,CAAC,CAACK,KAAK,CAAET,KAAA,CAAKD,KAAK,CAACU,KAAK,CAAC,CAAC,CAC1C,CACAT,KAAA,CAAKG,UAAU,CAAC,CAAC,CACnB,CAAC,CAAAH,KAAA,CAEDU,aAAa,CAAG,SAACF,CAAC,CAAK,CACrBR,KAAA,CAAKI,QAAQ,CAAC,CAAEK,KAAK,CAAED,CAAC,CAACG,MAAM,CAACF,KAAM,CAAC,CAAC,CAC1C,CAAC,CAAAT,KAAA,CAEDY,QAAQ,CAAG,SAACJ,CAAC,CAAK,CAChB,GAAM,CAAAC,KAAK,CAAGT,KAAA,CAAKM,KAAK,CAACG,KAAK,CAACI,IAAI,CAAC,CAAC,CACrC,GAAIJ,KAAK,EAAIT,KAAA,CAAKD,KAAK,CAACU,KAAK,CAAE,CAC7BT,KAAA,CAAKD,KAAK,CAACe,WAAW,CAACd,KAAA,CAAKD,KAAK,CAACgB,OAAO,CAAEN,KAAK,CAAC,CACnD,CACAT,KAAA,CAAKG,UAAU,CAAC,CAAC,CACnB,CAAC,CAlCCH,KAAA,CAAKM,KAAK,CAAG,CACXD,WAAW,CAAE,KAAK,CAClBI,KAAK,CAAET,KAAA,CAAKD,KAAK,CAACU,KACpB,CAAC,CAAC,OAAAT,KAAA,CACJ,CAACgB,YAAA,CAAAtB,eAAA,GAAAuB,GAAA,oCAAAR,KAAA,CAED,SAAAS,iCAAiCC,SAAS,CAAE,CAC1C,IAAI,CAACf,QAAQ,CAAC,CAACK,KAAK,CAAEU,SAAS,CAACV,KAAK,CAAC,CAAC,CACzC,CAAC,GAAAQ,GAAA,UAAAR,KAAA,CA4BD,SAAAW,OAAA,CAAS,CACP,IAAAC,WAAA,CAA+B,IAAI,CAACf,KAAK,CAAjCD,WAAW,CAAAgB,WAAA,CAAXhB,WAAW,CAAEI,KAAK,CAAAY,WAAA,CAALZ,KAAK,CAC1B,IAAAa,WAAA,CAA4C,IAAI,CAACvB,KAAK,CAA9CwB,OAAO,CAAAD,WAAA,CAAPC,OAAO,CAAEC,WAAW,CAAAF,WAAA,CAAXE,WAAW,CAAEC,SAAS,CAAAH,WAAA,CAATG,SAAS,CACvC,mBACElC,IAAA,CAACF,eAAe,EACdmC,WAAW,CAAEA,WAAY,CACzBD,OAAO,CAAEA,OAAQ,CACjBG,WAAW,cACTnC,IAAA,CAACL,KAAK,EAACyC,IAAI,CAAEF,SAAS,EAAI,MAAO,CAACG,SAAS,CAAEH,SAAS,EAAI,UAAU,CAAG,sBAAsB,CAAG,EAAG,CAACI,QAAQ,CAAE,IAAI,CAACnB,aAAc,CAACoB,OAAO,CAAE,IAAI,CAAC3B,UAAW,CAAC4B,MAAM,CAAE,IAAI,CAACxB,QAAS,CAACE,KAAK,CAAEA,KAAM,CAAE,CACnM,CACDuB,YAAY,CACV3B,WAAW,cACTZ,KAAA,CAACR,QAAQ,EAAAgD,QAAA,eACP1C,IAAA,CAACJ,MAAM,EAACyC,SAAS,CAAC,gEAAgE,CAACM,WAAW,CAAE,IAAI,CAACtB,QAAS,CAACuB,KAAK,CAAE/C,OAAO,CAAC,QAAQ,CAAE,CAAS,CAAC,cAClJG,IAAA,CAACJ,MAAM,EAACyC,SAAS,CAAC,mEAAmE,CAACO,KAAK,CAAE/C,OAAO,CAAC,QAAQ,CAAE,CAAS,CAAC,EACjH,CAAC,CAAG,IACjB,CACF,CAAC,CAEN,CAAC,WAAAM,eAAA,GA3D2BV,SAAS,EAgEvC,cAAe,CAAAU,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}