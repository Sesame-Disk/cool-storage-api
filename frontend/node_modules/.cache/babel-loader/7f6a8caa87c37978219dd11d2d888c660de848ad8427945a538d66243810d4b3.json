{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar getEventTransfer = function getEventTransfer(data) {\n  var fragmentString = data.getData('application/x-slate-fragment');\n  var textContent = data.getData('text') || data.getData('text/plain') || '';\n  var fragmentContent = fragmentString ? JSON.parse(decodeURIComponent(window.atob(fragmentString))) : null;\n  var htmlContent = data.getData('text/html') || '';\n  var hasRtfContent = data.types.includes('text/rtf');\n\n  /**\n   *  compat old version slate: if clipboard content is old version slate fragment\n   *  return  html content\n   */\n  var files = data.files;\n  var type = 'text';\n  // Paste rtf format content which copied from PPT or Word or Excel as text to document\n  if (hasRtfContent) {\n    type = 'text';\n  } else if (files.length > 0) {\n    type = 'file';\n  } else if (fragmentContent && Array.isArray(fragmentContent)) {\n    type = 'fragment';\n  } else if (htmlContent) {\n    type = 'html';\n  }\n  return {\n    text: textContent,\n    html: htmlContent,\n    fragment: fragmentContent,\n    type: type,\n    files: files\n  };\n};\nvar _default = exports.default = getEventTransfer;","map":{"version":3,"names":["Object","defineProperty","exports","value","default","getEventTransfer","data","fragmentString","getData","textContent","fragmentContent","JSON","parse","decodeURIComponent","window","atob","htmlContent","hasRtfContent","types","includes","files","type","length","Array","isArray","text","html","fragment","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/containers/custom/get-event-transfer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst getEventTransfer = data => {\n  const fragmentString = data.getData('application/x-slate-fragment');\n  const textContent = data.getData('text') || data.getData('text/plain') || '';\n  let fragmentContent = fragmentString ? JSON.parse(decodeURIComponent(window.atob(fragmentString))) : null;\n  const htmlContent = data.getData('text/html') || '';\n  const hasRtfContent = data.types.includes('text/rtf');\n\n  /**\n   *  compat old version slate: if clipboard content is old version slate fragment\n   *  return  html content\n   */\n  const files = data.files;\n  let type = 'text';\n  // Paste rtf format content which copied from PPT or Word or Excel as text to document\n  if (hasRtfContent) {\n    type = 'text';\n  } else if (files.length > 0) {\n    type = 'file';\n  } else if (fragmentContent && Array.isArray(fragmentContent)) {\n    type = 'fragment';\n  } else if (htmlContent) {\n    type = 'html';\n  }\n  return {\n    text: textContent,\n    html: htmlContent,\n    fragment: fragmentContent,\n    type,\n    files: files\n  };\n};\nvar _default = exports.default = getEventTransfer;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,OAAO,GAAG,KAAK,CAAC;AACxB,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAGC,IAAI,EAAI;EAC/B,IAAMC,cAAc,GAAGD,IAAI,CAACE,OAAO,CAAC,8BAA8B,CAAC;EACnE,IAAMC,WAAW,GAAGH,IAAI,CAACE,OAAO,CAAC,MAAM,CAAC,IAAIF,IAAI,CAACE,OAAO,CAAC,YAAY,CAAC,IAAI,EAAE;EAC5E,IAAIE,eAAe,GAAGH,cAAc,GAAGI,IAAI,CAACC,KAAK,CAACC,kBAAkB,CAACC,MAAM,CAACC,IAAI,CAACR,cAAc,CAAC,CAAC,CAAC,GAAG,IAAI;EACzG,IAAMS,WAAW,GAAGV,IAAI,CAACE,OAAO,CAAC,WAAW,CAAC,IAAI,EAAE;EACnD,IAAMS,aAAa,GAAGX,IAAI,CAACY,KAAK,CAACC,QAAQ,CAAC,UAAU,CAAC;;EAErD;AACF;AACA;AACA;EACE,IAAMC,KAAK,GAAGd,IAAI,CAACc,KAAK;EACxB,IAAIC,IAAI,GAAG,MAAM;EACjB;EACA,IAAIJ,aAAa,EAAE;IACjBI,IAAI,GAAG,MAAM;EACf,CAAC,MAAM,IAAID,KAAK,CAACE,MAAM,GAAG,CAAC,EAAE;IAC3BD,IAAI,GAAG,MAAM;EACf,CAAC,MAAM,IAAIX,eAAe,IAAIa,KAAK,CAACC,OAAO,CAACd,eAAe,CAAC,EAAE;IAC5DW,IAAI,GAAG,UAAU;EACnB,CAAC,MAAM,IAAIL,WAAW,EAAE;IACtBK,IAAI,GAAG,MAAM;EACf;EACA,OAAO;IACLI,IAAI,EAAEhB,WAAW;IACjBiB,IAAI,EAAEV,WAAW;IACjBW,QAAQ,EAAEjB,eAAe;IACzBW,IAAI,EAAJA,IAAI;IACJD,KAAK,EAAEA;EACT,CAAC;AACH,CAAC;AACD,IAAIQ,QAAQ,GAAG1B,OAAO,CAACE,OAAO,GAAGC,gBAAgB"},"metadata":{},"sourceType":"script","externalDependencies":[]}