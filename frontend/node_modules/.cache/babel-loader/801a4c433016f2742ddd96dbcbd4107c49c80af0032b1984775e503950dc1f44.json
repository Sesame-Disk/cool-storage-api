{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport { Transforms, Path, Editor } from '@seafile/slate';\nimport { ORDERED_LIST, UNORDERED_LIST } from '../../../constants';\nimport { match } from '../../../core';\nexport var normalizeNestedList = function normalizeNestedList(editor) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    nestedListItem = _ref.nestedListItem;\n  var _nestedListItem = _slicedToArray(nestedListItem, 2),\n    path = _nestedListItem[1];\n  var parentNodeEntry = Editor.parent(editor, path);\n  var hasParentList = parentNodeEntry && match(parentNodeEntry[0], [], {\n    type: [ORDERED_LIST, UNORDERED_LIST]\n  });\n  if (!hasParentList) return false;\n  var previousListItemPath = null;\n  try {\n    previousListItemPath = Path.previous(path);\n  } catch (e) {\n    return false;\n  }\n  var previousSiblingItem = Editor.node(editor, previousListItemPath);\n  if (previousSiblingItem) {\n    var _previousSiblingItem = _slicedToArray(previousSiblingItem, 2),\n      previousPath = _previousSiblingItem[1];\n    var newPath = previousPath.concat([1]);\n    Transforms.moveNodes(editor, {\n      at: path,\n      to: newPath\n    });\n    return true;\n  }\n  return false;\n};","map":{"version":3,"names":["Transforms","Path","Editor","ORDERED_LIST","UNORDERED_LIST","match","normalizeNestedList","editor","_ref","arguments","length","undefined","nestedListItem","_nestedListItem","_slicedToArray","path","parentNodeEntry","parent","hasParentList","type","previousListItemPath","previous","e","previousSiblingItem","node","_previousSiblingItem","previousPath","newPath","concat","moveNodes","at","to"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/list/transforms/normalize-nested-list.js"],"sourcesContent":["import { Transforms, Path, Editor } from '@seafile/slate';\nimport { ORDERED_LIST, UNORDERED_LIST } from '../../../constants';\nimport { match } from '../../../core';\nexport const normalizeNestedList = function (editor) {\n  let {\n    nestedListItem\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const [, path] = nestedListItem;\n  const parentNodeEntry = Editor.parent(editor, path);\n  const hasParentList = parentNodeEntry && match(parentNodeEntry[0], [], {\n    type: [ORDERED_LIST, UNORDERED_LIST]\n  });\n  if (!hasParentList) return false;\n  let previousListItemPath = null;\n  try {\n    previousListItemPath = Path.previous(path);\n  } catch (e) {\n    return false;\n  }\n  const previousSiblingItem = Editor.node(editor, previousListItemPath);\n  if (previousSiblingItem) {\n    const [, previousPath] = previousSiblingItem;\n    const newPath = previousPath.concat([1]);\n    Transforms.moveNodes(editor, {\n      at: path,\n      to: newPath\n    });\n    return true;\n  }\n  return false;\n};"],"mappings":";AAAA,SAASA,UAAU,EAAEC,IAAI,EAAEC,MAAM,QAAQ,gBAAgB;AACzD,SAASC,YAAY,EAAEC,cAAc,QAAQ,oBAAoB;AACjE,SAASC,KAAK,QAAQ,eAAe;AACrC,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAaC,MAAM,EAAE;EACnD,IAAAC,IAAA,GAEIC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IADxEG,cAAc,GAAAJ,IAAA,CAAdI,cAAc;EAEhB,IAAAC,eAAA,GAAAC,cAAA,CAAiBF,cAAc;IAAtBG,IAAI,GAAAF,eAAA;EACb,IAAMG,eAAe,GAAGd,MAAM,CAACe,MAAM,CAACV,MAAM,EAAEQ,IAAI,CAAC;EACnD,IAAMG,aAAa,GAAGF,eAAe,IAAIX,KAAK,CAACW,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE;IACrEG,IAAI,EAAE,CAAChB,YAAY,EAAEC,cAAc;EACrC,CAAC,CAAC;EACF,IAAI,CAACc,aAAa,EAAE,OAAO,KAAK;EAChC,IAAIE,oBAAoB,GAAG,IAAI;EAC/B,IAAI;IACFA,oBAAoB,GAAGnB,IAAI,CAACoB,QAAQ,CAACN,IAAI,CAAC;EAC5C,CAAC,CAAC,OAAOO,CAAC,EAAE;IACV,OAAO,KAAK;EACd;EACA,IAAMC,mBAAmB,GAAGrB,MAAM,CAACsB,IAAI,CAACjB,MAAM,EAAEa,oBAAoB,CAAC;EACrE,IAAIG,mBAAmB,EAAE;IACvB,IAAAE,oBAAA,GAAAX,cAAA,CAAyBS,mBAAmB;MAAnCG,YAAY,GAAAD,oBAAA;IACrB,IAAME,OAAO,GAAGD,YAAY,CAACE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACxC5B,UAAU,CAAC6B,SAAS,CAACtB,MAAM,EAAE;MAC3BuB,EAAE,EAAEf,IAAI;MACRgB,EAAE,EAAEJ;IACN,CAAC,CAAC;IACF,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}