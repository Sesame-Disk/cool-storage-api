{"ast":null,"code":"import React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParticipantsContext } from '../../hooks/use-participants';\nimport { eventStopPropagation } from '../../../utils/mouse-event';\nvar SearchedCollaborators = function SearchedCollaborators(_ref) {\n  var collaborators = _ref.collaborators;\n  var _useParticipantsConte = useParticipantsContext(),\n    participants = _useParticipantsConte.participants,\n    deleteParticipant = _useParticipantsConte.deleteParticipant,\n    addParticipants = _useParticipantsConte.addParticipants;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var onSelectParticipant = useCallback(function (event, participant, isSelected) {\n    eventStopPropagation(event);\n    if (isSelected) {\n      deleteParticipant(participant.username);\n      return;\n    }\n    addParticipants(participant.username);\n  }, [deleteParticipant, addParticipants]);\n  if (!Array.isArray(collaborators) || collaborators.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sdoc-searched-collaborators sdoc-searched-collaborators-empty-tip\"\n    }, t('No_collaborators_available'));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-searched-collaborators\"\n  }, collaborators.map(function (collaborator) {\n    var name = collaborator.name,\n      username = collaborator.username,\n      avatar_url = collaborator.avatar_url;\n    var isSelected = participants.find(function (participant) {\n      return participant.username === username;\n    });\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: username,\n      className: \"sdoc-searched-collaborator\",\n      onClick: function onClick(event) {\n        return onSelectParticipant(event, collaborator, isSelected);\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: avatar_url,\n      alt: \"\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sdoc-selected-participant-name\"\n    }, name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sdoc-searched-collaborator-operation\"\n    }, isSelected && /*#__PURE__*/React.createElement(\"i\", {\n      className: \"sdocfont sdoc-check-mark\"\n    })));\n  }));\n};\nexport default SearchedCollaborators;","map":{"version":3,"names":["React","useCallback","useTranslation","useParticipantsContext","eventStopPropagation","SearchedCollaborators","_ref","collaborators","_useParticipantsConte","participants","deleteParticipant","addParticipants","_useTranslation","t","onSelectParticipant","event","participant","isSelected","username","Array","isArray","length","createElement","className","map","collaborator","name","avatar_url","find","key","onClick","src","alt"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/comment/components/comment-participants-editor/searched-collaborators.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { useParticipantsContext } from '../../hooks/use-participants';\nimport { eventStopPropagation } from '../../../utils/mouse-event';\nconst SearchedCollaborators = _ref => {\n  let {\n    collaborators\n  } = _ref;\n  const {\n    participants,\n    deleteParticipant,\n    addParticipants\n  } = useParticipantsContext();\n  const {\n    t\n  } = useTranslation();\n  const onSelectParticipant = useCallback((event, participant, isSelected) => {\n    eventStopPropagation(event);\n    if (isSelected) {\n      deleteParticipant(participant.username);\n      return;\n    }\n    addParticipants(participant.username);\n  }, [deleteParticipant, addParticipants]);\n  if (!Array.isArray(collaborators) || collaborators.length === 0) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sdoc-searched-collaborators sdoc-searched-collaborators-empty-tip\"\n    }, t('No_collaborators_available'));\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-searched-collaborators\"\n  }, collaborators.map(collaborator => {\n    const {\n      name,\n      username,\n      avatar_url\n    } = collaborator;\n    const isSelected = participants.find(participant => participant.username === username);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: username,\n      className: \"sdoc-searched-collaborator\",\n      onClick: event => onSelectParticipant(event, collaborator, isSelected)\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: avatar_url,\n      alt: \"\"\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sdoc-selected-participant-name\"\n    }, name), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"sdoc-searched-collaborator-operation\"\n    }, isSelected && /*#__PURE__*/React.createElement(\"i\", {\n      className: \"sdocfont sdoc-check-mark\"\n    })));\n  }));\n};\nexport default SearchedCollaborators;"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,sBAAsB,QAAQ,8BAA8B;AACrE,SAASC,oBAAoB,QAAQ,4BAA4B;AACjE,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAGC,IAAI,EAAI;EACpC,IACEC,aAAa,GACXD,IAAI,CADNC,aAAa;EAEf,IAAAC,qBAAA,GAIIL,sBAAsB,CAAC,CAAC;IAH1BM,YAAY,GAAAD,qBAAA,CAAZC,YAAY;IACZC,iBAAiB,GAAAF,qBAAA,CAAjBE,iBAAiB;IACjBC,eAAe,GAAAH,qBAAA,CAAfG,eAAe;EAEjB,IAAAC,eAAA,GAEIV,cAAc,CAAC,CAAC;IADlBW,CAAC,GAAAD,eAAA,CAADC,CAAC;EAEH,IAAMC,mBAAmB,GAAGb,WAAW,CAAC,UAACc,KAAK,EAAEC,WAAW,EAAEC,UAAU,EAAK;IAC1Eb,oBAAoB,CAACW,KAAK,CAAC;IAC3B,IAAIE,UAAU,EAAE;MACdP,iBAAiB,CAACM,WAAW,CAACE,QAAQ,CAAC;MACvC;IACF;IACAP,eAAe,CAACK,WAAW,CAACE,QAAQ,CAAC;EACvC,CAAC,EAAE,CAACR,iBAAiB,EAAEC,eAAe,CAAC,CAAC;EACxC,IAAI,CAACQ,KAAK,CAACC,OAAO,CAACb,aAAa,CAAC,IAAIA,aAAa,CAACc,MAAM,KAAK,CAAC,EAAE;IAC/D,OAAO,aAAarB,KAAK,CAACsB,aAAa,CAAC,KAAK,EAAE;MAC7CC,SAAS,EAAE;IACb,CAAC,EAAEV,CAAC,CAAC,4BAA4B,CAAC,CAAC;EACrC;EACA,OAAO,aAAab,KAAK,CAACsB,aAAa,CAAC,KAAK,EAAE;IAC7CC,SAAS,EAAE;EACb,CAAC,EAAEhB,aAAa,CAACiB,GAAG,CAAC,UAAAC,YAAY,EAAI;IACnC,IACEC,IAAI,GAGFD,YAAY,CAHdC,IAAI;MACJR,QAAQ,GAENO,YAAY,CAFdP,QAAQ;MACRS,UAAU,GACRF,YAAY,CADdE,UAAU;IAEZ,IAAMV,UAAU,GAAGR,YAAY,CAACmB,IAAI,CAAC,UAAAZ,WAAW;MAAA,OAAIA,WAAW,CAACE,QAAQ,KAAKA,QAAQ;IAAA,EAAC;IACtF,OAAO,aAAalB,KAAK,CAACsB,aAAa,CAAC,KAAK,EAAE;MAC7CO,GAAG,EAAEX,QAAQ;MACbK,SAAS,EAAE,4BAA4B;MACvCO,OAAO,EAAE,SAAAA,QAAAf,KAAK;QAAA,OAAID,mBAAmB,CAACC,KAAK,EAAEU,YAAY,EAAER,UAAU,CAAC;MAAA;IACxE,CAAC,EAAE,aAAajB,KAAK,CAACsB,aAAa,CAAC,KAAK,EAAE;MACzCS,GAAG,EAAEJ,UAAU;MACfK,GAAG,EAAE;IACP,CAAC,CAAC,EAAE,aAAahC,KAAK,CAACsB,aAAa,CAAC,KAAK,EAAE;MAC1CC,SAAS,EAAE;IACb,CAAC,EAAEG,IAAI,CAAC,EAAE,aAAa1B,KAAK,CAACsB,aAAa,CAAC,KAAK,EAAE;MAChDC,SAAS,EAAE;IACb,CAAC,EAAEN,UAAU,IAAI,aAAajB,KAAK,CAACsB,aAAa,CAAC,GAAG,EAAE;MACrDC,SAAS,EAAE;IACb,CAAC,CAAC,CAAC,CAAC;EACN,CAAC,CAAC,CAAC;AACL,CAAC;AACD,eAAelB,qBAAqB"},"metadata":{},"sourceType":"module","externalDependencies":[]}