{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Link}from'@gatsbyjs/reach-router';import{seafileAPI}from'../../utils/seafile-api';import{gettext,siteRoot}from'../../utils/constants';import{Utils}from'../../utils/utils';import Loading from'../../components/loading';import OrgAdminGroupNav from'../../components/org-admin-group-nav';import MainPanelTopbar from'./main-panel-topbar';import'../../css/org-admin-user.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var orgID=window.org.pageOptions.orgID;var OrgGroupInfo=/*#__PURE__*/function(_Component){_inherits(OrgGroupInfo,_Component);var _super=_createSuper(OrgGroupInfo);function OrgGroupInfo(props){var _this;_classCallCheck(this,OrgGroupInfo);_this=_super.call(this,props);_this.state={loading:true,errorMsg:''};return _this;}_createClass(OrgGroupInfo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;seafileAPI.orgAdminGetGroup(orgID,this.props.groupID).then(function(res){_this2.setState(Object.assign({loading:false},res.data));}).catch(function(error){_this2.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(OrgAdminGroupNav,{groupID:this.props.groupID,currentItem:\"info\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{data:this.state})})]})})]});}}]);return OrgGroupInfo;}(Component);var Content=/*#__PURE__*/function(_Component2){_inherits(Content,_Component2);var _super2=_createSuper(Content);function Content(){_classCallCheck(this,Content);return _super2.apply(this,arguments);}_createClass(Content,[{key:\"render\",value:function render(){var _this$props$data=this.props.data,loading=_this$props$data.loading,errorMsg=_this$props$data.errorMsg,group_name=_this$props$data.group_name,creator_email=_this$props$data.creator_email,creator_name=_this$props$data.creator_name;if(loading){return/*#__PURE__*/_jsx(Loading,{});}if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center mt-2\",children:errorMsg});}return/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"dt\",{children:gettext('Name')}),/*#__PURE__*/_jsx(\"dd\",{children:group_name}),/*#__PURE__*/_jsx(\"dt\",{children:gettext('Creator')}),/*#__PURE__*/_jsx(\"dd\",{children:/*#__PURE__*/_jsx(Link,{to:\"\".concat(siteRoot,\"org/useradmin/info/\").concat(encodeURIComponent(creator_email),\"/\"),children:creator_name})})]});}}]);return Content;}(Component);export default OrgGroupInfo;","map":{"version":3,"names":["React","Component","Fragment","Link","seafileAPI","gettext","siteRoot","Utils","Loading","OrgAdminGroupNav","MainPanelTopbar","jsx","_jsx","jsxs","_jsxs","orgID","window","org","pageOptions","OrgGroupInfo","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","loading","errorMsg","_createClass","key","value","componentDidMount","_this2","orgAdminGetGroup","groupID","then","res","setState","Object","assign","data","catch","error","getErrorMsg","render","children","className","currentItem","Content","_Component2","_super2","apply","arguments","_this$props$data","group_name","creator_email","creator_name","to","concat","encodeURIComponent"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/org-admin/org-group-info.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Link } from '@gatsbyjs/reach-router';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../../components/loading';\nimport OrgAdminGroupNav from '../../components/org-admin-group-nav';\nimport MainPanelTopbar from './main-panel-topbar';\n\nimport '../../css/org-admin-user.css';\n\nconst { orgID } = window.org.pageOptions;\n\nclass OrgGroupInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: ''\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.orgAdminGetGroup(orgID, this.props.groupID).then((res) => {\n      this.setState(Object.assign({\n        loading: false\n      }, res.data));\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <OrgAdminGroupNav groupID={this.props.groupID} currentItem='info' />\n            <div className=\"cur-view-content\">\n              <Content\n                data={this.state}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nclass Content extends Component {\n  render() {\n    const {\n      loading, errorMsg,\n      group_name, creator_email, creator_name\n    } = this.props.data;\n\n    if (loading) {\n      return <Loading />;\n    }\n    if (errorMsg) {\n      return <p className=\"error text-center mt-2\">{errorMsg}</p>;\n    }\n\n    return (\n      <dl>\n        <dt>{gettext('Name')}</dt>\n        <dd>{group_name}</dd>\n\n        <dt>{gettext('Creator')}</dt>\n        <dd>\n          <Link to={`${siteRoot}org/useradmin/info/${encodeURIComponent(creator_email)}/`}>{creator_name}</Link>\n        </dd>\n      </dl>\n    );\n  }\n}\n\nContent.propTypes = {\n  data: PropTypes.object.isRequired,\n};\n\nOrgGroupInfo.propTypes = {\n  groupID: PropTypes.string,\n};\n\nexport default OrgGroupInfo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}