{"ast":null,"code":"var isLetterOrNumberReg=function isLetterOrNumberReg(str){return /^[0-9a-zA-Z]+$/.test(str);};var isAllChineseStr=function isAllChineseStr(str){return /^[\\u4E00-\\u9FA5]+$/.test(str);};var splitStringByNumber=function splitStringByNumber(str){var sortByNumericalSize=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var strArr=[];var REG_STRING_NUMBER_PARTS=/\\d+|\\D+/g;var arr=str.match(REG_STRING_NUMBER_PARTS);for(var i=0;i<arr.length;i++){var splitStr=arr[i];if(isNaN(splitStr)){strArr=strArr.concat(splitStr.split(''));}else{// Whether to split numbers\nif(!sortByNumericalSize){strArr=strArr.concat(splitStr.split(''));}else{strArr.push(splitStr);}}}return strArr;};var compareTwoString=function compareTwoString(a,b){var sortByNumericalSize=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;// all the string is number or letter\nif(isLetterOrNumberReg(a)&&isLetterOrNumberReg(b)){return a.localeCompare(b,'zh-Hans-CN',{numeric:true});}// all the string is chinese string\nif(isAllChineseStr(a)&&isAllChineseStr(b)){return a.localeCompare(b,'zh-Hans-CN',{numeric:true});}var arrA=splitStringByNumber(a,sortByNumericalSize);var arrB=splitStringByNumber(b,sortByNumericalSize);var result=0;var length=Math.min(arrA.length,arrB.length);for(var i=0;i<length;i++){var charA=arrA[i];var charB=arrB[i];// charB is chinese\nif(!isAllChineseStr(charA)&&isAllChineseStr(charB)){return-1;}// charA is chinese\nif(isAllChineseStr(charA)&&!isAllChineseStr(charB)){return 1;}// charA and charB all chinese\nif(isAllChineseStr(charA)&&isAllChineseStr(charB)){result=charA.localeCompare(charB,'zh-Hans-CN');}else{// charA and charB all not chinese\nresult=charA.localeCompare(charB,'zh-Hans-CN',{numeric:true});}if(result!==0){return result;}}// result === 0;\nif(arrA.length>arrB.length)return 1;if(arrA.length<arrB.length)return-1;return 0;};export{compareTwoString};","map":{"version":3,"names":["isLetterOrNumberReg","str","test","isAllChineseStr","splitStringByNumber","sortByNumericalSize","arguments","length","undefined","strArr","REG_STRING_NUMBER_PARTS","arr","match","i","splitStr","isNaN","concat","split","push","compareTwoString","a","b","localeCompare","numeric","arrA","arrB","result","Math","min","charA","charB"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/utils/compare-two-string.js"],"sourcesContent":["const isLetterOrNumberReg = (str) => {\n  return /^[0-9a-zA-Z]+$/.test(str);\n};\n\nconst isAllChineseStr = (str) => {\n  return /^[\\u4E00-\\u9FA5]+$/.test(str);\n};\n\nconst splitStringByNumber = (str, sortByNumericalSize = false) => {\n  let strArr = [];\n  const REG_STRING_NUMBER_PARTS = /\\d+|\\D+/g;\n  const arr = str.match(REG_STRING_NUMBER_PARTS);\n  for (let i = 0; i < arr.length; i++) {\n    const splitStr = arr[i];\n    if (isNaN(splitStr)) {\n      strArr = strArr.concat(splitStr.split(''));\n    } else {\n      // Whether to split numbers\n      if (!sortByNumericalSize) {\n        strArr = strArr.concat(splitStr.split(''));\n      } else {\n        strArr.push(splitStr);\n      }\n    }\n  }\n  return strArr;\n};\n\nconst compareTwoString = (a, b, sortByNumericalSize = true) => {\n  // all the string is number or letter\n  if (isLetterOrNumberReg(a) && isLetterOrNumberReg(b)) {\n    return a.localeCompare(b, 'zh-Hans-CN', { numeric: true });\n  }\n\n  // all the string is chinese string\n  if (isAllChineseStr(a) && isAllChineseStr(b)) {\n    return a.localeCompare(b, 'zh-Hans-CN', { numeric: true });\n  }\n\n  const arrA = splitStringByNumber(a, sortByNumericalSize);\n  const arrB = splitStringByNumber(b, sortByNumericalSize);\n\n  let result = 0;\n  const length = Math.min(arrA.length, arrB.length);\n  for (let i = 0; i < length; i++) {\n    const charA = arrA[i];\n    const charB = arrB[i];\n    // charB is chinese\n    if (!isAllChineseStr(charA) && isAllChineseStr(charB)) {\n      return -1;\n    }\n\n    // charA is chinese\n    if (isAllChineseStr(charA) && !isAllChineseStr(charB)) {\n      return 1;\n    }\n\n    // charA and charB all chinese\n    if (isAllChineseStr(charA) && isAllChineseStr(charB)) {\n      result = charA.localeCompare(charB, 'zh-Hans-CN');\n    } else {\n      // charA and charB all not chinese\n      result = charA.localeCompare(charB, 'zh-Hans-CN', { numeric: true });\n    }\n\n    if (result !== 0) {\n      return result;\n    }\n  }\n\n  // result === 0;\n  if (arrA.length > arrB.length) return 1;\n  if (arrA.length < arrB.length) return -1;\n  return 0;\n};\n\nexport {\n  compareTwoString\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}