{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import{gettext}from'../../utils/constants';import{Modal,ModalHeader,ModalBody,Button,Input}from'reactstrap';import RepoAPITokenPermissionEditor from'../select-editor/repo-api-token-permission-editor';import{seafileAPI}from'../../utils/seafile-api';import{Utils}from'../../utils/utils';import toaster from'../toast';import copy from'copy-to-clipboard';import Loading from'../loading';import OpIcon from'../op-icon';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var APITokenItem=/*#__PURE__*/function(_React$Component){_inherits(APITokenItem,_React$Component);var _super=_createSuper(APITokenItem);function APITokenItem(props){var _this;_classCallCheck(this,APITokenItem);_this=_super.call(this,props);_this.onMouseEnter=function(){_this.setState({isOperationShow:true});};_this.onMouseLeave=function(){_this.setState({isOperationShow:false});};_this.onDeleteAPIToken=function(){_this.props.deleteAPIToken(_this.props.item.app_name);};_this.onUpdateAPIToken=function(permission){_this.props.updateAPIToken(_this.props.item.app_name,permission);};_this.onCopyAPIToken=function(){var api_token=_this.props.item.api_token;copy(api_token);toaster.success(gettext('API token is copied to the clipboard.'));};_this.state={isOperationShow:false};return _this;}_createClass(APITokenItem,[{key:\"render\",value:function render(){var item=this.props.item;return/*#__PURE__*/_jsxs(\"tr\",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,tabIndex:\"0\",onFocus:this.onMouseEnter,children:[/*#__PURE__*/_jsx(\"td\",{className:\"name\",children:item.app_name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(RepoAPITokenPermissionEditor,{isTextMode:true,isEditIconShow:this.state.isOperationShow,currentPermission:item.permission,onPermissionChanged:this.onUpdateAPIToken})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"span\",{children:item.api_token}),this.state.isOperationShow&&/*#__PURE__*/_jsx(OpIcon,{className:\"far fa-copy action-icon\",op:this.onCopyAPIToken,title:gettext('Copy')})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(OpIcon,{className:\"sf2-icon-x3 action-icon \".concat(this.state.isOperationShow?'':'hide'),op:this.onDeleteAPIToken,title:gettext('Delete')})})]});}}]);return APITokenItem;}(React.Component);var RepoAPITokenDialog=/*#__PURE__*/function(_React$Component2){_inherits(RepoAPITokenDialog,_React$Component2);var _super2=_createSuper(RepoAPITokenDialog);function RepoAPITokenDialog(props){var _this2;_classCallCheck(this,RepoAPITokenDialog);_this2=_super2.call(this,props);_this2.listAPITokens=function(){seafileAPI.listRepoAPITokens(_this2.repo.repo_id).then(function(res){_this2.setState({apiTokenList:res.data.repo_api_tokens,loading:false});}).catch(function(error){if(error.response.status===403){_this2.setState({errorMsg:gettext('Permission denied')});}else{_this2.handleError(error);}});};_this2.onInputChange=function(e){var appName=e.target.value;_this2.setState({appName:appName});};_this2.onKeyDown=function(e){if(e.keyCode===13){e.preventDefault();_this2.addAPIToken();}};_this2.setPermission=function(permission){_this2.setState({permission:permission});};_this2.addAPIToken=function(){if(!_this2.state.appName){return;}_this2.setState({isSubmitBtnActive:false});var _this2$state=_this2.state,appName=_this2$state.appName,permission=_this2$state.permission,apiTokenList=_this2$state.apiTokenList;seafileAPI.addRepoAPIToken(_this2.repo.repo_id,appName,permission).then(function(res){apiTokenList.push(res.data);_this2.setState({apiTokenList:apiTokenList,isSubmitBtnActive:true});}).catch(function(error){_this2.handleError(error);_this2.setState({isSubmitBtnActive:true});});};_this2.deleteAPIToken=function(appName){seafileAPI.deleteRepoAPIToken(_this2.repo.repo_id,appName).then(function(res){var apiTokenList=_this2.state.apiTokenList.filter(function(item){return item.app_name!==appName;});_this2.setState({apiTokenList:apiTokenList});}).catch(function(error){_this2.handleError(error);});};_this2.updateAPIToken=function(appName,permission){seafileAPI.updateRepoAPIToken(_this2.repo.repo_id,appName,permission).then(function(res){var apiTokenList=_this2.state.apiTokenList.filter(function(item){if(item.app_name===appName){item.permission=permission;}return item;});_this2.setState({apiTokenList:apiTokenList});}).catch(function(error){_this2.handleError(error);});};_this2.handleError=function(e){if(e.response){toaster.danger(e.response.data.error_msg||e.response.data.detail||gettext('Error'),{duration:3});}else{toaster.danger(gettext('Please check the network.'),{duration:3});}};_this2.renderContent=function(){var renderAPITokenList=_this2.state.apiTokenList.map(function(item,index){return/*#__PURE__*/_jsx(APITokenItem,{item:item,deleteAPIToken:_this2.deleteAPIToken,updateAPIToken:_this2.updateAPIToken},index);});var thead=/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('App Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Permission')}),/*#__PURE__*/_jsx(\"th\",{width:\"48%\",children:\"API Token\"}),/*#__PURE__*/_jsx(\"th\",{width:\"12%\"})]})});return/*#__PURE__*/_jsxs(Fragment,{children:[_this2.state.errorMsg&&/*#__PURE__*/_jsx(\"p\",{className:\"error text-center\",children:_this2.state.errorMsg}),!_this2.state.errorMsg&&/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"w-xs-250\",children:[thead,/*#__PURE__*/_jsx(\"tbody\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"appName\",value:_this2.state.appName,onChange:_this2.onInputChange,onKeyDown:_this2.onKeyDown})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(RepoAPITokenPermissionEditor,{isTextMode:false,isEditIconShow:false,currentPermission:_this2.state.permission,onPermissionChanged:_this2.setPermission})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{className:\"text-secondary\",children:\"--\"})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:_this2.addAPIToken,disabled:!_this2.state.isSubmitBtnActive,children:gettext('Submit')})})]})})]}),/*#__PURE__*/_jsx(\"div\",{style:{minHeight:'10rem',maxHeight:'18rem'},children:_this2.state.apiTokenList.length!==0&&/*#__PURE__*/_jsxs(\"table\",{className:\"table-thead-hidden w-xs-250\",children:[thead,/*#__PURE__*/_jsx(\"tbody\",{children:renderAPITokenList})]})}),_this2.state.loading&&/*#__PURE__*/_jsx(Loading,{})]})]});};_this2.state={apiTokenList:[],permission:'rw',appName:'',errorMsg:'',loading:true,isSubmitBtnActive:true};_this2.repo=_this2.props.repo;return _this2;}_createClass(RepoAPITokenDialog,[{key:\"componentDidMount\",value:function componentDidMount(){this.listAPITokens();}},{key:\"render\",value:function render(){var repo=this.repo;var itemName='<span class=\"op-target text-truncate mr-1\">'+Utils.HTMLescape(repo.repo_name)+'</span>';var title=gettext('{placeholder} API Token').replace('{placeholder}',itemName);return/*#__PURE__*/_jsxs(Modal,{isOpen:true,style:{maxWidth:'800px'},toggle:this.props.onRepoAPITokenToggle,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.props.onRepoAPITokenToggle,children:/*#__PURE__*/_jsx(\"span\",{dangerouslySetInnerHTML:{__html:title},className:\"d-flex mw-100\"})}),/*#__PURE__*/_jsx(ModalBody,{children:/*#__PURE__*/_jsx(\"div\",{className:\"o-auto\",children:this.renderContent()})})]});}}]);return RepoAPITokenDialog;}(React.Component);export default RepoAPITokenDialog;","map":{"version":3,"names":["React","Fragment","gettext","Modal","ModalHeader","ModalBody","Button","Input","RepoAPITokenPermissionEditor","seafileAPI","Utils","toaster","copy","Loading","OpIcon","jsx","_jsx","jsxs","_jsxs","APITokenItem","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onMouseEnter","setState","isOperationShow","onMouseLeave","onDeleteAPIToken","deleteAPIToken","item","app_name","onUpdateAPIToken","permission","updateAPIToken","onCopyAPIToken","api_token","success","state","_createClass","key","value","render","tabIndex","onFocus","children","className","isTextMode","isEditIconShow","currentPermission","onPermissionChanged","op","title","concat","Component","RepoAPITokenDialog","_React$Component2","_super2","_this2","listAPITokens","listRepoAPITokens","repo","repo_id","then","res","apiTokenList","data","repo_api_tokens","loading","catch","error","response","status","errorMsg","handleError","onInputChange","e","appName","target","onKeyDown","keyCode","preventDefault","addAPIToken","setPermission","isSubmitBtnActive","_this2$state","addRepoAPIToken","push","deleteRepoAPIToken","filter","updateRepoAPIToken","danger","error_msg","detail","duration","renderContent","renderAPITokenList","map","index","thead","width","type","id","onChange","onClick","disabled","style","minHeight","maxHeight","length","componentDidMount","itemName","HTMLescape","repo_name","replace","isOpen","maxWidth","toggle","onRepoAPITokenToggle","dangerouslySetInnerHTML","__html"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/repo-api-token-dialog.js"],"sourcesContent":["import React, {Fragment} from 'react';\nimport PropTypes from 'prop-types';\nimport {gettext} from '../../utils/constants';\nimport {Modal, ModalHeader, ModalBody, Button, Input} from 'reactstrap';\nimport RepoAPITokenPermissionEditor from '../select-editor/repo-api-token-permission-editor';\nimport {seafileAPI} from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\nimport copy from 'copy-to-clipboard';\nimport Loading from '../loading';\nimport OpIcon from '../op-icon';\n\nconst apiTokenItemPropTypes = {\n  item: PropTypes.object.isRequired,\n  deleteAPIToken: PropTypes.func.isRequired,\n  updateAPIToken: PropTypes.func.isRequired,\n};\n\nclass APITokenItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({isOperationShow: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({isOperationShow: false});\n  };\n\n  onDeleteAPIToken = () => {\n    this.props.deleteAPIToken(this.props.item.app_name);\n  };\n\n  onUpdateAPIToken = (permission) => {\n    this.props.updateAPIToken(this.props.item.app_name, permission);\n  };\n\n  onCopyAPIToken = () => {\n    let api_token = this.props.item.api_token;\n    copy(api_token);\n    toaster.success(gettext('API token is copied to the clipboard.'));\n  };\n\n  render() {\n    let item = this.props.item;\n\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} tabIndex=\"0\" onFocus={this.onMouseEnter}>\n        <td className=\"name\">{item.app_name}</td>\n        <td>\n          <RepoAPITokenPermissionEditor\n            isTextMode={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={item.permission}\n            onPermissionChanged={this.onUpdateAPIToken}\n          />\n        </td>\n        <td>\n          <span>{item.api_token}</span>\n          {this.state.isOperationShow &&\n            <OpIcon\n              className=\"far fa-copy action-icon\"\n              op={this.onCopyAPIToken}\n              title={gettext('Copy')}\n            />\n          }\n        </td>\n        <td>\n          <OpIcon\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            op={this.onDeleteAPIToken}\n            title={gettext('Delete')}\n          />\n        </td>\n      </tr>\n    );\n  }\n}\n\nAPITokenItem.propTypes = apiTokenItemPropTypes;\n\nconst propTypes = {\n  repo: PropTypes.object.isRequired,\n  onRepoAPITokenToggle: PropTypes.func.isRequired,\n};\n\nclass RepoAPITokenDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      apiTokenList: [],\n      permission: 'rw',\n      appName: '',\n      errorMsg: '',\n      loading: true,\n      isSubmitBtnActive: true,\n    };\n    this.repo = this.props.repo;\n  }\n\n  listAPITokens = () => {\n    seafileAPI.listRepoAPITokens(this.repo.repo_id).then((res) => {\n      this.setState({\n        apiTokenList: res.data.repo_api_tokens,\n        loading: false,\n      });\n    }).catch(error => {\n      if (error.response.status === 403) {\n        this.setState({\n          errorMsg: gettext('Permission denied'),\n        });\n      } else {\n        this.handleError(error);\n      }\n    });\n  };\n\n  onInputChange = (e) => {\n    let appName = e.target.value;\n    this.setState({\n      appName: appName,\n    });\n  };\n\n  onKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      e.preventDefault();\n      this.addAPIToken();\n    }\n  };\n\n  setPermission = (permission) => {\n    this.setState({permission: permission});\n  };\n\n  addAPIToken = () => {\n    if (!this.state.appName) {\n      return;\n    }\n\n    this.setState({\n      isSubmitBtnActive: false,\n    });\n    const {appName, permission, apiTokenList} = this.state;\n\n    seafileAPI.addRepoAPIToken(this.repo.repo_id, appName, permission).then((res) => {\n      apiTokenList.push(res.data);\n      this.setState({\n        apiTokenList: apiTokenList,\n        isSubmitBtnActive: true,\n      });\n    }).catch(error => {\n      this.handleError(error);\n      this.setState({\n        isSubmitBtnActive: true,\n      });\n    });\n  };\n\n  deleteAPIToken = (appName) => {\n    seafileAPI.deleteRepoAPIToken(this.repo.repo_id, appName).then((res) => {\n      const apiTokenList = this.state.apiTokenList.filter(item => {\n        return item.app_name !== appName;\n      });\n      this.setState({\n        apiTokenList: apiTokenList,\n      });\n    }).catch(error => {\n      this.handleError(error);\n    });\n  };\n\n  updateAPIToken = (appName, permission) => {\n    seafileAPI.updateRepoAPIToken(this.repo.repo_id, appName, permission).then((res) => {\n      let apiTokenList = this.state.apiTokenList.filter(item => {\n        if (item.app_name === appName) {\n          item.permission = permission;\n        }\n        return item;\n      });\n      this.setState({\n        apiTokenList: apiTokenList,\n      });\n    }).catch(error => {\n      this.handleError(error);\n    });\n  };\n\n  handleError = (e) => {\n    if (e.response) {\n      toaster.danger(e.response.data.error_msg || e.response.data.detail || gettext('Error'), {duration: 3});\n    } else {\n      toaster.danger(gettext('Please check the network.'), {duration: 3});\n    }\n  };\n\n  componentDidMount() {\n    this.listAPITokens();\n  }\n\n  renderContent = () => {\n    const renderAPITokenList = this.state.apiTokenList.map((item, index) => {\n      return (\n        <APITokenItem\n          key={index}\n          item={item}\n          deleteAPIToken={this.deleteAPIToken}\n          updateAPIToken={this.updateAPIToken}\n        />\n      );\n    });\n\n    const thead = (\n      <thead>\n        <tr>\n          <th width=\"20%\">{gettext('App Name')}</th>\n          <th width=\"20%\">{gettext('Permission')}</th>\n          <th width=\"48%\">API Token</th>\n          <th width=\"12%\"></th>\n        </tr>\n      </thead>\n    );\n    return (\n      <Fragment>\n        {this.state.errorMsg &&\n          <p className=\"error text-center\">{this.state.errorMsg}</p>\n        }\n        {!this.state.errorMsg &&\n        <Fragment>\n          <table className=\"w-xs-250\">\n            {thead}\n            <tbody>\n              <tr>\n                <td>\n                  <Input\n                    type=\"text\"\n                    id=\"appName\"\n                    value={this.state.appName}\n                    onChange={this.onInputChange}\n                    onKeyDown={this.onKeyDown}\n                  />\n                </td>\n                <td>\n                  <RepoAPITokenPermissionEditor\n                    isTextMode={false}\n                    isEditIconShow={false}\n                    currentPermission={this.state.permission}\n                    onPermissionChanged={this.setPermission}\n                  />\n                </td>\n                <td><span className=\"text-secondary\">--</span></td>\n                <td>\n                  <Button onClick={this.addAPIToken} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          <div style={{minHeight: '10rem', maxHeight: '18rem'}}>\n            {this.state.apiTokenList.length !== 0 &&\n            <table className=\"table-thead-hidden w-xs-250\">\n              {thead}\n              <tbody>\n                {renderAPITokenList}\n              </tbody>\n            </table>\n            }\n          </div>\n          {this.state.loading && <Loading/>}\n        </Fragment>\n        }\n      </Fragment>\n    );\n  };\n\n  render() {\n    let repo = this.repo;\n\n    const itemName = '<span class=\"op-target text-truncate mr-1\">' + Utils.HTMLescape(repo.repo_name) + '</span>';\n    const title = gettext('{placeholder} API Token').replace('{placeholder}', itemName);\n    return (\n      <Modal\n        isOpen={true} style={{maxWidth: '800px'}}\n        toggle={this.props.onRepoAPITokenToggle}\n      >\n        <ModalHeader toggle={this.props.onRepoAPITokenToggle}>\n          <span dangerouslySetInnerHTML={{__html: title}} className=\"d-flex mw-100\"></span>\n        </ModalHeader>\n        <ModalBody>\n          <div className=\"o-auto\">\n            {this.renderContent()}\n          </div>\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nRepoAPITokenDialog.propTypes = propTypes;\n\nexport default RepoAPITokenDialog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}