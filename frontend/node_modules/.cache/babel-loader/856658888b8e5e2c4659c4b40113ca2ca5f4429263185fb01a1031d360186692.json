{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import{gettext}from'../../utils/constants';import moment from'moment';import{Button,Input}from'reactstrap';import{seafileAPI}from'../../utils/seafile-api';import{Utils}from'../../utils/utils';import toaster from'../toast';import Loading from'../loading';import SharePermissionEditor from'../select-editor/share-permission-editor';import'../../css/invitations.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserItem=/*#__PURE__*/function(_React$Component){_inherits(UserItem,_React$Component);var _super=_createSuper(UserItem);function UserItem(props){var _this;_classCallCheck(this,UserItem);_this=_super.call(this,props);_this.onMouseEnter=function(){_this.setState({isOperationShow:true});};_this.onMouseLeave=function(){_this.setState({isOperationShow:false});};_this.deleteShareItem=function(){var item=_this.props.item;_this.props.deleteShareItem(item.token);};_this.onChangeUserPermission=function(permission){var item=_this.props.item;_this.props.onChangeUserPermission(item.token,permission);};_this.state={isOperationShow:false};return _this;}_createClass(UserItem,[{key:\"render\",value:function render(){var item=this.props.item;var currentPermission=item.is_admin?'admin':item.permission;return/*#__PURE__*/_jsxs(\"tr\",{onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,tabIndex:\"0\",onFocus:this.onMouseEnter,children:[/*#__PURE__*/_jsx(\"td\",{className:\"name\",children:item.accepter}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(SharePermissionEditor,{isTextMode:true,isEditIconShow:this.state.isOperationShow,currentPermission:currentPermission,permissions:this.props.permissions,onPermissionChanged:this.onChangeUserPermission})}),/*#__PURE__*/_jsx(\"td\",{children:moment(item.expire_time).format('YYYY-MM-DD')}),/*#__PURE__*/_jsx(\"td\",{className:\"name\",children:item.inviter_name}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{tabIndex:\"0\",role:\"button\",className:\"sf2-icon-x3 action-icon \".concat(this.state.isOperationShow?'':'hide'),onClick:this.deleteShareItem,onKeyDown:Utils.onKeyDown,title:gettext('Delete'),\"aria-label\":gettext('Delete')})})]});}}]);return UserItem;}(React.Component);var UserList=/*#__PURE__*/function(_React$Component2){_inherits(UserList,_React$Component2);var _super2=_createSuper(UserList);function UserList(){_classCallCheck(this,UserList);return _super2.apply(this,arguments);}_createClass(UserList,[{key:\"render\",value:function render(){var _this2=this;var items=this.props.items;return/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(UserItem,{item:item,permissions:_this2.props.permissions,deleteShareItem:_this2.props.deleteShareItem,onChangeUserPermission:_this2.props.onChangeUserPermission},index);})});}}]);return UserList;}(React.Component);var ShareToInvitePeople=/*#__PURE__*/function(_React$Component3){_inherits(ShareToInvitePeople,_React$Component3);var _super3=_createSuper(ShareToInvitePeople);function ShareToInvitePeople(props){var _this3;_classCallCheck(this,ShareToInvitePeople);_this3=_super3.call(this,props);_this3.handleInputChange=function(e){var emails=e.target.value;_this3.setState({emails:emails});if(_this3.state.errorMsg){_this3.setState({errorMsg:''});}};_this3.handleKeyDown=function(e){if(e.keyCode===13){e.preventDefault();_this3.shareAndInvite();}};_this3.setPermission=function(permission){_this3.setState({permission:permission});};_this3.onInvitePeople=function(successArray){successArray.push.apply(successArray,_this3.state.sharedItems);_this3.setState({sharedItems:successArray});};_this3.shareAndInvite=function(){var emails=_this3.state.emails.trim();if(!emails){_this3.setState({errorMsg:gettext('It is required.')});return false;}var emailsArray=[];emails=emails.split(',');for(var i=0,len=emails.length;i<len;i++){var email=emails[i].trim();if(email){emailsArray.push(email);}}if(!emailsArray.length){_this3.setState({errorMsg:gettext('Email is invalid.')});return false;}_this3.setState({isSubmitting:true});var path=_this3.props.itemPath;var repoID=_this3.props.repoID;var permission=_this3.state.permission;seafileAPI.addRepoShareInvitations(repoID,path,emailsArray,permission).then(function(res){var success=res.data.success;if(success.length){var successMsg='';if(success.length==1){successMsg=gettext('Successfully invited %(email).').replace('%(email)',success[0].accepter);}else{successMsg=gettext('Successfully invited %(email) and %(num) other people.').replace('%(email)',success[0].accepter).replace('%(num)',success.length-1);}toaster.success(successMsg);_this3.onInvitePeople(success);}var failed=res.data.failed;if(failed.length){for(var _i=0,_len=failed.length;_i<_len;_i++){var failedMsg=failed[_i].email+': '+failed[_i].error_msg;toaster.danger(failedMsg);}}_this3.setState({isSubmitting:false});}).catch(function(error){var errorMsg=Utils.getErrorMsg(error);toaster.danger(errorMsg);_this3.setState({isSubmitting:false});});};_this3.deleteShareItem=function(token){var path=_this3.props.itemPath;var repoID=_this3.props.repoID;seafileAPI.deleteRepoShareInvitation(repoID,path,token).then(function(res){_this3.setState({sharedItems:_this3.state.sharedItems.filter(function(item){return item.token!==token;})});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.onChangeUserPermission=function(token,permission){var path=_this3.props.itemPath;var repoID=_this3.props.repoID;seafileAPI.updateRepoShareInvitation(repoID,path,token,permission).then(function(){_this3.updateSharedItems(token,permission);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this3.updateSharedItems=function(token,permission){var sharedItems=_this3.state.sharedItems.map(function(sharedItem){if(sharedItem.token===token){sharedItem.permission=permission;}return sharedItem;});_this3.setState({sharedItems:sharedItems});};_this3.state={errorMsg:'',permission:'r',sharedItems:[],emails:'',isSubmitting:false};_this3.permissions=['rw','r'];return _this3;}_createClass(ShareToInvitePeople,[{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;var path=this.props.itemPath;var repoID=this.props.repoID;seafileAPI.listRepoShareInvitations(repoID,path).then(function(res){if(res.data.length!==0){_this4.setState({sharedItems:res.data.repo_share_invitation_list});}}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});}},{key:\"render\",value:function render(){var _this$state=this.state,sharedItems=_this$state.sharedItems,isSubmitting=_this$state.isSubmitting;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table-thead-hidden w-xs-200\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"50%\",children:gettext('Invite Guest')}),/*#__PURE__*/_jsx(\"th\",{width:\"35%\",children:gettext('Permission')}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:''})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Input,{type:\"text\",id:\"emails\",placeholder:gettext('Emails, separated by \\',\\''),value:this.state.emails,onChange:this.handleInputChange,onKeyDown:this.handleKeyDown})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(SharePermissionEditor,{isTextMode:false,isEditIconShow:false,currentPermission:this.state.permission,permissions:this.permissions,onPermissionChanged:this.setPermission})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{onClick:this.shareAndInvite,className:\"submit-btn\",disabled:isSubmitting,children:isSubmitting?/*#__PURE__*/_jsx(Loading,{}):gettext('Submit')})})]}),this.state.errorMsg.length>0&&/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{colSpan:3,children:/*#__PURE__*/_jsx(\"p\",{className:\"error\",children:this.state.errorMsg})})},'error')]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"share-list-container\",children:/*#__PURE__*/_jsxs(\"table\",{className:\"w-xs-200\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"25%\",children:gettext('Email')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Permission')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Expiration')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Inviter')}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:''})]})}),/*#__PURE__*/_jsx(UserList,{items:sharedItems,permissions:this.permissions,deleteShareItem:this.deleteShareItem,onChangeUserPermission:this.onChangeUserPermission})]})})]});}}]);return ShareToInvitePeople;}(React.Component);export default ShareToInvitePeople;","map":{"version":3,"names":["React","Fragment","gettext","moment","Button","Input","seafileAPI","Utils","toaster","Loading","SharePermissionEditor","jsx","_jsx","jsxs","_jsxs","UserItem","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onMouseEnter","setState","isOperationShow","onMouseLeave","deleteShareItem","item","token","onChangeUserPermission","permission","state","_createClass","key","value","render","currentPermission","is_admin","tabIndex","onFocus","children","className","accepter","isTextMode","isEditIconShow","permissions","onPermissionChanged","expire_time","format","inviter_name","role","concat","onClick","onKeyDown","title","Component","UserList","_React$Component2","_super2","apply","arguments","_this2","items","map","index","ShareToInvitePeople","_React$Component3","_super3","_this3","handleInputChange","e","emails","target","errorMsg","handleKeyDown","keyCode","preventDefault","shareAndInvite","setPermission","onInvitePeople","successArray","push","sharedItems","trim","emailsArray","split","i","len","length","email","isSubmitting","path","itemPath","repoID","addRepoShareInvitations","then","res","success","data","successMsg","replace","failed","failedMsg","error_msg","danger","catch","error","getErrorMsg","deleteRepoShareInvitation","filter","errMessage","updateRepoShareInvitation","updateSharedItems","sharedItem","componentDidMount","_this4","listRepoShareInvitations","repo_share_invitation_list","_this$state","width","type","id","placeholder","onChange","disabled","colSpan"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/share-to-invite-people.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\nimport moment from 'moment';\nimport { Button, Input } from 'reactstrap';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../toast';\nimport Loading from '../loading';\nimport SharePermissionEditor from '../select-editor/share-permission-editor';\nimport '../../css/invitations.css';\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOperationShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ isOperationShow: true });\n  };\n\n  onMouseLeave = () => {\n    this.setState({ isOperationShow: false });\n  };\n\n  deleteShareItem = () => {\n    let item = this.props.item;\n    this.props.deleteShareItem(item.token);\n  };\n\n  onChangeUserPermission = (permission) => {\n    let item = this.props.item;\n    this.props.onChangeUserPermission(item.token, permission);\n  };\n\n  render() {\n    let item = this.props.item;\n    let currentPermission = item.is_admin ? 'admin' : item.permission;\n    return (\n      <tr onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} tabIndex=\"0\" onFocus={this.onMouseEnter}>\n        <td className=\"name\">{item.accepter}</td>\n        <td>\n          <SharePermissionEditor\n            isTextMode={true}\n            isEditIconShow={this.state.isOperationShow}\n            currentPermission={currentPermission}\n            permissions={this.props.permissions}\n            onPermissionChanged={this.onChangeUserPermission}\n          />\n        </td>\n        <td>{moment(item.expire_time).format('YYYY-MM-DD')}</td>\n        <td className=\"name\">{item.inviter_name}</td>\n        <td>\n          <span\n            tabIndex=\"0\"\n            role=\"button\"\n            className={`sf2-icon-x3 action-icon ${this.state.isOperationShow ? '' : 'hide'}`}\n            onClick={this.deleteShareItem}\n            onKeyDown={Utils.onKeyDown}\n            title={gettext('Delete')}\n            aria-label={gettext('Delete')}\n          >\n          </span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nUserItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\n\nclass UserList extends React.Component {\n\n  render() {\n    let items = this.props.items;\n    return (\n      <tbody>\n        {items.map((item, index) => {\n          return (\n            <UserItem\n              key={index}\n              item={item}\n              permissions={this.props.permissions}\n              deleteShareItem={this.props.deleteShareItem}\n              onChangeUserPermission={this.props.onChangeUserPermission}\n            />\n          );\n        })}\n      </tbody>\n    );\n  }\n}\n\nUserList.propTypes = {\n  items: PropTypes.array.isRequired,\n  permissions: PropTypes.array.isRequired,\n  deleteShareItem: PropTypes.func.isRequired,\n  onChangeUserPermission: PropTypes.func.isRequired,\n};\n\nconst propTypes = {\n  itemPath: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass ShareToInvitePeople extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      errorMsg: '',\n      permission: 'r',\n      sharedItems: [],\n      emails: '',\n      isSubmitting: false,\n    };\n    this.permissions = ['rw', 'r'];\n  }\n\n  handleInputChange = (e) => {\n    let emails = e.target.value;\n    this.setState({\n      emails: emails,\n    });\n    if (this.state.errorMsg) {\n      this.setState({\n        errorMsg: '',\n      });\n    }\n  };\n\n  handleKeyDown = (e) => {\n    if (e.keyCode === 13) {\n      e.preventDefault();\n      this.shareAndInvite();\n    }\n  };\n\n  componentDidMount() {\n    const path = this.props.itemPath;\n    const repoID = this.props.repoID;\n    seafileAPI.listRepoShareInvitations(repoID, path).then((res) => {\n      if (res.data.length !== 0) {\n        this.setState({ sharedItems: res.data.repo_share_invitation_list });\n      }\n    }).catch(error => {\n      const errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  setPermission = (permission) => {\n    this.setState({ permission: permission });\n  };\n\n  onInvitePeople = (successArray) => {\n    successArray.push.apply(successArray, this.state.sharedItems);\n    this.setState({\n      sharedItems: successArray,\n    });\n  };\n\n  shareAndInvite = () => {\n    let emails = this.state.emails.trim();\n    if (!emails) {\n      this.setState({ errorMsg: gettext('It is required.') });\n      return false;\n    }\n\n    let emailsArray = [];\n    emails = emails.split(',');\n    for (let i = 0, len = emails.length; i < len; i++) {\n      let email = emails[i].trim();\n      if (email) {\n        emailsArray.push(email);\n      }\n    }\n\n    if (!emailsArray.length) {\n      this.setState({ errorMsg: gettext('Email is invalid.') });\n      return false;\n    }\n\n    this.setState({ isSubmitting: true });\n\n    const path = this.props.itemPath;\n    const repoID = this.props.repoID;\n    const permission = this.state.permission;\n\n    seafileAPI.addRepoShareInvitations(repoID, path, emailsArray, permission).then((res) => {\n      const success = res.data.success;\n      if (success.length) {\n        let successMsg = '';\n        if (success.length == 1) {\n          successMsg = gettext('Successfully invited %(email).')\n            .replace('%(email)', success[0].accepter);\n        } else {\n          successMsg = gettext('Successfully invited %(email) and %(num) other people.')\n            .replace('%(email)', success[0].accepter)\n            .replace('%(num)', success.length - 1);\n        }\n        toaster.success(successMsg);\n        this.onInvitePeople(success);\n      }\n      const failed = res.data.failed;\n      if (failed.length) {\n        for (let i = 0, len = failed.length; i < len; i++) {\n          let failedMsg = failed[i].email + ': ' + failed[i].error_msg;\n          toaster.danger(failedMsg);\n        }\n      }\n      this.setState({ isSubmitting: false });\n    }).catch((error) => {\n      const errorMsg = Utils.getErrorMsg(error);\n      toaster.danger(errorMsg);\n      this.setState({ isSubmitting: false });\n    });\n  };\n\n  deleteShareItem = (token) => {\n    const path = this.props.itemPath;\n    const repoID = this.props.repoID;\n\n    seafileAPI.deleteRepoShareInvitation(repoID, path, token).then(res => {\n      this.setState({\n        sharedItems: this.state.sharedItems.filter(item => { return item.token !== token; })\n      });\n    }).catch(error => {\n      const errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onChangeUserPermission = (token, permission) => {\n    const path = this.props.itemPath;\n    const repoID = this.props.repoID;\n\n    seafileAPI.updateRepoShareInvitation(repoID, path, token, permission).then(() => {\n      this.updateSharedItems(token, permission);\n    }).catch(error => {\n      const errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  updateSharedItems = (token, permission) => {\n    let sharedItems = this.state.sharedItems.map(sharedItem => {\n      if (sharedItem.token === token) {\n        sharedItem.permission = permission;\n      }\n      return sharedItem;\n    });\n    this.setState({ sharedItems: sharedItems });\n  };\n\n  render() {\n    let { sharedItems, isSubmitting } = this.state;\n    return (\n      <Fragment>\n        <table className=\"table-thead-hidden w-xs-200\">\n          <thead>\n            <tr>\n              <th width=\"50%\">{gettext('Invite Guest')}</th>\n              <th width=\"35%\">{gettext('Permission')}</th>\n              <th width=\"15%\">{''}</th>\n            </tr>\n          </thead>\n          <tbody>\n            <tr>\n              <td>\n                <Input\n                  type=\"text\"\n                  id=\"emails\"\n                  placeholder={gettext('Emails, separated by \\',\\'')}\n                  value={this.state.emails}\n                  onChange={this.handleInputChange}\n                  onKeyDown={this.handleKeyDown}\n                />\n              </td>\n              <td>\n                <SharePermissionEditor\n                  isTextMode={false}\n                  isEditIconShow={false}\n                  currentPermission={this.state.permission}\n                  permissions={this.permissions}\n                  onPermissionChanged={this.setPermission}\n                />\n              </td>\n              <td>\n                <Button onClick={this.shareAndInvite} className=\"submit-btn\" disabled={isSubmitting}\n                >{isSubmitting ? <Loading /> : gettext('Submit')}</Button>\n              </td>\n            </tr>\n            {this.state.errorMsg.length > 0 &&\n            <tr key={'error'}>\n              <td colSpan={3}><p className=\"error\">{this.state.errorMsg}</p></td>\n            </tr>\n            }\n          </tbody>\n        </table>\n        <div className=\"share-list-container\">\n          <table className=\"w-xs-200\">\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Email')}</th>\n                <th width=\"20%\">{gettext('Permission')}</th>\n                <th width=\"20%\">{gettext('Expiration')}</th>\n                <th width=\"20%\">{gettext('Inviter')}</th>\n                <th width=\"15%\">{''}</th>\n              </tr>\n            </thead>\n            <UserList\n              items={sharedItems}\n              permissions={this.permissions}\n              deleteShareItem={this.deleteShareItem}\n              onChangeUserPermission={this.onChangeUserPermission}\n            />\n          </table>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nShareToInvitePeople.propTypes = propTypes;\n\nexport default ShareToInvitePeople;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}