{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactI18next = require(\"react-i18next\");\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _tooltip = _interopRequireDefault(require(\"../tooltip\"));\nvar _constants = require(\"../../../constants\");\nvar MenuDropDown = function MenuDropDown(props) {\n  var readonly = props.readonly,\n    className = props.className,\n    isDisabled = props.isDisabled,\n    dropDownList = props.dropDownList,\n    id = props.id,\n    text = props.text,\n    iconClass = props.iconClass,\n    _props$isShowMenuItem = props.isShowMenuItemTooltip,\n    isShowMenuItemTooltip = _props$isShowMenuItem === void 0 ? false : _props$isShowMenuItem,\n    _props$isShowListItem = props.isShowListItemIcon,\n    isShowListItemIcon = _props$isShowListItem === void 0 ? false : _props$isShowListItem;\n  var _ref = (0, _react.useState)(false),\n    _ref2 = _slicedToArray(_ref, 2),\n    isShowDropDown = _ref2[0],\n    setIsShowDropDown = _ref2[1];\n  var menuItemRef = (0, _react.useRef)();\n  var menuDropdownRef = (0, _react.useRef)();\n  var _ref3 = (0, _reactI18next.useTranslation)(_constants.TRANSLATE_NAMESPACE),\n    t = _ref3.t;\n  var containerId = (0, _react.useMemo)(function () {\n    return \"menu-dropdown-\".concat(id);\n  }, [id]);\n  var handleHideDropDownList = (0, _react.useCallback)(function (e) {\n    var _menuItemRef$current, _menuDropdownRef$curr;\n    var isClickOnMenuItem = menuItemRef === null || menuItemRef === void 0 ? void 0 : (_menuItemRef$current = menuItemRef.current) === null || _menuItemRef$current === void 0 ? void 0 : _menuItemRef$current.contains(e.target);\n    var isClickOnMenuDropdown = menuDropdownRef === null || menuDropdownRef === void 0 ? void 0 : (_menuDropdownRef$curr = menuDropdownRef.current) === null || _menuDropdownRef$curr === void 0 ? void 0 : _menuDropdownRef$curr.contains(e.target);\n    // If click on menu item, menu dropdown will show, and click on menu dropdown, menu dropdown will hide\n    if (!isShowDropDown && isClickOnMenuItem && !isClickOnMenuDropdown) return;\n    document.removeEventListener('click', handleHideDropDownList);\n    setIsShowDropDown(false);\n  }, [isShowDropDown]);\n  var registerClickEvent = (0, _react.useCallback)(function (e) {\n    setIsShowDropDown(true);\n    document.addEventListener('click', handleHideDropDownList);\n  }, [handleHideDropDownList]);\n  var handleClickDropDownItem = (0, _react.useCallback)(function (event, item, callback) {\n    event.stopPropagation();\n    handleHideDropDownList(event);\n    callback && callback(item);\n  }, [handleHideDropDownList]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      position: 'relative'\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    ref: menuItemRef,\n    id: containerId,\n    className: (0, _classnames.default)(className, 'sf-menu-group-item sf-menu-with-dropdown', {\n      'header-popover-showed': isShowDropDown,\n      'header-toggle-disabled': isDisabled\n    }),\n    onClick: !readonly && !isDisabled && registerClickEvent\n  }, /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"sf-menu-with-dropdown-icon active \".concat(iconClass)\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-menu-with-dropdown-triangle\"\n  }, /*#__PURE__*/_react.default.createElement(\"i\", {\n    className: \"sf-menu-with-dropdown-triangle-icon iconfont icon-\".concat(isShowDropDown ? 'caret-up' : 'drop-down')\n  })), !!isShowDropDown && /*#__PURE__*/_react.default.createElement(\"div\", {\n    ref: menuDropdownRef,\n    className: \"sf-dropdown-list \"\n  }, dropDownList.map(function (item, index) {\n    var id = item.id,\n      iconClass = item.iconClass,\n      handleClick = item.handleClick,\n      text = item.text;\n    return /*#__PURE__*/_react.default.createElement(_react.Fragment, {\n      key: index\n    }, /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: id,\n      className: (0, _classnames.default)('sf-dropdown-list-item'),\n      onClick: function onClick(event) {\n        return handleClickDropDownItem(event, item, handleClick);\n      }\n    }, isShowListItemIcon && iconClass && /*#__PURE__*/_react.default.createElement(\"i\", {\n      className: \"sf-dropdown-menu-item-icon \".concat(iconClass)\n    }), /*#__PURE__*/_react.default.createElement(\"span\", {\n      className: \"sf-dropdown-menu-item-text\"\n    }, t(text))));\n  })), !!isShowMenuItemTooltip && /*#__PURE__*/_react.default.createElement(_tooltip.default, {\n    target: containerId\n  }, t(text))));\n};\nMenuDropDown.defaultProps = {\n  className: '',\n  dropDownList: [],\n  isShowMenuItemTooltip: false,\n  isShowListItemIcon: false\n};\nvar _default = exports.default = MenuDropDown;","map":{"version":3,"names":["_slicedToArray","require","default","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","value","_react","_reactI18next","_classnames","_tooltip","_constants","MenuDropDown","props","readonly","className","isDisabled","dropDownList","id","text","iconClass","_props$isShowMenuItem","isShowMenuItemTooltip","_props$isShowListItem","isShowListItemIcon","_ref","useState","_ref2","isShowDropDown","setIsShowDropDown","menuItemRef","useRef","menuDropdownRef","_ref3","useTranslation","TRANSLATE_NAMESPACE","t","containerId","useMemo","concat","handleHideDropDownList","useCallback","e","_menuItemRef$current","_menuDropdownRef$curr","isClickOnMenuItem","current","contains","target","isClickOnMenuDropdown","document","removeEventListener","registerClickEvent","addEventListener","handleClickDropDownItem","event","item","callback","stopPropagation","createElement","style","position","ref","onClick","map","index","handleClick","Fragment","key","defaultProps","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/commons/menu/menu-drop-down.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactI18next = require(\"react-i18next\");\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _tooltip = _interopRequireDefault(require(\"../tooltip\"));\nvar _constants = require(\"../../../constants\");\nconst MenuDropDown = props => {\n  const {\n    readonly,\n    className,\n    isDisabled,\n    dropDownList,\n    id,\n    text,\n    iconClass,\n    isShowMenuItemTooltip = false,\n    isShowListItemIcon = false\n  } = props;\n  const [isShowDropDown, setIsShowDropDown] = (0, _react.useState)(false);\n  const menuItemRef = (0, _react.useRef)();\n  const menuDropdownRef = (0, _react.useRef)();\n  const {\n    t\n  } = (0, _reactI18next.useTranslation)(_constants.TRANSLATE_NAMESPACE);\n  const containerId = (0, _react.useMemo)(() => \"menu-dropdown-\".concat(id), [id]);\n  const handleHideDropDownList = (0, _react.useCallback)(e => {\n    var _menuItemRef$current, _menuDropdownRef$curr;\n    const isClickOnMenuItem = menuItemRef === null || menuItemRef === void 0 ? void 0 : (_menuItemRef$current = menuItemRef.current) === null || _menuItemRef$current === void 0 ? void 0 : _menuItemRef$current.contains(e.target);\n    const isClickOnMenuDropdown = menuDropdownRef === null || menuDropdownRef === void 0 ? void 0 : (_menuDropdownRef$curr = menuDropdownRef.current) === null || _menuDropdownRef$curr === void 0 ? void 0 : _menuDropdownRef$curr.contains(e.target);\n    // If click on menu item, menu dropdown will show, and click on menu dropdown, menu dropdown will hide\n    if (!isShowDropDown && isClickOnMenuItem && !isClickOnMenuDropdown) return;\n    document.removeEventListener('click', handleHideDropDownList);\n    setIsShowDropDown(false);\n  }, [isShowDropDown]);\n  const registerClickEvent = (0, _react.useCallback)(e => {\n    setIsShowDropDown(true);\n    document.addEventListener('click', handleHideDropDownList);\n  }, [handleHideDropDownList]);\n  const handleClickDropDownItem = (0, _react.useCallback)((event, item, callback) => {\n    event.stopPropagation();\n    handleHideDropDownList(event);\n    callback && callback(item);\n  }, [handleHideDropDownList]);\n  return /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: {\n      position: 'relative'\n    }\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    ref: menuItemRef,\n    id: containerId,\n    className: (0, _classnames.default)(className, 'sf-menu-group-item sf-menu-with-dropdown', {\n      'header-popover-showed': isShowDropDown,\n      'header-toggle-disabled': isDisabled\n    }),\n    onClick: !readonly && !isDisabled && registerClickEvent\n  }, /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"sf-menu-with-dropdown-icon active \".concat(iconClass)\n  }), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"sf-menu-with-dropdown-triangle\"\n  }, /*#__PURE__*/_react.default.createElement(\"i\", {\n    className: \"sf-menu-with-dropdown-triangle-icon iconfont icon-\".concat(isShowDropDown ? 'caret-up' : 'drop-down')\n  })), !!isShowDropDown && /*#__PURE__*/_react.default.createElement(\"div\", {\n    ref: menuDropdownRef,\n    className: \"sf-dropdown-list \"\n  }, dropDownList.map((item, index) => {\n    const {\n      id,\n      iconClass,\n      handleClick,\n      text\n    } = item;\n    return /*#__PURE__*/_react.default.createElement(_react.Fragment, {\n      key: index\n    }, /*#__PURE__*/_react.default.createElement(\"div\", {\n      id: id,\n      className: (0, _classnames.default)('sf-dropdown-list-item'),\n      onClick: event => handleClickDropDownItem(event, item, handleClick)\n    }, isShowListItemIcon && iconClass && /*#__PURE__*/_react.default.createElement(\"i\", {\n      className: \"sf-dropdown-menu-item-icon \".concat(iconClass)\n    }), /*#__PURE__*/_react.default.createElement(\"span\", {\n      className: \"sf-dropdown-menu-item-text\"\n    }, t(text))));\n  })), !!isShowMenuItemTooltip && /*#__PURE__*/_react.default.createElement(_tooltip.default, {\n    target: containerId\n  }, t(text))));\n};\nMenuDropDown.defaultProps = {\n  className: '',\n  dropDownList: [],\n  isShowMenuItemTooltip: false,\n  isShowListItemIcon: false\n};\nvar _default = exports.default = MenuDropDown;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}