{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import moment from'moment';import{gettext,siteRoot}from'../../utils/constants';import{seafileAPI}from'../../utils/seafile-api';import{Utils}from'../../utils/utils';import toaster from'../../components/toast';import Loading from'../../components/loading';import EmptyTip from'../../components/empty-tip';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OCMViaWebdav=/*#__PURE__*/function(_Component){_inherits(OCMViaWebdav,_Component);var _super=_createSuper(OCMViaWebdav);function OCMViaWebdav(props){var _this;_classCallCheck(this,OCMViaWebdav);_this=_super.call(this,props);_this.getAllReceivedShares=function(){var url=seafileAPI.server+'/ocm-via-webdav/received-shares/';seafileAPI.req.get(url).then(function(res){_this.setState({loading:false,shareID:'',path:'',items:res.data.received_share_list});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this.leaveShare=function(item){var id=item.id,name=item.name;var url=seafileAPI.server+'/ocm-via-webdav/received-shares/'+id+'/';seafileAPI.req.delete(url).then(function(res){var items=_this.state.items.filter(function(item){return item.id!=id;});_this.setState({items:items});toaster.success(gettext('Successfully unshared {name}').replace('{name}',name));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this.openFolder=function(item){_this.setState({loading:true});var url=seafileAPI.server+'/ocm-via-webdav/received-shares/'+item.id+'/?path='+item.path;seafileAPI.req.get(url).then(function(res){_this.setState({loading:false,shareID:item.id,path:res.data.parent_dir,items:res.data.received_share_list});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this.onPathClick=function(path){_this.setState({loading:true});var url=seafileAPI.server+'/ocm-via-webdav/received-shares/'+_this.state.shareID+'/?path='+path;seafileAPI.req.get(url).then(function(res){_this.setState({loading:false,items:res.data.received_share_list,path:res.data.parent_dir});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this.state={loading:true,shareID:'',path:'',items:[],errorMsg:''};return _this;}_createClass(OCMViaWebdav,[{key:\"componentDidMount\",value:function componentDidMount(){this.getAllReceivedShares();}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-path align-items-center\",children:/*#__PURE__*/_jsx(DirPath,{shareID:this.state.shareID,currentPath:this.state.path,onPathClick:this.onPathClick,getAllReceivedShares:this.getAllReceivedShares})}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.items,path:this.state.path,leaveShare:this.leaveShare,openFolder:this.openFolder})})]})})});}}]);return OCMViaWebdav;}(Component);var Content=/*#__PURE__*/function(_Component2){_inherits(Content,_Component2);var _super2=_createSuper(Content);function Content(props){_classCallCheck(this,Content);return _super2.call(this,props);}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,path=_this$props.path;var emptyTip=/*#__PURE__*/_jsxs(EmptyTip,{children:[/*#__PURE__*/_jsx(\"h2\",{children:gettext('No libraries have been shared with you')}),/*#__PURE__*/_jsx(\"p\",{children:gettext('No libraries have been shared with you from other servers.')})]});if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center\",children:errorMsg});}else{var table=/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"5%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"35%\",children:gettext('Shared By')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Time')}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{item:item,path:path,leaveShare:_this2.props.leaveShare,openFolder:_this2.props.openFolder},index);})})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component3){_inherits(Item,_Component3);var _super3=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super3.call(this,props);_this3.handleMouseOver=function(){_this3.setState({isOpIconShown:true});};_this3.handleMouseOut=function(){_this3.setState({isOpIconShown:false});};_this3.downloadFile=function(){var downloadUrl=siteRoot+'ocm-via-webdav/download-received-file/?share_id='+_this3.props.item.id+'&path='+_this3.props.item.path;window.location.href=downloadUrl;};_this3.leaveShare=function(e){e.preventDefault();_this3.props.leaveShare(_this3.props.item);};_this3.openFolder=function(e){e.preventDefault();_this3.props.openFolder(_this3.props.item);};_this3.state={isOpIconShown:false};return _this3;}_createClass(Item,[{key:\"render\",value:function render(){var item=this.props.item;var isOpIconShown=this.state.isOpIconShown;if(item.is_dir){item.icon_url=Utils.getFolderIconUrl();}else{item.icon_url=Utils.getFileIconUrl(item.name);}return/*#__PURE__*/_jsxs(\"tr\",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:item.icon_url,width:\"24\",alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:item.is_dir?/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:this.openFolder,children:item.name}):item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.shared_by}),/*#__PURE__*/_jsx(\"td\",{title:moment(item.last_modified).format('llll'),children:moment(item.ctime).fromNow()}),/*#__PURE__*/_jsx(\"td\",{children:item.is_dir?'':/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"action-icon sf2-icon-download \".concat(isOpIconShown?'':'invisible'),title:gettext('Download'),onClick:this.downloadFile})}),/*#__PURE__*/_jsx(\"td\",{children:this.props.path?'':/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"action-icon sf2-icon-x3 \".concat(isOpIconShown?'':'invisible'),title:gettext('Leave Share'),onClick:this.leaveShare})})]});}}]);return Item;}(Component);var DirPath=/*#__PURE__*/function(_React$Component){_inherits(DirPath,_React$Component);var _super4=_createSuper(DirPath);function DirPath(props){var _this4;_classCallCheck(this,DirPath);_this4=_super4.call(this,props);_this4.onPathClick=function(e){var path=Utils.getEventData(e,'path');_this4.props.onPathClick(path);};_this4.turnPathToLink=function(path){path=path.slice(1,path.length-1);var pathList=path.split('/');var nodePath='';var pathElem=pathList.map(function(item,index){if(index===pathList.length-1){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"path-split\",children:\"/\"}),/*#__PURE__*/_jsx(\"span\",{className:\"path-file-name\",children:item})]},index);}else{if(index===0){nodePath='/';}else{nodePath+=item+'/';}return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"path-split\",children:\"/\"}),/*#__PURE__*/_jsx(\"a\",{className:\"path-link\",\"data-path\":nodePath,onClick:_this4.onPathClick,children:item})]},index);}});return pathElem;};_this4.state={};return _this4;}_createClass(DirPath,[{key:\"render\",value:function render(){var pathElem=this.turnPathToLink(this.props.currentPath);return/*#__PURE__*/_jsxs(\"div\",{className:\"path-container\",children:[/*#__PURE__*/_jsx(\"a\",{href:\"#\",onClick:this.props.getAllReceivedShares,children:gettext('All')}),pathElem]});}}]);return DirPath;}(React.Component);export default OCMViaWebdav;","map":{"version":3,"names":["React","Component","Fragment","moment","gettext","siteRoot","seafileAPI","Utils","toaster","Loading","EmptyTip","jsx","_jsx","jsxs","_jsxs","OCMViaWebdav","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","getAllReceivedShares","url","server","req","get","then","res","setState","loading","shareID","path","items","data","received_share_list","catch","error","errMessage","getErrorMsg","danger","leaveShare","item","id","name","delete","state","filter","success","replace","openFolder","parent_dir","onPathClick","errorMsg","_createClass","key","value","componentDidMount","render","children","className","DirPath","currentPath","Content","_Component2","_super2","_this2","_this$props","emptyTip","table","width","map","index","Item","length","_Component3","_super3","_this3","handleMouseOver","isOpIconShown","handleMouseOut","downloadFile","downloadUrl","window","location","href","e","preventDefault","is_dir","icon_url","getFolderIconUrl","getFileIconUrl","onMouseOver","onMouseOut","src","alt","onClick","shared_by","title","last_modified","format","ctime","fromNow","concat","_React$Component","_super4","_this4","getEventData","turnPathToLink","slice","pathList","split","nodePath","pathElem"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/ocm-via-webdav/ocm-via-webdav.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { gettext, siteRoot } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport Loading from '../../components/loading';\nimport EmptyTip from '../../components/empty-tip';\n\nclass OCMViaWebdav extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      shareID: '',\n      path: '',\n      items: [],\n      errorMsg: '',\n    };\n  }\n\n  componentDidMount() {\n    this.getAllReceivedShares();\n  }\n\n  getAllReceivedShares = () => {\n    const url = seafileAPI.server + '/ocm-via-webdav/received-shares/';\n    seafileAPI.req.get(url).then((res) => {\n      this.setState({\n        loading: false,\n        shareID: '',\n        path: '',\n        items: res.data.received_share_list,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  leaveShare = (item) => {\n    const { id, name } = item;\n    const url = seafileAPI.server + '/ocm-via-webdav/received-shares/' + id + '/';\n    seafileAPI.req.delete(url).then((res) => {\n      let items = this.state.items.filter(item => {\n        return item.id != id;\n      });\n      this.setState({items: items});\n      toaster.success(gettext('Successfully unshared {name}').replace('{name}', name));\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  openFolder = (item) => {\n\n    this.setState({\n      loading: true,\n    });\n\n    const url = seafileAPI.server + '/ocm-via-webdav/received-shares/' + item.id + '/?path=' + item.path;\n    seafileAPI.req.get(url).then((res) => {\n      this.setState({\n        loading: false,\n        shareID: item.id,\n        path: res.data.parent_dir,\n        items: res.data.received_share_list,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onPathClick = (path) => {\n\n    this.setState({\n      loading: true,\n    });\n\n    const url = seafileAPI.server + '/ocm-via-webdav/received-shares/' + this.state.shareID + '/?path=' + path;\n    seafileAPI.req.get(url).then((res) => {\n      this.setState({\n        loading: false,\n        items: res.data.received_share_list,\n        path: res.data.parent_dir,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <div className=\"main-panel-center\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path align-items-center\">\n              <DirPath\n                shareID={this.state.shareID}\n                currentPath={this.state.path}\n                onPathClick={this.onPathClick}\n                getAllReceivedShares={this.getAllReceivedShares}\n              />\n            </div>\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.items}\n                path={this.state.path}\n                leaveShare={this.leaveShare}\n                openFolder={this.openFolder}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\n\nclass Content extends Component {\n\n  static propTypes = {\n    loading: PropTypes.bool.isRequired,\n    errorMsg: PropTypes.string.isRequired,\n    items: PropTypes.array.isRequired,\n    path: PropTypes.string.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { loading, errorMsg, items, path } = this.props;\n    const emptyTip = (\n      <EmptyTip>\n        <h2>{gettext('No libraries have been shared with you')}</h2>\n        <p>{gettext('No libraries have been shared with you from other servers.')}</p>\n      </EmptyTip>\n    );\n\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const table = (\n        <table>\n          <thead>\n            <tr>\n              <th width=\"5%\"></th>\n              <th width=\"30%\">{gettext('Name')}</th>\n              <th width=\"35%\">{gettext('Shared By')}</th>\n              <th width=\"20%\">{gettext('Time')}</th>\n              <th width=\"5%\">{/* operations */}</th>\n              <th width=\"5%\">{/* operations */}</th>\n            </tr>\n          </thead>\n          <tbody>\n            {items.map((item, index) => {\n              return <Item\n                key={index}\n                item={item}\n                path={path}\n                leaveShare={this.props.leaveShare}\n                openFolder={this.props.openFolder}\n              />;\n            })}\n          </tbody>\n        </table>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  data: PropTypes.object.isRequired,\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  path: PropTypes.string.isRequired,\n  leaveShare: PropTypes.func.isRequired,\n  openFolder: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  static propTypes = {\n    item: PropTypes.object.isRequired\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  downloadFile = () => {\n    let downloadUrl = siteRoot + 'ocm-via-webdav/download-received-file/?share_id=' + this.props.item.id + '&path=' + this.props.item.path;\n    window.location.href = downloadUrl;\n  };\n\n  leaveShare = (e) => {\n    e.preventDefault();\n    this.props.leaveShare(this.props.item);\n  };\n\n  openFolder = (e) => {\n    e.preventDefault();\n    this.props.openFolder(this.props.item);\n  };\n\n  render() {\n    const item = this.props.item;\n    const { isOpIconShown } = this.state;\n\n    if (item.is_dir) {\n      item.icon_url = Utils.getFolderIconUrl();\n    } else {\n      item.icon_url = Utils.getFileIconUrl(item.name);\n    }\n    return (\n      <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n        <td><img src={item.icon_url} width=\"24\" alt=\"\" /></td>\n        <td>\n          {item.is_dir ? <a href=\"#\" onClick={this.openFolder}>{item.name}</a> : item.name}\n        </td>\n        <td>{item.shared_by}</td>\n        <td title={moment(item.last_modified).format('llll')}>{moment(item.ctime).fromNow()}</td>\n        <td>{item.is_dir ? '' : <a href=\"#\" className={`action-icon sf2-icon-download ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Download')} onClick={this.downloadFile}></a>}\n        </td>\n        <td>{this.props.path ? '' : <a href=\"#\" className={`action-icon sf2-icon-x3 ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Leave Share')} onClick={this.leaveShare}></a>}\n        </td>\n      </tr>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  path: PropTypes.string.isRequired,\n  leaveShare: PropTypes.func.isRequired,\n  openFolder: PropTypes.func.isRequired,\n};\n\nclass DirPath extends React.Component {\n\n  static propTypes = {\n    currentPath: PropTypes.string.isRequired,\n    onPathClick: PropTypes.func.isRequired,\n    getAllReceivedShares: PropTypes.func.isRequired,\n  };\n\n  constructor(props) {\n    super(props);\n    this.state = {\n    };\n  }\n\n  onPathClick = (e) => {\n    let path = Utils.getEventData(e, 'path');\n    this.props.onPathClick(path);\n  };\n\n  turnPathToLink = (path) => {\n    path = path.slice(1, path.length - 1);\n    let pathList = path.split('/');\n    let nodePath = '';\n    let pathElem = pathList.map((item, index) => {\n      if (index === (pathList.length - 1)) {\n        return (\n          <Fragment key={index}>\n            <span className=\"path-split\">/</span>\n            <span className=\"path-file-name\">{item}</span>\n          </Fragment>\n        );\n      } else {\n        if (index === 0) {\n          nodePath = '/';\n        } else {\n          nodePath += item + '/';\n        }\n        return (\n          <Fragment key={index} >\n            <span className=\"path-split\">/</span>\n            <a className=\"path-link\" data-path={nodePath} onClick={this.onPathClick}>{item}</a>\n          </Fragment>\n        );\n      }\n    });\n    return pathElem;\n  };\n\n  render() {\n    let pathElem = this.turnPathToLink(this.props.currentPath);\n    return (\n      <div className=\"path-container\">\n        <a href=\"#\" onClick={this.props.getAllReceivedShares}>{gettext('All')}</a>\n        {pathElem}\n      </div>\n    );\n  }\n}\n\nDirPath.propTypes = {\n  shareID: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  getAllReceivedShares: PropTypes.func.isRequired,\n};\n\nexport default OCMViaWebdav;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}