{"ast":null,"code":"import _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar LocalStorage = /*#__PURE__*/function () {\n  function LocalStorage() {\n    _classCallCheck(this, LocalStorage);\n  }\n  _createClass(LocalStorage, null, [{\n    key: \"setItem\",\n    value: function setItem(key, value) {\n      var savedValue;\n      var valueType = typeof value;\n      if (valueType === 'string') {\n        savedValue = value;\n      } else if (valueType === 'number') {\n        savedValue = value + '';\n      } else {\n        savedValue = JSON.stringify(value);\n      }\n      return window.localStorage.setItem(key, savedValue);\n    }\n  }, {\n    key: \"getItem\",\n    value: function getItem(key, defaultValue) {\n      var value = window.localStorage.getItem(key);\n      try {\n        return JSON.parse(value) || defaultValue;\n      } catch (_unused) {\n        return value || defaultValue;\n      }\n    }\n  }, {\n    key: \"removeItem\",\n    value: function removeItem(key) {\n      return window.localStorage.removeItem(key);\n    }\n\n    // The setExpire and getExpire methods used to satisfy some cases that need to be updated regularly\n  }, {\n    key: \"setExpire\",\n    value: function setExpire(key, value, expire) {\n      var obj = {\n        data: value,\n        time: Date.now(),\n        expire: expire\n      };\n      this.setItem(key, JSON.stringify(obj));\n    }\n  }, {\n    key: \"getExpire\",\n    value: function getExpire(key) {\n      var val = this.getItem(key);\n      if (!val) return val;\n      val = JSON.parse(val);\n      if (Date.now() - val.time > val.expire) {\n        this.removeItem(key);\n        return null;\n      }\n      return val.data;\n    }\n  }]);\n  return LocalStorage;\n}();\nexport default LocalStorage;","map":{"version":3,"names":["LocalStorage","_classCallCheck","_createClass","key","value","setItem","savedValue","valueType","JSON","stringify","window","localStorage","getItem","defaultValue","parse","_unused","removeItem","setExpire","expire","obj","data","time","Date","now","getExpire","val"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/utils/local-storage-utils.js"],"sourcesContent":["class LocalStorage {\n  static setItem(key, value) {\n    let savedValue;\n    const valueType = typeof value;\n    if (valueType === 'string') {\n      savedValue = value;\n    } else if (valueType === 'number') {\n      savedValue = value + '';\n    } else {\n      savedValue = JSON.stringify(value);\n    }\n    return window.localStorage.setItem(key, savedValue);\n  }\n  static getItem(key, defaultValue) {\n    const value = window.localStorage.getItem(key);\n    try {\n      return JSON.parse(value) || defaultValue;\n    } catch {\n      return value || defaultValue;\n    }\n  }\n  static removeItem(key) {\n    return window.localStorage.removeItem(key);\n  }\n\n  // The setExpire and getExpire methods used to satisfy some cases that need to be updated regularly\n  static setExpire(key, value, expire) {\n    let obj = {\n      data: value,\n      time: Date.now(),\n      expire: expire\n    };\n    this.setItem(key, JSON.stringify(obj));\n  }\n  static getExpire(key) {\n    let val = this.getItem(key);\n    if (!val) return val;\n    val = JSON.parse(val);\n    if (Date.now() - val.time > val.expire) {\n      this.removeItem(key);\n      return null;\n    }\n    return val.data;\n  }\n}\nexport default LocalStorage;"],"mappings":";;IAAMA,YAAY;EAAA,SAAAA,aAAA;IAAAC,eAAA,OAAAD,YAAA;EAAA;EAAAE,YAAA,CAAAF,YAAA;IAAAG,GAAA;IAAAC,KAAA,EAChB,SAAAC,QAAeF,GAAG,EAAEC,KAAK,EAAE;MACzB,IAAIE,UAAU;MACd,IAAMC,SAAS,GAAG,OAAOH,KAAK;MAC9B,IAAIG,SAAS,KAAK,QAAQ,EAAE;QAC1BD,UAAU,GAAGF,KAAK;MACpB,CAAC,MAAM,IAAIG,SAAS,KAAK,QAAQ,EAAE;QACjCD,UAAU,GAAGF,KAAK,GAAG,EAAE;MACzB,CAAC,MAAM;QACLE,UAAU,GAAGE,IAAI,CAACC,SAAS,CAACL,KAAK,CAAC;MACpC;MACA,OAAOM,MAAM,CAACC,YAAY,CAACN,OAAO,CAACF,GAAG,EAAEG,UAAU,CAAC;IACrD;EAAC;IAAAH,GAAA;IAAAC,KAAA,EACD,SAAAQ,QAAeT,GAAG,EAAEU,YAAY,EAAE;MAChC,IAAMT,KAAK,GAAGM,MAAM,CAACC,YAAY,CAACC,OAAO,CAACT,GAAG,CAAC;MAC9C,IAAI;QACF,OAAOK,IAAI,CAACM,KAAK,CAACV,KAAK,CAAC,IAAIS,YAAY;MAC1C,CAAC,CAAC,OAAAE,OAAA,EAAM;QACN,OAAOX,KAAK,IAAIS,YAAY;MAC9B;IACF;EAAC;IAAAV,GAAA;IAAAC,KAAA,EACD,SAAAY,WAAkBb,GAAG,EAAE;MACrB,OAAOO,MAAM,CAACC,YAAY,CAACK,UAAU,CAACb,GAAG,CAAC;IAC5C;;IAEA;EAAA;IAAAA,GAAA;IAAAC,KAAA,EACA,SAAAa,UAAiBd,GAAG,EAAEC,KAAK,EAAEc,MAAM,EAAE;MACnC,IAAIC,GAAG,GAAG;QACRC,IAAI,EAAEhB,KAAK;QACXiB,IAAI,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC;QAChBL,MAAM,EAAEA;MACV,CAAC;MACD,IAAI,CAACb,OAAO,CAACF,GAAG,EAAEK,IAAI,CAACC,SAAS,CAACU,GAAG,CAAC,CAAC;IACxC;EAAC;IAAAhB,GAAA;IAAAC,KAAA,EACD,SAAAoB,UAAiBrB,GAAG,EAAE;MACpB,IAAIsB,GAAG,GAAG,IAAI,CAACb,OAAO,CAACT,GAAG,CAAC;MAC3B,IAAI,CAACsB,GAAG,EAAE,OAAOA,GAAG;MACpBA,GAAG,GAAGjB,IAAI,CAACM,KAAK,CAACW,GAAG,CAAC;MACrB,IAAIH,IAAI,CAACC,GAAG,CAAC,CAAC,GAAGE,GAAG,CAACJ,IAAI,GAAGI,GAAG,CAACP,MAAM,EAAE;QACtC,IAAI,CAACF,UAAU,CAACb,GAAG,CAAC;QACpB,OAAO,IAAI;MACb;MACA,OAAOsB,GAAG,CAACL,IAAI;IACjB;EAAC;EAAA,OAAApB,YAAA;AAAA;AAEH,eAAeA,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}