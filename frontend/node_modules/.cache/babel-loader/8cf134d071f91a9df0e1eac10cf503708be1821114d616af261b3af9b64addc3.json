{"ast":null,"code":"import _inherits from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _createForOfIteratorHelper from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport { Decoration, showPanel, EditorView, ViewPlugin, logException, gutter, showTooltip, hoverTooltip, getPanel, WidgetType, GutterMarker } from '@codemirror/view';\nimport { StateEffect, StateField, Facet, combineConfig, RangeSet } from '@codemirror/state';\nimport elt from 'crelt';\nvar SelectedDiagnostic = /*#__PURE__*/_createClass(function SelectedDiagnostic(from, to, diagnostic) {\n  _classCallCheck(this, SelectedDiagnostic);\n  this.from = from;\n  this.to = to;\n  this.diagnostic = diagnostic;\n});\nvar LintState = /*#__PURE__*/function () {\n  function LintState(diagnostics, panel, selected) {\n    _classCallCheck(this, LintState);\n    this.diagnostics = diagnostics;\n    this.panel = panel;\n    this.selected = selected;\n  }\n  _createClass(LintState, null, [{\n    key: \"init\",\n    value: function init(diagnostics, panel, state) {\n      // Filter the list of diagnostics for which to create markers\n      var markedDiagnostics = diagnostics;\n      var diagnosticFilter = state.facet(lintConfig).markerFilter;\n      if (diagnosticFilter) markedDiagnostics = diagnosticFilter(markedDiagnostics);\n      var ranges = Decoration.set(markedDiagnostics.map(function (d) {\n        // For zero-length ranges or ranges covering only a line break, create a widget\n        return d.from == d.to || d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from ? Decoration.widget({\n          widget: new DiagnosticWidget(d),\n          diagnostic: d\n        }).range(d.from) : Decoration.mark({\n          attributes: {\n            class: \"cm-lintRange cm-lintRange-\" + d.severity + (d.markClass ? \" \" + d.markClass : \"\")\n          },\n          diagnostic: d\n        }).range(d.from, d.to);\n      }), true);\n      return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n  }]);\n  return LintState;\n}();\nfunction findDiagnostic(diagnostics) {\n  var diagnostic = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : null;\n  var after = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;\n  var found = null;\n  diagnostics.between(after, 1e9, function (from, to, _ref) {\n    var spec = _ref.spec;\n    if (diagnostic && spec.diagnostic != diagnostic) return;\n    found = new SelectedDiagnostic(from, to, spec.diagnostic);\n    return false;\n  });\n  return found;\n}\nfunction hideTooltip(tr, tooltip) {\n  var line = tr.startState.doc.lineAt(tooltip.pos);\n  return !!(tr.effects.some(function (e) {\n    return e.is(setDiagnosticsEffect);\n  }) || tr.changes.touchesRange(line.from, line.to));\n}\nfunction maybeEnableLint(state, effects) {\n  return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of(lintExtensions));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics, and enables the lint extension if if wasn't already\nactive.\n*/\nfunction setDiagnostics(state, diagnostics) {\n  return {\n    effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)])\n  };\n}\n/**\nThe state effect that updates the set of active diagnostics. Can\nbe useful when writing an extension that needs to track these.\n*/\nvar setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nvar togglePanel = /*@__PURE__*/StateEffect.define();\nvar movePanelSelection = /*@__PURE__*/StateEffect.define();\nvar lintState = /*@__PURE__*/StateField.define({\n  create: function create() {\n    return new LintState(Decoration.none, null, null);\n  },\n  update: function update(value, tr) {\n    if (tr.docChanged) {\n      var mapped = value.diagnostics.map(tr.changes),\n        selected = null;\n      if (value.selected) {\n        var selPos = tr.changes.mapPos(value.selected.from, 1);\n        selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n      }\n      value = new LintState(mapped, value.panel, selected);\n    }\n    var _iterator = _createForOfIteratorHelper(tr.effects),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var effect = _step.value;\n        if (effect.is(setDiagnosticsEffect)) {\n          value = LintState.init(effect.value, value.panel, tr.state);\n        } else if (effect.is(togglePanel)) {\n          value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n        } else if (effect.is(movePanelSelection)) {\n          value = new LintState(value.diagnostics, value.panel, effect.value);\n        }\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n    return value;\n  },\n  provide: function provide(f) {\n    return [showPanel.from(f, function (val) {\n      return val.panel;\n    }), EditorView.decorations.from(f, function (s) {\n      return s.diagnostics;\n    })];\n  }\n});\n/**\nReturns the number of active lint diagnostics in the given state.\n*/\nfunction diagnosticCount(state) {\n  var lint = state.field(lintState, false);\n  return lint ? lint.diagnostics.size : 0;\n}\nvar activeMark = /*@__PURE__*/Decoration.mark({\n  class: \"cm-lintRange cm-lintRange-active\"\n});\nfunction lintTooltip(view, pos, side) {\n  var _view$state$field = view.state.field(lintState),\n    diagnostics = _view$state$field.diagnostics;\n  var found = [],\n    stackStart = 2e8,\n    stackEnd = 0;\n  diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), function (from, to, _ref2) {\n    var spec = _ref2.spec;\n    if (pos >= from && pos <= to && (from == to || (pos > from || side > 0) && (pos < to || side < 0))) {\n      found.push(spec.diagnostic);\n      stackStart = Math.min(from, stackStart);\n      stackEnd = Math.max(to, stackEnd);\n    }\n  });\n  var diagnosticFilter = view.state.facet(lintConfig).tooltipFilter;\n  if (diagnosticFilter) found = diagnosticFilter(found);\n  if (!found.length) return null;\n  return {\n    pos: stackStart,\n    end: stackEnd,\n    above: view.state.doc.lineAt(stackStart).to < stackEnd,\n    create: function create() {\n      return {\n        dom: diagnosticsTooltip(view, found)\n      };\n    }\n  };\n}\nfunction diagnosticsTooltip(view, diagnostics) {\n  return elt(\"ul\", {\n    class: \"cm-tooltip-lint\"\n  }, diagnostics.map(function (d) {\n    return renderDiagnostic(view, d, false);\n  }));\n}\n/**\nCommand to open and focus the lint panel.\n*/\nvar openLintPanel = function openLintPanel(view) {\n  var field = view.state.field(lintState, false);\n  if (!field || !field.panel) view.dispatch({\n    effects: maybeEnableLint(view.state, [togglePanel.of(true)])\n  });\n  var panel = getPanel(view, LintPanel.open);\n  if (panel) panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n  return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nvar closeLintPanel = function closeLintPanel(view) {\n  var field = view.state.field(lintState, false);\n  if (!field || !field.panel) return false;\n  view.dispatch({\n    effects: togglePanel.of(false)\n  });\n  return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nvar nextDiagnostic = function nextDiagnostic(view) {\n  var field = view.state.field(lintState, false);\n  if (!field) return false;\n  var sel = view.state.selection.main,\n    next = field.diagnostics.iter(sel.to + 1);\n  if (!next.value) {\n    next = field.diagnostics.iter(0);\n    if (!next.value || next.from == sel.from && next.to == sel.to) return false;\n  }\n  view.dispatch({\n    selection: {\n      anchor: next.from,\n      head: next.to\n    },\n    scrollIntoView: true\n  });\n  return true;\n};\n/**\nMove the selection to the previous diagnostic.\n*/\nvar previousDiagnostic = function previousDiagnostic(view) {\n  var state = view.state,\n    field = state.field(lintState, false);\n  if (!field) return false;\n  var sel = state.selection.main;\n  var prevFrom, prevTo, lastFrom, lastTo;\n  field.diagnostics.between(0, state.doc.length, function (from, to) {\n    if (to < sel.to && (prevFrom == null || prevFrom < from)) {\n      prevFrom = from;\n      prevTo = to;\n    }\n    if (lastFrom == null || from > lastFrom) {\n      lastFrom = from;\n      lastTo = to;\n    }\n  });\n  if (lastFrom == null || prevFrom == null && lastFrom == sel.from) return false;\n  view.dispatch({\n    selection: {\n      anchor: prevFrom !== null && prevFrom !== void 0 ? prevFrom : lastFrom,\n      head: prevTo !== null && prevTo !== void 0 ? prevTo : lastTo\n    },\n    scrollIntoView: true\n  });\n  return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nvar lintKeymap = [{\n  key: \"Mod-Shift-m\",\n  run: openLintPanel,\n  preventDefault: true\n}, {\n  key: \"F8\",\n  run: nextDiagnostic\n}];\nvar lintPlugin = /*@__PURE__*/ViewPlugin.fromClass( /*#__PURE__*/function () {\n  function _class(view) {\n    _classCallCheck(this, _class);\n    this.view = view;\n    this.timeout = -1;\n    this.set = true;\n    var _view$state$facet = view.state.facet(lintConfig),\n      delay = _view$state$facet.delay;\n    this.lintTime = Date.now() + delay;\n    this.run = this.run.bind(this);\n    this.timeout = setTimeout(this.run, delay);\n  }\n  _createClass(_class, [{\n    key: \"run\",\n    value: function run() {\n      var _this = this;\n      var now = Date.now();\n      if (now < this.lintTime - 10) {\n        this.timeout = setTimeout(this.run, this.lintTime - now);\n      } else {\n        this.set = false;\n        var state = this.view.state,\n          _state$facet = state.facet(lintConfig),\n          sources = _state$facet.sources;\n        Promise.all(sources.map(function (source) {\n          return Promise.resolve(source(_this.view));\n        })).then(function (annotations) {\n          var all = annotations.reduce(function (a, b) {\n            return a.concat(b);\n          });\n          if (_this.view.state.doc == state.doc) _this.view.dispatch(setDiagnostics(_this.view.state, all));\n        }, function (error) {\n          logException(_this.view.state, error);\n        });\n      }\n    }\n  }, {\n    key: \"update\",\n    value: function update(_update) {\n      var config = _update.state.facet(lintConfig);\n      if (_update.docChanged || config != _update.startState.facet(lintConfig) || config.needsRefresh && config.needsRefresh(_update)) {\n        this.lintTime = Date.now() + config.delay;\n        if (!this.set) {\n          this.set = true;\n          this.timeout = setTimeout(this.run, config.delay);\n        }\n      }\n    }\n  }, {\n    key: \"force\",\n    value: function force() {\n      if (this.set) {\n        this.lintTime = Date.now();\n        this.run();\n      }\n    }\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      clearTimeout(this.timeout);\n    }\n  }]);\n  return _class;\n}());\nvar lintConfig = /*@__PURE__*/Facet.define({\n  combine: function combine(input) {\n    return Object.assign({\n      sources: input.map(function (i) {\n        return i.source;\n      })\n    }, combineConfig(input.map(function (i) {\n      return i.config;\n    }), {\n      delay: 750,\n      markerFilter: null,\n      tooltipFilter: null,\n      needsRefresh: null\n    }, {\n      needsRefresh: function needsRefresh(a, b) {\n        return !a ? b : !b ? a : function (u) {\n          return a(u) || b(u);\n        };\n      }\n    }));\n  }\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source) {\n  var config = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  return [lintConfig.of({\n    source: source,\n    config: config\n  }), lintPlugin, lintExtensions];\n}\n/**\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\neditor is idle to run right away.\n*/\nfunction forceLinting(view) {\n  var plugin = view.plugin(lintPlugin);\n  if (plugin) plugin.force();\n}\nfunction assignKeys(actions) {\n  var assigned = [];\n  if (actions) {\n    var _iterator2 = _createForOfIteratorHelper(actions),\n      _step2;\n    try {\n      actions: for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n        var name = _step2.value.name;\n        var _loop = function _loop() {\n          var ch = name[i];\n          if (/[a-zA-Z]/.test(ch) && !assigned.some(function (c) {\n            return c.toLowerCase() == ch.toLowerCase();\n          })) {\n            assigned.push(ch);\n            return 1; // continue actions\n          }\n        };\n        for (var i = 0; i < name.length; i++) {\n          if (_loop()) continue actions;\n        }\n        assigned.push(\"\");\n      }\n    } catch (err) {\n      _iterator2.e(err);\n    } finally {\n      _iterator2.f();\n    }\n  }\n  return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n  var _a;\n  var keys = inPanel ? assignKeys(diagnostic.actions) : [];\n  return elt(\"li\", {\n    class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity\n  }, elt(\"span\", {\n    class: \"cm-diagnosticText\"\n  }, diagnostic.renderMessage ? diagnostic.renderMessage() : diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map(function (action, i) {\n    var fired = false,\n      click = function click(e) {\n        e.preventDefault();\n        if (fired) return;\n        fired = true;\n        var found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n        if (found) action.apply(view, found.from, found.to);\n      };\n    var name = action.name,\n      keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n    var nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex), elt(\"u\", name.slice(keyIndex, keyIndex + 1)), name.slice(keyIndex + 1)];\n    return elt(\"button\", {\n      type: \"button\",\n      class: \"cm-diagnosticAction\",\n      onclick: click,\n      onmousedown: click,\n      \"aria-label\": \" Action: \".concat(name).concat(keyIndex < 0 ? \"\" : \" (access key \\\"\".concat(keys[i], \")\\\"\"), \".\")\n    }, nameElt);\n  }), diagnostic.source && elt(\"div\", {\n    class: \"cm-diagnosticSource\"\n  }, diagnostic.source));\n}\nvar DiagnosticWidget = /*#__PURE__*/function (_WidgetType) {\n  _inherits(DiagnosticWidget, _WidgetType);\n  var _super = _createSuper(DiagnosticWidget);\n  function DiagnosticWidget(diagnostic) {\n    var _this2;\n    _classCallCheck(this, DiagnosticWidget);\n    _this2 = _super.call(this);\n    _this2.diagnostic = diagnostic;\n    return _this2;\n  }\n  _createClass(DiagnosticWidget, [{\n    key: \"eq\",\n    value: function eq(other) {\n      return other.diagnostic == this.diagnostic;\n    }\n  }, {\n    key: \"toDOM\",\n    value: function toDOM() {\n      return elt(\"span\", {\n        class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity\n      });\n    }\n  }]);\n  return DiagnosticWidget;\n}(WidgetType);\nvar PanelItem = /*#__PURE__*/_createClass(function PanelItem(view, diagnostic) {\n  _classCallCheck(this, PanelItem);\n  this.diagnostic = diagnostic;\n  this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n  this.dom = renderDiagnostic(view, diagnostic, true);\n  this.dom.id = this.id;\n  this.dom.setAttribute(\"role\", \"option\");\n});\nvar LintPanel = /*#__PURE__*/function () {\n  function LintPanel(view) {\n    var _this3 = this;\n    _classCallCheck(this, LintPanel);\n    this.view = view;\n    this.items = [];\n    var onkeydown = function onkeydown(event) {\n      if (event.keyCode == 27) {\n        // Escape\n        closeLintPanel(_this3.view);\n        _this3.view.focus();\n      } else if (event.keyCode == 38 || event.keyCode == 33) {\n        // ArrowUp, PageUp\n        _this3.moveSelection((_this3.selectedIndex - 1 + _this3.items.length) % _this3.items.length);\n      } else if (event.keyCode == 40 || event.keyCode == 34) {\n        // ArrowDown, PageDown\n        _this3.moveSelection((_this3.selectedIndex + 1) % _this3.items.length);\n      } else if (event.keyCode == 36) {\n        // Home\n        _this3.moveSelection(0);\n      } else if (event.keyCode == 35) {\n        // End\n        _this3.moveSelection(_this3.items.length - 1);\n      } else if (event.keyCode == 13) {\n        // Enter\n        _this3.view.focus();\n      } else if (event.keyCode >= 65 && event.keyCode <= 90 && _this3.selectedIndex >= 0) {\n        // A-Z\n        var diagnostic = _this3.items[_this3.selectedIndex].diagnostic,\n          keys = assignKeys(diagnostic.actions);\n        for (var i = 0; i < keys.length; i++) if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n          var found = findDiagnostic(_this3.view.state.field(lintState).diagnostics, diagnostic);\n          if (found) diagnostic.actions[i].apply(view, found.from, found.to);\n        }\n      } else {\n        return;\n      }\n      event.preventDefault();\n    };\n    var onclick = function onclick(event) {\n      for (var i = 0; i < _this3.items.length; i++) {\n        if (_this3.items[i].dom.contains(event.target)) _this3.moveSelection(i);\n      }\n    };\n    this.list = elt(\"ul\", {\n      tabIndex: 0,\n      role: \"listbox\",\n      \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n      onkeydown: onkeydown,\n      onclick: onclick\n    });\n    this.dom = elt(\"div\", {\n      class: \"cm-panel-lint\"\n    }, this.list, elt(\"button\", {\n      type: \"button\",\n      name: \"close\",\n      \"aria-label\": this.view.state.phrase(\"close\"),\n      onclick: function onclick() {\n        return closeLintPanel(_this3.view);\n      }\n    }, \"Ã—\"));\n    this.update();\n  }\n  _createClass(LintPanel, [{\n    key: \"selectedIndex\",\n    get: function get() {\n      var selected = this.view.state.field(lintState).selected;\n      if (!selected) return -1;\n      for (var i = 0; i < this.items.length; i++) if (this.items[i].diagnostic == selected.diagnostic) return i;\n      return -1;\n    }\n  }, {\n    key: \"update\",\n    value: function update() {\n      var _this4 = this;\n      var _this$view$state$fiel = this.view.state.field(lintState),\n        diagnostics = _this$view$state$fiel.diagnostics,\n        selected = _this$view$state$fiel.selected;\n      var i = 0,\n        needsSync = false,\n        newSelectedItem = null;\n      diagnostics.between(0, this.view.state.doc.length, function (_start, _end, _ref3) {\n        var spec = _ref3.spec;\n        var found = -1,\n          item;\n        for (var j = i; j < _this4.items.length; j++) if (_this4.items[j].diagnostic == spec.diagnostic) {\n          found = j;\n          break;\n        }\n        if (found < 0) {\n          item = new PanelItem(_this4.view, spec.diagnostic);\n          _this4.items.splice(i, 0, item);\n          needsSync = true;\n        } else {\n          item = _this4.items[found];\n          if (found > i) {\n            _this4.items.splice(i, found - i);\n            needsSync = true;\n          }\n        }\n        if (selected && item.diagnostic == selected.diagnostic) {\n          if (!item.dom.hasAttribute(\"aria-selected\")) {\n            item.dom.setAttribute(\"aria-selected\", \"true\");\n            newSelectedItem = item;\n          }\n        } else if (item.dom.hasAttribute(\"aria-selected\")) {\n          item.dom.removeAttribute(\"aria-selected\");\n        }\n        i++;\n      });\n      while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n        needsSync = true;\n        this.items.pop();\n      }\n      if (this.items.length == 0) {\n        this.items.push(new PanelItem(this.view, {\n          from: -1,\n          to: -1,\n          severity: \"info\",\n          message: this.view.state.phrase(\"No diagnostics\")\n        }));\n        needsSync = true;\n      }\n      if (newSelectedItem) {\n        this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n        this.view.requestMeasure({\n          key: this,\n          read: function read() {\n            return {\n              sel: newSelectedItem.dom.getBoundingClientRect(),\n              panel: _this4.list.getBoundingClientRect()\n            };\n          },\n          write: function write(_ref4) {\n            var sel = _ref4.sel,\n              panel = _ref4.panel;\n            if (sel.top < panel.top) _this4.list.scrollTop -= panel.top - sel.top;else if (sel.bottom > panel.bottom) _this4.list.scrollTop += sel.bottom - panel.bottom;\n          }\n        });\n      } else if (this.selectedIndex < 0) {\n        this.list.removeAttribute(\"aria-activedescendant\");\n      }\n      if (needsSync) this.sync();\n    }\n  }, {\n    key: \"sync\",\n    value: function sync() {\n      var domPos = this.list.firstChild;\n      function rm() {\n        var prev = domPos;\n        domPos = prev.nextSibling;\n        prev.remove();\n      }\n      var _iterator3 = _createForOfIteratorHelper(this.items),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var item = _step3.value;\n          if (item.dom.parentNode == this.list) {\n            while (domPos != item.dom) rm();\n            domPos = item.dom.nextSibling;\n          } else {\n            this.list.insertBefore(item.dom, domPos);\n          }\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n      while (domPos) rm();\n    }\n  }, {\n    key: \"moveSelection\",\n    value: function moveSelection(selectedIndex) {\n      if (this.selectedIndex < 0) return;\n      var field = this.view.state.field(lintState);\n      var selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n      if (!selection) return;\n      this.view.dispatch({\n        selection: {\n          anchor: selection.from,\n          head: selection.to\n        },\n        scrollIntoView: true,\n        effects: movePanelSelection.of(selection)\n      });\n    }\n  }], [{\n    key: \"open\",\n    value: function open(view) {\n      return new LintPanel(view);\n    }\n  }]);\n  return LintPanel;\n}();\nfunction svg(content) {\n  var attrs = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"viewBox=\\\"0 0 40 40\\\"\";\n  return \"url('data:image/svg+xml,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" \".concat(attrs, \">\").concat(encodeURIComponent(content), \"</svg>')\");\n}\nfunction underline(color) {\n  return svg(\"<path d=\\\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\\\" stroke=\\\"\".concat(color, \"\\\" fill=\\\"none\\\" stroke-width=\\\".7\\\"/>\"), \"width=\\\"6\\\" height=\\\"3\\\"\");\n}\nvar baseTheme = /*@__PURE__*/EditorView.baseTheme({\n  \".cm-diagnostic\": {\n    padding: \"3px 6px 3px 8px\",\n    marginLeft: \"-1px\",\n    display: \"block\",\n    whiteSpace: \"pre-wrap\"\n  },\n  \".cm-diagnostic-error\": {\n    borderLeft: \"5px solid #d11\"\n  },\n  \".cm-diagnostic-warning\": {\n    borderLeft: \"5px solid orange\"\n  },\n  \".cm-diagnostic-info\": {\n    borderLeft: \"5px solid #999\"\n  },\n  \".cm-diagnostic-hint\": {\n    borderLeft: \"5px solid #66d\"\n  },\n  \".cm-diagnosticAction\": {\n    font: \"inherit\",\n    border: \"none\",\n    padding: \"2px 4px\",\n    backgroundColor: \"#444\",\n    color: \"white\",\n    borderRadius: \"3px\",\n    marginLeft: \"8px\",\n    cursor: \"pointer\"\n  },\n  \".cm-diagnosticSource\": {\n    fontSize: \"70%\",\n    opacity: .7\n  },\n  \".cm-lintRange\": {\n    backgroundPosition: \"left bottom\",\n    backgroundRepeat: \"repeat-x\",\n    paddingBottom: \"0.7px\"\n  },\n  \".cm-lintRange-error\": {\n    backgroundImage: /*@__PURE__*/underline(\"#d11\")\n  },\n  \".cm-lintRange-warning\": {\n    backgroundImage: /*@__PURE__*/underline(\"orange\")\n  },\n  \".cm-lintRange-info\": {\n    backgroundImage: /*@__PURE__*/underline(\"#999\")\n  },\n  \".cm-lintRange-hint\": {\n    backgroundImage: /*@__PURE__*/underline(\"#66d\")\n  },\n  \".cm-lintRange-active\": {\n    backgroundColor: \"#ffdd9980\"\n  },\n  \".cm-tooltip-lint\": {\n    padding: 0,\n    margin: 0\n  },\n  \".cm-lintPoint\": {\n    position: \"relative\",\n    \"&:after\": {\n      content: '\"\"',\n      position: \"absolute\",\n      bottom: 0,\n      left: \"-2px\",\n      borderLeft: \"3px solid transparent\",\n      borderRight: \"3px solid transparent\",\n      borderBottom: \"4px solid #d11\"\n    }\n  },\n  \".cm-lintPoint-warning\": {\n    \"&:after\": {\n      borderBottomColor: \"orange\"\n    }\n  },\n  \".cm-lintPoint-info\": {\n    \"&:after\": {\n      borderBottomColor: \"#999\"\n    }\n  },\n  \".cm-lintPoint-hint\": {\n    \"&:after\": {\n      borderBottomColor: \"#66d\"\n    }\n  },\n  \".cm-panel.cm-panel-lint\": {\n    position: \"relative\",\n    \"& ul\": {\n      maxHeight: \"100px\",\n      overflowY: \"auto\",\n      \"& [aria-selected]\": {\n        backgroundColor: \"#ddd\",\n        \"& u\": {\n          textDecoration: \"underline\"\n        }\n      },\n      \"&:focus [aria-selected]\": {\n        background_fallback: \"#bdf\",\n        backgroundColor: \"Highlight\",\n        color_fallback: \"white\",\n        color: \"HighlightText\"\n      },\n      \"& u\": {\n        textDecoration: \"none\"\n      },\n      padding: 0,\n      margin: 0\n    },\n    \"& [name=close]\": {\n      position: \"absolute\",\n      top: \"0\",\n      right: \"2px\",\n      background: \"inherit\",\n      border: \"none\",\n      font: \"inherit\",\n      padding: 0,\n      margin: 0\n    }\n  }\n});\nfunction severityWeight(sev) {\n  return sev == \"error\" ? 4 : sev == \"warning\" ? 3 : sev == \"info\" ? 2 : 1;\n}\nvar LintGutterMarker = /*#__PURE__*/function (_GutterMarker) {\n  _inherits(LintGutterMarker, _GutterMarker);\n  var _super2 = _createSuper(LintGutterMarker);\n  function LintGutterMarker(diagnostics) {\n    var _this5;\n    _classCallCheck(this, LintGutterMarker);\n    _this5 = _super2.call(this);\n    _this5.diagnostics = diagnostics;\n    _this5.severity = diagnostics.reduce(function (max, d) {\n      return severityWeight(max) < severityWeight(d.severity) ? d.severity : max;\n    }, \"hint\");\n    return _this5;\n  }\n  _createClass(LintGutterMarker, [{\n    key: \"toDOM\",\n    value: function toDOM(view) {\n      var elt = document.createElement(\"div\");\n      elt.className = \"cm-lint-marker cm-lint-marker-\" + this.severity;\n      var diagnostics = this.diagnostics;\n      var diagnosticsFilter = view.state.facet(lintGutterConfig).tooltipFilter;\n      if (diagnosticsFilter) diagnostics = diagnosticsFilter(diagnostics);\n      if (diagnostics.length) elt.onmouseover = function () {\n        return gutterMarkerMouseOver(view, elt, diagnostics);\n      };\n      return elt;\n    }\n  }]);\n  return LintGutterMarker;\n}(GutterMarker);\nfunction trackHoverOn(view, marker) {\n  var mousemove = function mousemove(event) {\n    var rect = marker.getBoundingClientRect();\n    if (event.clientX > rect.left - 10 /* Hover.Margin */ && event.clientX < rect.right + 10 /* Hover.Margin */ && event.clientY > rect.top - 10 /* Hover.Margin */ && event.clientY < rect.bottom + 10 /* Hover.Margin */) return;\n    for (var target = event.target; target; target = target.parentNode) {\n      if (target.nodeType == 1 && target.classList.contains(\"cm-tooltip-lint\")) return;\n    }\n    window.removeEventListener(\"mousemove\", mousemove);\n    if (view.state.field(lintGutterTooltip)) view.dispatch({\n      effects: setLintGutterTooltip.of(null)\n    });\n  };\n  window.addEventListener(\"mousemove\", mousemove);\n}\nfunction gutterMarkerMouseOver(view, marker, diagnostics) {\n  function hovered() {\n    var line = view.elementAtHeight(marker.getBoundingClientRect().top + 5 - view.documentTop);\n    var linePos = view.coordsAtPos(line.from);\n    if (linePos) {\n      view.dispatch({\n        effects: setLintGutterTooltip.of({\n          pos: line.from,\n          above: false,\n          create: function create() {\n            return {\n              dom: diagnosticsTooltip(view, diagnostics),\n              getCoords: function getCoords() {\n                return marker.getBoundingClientRect();\n              }\n            };\n          }\n        })\n      });\n    }\n    marker.onmouseout = marker.onmousemove = null;\n    trackHoverOn(view, marker);\n  }\n  var _view$state$facet2 = view.state.facet(lintGutterConfig),\n    hoverTime = _view$state$facet2.hoverTime;\n  var hoverTimeout = setTimeout(hovered, hoverTime);\n  marker.onmouseout = function () {\n    clearTimeout(hoverTimeout);\n    marker.onmouseout = marker.onmousemove = null;\n  };\n  marker.onmousemove = function () {\n    clearTimeout(hoverTimeout);\n    hoverTimeout = setTimeout(hovered, hoverTime);\n  };\n}\nfunction markersForDiagnostics(doc, diagnostics) {\n  var byLine = Object.create(null);\n  var _iterator4 = _createForOfIteratorHelper(diagnostics),\n    _step4;\n  try {\n    for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n      var diagnostic = _step4.value;\n      var _line = doc.lineAt(diagnostic.from);\n      (byLine[_line.from] || (byLine[_line.from] = [])).push(diagnostic);\n    }\n  } catch (err) {\n    _iterator4.e(err);\n  } finally {\n    _iterator4.f();\n  }\n  var markers = [];\n  for (var line in byLine) {\n    markers.push(new LintGutterMarker(byLine[line]).range(+line));\n  }\n  return RangeSet.of(markers, true);\n}\nvar lintGutterExtension = /*@__PURE__*/gutter({\n  class: \"cm-gutter-lint\",\n  markers: function markers(view) {\n    return view.state.field(lintGutterMarkers);\n  }\n});\nvar lintGutterMarkers = /*@__PURE__*/StateField.define({\n  create: function create() {\n    return RangeSet.empty;\n  },\n  update: function update(markers, tr) {\n    markers = markers.map(tr.changes);\n    var diagnosticFilter = tr.state.facet(lintGutterConfig).markerFilter;\n    var _iterator5 = _createForOfIteratorHelper(tr.effects),\n      _step5;\n    try {\n      for (_iterator5.s(); !(_step5 = _iterator5.n()).done;) {\n        var effect = _step5.value;\n        if (effect.is(setDiagnosticsEffect)) {\n          var diagnostics = effect.value;\n          if (diagnosticFilter) diagnostics = diagnosticFilter(diagnostics || []);\n          markers = markersForDiagnostics(tr.state.doc, diagnostics.slice(0));\n        }\n      }\n    } catch (err) {\n      _iterator5.e(err);\n    } finally {\n      _iterator5.f();\n    }\n    return markers;\n  }\n});\nvar setLintGutterTooltip = /*@__PURE__*/StateEffect.define();\nvar lintGutterTooltip = /*@__PURE__*/StateField.define({\n  create: function create() {\n    return null;\n  },\n  update: function update(tooltip, tr) {\n    if (tooltip && tr.docChanged) tooltip = hideTooltip(tr, tooltip) ? null : Object.assign(Object.assign({}, tooltip), {\n      pos: tr.changes.mapPos(tooltip.pos)\n    });\n    return tr.effects.reduce(function (t, e) {\n      return e.is(setLintGutterTooltip) ? e.value : t;\n    }, tooltip);\n  },\n  provide: function provide(field) {\n    return showTooltip.from(field);\n  }\n});\nvar lintGutterTheme = /*@__PURE__*/EditorView.baseTheme({\n  \".cm-gutter-lint\": {\n    width: \"1.4em\",\n    \"& .cm-gutterElement\": {\n      padding: \".2em\"\n    }\n  },\n  \".cm-lint-marker\": {\n    width: \"1em\",\n    height: \"1em\"\n  },\n  \".cm-lint-marker-info\": {\n    content: /*@__PURE__*/svg(\"<path fill=\\\"#aaf\\\" stroke=\\\"#77e\\\" stroke-width=\\\"6\\\" stroke-linejoin=\\\"round\\\" d=\\\"M5 5L35 5L35 35L5 35Z\\\"/>\")\n  },\n  \".cm-lint-marker-warning\": {\n    content: /*@__PURE__*/svg(\"<path fill=\\\"#fe8\\\" stroke=\\\"#fd7\\\" stroke-width=\\\"6\\\" stroke-linejoin=\\\"round\\\" d=\\\"M20 6L37 35L3 35Z\\\"/>\")\n  },\n  \".cm-lint-marker-error\": {\n    content: /*@__PURE__*/svg(\"<circle cx=\\\"20\\\" cy=\\\"20\\\" r=\\\"15\\\" fill=\\\"#f87\\\" stroke=\\\"#f43\\\" stroke-width=\\\"6\\\"/>\")\n  }\n});\nvar lintExtensions = [lintState, /*@__PURE__*/EditorView.decorations.compute([lintState], function (state) {\n  var _state$field = state.field(lintState),\n    selected = _state$field.selected,\n    panel = _state$field.panel;\n  return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([activeMark.range(selected.from, selected.to)]);\n}), /*@__PURE__*/hoverTooltip(lintTooltip, {\n  hideOn: hideTooltip\n}), baseTheme];\nvar lintGutterConfig = /*@__PURE__*/Facet.define({\n  combine: function combine(configs) {\n    return combineConfig(configs, {\n      hoverTime: 300 /* Hover.Time */,\n      markerFilter: null,\n      tooltipFilter: null\n    });\n  }\n});\n/**\nReturns an extension that installs a gutter showing markers for\neach line that has diagnostics, which can be hovered over to see\nthe diagnostics.\n*/\nfunction lintGutter() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  return [lintGutterConfig.of(config), lintGutterMarkers, lintGutterExtension, lintGutterTheme, lintGutterTooltip];\n}\n/**\nIterate over the marked diagnostics for the given editor state,\ncalling `f` for each of them. Note that, if the document changed\nsince the diagnostics were created, the `Diagnostic` object will\nhold the original outdated position, whereas the `to` and `from`\narguments hold the diagnostic's current position.\n*/\nfunction forEachDiagnostic(state, f) {\n  var lState = state.field(lintState, false);\n  if (lState && lState.diagnostics.size) for (var iter = RangeSet.iter([lState.diagnostics]); iter.value; iter.next()) f(iter.value.spec.diagnostic, iter.from, iter.to);\n}\nexport { closeLintPanel, diagnosticCount, forEachDiagnostic, forceLinting, lintGutter, lintKeymap, linter, nextDiagnostic, openLintPanel, previousDiagnostic, setDiagnostics, setDiagnosticsEffect };","map":{"version":3,"names":["Decoration","showPanel","EditorView","ViewPlugin","logException","gutter","showTooltip","hoverTooltip","getPanel","WidgetType","GutterMarker","StateEffect","StateField","Facet","combineConfig","RangeSet","elt","SelectedDiagnostic","_createClass","from","to","diagnostic","_classCallCheck","LintState","diagnostics","panel","selected","key","value","init","state","markedDiagnostics","diagnosticFilter","facet","lintConfig","markerFilter","ranges","set","map","d","doc","lineAt","widget","DiagnosticWidget","range","mark","attributes","class","severity","markClass","findDiagnostic","arguments","length","undefined","after","found","between","_ref","spec","hideTooltip","tr","tooltip","line","startState","pos","effects","some","e","is","setDiagnosticsEffect","changes","touchesRange","maybeEnableLint","field","lintState","concat","appendConfig","of","lintExtensions","setDiagnostics","define","togglePanel","movePanelSelection","create","none","update","docChanged","mapped","selPos","mapPos","_iterator","_createForOfIteratorHelper","_step","s","n","done","effect","LintPanel","open","err","f","provide","val","decorations","diagnosticCount","lint","size","activeMark","lintTooltip","view","side","_view$state$field","stackStart","stackEnd","_ref2","push","Math","min","max","tooltipFilter","end","above","dom","diagnosticsTooltip","renderDiagnostic","openLintPanel","dispatch","querySelector","focus","closeLintPanel","nextDiagnostic","sel","selection","main","next","iter","anchor","head","scrollIntoView","previousDiagnostic","prevFrom","prevTo","lastFrom","lastTo","lintKeymap","run","preventDefault","lintPlugin","fromClass","_class","timeout","_view$state$facet","delay","lintTime","Date","now","bind","setTimeout","_this","_state$facet","sources","Promise","all","source","resolve","then","annotations","reduce","a","b","error","config","needsRefresh","force","destroy","clearTimeout","combine","input","Object","assign","i","u","linter","forceLinting","plugin","assignKeys","actions","assigned","_iterator2","_step2","name","_loop","ch","test","c","toLowerCase","inPanel","_a","keys","renderMessage","message","action","fired","click","apply","keyIndex","indexOf","nameElt","slice","type","onclick","onmousedown","_WidgetType","_inherits","_super","_createSuper","_this2","call","eq","other","toDOM","PanelItem","id","floor","random","toString","setAttribute","_this3","items","onkeydown","event","keyCode","moveSelection","selectedIndex","toUpperCase","charCodeAt","contains","target","list","tabIndex","role","phrase","get","_this4","_this$view$state$fiel","needsSync","newSelectedItem","_start","_end","_ref3","item","j","splice","hasAttribute","removeAttribute","pop","requestMeasure","read","getBoundingClientRect","write","_ref4","top","scrollTop","bottom","sync","domPos","firstChild","rm","prev","nextSibling","remove","_iterator3","_step3","parentNode","insertBefore","svg","content","attrs","encodeURIComponent","underline","color","baseTheme","padding","marginLeft","display","whiteSpace","borderLeft","font","border","backgroundColor","borderRadius","cursor","fontSize","opacity","backgroundPosition","backgroundRepeat","paddingBottom","backgroundImage","margin","position","left","borderRight","borderBottom","borderBottomColor","maxHeight","overflowY","textDecoration","background_fallback","color_fallback","right","background","severityWeight","sev","LintGutterMarker","_GutterMarker","_super2","_this5","document","createElement","className","diagnosticsFilter","lintGutterConfig","onmouseover","gutterMarkerMouseOver","trackHoverOn","marker","mousemove","rect","clientX","clientY","nodeType","classList","window","removeEventListener","lintGutterTooltip","setLintGutterTooltip","addEventListener","hovered","elementAtHeight","documentTop","linePos","coordsAtPos","getCoords","onmouseout","onmousemove","_view$state$facet2","hoverTime","hoverTimeout","markersForDiagnostics","byLine","_iterator4","_step4","markers","lintGutterExtension","lintGutterMarkers","empty","_iterator5","_step5","t","lintGutterTheme","width","height","compute","_state$field","hideOn","configs","lintGutter","forEachDiagnostic","lState"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@codemirror/lint/dist/index.js"],"sourcesContent":["import { Decoration, showPanel, EditorView, ViewPlugin, logException, gutter, showTooltip, hoverTooltip, getPanel, WidgetType, GutterMarker } from '@codemirror/view';\nimport { StateEffect, StateField, Facet, combineConfig, RangeSet } from '@codemirror/state';\nimport elt from 'crelt';\n\nclass SelectedDiagnostic {\n    constructor(from, to, diagnostic) {\n        this.from = from;\n        this.to = to;\n        this.diagnostic = diagnostic;\n    }\n}\nclass LintState {\n    constructor(diagnostics, panel, selected) {\n        this.diagnostics = diagnostics;\n        this.panel = panel;\n        this.selected = selected;\n    }\n    static init(diagnostics, panel, state) {\n        // Filter the list of diagnostics for which to create markers\n        let markedDiagnostics = diagnostics;\n        let diagnosticFilter = state.facet(lintConfig).markerFilter;\n        if (diagnosticFilter)\n            markedDiagnostics = diagnosticFilter(markedDiagnostics);\n        let ranges = Decoration.set(markedDiagnostics.map((d) => {\n            // For zero-length ranges or ranges covering only a line break, create a widget\n            return d.from == d.to || (d.from == d.to - 1 && state.doc.lineAt(d.from).to == d.from)\n                ? Decoration.widget({\n                    widget: new DiagnosticWidget(d),\n                    diagnostic: d\n                }).range(d.from)\n                : Decoration.mark({\n                    attributes: { class: \"cm-lintRange cm-lintRange-\" + d.severity + (d.markClass ? \" \" + d.markClass : \"\") },\n                    diagnostic: d\n                }).range(d.from, d.to);\n        }), true);\n        return new LintState(ranges, panel, findDiagnostic(ranges));\n    }\n}\nfunction findDiagnostic(diagnostics, diagnostic = null, after = 0) {\n    let found = null;\n    diagnostics.between(after, 1e9, (from, to, { spec }) => {\n        if (diagnostic && spec.diagnostic != diagnostic)\n            return;\n        found = new SelectedDiagnostic(from, to, spec.diagnostic);\n        return false;\n    });\n    return found;\n}\nfunction hideTooltip(tr, tooltip) {\n    let line = tr.startState.doc.lineAt(tooltip.pos);\n    return !!(tr.effects.some(e => e.is(setDiagnosticsEffect)) || tr.changes.touchesRange(line.from, line.to));\n}\nfunction maybeEnableLint(state, effects) {\n    return state.field(lintState, false) ? effects : effects.concat(StateEffect.appendConfig.of(lintExtensions));\n}\n/**\nReturns a transaction spec which updates the current set of\ndiagnostics, and enables the lint extension if if wasn't already\nactive.\n*/\nfunction setDiagnostics(state, diagnostics) {\n    return {\n        effects: maybeEnableLint(state, [setDiagnosticsEffect.of(diagnostics)])\n    };\n}\n/**\nThe state effect that updates the set of active diagnostics. Can\nbe useful when writing an extension that needs to track these.\n*/\nconst setDiagnosticsEffect = /*@__PURE__*/StateEffect.define();\nconst togglePanel = /*@__PURE__*/StateEffect.define();\nconst movePanelSelection = /*@__PURE__*/StateEffect.define();\nconst lintState = /*@__PURE__*/StateField.define({\n    create() {\n        return new LintState(Decoration.none, null, null);\n    },\n    update(value, tr) {\n        if (tr.docChanged) {\n            let mapped = value.diagnostics.map(tr.changes), selected = null;\n            if (value.selected) {\n                let selPos = tr.changes.mapPos(value.selected.from, 1);\n                selected = findDiagnostic(mapped, value.selected.diagnostic, selPos) || findDiagnostic(mapped, null, selPos);\n            }\n            value = new LintState(mapped, value.panel, selected);\n        }\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                value = LintState.init(effect.value, value.panel, tr.state);\n            }\n            else if (effect.is(togglePanel)) {\n                value = new LintState(value.diagnostics, effect.value ? LintPanel.open : null, value.selected);\n            }\n            else if (effect.is(movePanelSelection)) {\n                value = new LintState(value.diagnostics, value.panel, effect.value);\n            }\n        }\n        return value;\n    },\n    provide: f => [showPanel.from(f, val => val.panel),\n        EditorView.decorations.from(f, s => s.diagnostics)]\n});\n/**\nReturns the number of active lint diagnostics in the given state.\n*/\nfunction diagnosticCount(state) {\n    let lint = state.field(lintState, false);\n    return lint ? lint.diagnostics.size : 0;\n}\nconst activeMark = /*@__PURE__*/Decoration.mark({ class: \"cm-lintRange cm-lintRange-active\" });\nfunction lintTooltip(view, pos, side) {\n    let { diagnostics } = view.state.field(lintState);\n    let found = [], stackStart = 2e8, stackEnd = 0;\n    diagnostics.between(pos - (side < 0 ? 1 : 0), pos + (side > 0 ? 1 : 0), (from, to, { spec }) => {\n        if (pos >= from && pos <= to &&\n            (from == to || ((pos > from || side > 0) && (pos < to || side < 0)))) {\n            found.push(spec.diagnostic);\n            stackStart = Math.min(from, stackStart);\n            stackEnd = Math.max(to, stackEnd);\n        }\n    });\n    let diagnosticFilter = view.state.facet(lintConfig).tooltipFilter;\n    if (diagnosticFilter)\n        found = diagnosticFilter(found);\n    if (!found.length)\n        return null;\n    return {\n        pos: stackStart,\n        end: stackEnd,\n        above: view.state.doc.lineAt(stackStart).to < stackEnd,\n        create() {\n            return { dom: diagnosticsTooltip(view, found) };\n        }\n    };\n}\nfunction diagnosticsTooltip(view, diagnostics) {\n    return elt(\"ul\", { class: \"cm-tooltip-lint\" }, diagnostics.map(d => renderDiagnostic(view, d, false)));\n}\n/**\nCommand to open and focus the lint panel.\n*/\nconst openLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        view.dispatch({ effects: maybeEnableLint(view.state, [togglePanel.of(true)]) });\n    let panel = getPanel(view, LintPanel.open);\n    if (panel)\n        panel.dom.querySelector(\".cm-panel-lint ul\").focus();\n    return true;\n};\n/**\nCommand to close the lint panel, when open.\n*/\nconst closeLintPanel = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field || !field.panel)\n        return false;\n    view.dispatch({ effects: togglePanel.of(false) });\n    return true;\n};\n/**\nMove the selection to the next diagnostic.\n*/\nconst nextDiagnostic = (view) => {\n    let field = view.state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = view.state.selection.main, next = field.diagnostics.iter(sel.to + 1);\n    if (!next.value) {\n        next = field.diagnostics.iter(0);\n        if (!next.value || next.from == sel.from && next.to == sel.to)\n            return false;\n    }\n    view.dispatch({ selection: { anchor: next.from, head: next.to }, scrollIntoView: true });\n    return true;\n};\n/**\nMove the selection to the previous diagnostic.\n*/\nconst previousDiagnostic = (view) => {\n    let { state } = view, field = state.field(lintState, false);\n    if (!field)\n        return false;\n    let sel = state.selection.main;\n    let prevFrom, prevTo, lastFrom, lastTo;\n    field.diagnostics.between(0, state.doc.length, (from, to) => {\n        if (to < sel.to && (prevFrom == null || prevFrom < from)) {\n            prevFrom = from;\n            prevTo = to;\n        }\n        if (lastFrom == null || from > lastFrom) {\n            lastFrom = from;\n            lastTo = to;\n        }\n    });\n    if (lastFrom == null || prevFrom == null && lastFrom == sel.from)\n        return false;\n    view.dispatch({ selection: { anchor: prevFrom !== null && prevFrom !== void 0 ? prevFrom : lastFrom, head: prevTo !== null && prevTo !== void 0 ? prevTo : lastTo }, scrollIntoView: true });\n    return true;\n};\n/**\nA set of default key bindings for the lint functionality.\n\n- Ctrl-Shift-m (Cmd-Shift-m on macOS): [`openLintPanel`](https://codemirror.net/6/docs/ref/#lint.openLintPanel)\n- F8: [`nextDiagnostic`](https://codemirror.net/6/docs/ref/#lint.nextDiagnostic)\n*/\nconst lintKeymap = [\n    { key: \"Mod-Shift-m\", run: openLintPanel, preventDefault: true },\n    { key: \"F8\", run: nextDiagnostic }\n];\nconst lintPlugin = /*@__PURE__*/ViewPlugin.fromClass(class {\n    constructor(view) {\n        this.view = view;\n        this.timeout = -1;\n        this.set = true;\n        let { delay } = view.state.facet(lintConfig);\n        this.lintTime = Date.now() + delay;\n        this.run = this.run.bind(this);\n        this.timeout = setTimeout(this.run, delay);\n    }\n    run() {\n        let now = Date.now();\n        if (now < this.lintTime - 10) {\n            this.timeout = setTimeout(this.run, this.lintTime - now);\n        }\n        else {\n            this.set = false;\n            let { state } = this.view, { sources } = state.facet(lintConfig);\n            Promise.all(sources.map(source => Promise.resolve(source(this.view)))).then(annotations => {\n                let all = annotations.reduce((a, b) => a.concat(b));\n                if (this.view.state.doc == state.doc)\n                    this.view.dispatch(setDiagnostics(this.view.state, all));\n            }, error => { logException(this.view.state, error); });\n        }\n    }\n    update(update) {\n        let config = update.state.facet(lintConfig);\n        if (update.docChanged || config != update.startState.facet(lintConfig) ||\n            config.needsRefresh && config.needsRefresh(update)) {\n            this.lintTime = Date.now() + config.delay;\n            if (!this.set) {\n                this.set = true;\n                this.timeout = setTimeout(this.run, config.delay);\n            }\n        }\n    }\n    force() {\n        if (this.set) {\n            this.lintTime = Date.now();\n            this.run();\n        }\n    }\n    destroy() {\n        clearTimeout(this.timeout);\n    }\n});\nconst lintConfig = /*@__PURE__*/Facet.define({\n    combine(input) {\n        return Object.assign({ sources: input.map(i => i.source) }, combineConfig(input.map(i => i.config), {\n            delay: 750,\n            markerFilter: null,\n            tooltipFilter: null,\n            needsRefresh: null\n        }, {\n            needsRefresh: (a, b) => !a ? b : !b ? a : u => a(u) || b(u)\n        }));\n    }\n});\n/**\nGiven a diagnostic source, this function returns an extension that\nenables linting with that source. It will be called whenever the\neditor is idle (after its content changed).\n*/\nfunction linter(source, config = {}) {\n    return [\n        lintConfig.of({ source, config }),\n        lintPlugin,\n        lintExtensions\n    ];\n}\n/**\nForces any linters [configured](https://codemirror.net/6/docs/ref/#lint.linter) to run when the\neditor is idle to run right away.\n*/\nfunction forceLinting(view) {\n    let plugin = view.plugin(lintPlugin);\n    if (plugin)\n        plugin.force();\n}\nfunction assignKeys(actions) {\n    let assigned = [];\n    if (actions)\n        actions: for (let { name } of actions) {\n            for (let i = 0; i < name.length; i++) {\n                let ch = name[i];\n                if (/[a-zA-Z]/.test(ch) && !assigned.some(c => c.toLowerCase() == ch.toLowerCase())) {\n                    assigned.push(ch);\n                    continue actions;\n                }\n            }\n            assigned.push(\"\");\n        }\n    return assigned;\n}\nfunction renderDiagnostic(view, diagnostic, inPanel) {\n    var _a;\n    let keys = inPanel ? assignKeys(diagnostic.actions) : [];\n    return elt(\"li\", { class: \"cm-diagnostic cm-diagnostic-\" + diagnostic.severity }, elt(\"span\", { class: \"cm-diagnosticText\" }, diagnostic.renderMessage ? diagnostic.renderMessage() : diagnostic.message), (_a = diagnostic.actions) === null || _a === void 0 ? void 0 : _a.map((action, i) => {\n        let fired = false, click = (e) => {\n            e.preventDefault();\n            if (fired)\n                return;\n            fired = true;\n            let found = findDiagnostic(view.state.field(lintState).diagnostics, diagnostic);\n            if (found)\n                action.apply(view, found.from, found.to);\n        };\n        let { name } = action, keyIndex = keys[i] ? name.indexOf(keys[i]) : -1;\n        let nameElt = keyIndex < 0 ? name : [name.slice(0, keyIndex),\n            elt(\"u\", name.slice(keyIndex, keyIndex + 1)),\n            name.slice(keyIndex + 1)];\n        return elt(\"button\", {\n            type: \"button\",\n            class: \"cm-diagnosticAction\",\n            onclick: click,\n            onmousedown: click,\n            \"aria-label\": ` Action: ${name}${keyIndex < 0 ? \"\" : ` (access key \"${keys[i]})\"`}.`\n        }, nameElt);\n    }), diagnostic.source && elt(\"div\", { class: \"cm-diagnosticSource\" }, diagnostic.source));\n}\nclass DiagnosticWidget extends WidgetType {\n    constructor(diagnostic) {\n        super();\n        this.diagnostic = diagnostic;\n    }\n    eq(other) { return other.diagnostic == this.diagnostic; }\n    toDOM() {\n        return elt(\"span\", { class: \"cm-lintPoint cm-lintPoint-\" + this.diagnostic.severity });\n    }\n}\nclass PanelItem {\n    constructor(view, diagnostic) {\n        this.diagnostic = diagnostic;\n        this.id = \"item_\" + Math.floor(Math.random() * 0xffffffff).toString(16);\n        this.dom = renderDiagnostic(view, diagnostic, true);\n        this.dom.id = this.id;\n        this.dom.setAttribute(\"role\", \"option\");\n    }\n}\nclass LintPanel {\n    constructor(view) {\n        this.view = view;\n        this.items = [];\n        let onkeydown = (event) => {\n            if (event.keyCode == 27) { // Escape\n                closeLintPanel(this.view);\n                this.view.focus();\n            }\n            else if (event.keyCode == 38 || event.keyCode == 33) { // ArrowUp, PageUp\n                this.moveSelection((this.selectedIndex - 1 + this.items.length) % this.items.length);\n            }\n            else if (event.keyCode == 40 || event.keyCode == 34) { // ArrowDown, PageDown\n                this.moveSelection((this.selectedIndex + 1) % this.items.length);\n            }\n            else if (event.keyCode == 36) { // Home\n                this.moveSelection(0);\n            }\n            else if (event.keyCode == 35) { // End\n                this.moveSelection(this.items.length - 1);\n            }\n            else if (event.keyCode == 13) { // Enter\n                this.view.focus();\n            }\n            else if (event.keyCode >= 65 && event.keyCode <= 90 && this.selectedIndex >= 0) { // A-Z\n                let { diagnostic } = this.items[this.selectedIndex], keys = assignKeys(diagnostic.actions);\n                for (let i = 0; i < keys.length; i++)\n                    if (keys[i].toUpperCase().charCodeAt(0) == event.keyCode) {\n                        let found = findDiagnostic(this.view.state.field(lintState).diagnostics, diagnostic);\n                        if (found)\n                            diagnostic.actions[i].apply(view, found.from, found.to);\n                    }\n            }\n            else {\n                return;\n            }\n            event.preventDefault();\n        };\n        let onclick = (event) => {\n            for (let i = 0; i < this.items.length; i++) {\n                if (this.items[i].dom.contains(event.target))\n                    this.moveSelection(i);\n            }\n        };\n        this.list = elt(\"ul\", {\n            tabIndex: 0,\n            role: \"listbox\",\n            \"aria-label\": this.view.state.phrase(\"Diagnostics\"),\n            onkeydown,\n            onclick\n        });\n        this.dom = elt(\"div\", { class: \"cm-panel-lint\" }, this.list, elt(\"button\", {\n            type: \"button\",\n            name: \"close\",\n            \"aria-label\": this.view.state.phrase(\"close\"),\n            onclick: () => closeLintPanel(this.view)\n        }, \"Ã—\"));\n        this.update();\n    }\n    get selectedIndex() {\n        let selected = this.view.state.field(lintState).selected;\n        if (!selected)\n            return -1;\n        for (let i = 0; i < this.items.length; i++)\n            if (this.items[i].diagnostic == selected.diagnostic)\n                return i;\n        return -1;\n    }\n    update() {\n        let { diagnostics, selected } = this.view.state.field(lintState);\n        let i = 0, needsSync = false, newSelectedItem = null;\n        diagnostics.between(0, this.view.state.doc.length, (_start, _end, { spec }) => {\n            let found = -1, item;\n            for (let j = i; j < this.items.length; j++)\n                if (this.items[j].diagnostic == spec.diagnostic) {\n                    found = j;\n                    break;\n                }\n            if (found < 0) {\n                item = new PanelItem(this.view, spec.diagnostic);\n                this.items.splice(i, 0, item);\n                needsSync = true;\n            }\n            else {\n                item = this.items[found];\n                if (found > i) {\n                    this.items.splice(i, found - i);\n                    needsSync = true;\n                }\n            }\n            if (selected && item.diagnostic == selected.diagnostic) {\n                if (!item.dom.hasAttribute(\"aria-selected\")) {\n                    item.dom.setAttribute(\"aria-selected\", \"true\");\n                    newSelectedItem = item;\n                }\n            }\n            else if (item.dom.hasAttribute(\"aria-selected\")) {\n                item.dom.removeAttribute(\"aria-selected\");\n            }\n            i++;\n        });\n        while (i < this.items.length && !(this.items.length == 1 && this.items[0].diagnostic.from < 0)) {\n            needsSync = true;\n            this.items.pop();\n        }\n        if (this.items.length == 0) {\n            this.items.push(new PanelItem(this.view, {\n                from: -1, to: -1,\n                severity: \"info\",\n                message: this.view.state.phrase(\"No diagnostics\")\n            }));\n            needsSync = true;\n        }\n        if (newSelectedItem) {\n            this.list.setAttribute(\"aria-activedescendant\", newSelectedItem.id);\n            this.view.requestMeasure({\n                key: this,\n                read: () => ({ sel: newSelectedItem.dom.getBoundingClientRect(), panel: this.list.getBoundingClientRect() }),\n                write: ({ sel, panel }) => {\n                    if (sel.top < panel.top)\n                        this.list.scrollTop -= panel.top - sel.top;\n                    else if (sel.bottom > panel.bottom)\n                        this.list.scrollTop += sel.bottom - panel.bottom;\n                }\n            });\n        }\n        else if (this.selectedIndex < 0) {\n            this.list.removeAttribute(\"aria-activedescendant\");\n        }\n        if (needsSync)\n            this.sync();\n    }\n    sync() {\n        let domPos = this.list.firstChild;\n        function rm() {\n            let prev = domPos;\n            domPos = prev.nextSibling;\n            prev.remove();\n        }\n        for (let item of this.items) {\n            if (item.dom.parentNode == this.list) {\n                while (domPos != item.dom)\n                    rm();\n                domPos = item.dom.nextSibling;\n            }\n            else {\n                this.list.insertBefore(item.dom, domPos);\n            }\n        }\n        while (domPos)\n            rm();\n    }\n    moveSelection(selectedIndex) {\n        if (this.selectedIndex < 0)\n            return;\n        let field = this.view.state.field(lintState);\n        let selection = findDiagnostic(field.diagnostics, this.items[selectedIndex].diagnostic);\n        if (!selection)\n            return;\n        this.view.dispatch({\n            selection: { anchor: selection.from, head: selection.to },\n            scrollIntoView: true,\n            effects: movePanelSelection.of(selection)\n        });\n    }\n    static open(view) { return new LintPanel(view); }\n}\nfunction svg(content, attrs = `viewBox=\"0 0 40 40\"`) {\n    return `url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" ${attrs}>${encodeURIComponent(content)}</svg>')`;\n}\nfunction underline(color) {\n    return svg(`<path d=\"m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0\" stroke=\"${color}\" fill=\"none\" stroke-width=\".7\"/>`, `width=\"6\" height=\"3\"`);\n}\nconst baseTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-diagnostic\": {\n        padding: \"3px 6px 3px 8px\",\n        marginLeft: \"-1px\",\n        display: \"block\",\n        whiteSpace: \"pre-wrap\"\n    },\n    \".cm-diagnostic-error\": { borderLeft: \"5px solid #d11\" },\n    \".cm-diagnostic-warning\": { borderLeft: \"5px solid orange\" },\n    \".cm-diagnostic-info\": { borderLeft: \"5px solid #999\" },\n    \".cm-diagnostic-hint\": { borderLeft: \"5px solid #66d\" },\n    \".cm-diagnosticAction\": {\n        font: \"inherit\",\n        border: \"none\",\n        padding: \"2px 4px\",\n        backgroundColor: \"#444\",\n        color: \"white\",\n        borderRadius: \"3px\",\n        marginLeft: \"8px\",\n        cursor: \"pointer\"\n    },\n    \".cm-diagnosticSource\": {\n        fontSize: \"70%\",\n        opacity: .7\n    },\n    \".cm-lintRange\": {\n        backgroundPosition: \"left bottom\",\n        backgroundRepeat: \"repeat-x\",\n        paddingBottom: \"0.7px\",\n    },\n    \".cm-lintRange-error\": { backgroundImage: /*@__PURE__*/underline(\"#d11\") },\n    \".cm-lintRange-warning\": { backgroundImage: /*@__PURE__*/underline(\"orange\") },\n    \".cm-lintRange-info\": { backgroundImage: /*@__PURE__*/underline(\"#999\") },\n    \".cm-lintRange-hint\": { backgroundImage: /*@__PURE__*/underline(\"#66d\") },\n    \".cm-lintRange-active\": { backgroundColor: \"#ffdd9980\" },\n    \".cm-tooltip-lint\": {\n        padding: 0,\n        margin: 0\n    },\n    \".cm-lintPoint\": {\n        position: \"relative\",\n        \"&:after\": {\n            content: '\"\"',\n            position: \"absolute\",\n            bottom: 0,\n            left: \"-2px\",\n            borderLeft: \"3px solid transparent\",\n            borderRight: \"3px solid transparent\",\n            borderBottom: \"4px solid #d11\"\n        }\n    },\n    \".cm-lintPoint-warning\": {\n        \"&:after\": { borderBottomColor: \"orange\" }\n    },\n    \".cm-lintPoint-info\": {\n        \"&:after\": { borderBottomColor: \"#999\" }\n    },\n    \".cm-lintPoint-hint\": {\n        \"&:after\": { borderBottomColor: \"#66d\" }\n    },\n    \".cm-panel.cm-panel-lint\": {\n        position: \"relative\",\n        \"& ul\": {\n            maxHeight: \"100px\",\n            overflowY: \"auto\",\n            \"& [aria-selected]\": {\n                backgroundColor: \"#ddd\",\n                \"& u\": { textDecoration: \"underline\" }\n            },\n            \"&:focus [aria-selected]\": {\n                background_fallback: \"#bdf\",\n                backgroundColor: \"Highlight\",\n                color_fallback: \"white\",\n                color: \"HighlightText\"\n            },\n            \"& u\": { textDecoration: \"none\" },\n            padding: 0,\n            margin: 0\n        },\n        \"& [name=close]\": {\n            position: \"absolute\",\n            top: \"0\",\n            right: \"2px\",\n            background: \"inherit\",\n            border: \"none\",\n            font: \"inherit\",\n            padding: 0,\n            margin: 0\n        }\n    }\n});\nfunction severityWeight(sev) {\n    return sev == \"error\" ? 4 : sev == \"warning\" ? 3 : sev == \"info\" ? 2 : 1;\n}\nclass LintGutterMarker extends GutterMarker {\n    constructor(diagnostics) {\n        super();\n        this.diagnostics = diagnostics;\n        this.severity = diagnostics.reduce((max, d) => severityWeight(max) < severityWeight(d.severity) ? d.severity : max, \"hint\");\n    }\n    toDOM(view) {\n        let elt = document.createElement(\"div\");\n        elt.className = \"cm-lint-marker cm-lint-marker-\" + this.severity;\n        let diagnostics = this.diagnostics;\n        let diagnosticsFilter = view.state.facet(lintGutterConfig).tooltipFilter;\n        if (diagnosticsFilter)\n            diagnostics = diagnosticsFilter(diagnostics);\n        if (diagnostics.length)\n            elt.onmouseover = () => gutterMarkerMouseOver(view, elt, diagnostics);\n        return elt;\n    }\n}\nfunction trackHoverOn(view, marker) {\n    let mousemove = (event) => {\n        let rect = marker.getBoundingClientRect();\n        if (event.clientX > rect.left - 10 /* Hover.Margin */ && event.clientX < rect.right + 10 /* Hover.Margin */ &&\n            event.clientY > rect.top - 10 /* Hover.Margin */ && event.clientY < rect.bottom + 10 /* Hover.Margin */)\n            return;\n        for (let target = event.target; target; target = target.parentNode) {\n            if (target.nodeType == 1 && target.classList.contains(\"cm-tooltip-lint\"))\n                return;\n        }\n        window.removeEventListener(\"mousemove\", mousemove);\n        if (view.state.field(lintGutterTooltip))\n            view.dispatch({ effects: setLintGutterTooltip.of(null) });\n    };\n    window.addEventListener(\"mousemove\", mousemove);\n}\nfunction gutterMarkerMouseOver(view, marker, diagnostics) {\n    function hovered() {\n        let line = view.elementAtHeight(marker.getBoundingClientRect().top + 5 - view.documentTop);\n        const linePos = view.coordsAtPos(line.from);\n        if (linePos) {\n            view.dispatch({ effects: setLintGutterTooltip.of({\n                    pos: line.from,\n                    above: false,\n                    create() {\n                        return {\n                            dom: diagnosticsTooltip(view, diagnostics),\n                            getCoords: () => marker.getBoundingClientRect()\n                        };\n                    }\n                }) });\n        }\n        marker.onmouseout = marker.onmousemove = null;\n        trackHoverOn(view, marker);\n    }\n    let { hoverTime } = view.state.facet(lintGutterConfig);\n    let hoverTimeout = setTimeout(hovered, hoverTime);\n    marker.onmouseout = () => {\n        clearTimeout(hoverTimeout);\n        marker.onmouseout = marker.onmousemove = null;\n    };\n    marker.onmousemove = () => {\n        clearTimeout(hoverTimeout);\n        hoverTimeout = setTimeout(hovered, hoverTime);\n    };\n}\nfunction markersForDiagnostics(doc, diagnostics) {\n    let byLine = Object.create(null);\n    for (let diagnostic of diagnostics) {\n        let line = doc.lineAt(diagnostic.from);\n        (byLine[line.from] || (byLine[line.from] = [])).push(diagnostic);\n    }\n    let markers = [];\n    for (let line in byLine) {\n        markers.push(new LintGutterMarker(byLine[line]).range(+line));\n    }\n    return RangeSet.of(markers, true);\n}\nconst lintGutterExtension = /*@__PURE__*/gutter({\n    class: \"cm-gutter-lint\",\n    markers: view => view.state.field(lintGutterMarkers),\n});\nconst lintGutterMarkers = /*@__PURE__*/StateField.define({\n    create() {\n        return RangeSet.empty;\n    },\n    update(markers, tr) {\n        markers = markers.map(tr.changes);\n        let diagnosticFilter = tr.state.facet(lintGutterConfig).markerFilter;\n        for (let effect of tr.effects) {\n            if (effect.is(setDiagnosticsEffect)) {\n                let diagnostics = effect.value;\n                if (diagnosticFilter)\n                    diagnostics = diagnosticFilter(diagnostics || []);\n                markers = markersForDiagnostics(tr.state.doc, diagnostics.slice(0));\n            }\n        }\n        return markers;\n    }\n});\nconst setLintGutterTooltip = /*@__PURE__*/StateEffect.define();\nconst lintGutterTooltip = /*@__PURE__*/StateField.define({\n    create() { return null; },\n    update(tooltip, tr) {\n        if (tooltip && tr.docChanged)\n            tooltip = hideTooltip(tr, tooltip) ? null : Object.assign(Object.assign({}, tooltip), { pos: tr.changes.mapPos(tooltip.pos) });\n        return tr.effects.reduce((t, e) => e.is(setLintGutterTooltip) ? e.value : t, tooltip);\n    },\n    provide: field => showTooltip.from(field)\n});\nconst lintGutterTheme = /*@__PURE__*/EditorView.baseTheme({\n    \".cm-gutter-lint\": {\n        width: \"1.4em\",\n        \"& .cm-gutterElement\": {\n            padding: \".2em\"\n        }\n    },\n    \".cm-lint-marker\": {\n        width: \"1em\",\n        height: \"1em\"\n    },\n    \".cm-lint-marker-info\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#aaf\" stroke=\"#77e\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M5 5L35 5L35 35L5 35Z\"/>`)\n    },\n    \".cm-lint-marker-warning\": {\n        content: /*@__PURE__*/svg(`<path fill=\"#fe8\" stroke=\"#fd7\" stroke-width=\"6\" stroke-linejoin=\"round\" d=\"M20 6L37 35L3 35Z\"/>`),\n    },\n    \".cm-lint-marker-error\": {\n        content: /*@__PURE__*/svg(`<circle cx=\"20\" cy=\"20\" r=\"15\" fill=\"#f87\" stroke=\"#f43\" stroke-width=\"6\"/>`)\n    },\n});\nconst lintExtensions = [\n    lintState,\n    /*@__PURE__*/EditorView.decorations.compute([lintState], state => {\n        let { selected, panel } = state.field(lintState);\n        return !selected || !panel || selected.from == selected.to ? Decoration.none : Decoration.set([\n            activeMark.range(selected.from, selected.to)\n        ]);\n    }),\n    /*@__PURE__*/hoverTooltip(lintTooltip, { hideOn: hideTooltip }),\n    baseTheme\n];\nconst lintGutterConfig = /*@__PURE__*/Facet.define({\n    combine(configs) {\n        return combineConfig(configs, {\n            hoverTime: 300 /* Hover.Time */,\n            markerFilter: null,\n            tooltipFilter: null\n        });\n    }\n});\n/**\nReturns an extension that installs a gutter showing markers for\neach line that has diagnostics, which can be hovered over to see\nthe diagnostics.\n*/\nfunction lintGutter(config = {}) {\n    return [lintGutterConfig.of(config), lintGutterMarkers, lintGutterExtension, lintGutterTheme, lintGutterTooltip];\n}\n/**\nIterate over the marked diagnostics for the given editor state,\ncalling `f` for each of them. Note that, if the document changed\nsince the diagnostics were created, the `Diagnostic` object will\nhold the original outdated position, whereas the `to` and `from`\narguments hold the diagnostic's current position.\n*/\nfunction forEachDiagnostic(state, f) {\n    let lState = state.field(lintState, false);\n    if (lState && lState.diagnostics.size)\n        for (let iter = RangeSet.iter([lState.diagnostics]); iter.value; iter.next())\n            f(iter.value.spec.diagnostic, iter.from, iter.to);\n}\n\nexport { closeLintPanel, diagnosticCount, forEachDiagnostic, forceLinting, lintGutter, lintKeymap, linter, nextDiagnostic, openLintPanel, previousDiagnostic, setDiagnostics, setDiagnosticsEffect };\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}