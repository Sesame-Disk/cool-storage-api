{"ast":null,"code":"\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _unified = require(\"unified\");\nvar _remarkParse = _interopRequireDefault(require(\"remark-parse\"));\nvar _remarkGfm = _interopRequireDefault(require(\"remark-gfm\"));\nvar _remarkMath = _interopRequireDefault(require(\"remark-math\"));\nvar _core = require(\"../../extension/core\");\nvar _transform = require(\"./transform\");\n// md string -> md ast\nvar getProcessor = function getProcessor() {\n  var processor = (0, _unified.unified)().use(_remarkParse.default) // Handles markdown basic syntax\n  .use(_remarkGfm.default) // Handle markdown extension syntax\n  .use(_remarkMath.default); // Handles markdown math formulas\n\n  return processor;\n};\nvar reconciledSlateNodes = function reconciledSlateNodes(nodes) {\n  return nodes;\n};\n\n// md string --> md ast --> slate ast\n// https://github.com/syntax-tree/mdast\nvar mdStringToSlate = function mdStringToSlate(mdString) {\n  if (!mdString) return [(0, _core.generateDefaultParagraph)()];\n  var content = mdString;\n  if (typeof mdString === 'number') {\n    content = mdString + '';\n  }\n\n  // md string --> md ast\n  var root = getProcessor().parse(content);\n\n  // the mdString is '\\r\\n'\n  if (root.children.length === 0) {\n    return [(0, _core.generateDefaultParagraph)()];\n  }\n\n  // md ast --> slate ast\n  var slateNodes = (0, _transform.formatMdToSlate)(root.children);\n\n  // Format the document\n  return reconciledSlateNodes(slateNodes);\n};\nvar _default = exports.default = mdStringToSlate;","map":{"version":3,"names":["_interopRequireDefault","require","default","Object","defineProperty","exports","value","_unified","_remarkParse","_remarkGfm","_remarkMath","_core","_transform","getProcessor","processor","unified","use","reconciledSlateNodes","nodes","mdStringToSlate","mdString","generateDefaultParagraph","content","root","parse","children","length","slateNodes","formatMdToSlate","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/slate-convert/md-to-slate/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _unified = require(\"unified\");\nvar _remarkParse = _interopRequireDefault(require(\"remark-parse\"));\nvar _remarkGfm = _interopRequireDefault(require(\"remark-gfm\"));\nvar _remarkMath = _interopRequireDefault(require(\"remark-math\"));\nvar _core = require(\"../../extension/core\");\nvar _transform = require(\"./transform\");\n// md string -> md ast\nconst getProcessor = () => {\n  const processor = (0, _unified.unified)().use(_remarkParse.default) // Handles markdown basic syntax\n  .use(_remarkGfm.default) // Handle markdown extension syntax\n  .use(_remarkMath.default); // Handles markdown math formulas\n\n  return processor;\n};\nconst reconciledSlateNodes = nodes => {\n  return nodes;\n};\n\n// md string --> md ast --> slate ast\n// https://github.com/syntax-tree/mdast\nconst mdStringToSlate = mdString => {\n  if (!mdString) return [(0, _core.generateDefaultParagraph)()];\n  let content = mdString;\n  if (typeof mdString === 'number') {\n    content = mdString + '';\n  }\n\n  // md string --> md ast\n  const root = getProcessor().parse(content);\n\n  // the mdString is '\\r\\n'\n  if (root.children.length === 0) {\n    return [(0, _core.generateDefaultParagraph)()];\n  }\n\n  // md ast --> slate ast\n  const slateNodes = (0, _transform.formatMdToSlate)(root.children);\n\n  // Format the document\n  return reconciledSlateNodes(slateNodes);\n};\nvar _default = exports.default = mdStringToSlate;"],"mappings":"AAAA,YAAY;;AAEZ,IAAIA,sBAAsB,GAAGC,OAAO,CAAC,8CAA8C,CAAC,CAACC,OAAO;AAC5FC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACH,OAAO,GAAG,KAAK,CAAC;AACxB,IAAIK,QAAQ,GAAGN,OAAO,CAAC,SAAS,CAAC;AACjC,IAAIO,YAAY,GAAGR,sBAAsB,CAACC,OAAO,CAAC,cAAc,CAAC,CAAC;AAClE,IAAIQ,UAAU,GAAGT,sBAAsB,CAACC,OAAO,CAAC,YAAY,CAAC,CAAC;AAC9D,IAAIS,WAAW,GAAGV,sBAAsB,CAACC,OAAO,CAAC,aAAa,CAAC,CAAC;AAChE,IAAIU,KAAK,GAAGV,OAAO,CAAC,sBAAsB,CAAC;AAC3C,IAAIW,UAAU,GAAGX,OAAO,CAAC,aAAa,CAAC;AACvC;AACA,IAAMY,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;EACzB,IAAMC,SAAS,GAAG,CAAC,CAAC,EAAEP,QAAQ,CAACQ,OAAO,EAAE,CAAC,CAACC,GAAG,CAACR,YAAY,CAACN,OAAO,CAAC,CAAC;EAAA,CACnEc,GAAG,CAACP,UAAU,CAACP,OAAO,CAAC,CAAC;EAAA,CACxBc,GAAG,CAACN,WAAW,CAACR,OAAO,CAAC,CAAC,CAAC;;EAE3B,OAAOY,SAAS;AAClB,CAAC;AACD,IAAMG,oBAAoB,GAAG,SAAvBA,oBAAoBA,CAAGC,KAAK,EAAI;EACpC,OAAOA,KAAK;AACd,CAAC;;AAED;AACA;AACA,IAAMC,eAAe,GAAG,SAAlBA,eAAeA,CAAGC,QAAQ,EAAI;EAClC,IAAI,CAACA,QAAQ,EAAE,OAAO,CAAC,CAAC,CAAC,EAAET,KAAK,CAACU,wBAAwB,EAAE,CAAC,CAAC;EAC7D,IAAIC,OAAO,GAAGF,QAAQ;EACtB,IAAI,OAAOA,QAAQ,KAAK,QAAQ,EAAE;IAChCE,OAAO,GAAGF,QAAQ,GAAG,EAAE;EACzB;;EAEA;EACA,IAAMG,IAAI,GAAGV,YAAY,CAAC,CAAC,CAACW,KAAK,CAACF,OAAO,CAAC;;EAE1C;EACA,IAAIC,IAAI,CAACE,QAAQ,CAACC,MAAM,KAAK,CAAC,EAAE;IAC9B,OAAO,CAAC,CAAC,CAAC,EAAEf,KAAK,CAACU,wBAAwB,EAAE,CAAC,CAAC;EAChD;;EAEA;EACA,IAAMM,UAAU,GAAG,CAAC,CAAC,EAAEf,UAAU,CAACgB,eAAe,EAAEL,IAAI,CAACE,QAAQ,CAAC;;EAEjE;EACA,OAAOR,oBAAoB,CAACU,UAAU,CAAC;AACzC,CAAC;AACD,IAAIE,QAAQ,GAAGxB,OAAO,CAACH,OAAO,GAAGiB,eAAe"},"metadata":{},"sourceType":"script","externalDependencies":[]}