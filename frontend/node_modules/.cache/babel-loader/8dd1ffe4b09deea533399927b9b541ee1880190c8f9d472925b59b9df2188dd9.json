{"ast":null,"code":"import _slicedToArray from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";/* eslint-disable */import React,{useState,useEffect}from'react';import{gettext}from'../utils/constants';/**\n * Componente informativo sobre compartir en China\n * Debe mostrarse arriba del panel de Share Link para informar a los usuarios\n * Incluye botón de cerrar que guarda la preferencia por 30 días\n */import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function ChinaShareInfo(){var STORAGE_KEY='chinaShareInfo_dismissed';var DISMISS_DURATION=30*24*60*60*1000;// 30 días en milisegundos\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),isDismissed=_useState2[0],setIsDismissed=_useState2[1];useEffect(function(){// Verificar si el usuario ya cerró el alert\nvar dismissedData=localStorage.getItem(STORAGE_KEY);if(dismissedData){var _JSON$parse=JSON.parse(dismissedData),timestamp=_JSON$parse.timestamp;var now=new Date().getTime();// Si han pasado menos de 30 días, mantener oculto\nif(now-timestamp<DISMISS_DURATION){setIsDismissed(true);}else{// Si pasaron más de 30 días, limpiar y mostrar de nuevo\nlocalStorage.removeItem(STORAGE_KEY);}}},[]);var handleDismiss=function handleDismiss(){var dismissData={timestamp:new Date().getTime()};localStorage.setItem(STORAGE_KEY,JSON.stringify(dismissData));setIsDismissed(true);};if(isDismissed){return null;}return/*#__PURE__*/_jsx(\"div\",{className:\"china-info-alert\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"china-info-alert-content\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDismiss,className:\"china-info-alert-close-btn\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"strong\",{children:gettext('Sharing to China?')}),/*#__PURE__*/_jsx(\"p\",{children:gettext('Share links WITH a password are accessible worldwide, including China (no VPN needed). Links without a password work everywhere except China.')}),/*#__PURE__*/_jsxs(\"p\",{style:{marginTop:'8px',fontSize:'11px',opacity:0.9},children:[/*#__PURE__*/_jsx(\"strong\",{children:gettext('Tip:')}),\" \",gettext('Add a password to any share link to make it accessible in China without VPN.')]})]})});}export default ChinaShareInfo;","map":{"version":3,"names":["React","useState","useEffect","gettext","jsx","_jsx","jsxs","_jsxs","ChinaShareInfo","STORAGE_KEY","DISMISS_DURATION","_useState","_useState2","_slicedToArray","isDismissed","setIsDismissed","dismissedData","localStorage","getItem","_JSON$parse","JSON","parse","timestamp","now","Date","getTime","removeItem","handleDismiss","dismissData","setItem","stringify","className","children","onClick","style","marginTop","fontSize","opacity"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/services/china-share-info.js"],"sourcesContent":["/* eslint-disable */\nimport React, { useState, useEffect } from 'react';\nimport { gettext } from '../utils/constants';\n\n/**\n * Componente informativo sobre compartir en China\n * Debe mostrarse arriba del panel de Share Link para informar a los usuarios\n * Incluye botón de cerrar que guarda la preferencia por 30 días\n */\nfunction ChinaShareInfo() {\n    const STORAGE_KEY = 'chinaShareInfo_dismissed';\n    const DISMISS_DURATION = 30 * 24 * 60 * 60 * 1000; // 30 días en milisegundos\n\n    const [isDismissed, setIsDismissed] = useState(false);\n\n    useEffect(() => {\n        // Verificar si el usuario ya cerró el alert\n        const dismissedData = localStorage.getItem(STORAGE_KEY);\n        if (dismissedData) {\n            const { timestamp } = JSON.parse(dismissedData);\n            const now = new Date().getTime();\n\n            // Si han pasado menos de 30 días, mantener oculto\n            if (now - timestamp < DISMISS_DURATION) {\n                setIsDismissed(true);\n            } else {\n                // Si pasaron más de 30 días, limpiar y mostrar de nuevo\n                localStorage.removeItem(STORAGE_KEY);\n            }\n        }\n    }, []);\n\n    const handleDismiss = () => {\n        const dismissData = {\n            timestamp: new Date().getTime()\n        };\n        localStorage.setItem(STORAGE_KEY, JSON.stringify(dismissData));\n        setIsDismissed(true);\n    };\n\n    if (isDismissed) {\n        return null;\n    }\n\n    return (\n        <div className=\"china-info-alert\">\n            <div className=\"china-info-alert-content\">\n                <button\n                    onClick={handleDismiss}\n                    className=\"china-info-alert-close-btn\"\n                >\n                    ×\n                </button>\n                <strong>{gettext('Sharing to China?')}</strong>\n                <p>\n                    {gettext('Share links WITH a password are accessible worldwide, including China (no VPN needed). Links without a password work everywhere except China.')}\n                </p>\n                <p style={{ marginTop: '8px', fontSize: '11px', opacity: 0.9 }}>\n                    <strong>{gettext('Tip:')}</strong> {gettext('Add a password to any share link to make it accessible in China without VPN.')}\n                </p>\n            </div>\n        </div>\n    );\n}\n\nexport default ChinaShareInfo;\n"],"mappings":"sJAAA,oBACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,OAAO,KAAQ,oBAAoB,CAE5C;AACA;AACA;AACA;AACA,GAJA,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAKA,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACtB,GAAM,CAAAC,WAAW,CAAG,0BAA0B,CAC9C,GAAM,CAAAC,gBAAgB,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,EAAE,CAAG,IAAI,CAAE;AAEnD,IAAAC,SAAA,CAAsCV,QAAQ,CAAC,KAAK,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA9CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAElCV,SAAS,CAAC,UAAM,CACZ;AACA,GAAM,CAAAc,aAAa,CAAGC,YAAY,CAACC,OAAO,CAACT,WAAW,CAAC,CACvD,GAAIO,aAAa,CAAE,CACf,IAAAG,WAAA,CAAsBC,IAAI,CAACC,KAAK,CAACL,aAAa,CAAC,CAAvCM,SAAS,CAAAH,WAAA,CAATG,SAAS,CACjB,GAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC,CAEhC;AACA,GAAIF,GAAG,CAAGD,SAAS,CAAGZ,gBAAgB,CAAE,CACpCK,cAAc,CAAC,IAAI,CAAC,CACxB,CAAC,IAAM,CACH;AACAE,YAAY,CAACS,UAAU,CAACjB,WAAW,CAAC,CACxC,CACJ,CACJ,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAkB,aAAa,CAAG,QAAhB,CAAAA,aAAaA,CAAA,CAAS,CACxB,GAAM,CAAAC,WAAW,CAAG,CAChBN,SAAS,CAAE,GAAI,CAAAE,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAClC,CAAC,CACDR,YAAY,CAACY,OAAO,CAACpB,WAAW,CAAEW,IAAI,CAACU,SAAS,CAACF,WAAW,CAAC,CAAC,CAC9Db,cAAc,CAAC,IAAI,CAAC,CACxB,CAAC,CAED,GAAID,WAAW,CAAE,CACb,MAAO,KAAI,CACf,CAEA,mBACIT,IAAA,QAAK0B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC7BzB,KAAA,QAAKwB,SAAS,CAAC,0BAA0B,CAAAC,QAAA,eACrC3B,IAAA,WACI4B,OAAO,CAAEN,aAAc,CACvBI,SAAS,CAAC,4BAA4B,CAAAC,QAAA,CACzC,MAED,CAAQ,CAAC,cACT3B,IAAA,WAAA2B,QAAA,CAAS7B,OAAO,CAAC,mBAAmB,CAAC,CAAS,CAAC,cAC/CE,IAAA,MAAA2B,QAAA,CACK7B,OAAO,CAAC,+IAA+I,CAAC,CAC1J,CAAC,cACJI,KAAA,MAAG2B,KAAK,CAAE,CAAEC,SAAS,CAAE,KAAK,CAAEC,QAAQ,CAAE,MAAM,CAAEC,OAAO,CAAE,GAAI,CAAE,CAAAL,QAAA,eAC3D3B,IAAA,WAAA2B,QAAA,CAAS7B,OAAO,CAAC,MAAM,CAAC,CAAS,CAAC,IAAC,CAACA,OAAO,CAAC,8EAA8E,CAAC,EAC5H,CAAC,EACH,CAAC,CACL,CAAC,CAEd,CAEA,cAAe,CAAAK,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}