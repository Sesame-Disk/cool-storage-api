{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isListNested = exports.hasListChild = exports.getListItemEntry = void 0;\nvar _slate = require(\"slate\");\nvar _elementTypes = require(\"../../../constants/element-types\");\nvar _constant = require(\"../constant\");\nvar getListItemEntry = function getListItemEntry(editor) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref$at = _ref.at,\n    at = _ref$at === void 0 ? editor.selection : _ref$at;\n  var _at = null;\n  if (_slate.Range.isRange(at) && !_slate.Range.isCollapsed(at)) {\n    _at = at.focus.path;\n  } else if (_slate.Range.isRange(at)) {\n    _at = at.anchor.path;\n  } else {\n    _at = at;\n  }\n  if (_at) {\n    var node = _slate.Node.get(editor, _at);\n    if (node) {\n      var listItem = _slate.Editor.above(editor, {\n        at: _at,\n        match: function match(n) {\n          return _slate.Element.isElement(n) && n.type === _elementTypes.LIST_ITEM;\n        }\n      });\n      if (listItem) {\n        var list = _slate.Editor.parent(editor, listItem[1]);\n        return {\n          list: list,\n          listItem: listItem\n        };\n      }\n    }\n  }\n  return null;\n};\nexports.getListItemEntry = getListItemEntry;\nvar hasListChild = function hasListChild(node) {\n  return node.children.some(function (n) {\n    return _slate.Element.isElement(n) && _constant.LIST_TYPES.includes(n.type);\n  });\n};\nexports.hasListChild = hasListChild;\nvar isListNested = function isListNested(editor, listPath) {\n  var _Editor$parent;\n  var listParentNode = (_Editor$parent = _slate.Editor.parent(editor, listPath)) === null || _Editor$parent === void 0 ? void 0 : _Editor$parent[0];\n  return (listParentNode === null || listParentNode === void 0 ? void 0 : listParentNode.type) === _elementTypes.LIST_ITEM;\n};\nexports.isListNested = isListNested;","map":{"version":3,"names":["Object","defineProperty","exports","value","isListNested","hasListChild","getListItemEntry","_slate","require","_elementTypes","_constant","editor","_ref","arguments","length","undefined","_ref$at","at","selection","_at","Range","isRange","isCollapsed","focus","path","anchor","node","Node","get","listItem","Editor","above","match","n","Element","isElement","type","LIST_ITEM","list","parent","children","some","LIST_TYPES","includes","listPath","_Editor$parent","listParentNode"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/list/queries/index.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.isListNested = exports.hasListChild = exports.getListItemEntry = void 0;\nvar _slate = require(\"slate\");\nvar _elementTypes = require(\"../../../constants/element-types\");\nvar _constant = require(\"../constant\");\nconst getListItemEntry = function (editor) {\n  let {\n    at = editor.selection\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let _at = null;\n  if (_slate.Range.isRange(at) && !_slate.Range.isCollapsed(at)) {\n    _at = at.focus.path;\n  } else if (_slate.Range.isRange(at)) {\n    _at = at.anchor.path;\n  } else {\n    _at = at;\n  }\n  if (_at) {\n    const node = _slate.Node.get(editor, _at);\n    if (node) {\n      const listItem = _slate.Editor.above(editor, {\n        at: _at,\n        match: n => _slate.Element.isElement(n) && n.type === _elementTypes.LIST_ITEM\n      });\n      if (listItem) {\n        const list = _slate.Editor.parent(editor, listItem[1]);\n        return {\n          list,\n          listItem\n        };\n      }\n    }\n  }\n  return null;\n};\nexports.getListItemEntry = getListItemEntry;\nconst hasListChild = node => {\n  return node.children.some(n => {\n    return _slate.Element.isElement(n) && _constant.LIST_TYPES.includes(n.type);\n  });\n};\nexports.hasListChild = hasListChild;\nconst isListNested = (editor, listPath) => {\n  var _Editor$parent;\n  const listParentNode = (_Editor$parent = _slate.Editor.parent(editor, listPath)) === null || _Editor$parent === void 0 ? void 0 : _Editor$parent[0];\n  return (listParentNode === null || listParentNode === void 0 ? void 0 : listParentNode.type) === _elementTypes.LIST_ITEM;\n};\nexports.isListNested = isListNested;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,YAAY,GAAGF,OAAO,CAACG,YAAY,GAAGH,OAAO,CAACI,gBAAgB,GAAG,KAAK,CAAC;AAC/E,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC7B,IAAIC,aAAa,GAAGD,OAAO,CAAC,kCAAkC,CAAC;AAC/D,IAAIE,SAAS,GAAGF,OAAO,CAAC,aAAa,CAAC;AACtC,IAAMF,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAaK,MAAM,EAAE;EACzC,IAAAC,IAAA,GAEIC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IAAAG,OAAA,GAAAJ,IAAA,CADxEK,EAAE;IAAFA,EAAE,GAAAD,OAAA,cAAGL,MAAM,CAACO,SAAS,GAAAF,OAAA;EAEvB,IAAIG,GAAG,GAAG,IAAI;EACd,IAAIZ,MAAM,CAACa,KAAK,CAACC,OAAO,CAACJ,EAAE,CAAC,IAAI,CAACV,MAAM,CAACa,KAAK,CAACE,WAAW,CAACL,EAAE,CAAC,EAAE;IAC7DE,GAAG,GAAGF,EAAE,CAACM,KAAK,CAACC,IAAI;EACrB,CAAC,MAAM,IAAIjB,MAAM,CAACa,KAAK,CAACC,OAAO,CAACJ,EAAE,CAAC,EAAE;IACnCE,GAAG,GAAGF,EAAE,CAACQ,MAAM,CAACD,IAAI;EACtB,CAAC,MAAM;IACLL,GAAG,GAAGF,EAAE;EACV;EACA,IAAIE,GAAG,EAAE;IACP,IAAMO,IAAI,GAAGnB,MAAM,CAACoB,IAAI,CAACC,GAAG,CAACjB,MAAM,EAAEQ,GAAG,CAAC;IACzC,IAAIO,IAAI,EAAE;MACR,IAAMG,QAAQ,GAAGtB,MAAM,CAACuB,MAAM,CAACC,KAAK,CAACpB,MAAM,EAAE;QAC3CM,EAAE,EAAEE,GAAG;QACPa,KAAK,EAAE,SAAAA,MAAAC,CAAC;UAAA,OAAI1B,MAAM,CAAC2B,OAAO,CAACC,SAAS,CAACF,CAAC,CAAC,IAAIA,CAAC,CAACG,IAAI,KAAK3B,aAAa,CAAC4B,SAAS;QAAA;MAC/E,CAAC,CAAC;MACF,IAAIR,QAAQ,EAAE;QACZ,IAAMS,IAAI,GAAG/B,MAAM,CAACuB,MAAM,CAACS,MAAM,CAAC5B,MAAM,EAAEkB,QAAQ,CAAC,CAAC,CAAC,CAAC;QACtD,OAAO;UACLS,IAAI,EAAJA,IAAI;UACJT,QAAQ,EAARA;QACF,CAAC;MACH;IACF;EACF;EACA,OAAO,IAAI;AACb,CAAC;AACD3B,OAAO,CAACI,gBAAgB,GAAGA,gBAAgB;AAC3C,IAAMD,YAAY,GAAG,SAAfA,YAAYA,CAAGqB,IAAI,EAAI;EAC3B,OAAOA,IAAI,CAACc,QAAQ,CAACC,IAAI,CAAC,UAAAR,CAAC,EAAI;IAC7B,OAAO1B,MAAM,CAAC2B,OAAO,CAACC,SAAS,CAACF,CAAC,CAAC,IAAIvB,SAAS,CAACgC,UAAU,CAACC,QAAQ,CAACV,CAAC,CAACG,IAAI,CAAC;EAC7E,CAAC,CAAC;AACJ,CAAC;AACDlC,OAAO,CAACG,YAAY,GAAGA,YAAY;AACnC,IAAMD,YAAY,GAAG,SAAfA,YAAYA,CAAIO,MAAM,EAAEiC,QAAQ,EAAK;EACzC,IAAIC,cAAc;EAClB,IAAMC,cAAc,GAAG,CAACD,cAAc,GAAGtC,MAAM,CAACuB,MAAM,CAACS,MAAM,CAAC5B,MAAM,EAAEiC,QAAQ,CAAC,MAAM,IAAI,IAAIC,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,cAAc,CAAC,CAAC,CAAC;EACnJ,OAAO,CAACC,cAAc,KAAK,IAAI,IAAIA,cAAc,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,cAAc,CAACV,IAAI,MAAM3B,aAAa,CAAC4B,SAAS;AAC1H,CAAC;AACDnC,OAAO,CAACE,YAAY,GAAGA,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}