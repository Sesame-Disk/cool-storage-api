{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Utils}from'../../../utils/utils';import{siteRoot,gettext}from'../../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var enableSysAdminViewRepo=window.sysadmin.pageOptions.enableSysAdminViewRepo;var RepoItem=/*#__PURE__*/function(_React$Component){_inherits(RepoItem,_React$Component);var _super=_createSuper(RepoItem);function RepoItem(props){var _this;_classCallCheck(this,RepoItem);_this=_super.call(this,props);_this.onMouseEnter=function(){_this.setState({highlight:true});};_this.onMouseLeave=function(){_this.setState({highlight:false});};_this.state={highlight:false};return _this;}_createClass(RepoItem,[{key:\"render\",value:function render(){var repo=this.props.repo;var repoName=repo.name||repo.repo_name;var highlight=this.state.highlight;var iconUrl=Utils.getLibIconUrl(repo);return/*#__PURE__*/_jsxs(\"tr\",{className:highlight?'tr-highlight':'',onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,width:\"24\",alt:gettext('icon')})}),enableSysAdminViewRepo?/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"sys/libraries/\").concat(repo.repo_id,\"/\").concat(encodeURIComponent(repoName),\"/\"),children:repoName})}):/*#__PURE__*/_jsx(\"td\",{children:repoName}),/*#__PURE__*/_jsx(\"td\",{children:Utils.bytesToSize(repo.size)}),/*#__PURE__*/_jsx(\"td\",{className:\"cursor-pointer text-center\",onClick:this.props.showDeleteRepoDialog.bind(this,repo),children:/*#__PURE__*/_jsx(\"span\",{className:\"sf2-icon-delete action-icon \".concat(highlight?'':'vh'),title:\"Delete\"})})]});}}]);return RepoItem;}(React.Component);export default RepoItem;","map":{"version":3,"names":["React","Utils","siteRoot","gettext","jsx","_jsx","jsxs","_jsxs","enableSysAdminViewRepo","window","sysadmin","pageOptions","RepoItem","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onMouseEnter","setState","highlight","onMouseLeave","state","_createClass","key","value","render","repo","repoName","name","repo_name","iconUrl","getLibIconUrl","className","children","src","width","alt","href","concat","repo_id","encodeURIComponent","bytesToSize","size","onClick","showDeleteRepoDialog","bind","title","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/departments/repo-item.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Utils } from '../../../utils/utils';\nimport { siteRoot, gettext } from '../../../utils/constants';\n\nconst { enableSysAdminViewRepo } = window.sysadmin.pageOptions;\n\nconst RepoItemPropTypes = {\n  repo: PropTypes.object.isRequired,\n  showDeleteRepoDialog: PropTypes.func.isRequired\n};\n\nclass RepoItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({ highlight: true });\n  };\n\n  onMouseLeave = () => {\n    this.setState({ highlight: false });\n  };\n\n  render() {\n    const { repo } = this.props;\n    const repoName = repo.name || repo.repo_name;\n    const highlight = this.state.highlight;\n    let iconUrl = Utils.getLibIconUrl(repo);\n    return (\n      <tr className={highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n        <td><img src={iconUrl} width=\"24\" alt={gettext('icon')}/></td>\n        { enableSysAdminViewRepo ?\n          <td><a href={`${siteRoot}sys/libraries/${repo.repo_id}/${encodeURIComponent(repoName)}/`}>{repoName}</a></td>\n          :\n          <td>{repoName}</td>\n        }\n        <td>{Utils.bytesToSize(repo.size)}</td>\n        <td className=\"cursor-pointer text-center\" onClick={this.props.showDeleteRepoDialog.bind(this, repo)}>\n          <span className={`sf2-icon-delete action-icon ${highlight ? '' : 'vh'}`} title=\"Delete\"></span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nRepoItem.propTypes = RepoItemPropTypes;\n\nexport default RepoItem;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,KAAK,KAAQ,sBAAsB,CAC5C,OAASC,QAAQ,CAAEC,OAAO,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE7D,GAAQ,CAAAC,sBAAsB,CAAKC,MAAM,CAACC,QAAQ,CAACC,WAAW,CAAtDH,sBAAsB,CAAiC,GAOzD,CAAAI,QAAQ,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,QAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,QAAA,EAEZ,SAAAA,SAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,QAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAMfG,YAAY,CAAG,UAAM,CACnBH,KAAA,CAAKI,QAAQ,CAAC,CAAEC,SAAS,CAAE,IAAK,CAAC,CAAC,CACpC,CAAC,CAAAL,KAAA,CAEDM,YAAY,CAAG,UAAM,CACnBN,KAAA,CAAKI,QAAQ,CAAC,CAAEC,SAAS,CAAE,KAAM,CAAC,CAAC,CACrC,CAAC,CAXCL,KAAA,CAAKO,KAAK,CAAG,CACXF,SAAS,CAAE,KACb,CAAC,CAAC,OAAAL,KAAA,CACJ,CAACQ,YAAA,CAAAd,QAAA,GAAAe,GAAA,UAAAC,KAAA,CAUD,SAAAC,OAAA,CAAS,CACP,GAAQ,CAAAC,IAAI,CAAK,IAAI,CAACb,KAAK,CAAnBa,IAAI,CACZ,GAAM,CAAAC,QAAQ,CAAGD,IAAI,CAACE,IAAI,EAAIF,IAAI,CAACG,SAAS,CAC5C,GAAM,CAAAV,SAAS,CAAG,IAAI,CAACE,KAAK,CAACF,SAAS,CACtC,GAAI,CAAAW,OAAO,CAAGjC,KAAK,CAACkC,aAAa,CAACL,IAAI,CAAC,CACvC,mBACEvB,KAAA,OAAI6B,SAAS,CAAEb,SAAS,CAAG,cAAc,CAAG,EAAG,CAACF,YAAY,CAAE,IAAI,CAACA,YAAa,CAACG,YAAY,CAAE,IAAI,CAACA,YAAa,CAAAa,QAAA,eAC/GhC,IAAA,OAAAgC,QAAA,cAAIhC,IAAA,QAAKiC,GAAG,CAAEJ,OAAQ,CAACK,KAAK,CAAC,IAAI,CAACC,GAAG,CAAErC,OAAO,CAAC,MAAM,CAAE,CAAC,CAAC,CAAI,CAAC,CAC5DK,sBAAsB,cACtBH,IAAA,OAAAgC,QAAA,cAAIhC,IAAA,MAAGoC,IAAI,IAAAC,MAAA,CAAKxC,QAAQ,mBAAAwC,MAAA,CAAiBZ,IAAI,CAACa,OAAO,MAAAD,MAAA,CAAIE,kBAAkB,CAACb,QAAQ,CAAC,KAAI,CAAAM,QAAA,CAAEN,QAAQ,CAAI,CAAC,CAAI,CAAC,cAE7G1B,IAAA,OAAAgC,QAAA,CAAKN,QAAQ,CAAK,CAAC,cAErB1B,IAAA,OAAAgC,QAAA,CAAKpC,KAAK,CAAC4C,WAAW,CAACf,IAAI,CAACgB,IAAI,CAAC,CAAK,CAAC,cACvCzC,IAAA,OAAI+B,SAAS,CAAC,4BAA4B,CAACW,OAAO,CAAE,IAAI,CAAC9B,KAAK,CAAC+B,oBAAoB,CAACC,IAAI,CAAC,IAAI,CAAEnB,IAAI,CAAE,CAAAO,QAAA,cACnGhC,IAAA,SAAM+B,SAAS,gCAAAM,MAAA,CAAiCnB,SAAS,CAAG,EAAE,CAAG,IAAI,CAAG,CAAC2B,KAAK,CAAC,QAAQ,CAAO,CAAC,CAC7F,CAAC,EACH,CAAC,CAET,CAAC,WAAAtC,QAAA,GApCoBZ,KAAK,CAACmD,SAAS,EAyCtC,cAAe,CAAAvC,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}