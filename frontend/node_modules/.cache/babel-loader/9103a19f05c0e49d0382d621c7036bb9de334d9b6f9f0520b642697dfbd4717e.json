{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = LongTextEditorDialog;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _simpleEditor = _interopRequireDefault(require(\"../simple-editor\"));\nvar _getPreviewContent = _interopRequireDefault(require(\"../../utils/get-preview-content\"));\nvar _getBrowserInfo = _interopRequireDefault(require(\"../../utils/get-browser-Info\"));\nvar _longtextModal = _interopRequireDefault(require(\"./longtext-modal\"));\nvar _browserTip = _interopRequireDefault(require(\"./browser-tip\"));\nvar _markdownPreview = _interopRequireDefault(require(\"../markdown-preview\"));\nrequire(\"./style.css\");\nfunction LongTextEditorDialog(_ref) {\n  var lang = _ref.lang,\n    readOnly = _ref.readOnly,\n    headerName = _ref.headerName,\n    value = _ref.value,\n    _ref$autoSave = _ref.autoSave,\n    autoSave = _ref$autoSave === void 0 ? true : _ref$autoSave,\n    _ref$saveDelay = _ref.saveDelay,\n    saveDelay = _ref$saveDelay === void 0 ? 60000 : _ref$saveDelay,\n    _ref$isCheckBrowser = _ref.isCheckBrowser,\n    isCheckBrowser = _ref$isCheckBrowser === void 0 ? false : _ref$isCheckBrowser,\n    editorApi = _ref.editorApi,\n    onSaveEditorValue = _ref.onSaveEditorValue,\n    onEditorValueChanged = _ref.onEditorValueChanged,\n    onCloseEditorDialog = _ref.onCloseEditorDialog;\n  var editorRef = (0, _react.useRef)(null);\n  var _ref2 = (0, _react.useState)(false),\n    _ref3 = _slicedToArray(_ref2, 2),\n    isValueChanged = _ref3[0],\n    setValueChanged = _ref3[1];\n  var _ref4 = (0, _react.useState)(false),\n    _ref5 = _slicedToArray(_ref4, 2),\n    isFullScreen = _ref5[0],\n    setIsFullScreen = _ref5[1];\n  var _ref6 = (0, _react.useState)({}),\n    _ref7 = _slicedToArray(_ref6, 2),\n    dialogStyle = _ref7[0],\n    setDialogStyle = _ref7[1];\n  var onUpdateEditorValue = (0, _react.useCallback)(function () {\n    var _editorRef$current, _editorRef$current2;\n    if (!isValueChanged || readOnly) return;\n    var markdownString = (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 ? void 0 : _editorRef$current.getValue();\n    var slateNodes = (_editorRef$current2 = editorRef.current) === null || _editorRef$current2 === void 0 ? void 0 : _editorRef$current2.getSlateValue();\n    var _ref8 = (0, _getPreviewContent.default)(slateNodes, false),\n      previewText = _ref8.previewText,\n      images = _ref8.images,\n      links = _ref8.links,\n      checklist = _ref8.checklist;\n    onSaveEditorValue({\n      text: markdownString,\n      preview: previewText,\n      images: images,\n      links: links,\n      checklist: checklist\n    });\n    setValueChanged(false);\n  }, [isValueChanged, onSaveEditorValue, readOnly]);\n  var onCloseToggle = (0, _react.useCallback)(function () {\n    var value = null;\n    if (!readOnly && isValueChanged) {\n      var _editorRef$current3, _editorRef$current4;\n      var markdownString = (_editorRef$current3 = editorRef.current) === null || _editorRef$current3 === void 0 ? void 0 : _editorRef$current3.getValue();\n      var slateNodes = (_editorRef$current4 = editorRef.current) === null || _editorRef$current4 === void 0 ? void 0 : _editorRef$current4.getSlateValue();\n      var _ref9 = (0, _getPreviewContent.default)(slateNodes, false),\n        previewText = _ref9.previewText,\n        images = _ref9.images,\n        links = _ref9.links,\n        checklist = _ref9.checklist;\n      value = {\n        text: markdownString,\n        preview: previewText,\n        images: images,\n        links: links,\n        checklist: checklist\n      };\n    }\n    onCloseEditorDialog(value);\n  }, [isValueChanged, onCloseEditorDialog, readOnly]);\n  var onHotKey = (0, _react.useCallback)(function (event) {\n    if (event.keyCode === 27) {\n      event.stopPropagation();\n      event.preventDefault();\n      onCloseToggle();\n    }\n  }, [onCloseToggle]);\n  (0, _react.useEffect)(function () {\n    var timer = null;\n    if (autoSave) {\n      timer = setTimeout(function () {\n        onUpdateEditorValue();\n      }, saveDelay);\n    }\n    document.addEventListener('keydown', onHotKey);\n    return function () {\n      clearTimeout(timer);\n      document.removeEventListener('keydown', onHotKey);\n    };\n  }, [autoSave, saveDelay, onUpdateEditorValue, onHotKey]);\n  var _ref10 = (0, _react.useMemo)(function () {\n      return (0, _getBrowserInfo.default)(isCheckBrowser);\n    }, [isCheckBrowser]),\n    isValidBrowser = _ref10.isValidBrowser,\n    isWindowsWechat = _ref10.isWindowsWechat;\n  var onFullScreenToggle = (0, _react.useCallback)(function () {\n    var containerStyle = {};\n    if (!isFullScreen) {\n      containerStyle = {\n        width: '100%',\n        height: '100%',\n        top: 0,\n        border: 'none'\n      };\n    }\n    setIsFullScreen(!isFullScreen);\n    setDialogStyle(containerStyle);\n  }, [isFullScreen]);\n  var onContentChanged = (0, _react.useCallback)(function () {\n    // delay to update editor's content\n    setTimeout(function () {\n      // update parent's component cache value\n      if (onEditorValueChanged && typeof onEditorValueChanged === 'function') {\n        var _editorRef$current5, _editorRef$current6;\n        var markdownString = (_editorRef$current5 = editorRef.current) === null || _editorRef$current5 === void 0 ? void 0 : _editorRef$current5.getValue();\n        var slateNodes = (_editorRef$current6 = editorRef.current) === null || _editorRef$current6 === void 0 ? void 0 : _editorRef$current6.getSlateValue();\n        var _ref11 = (0, _getPreviewContent.default)(slateNodes, false),\n          previewText = _ref11.previewText,\n          images = _ref11.images,\n          links = _ref11.links,\n          checklist = _ref11.checklist;\n        onEditorValueChanged({\n          text: markdownString,\n          preview: previewText,\n          images: images,\n          links: links,\n          checklist: checklist\n        });\n      }\n      setValueChanged(true);\n    }, 0);\n  }, [onEditorValueChanged]);\n  var onContainerKeyDown = function onContainerKeyDown(event) {\n    event.stopPropagation();\n    onHotKey(event);\n  };\n  var headerClass = (0, _classnames.default)('longtext-header-container', {\n    'longtext-header-container-border': readOnly || isWindowsWechat\n  });\n  var contentClass = (0, _classnames.default)('longtext-content-container', {\n    'longtext-container-scroll': readOnly || isWindowsWechat\n  });\n  return /*#__PURE__*/_react.default.createElement(_longtextModal.default, {\n    onModalClick: onCloseToggle\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: dialogStyle,\n    className: \"longtext-dialog-container\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: headerClass\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"longtext-header\"\n  }, /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"longtext-header-name\"\n  }, headerName), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"longtext-header-tool\"\n  }, /*#__PURE__*/_react.default.createElement(\"span\", {\n    onClick: onFullScreenToggle,\n    className: \"longtext-header-tool-item mr-1 dtable-font dtable-icon-full-screen \".concat(isFullScreen ? 'long-text-full-screen' : '')\n  }), /*#__PURE__*/_react.default.createElement(\"span\", {\n    onClick: onCloseToggle,\n    className: \"longtext-header-tool-item dtable-font dtable-icon-x\"\n  }))), !isValidBrowser && /*#__PURE__*/_react.default.createElement(_browserTip.default, {\n    lang: lang,\n    isWindowsWechat: isWindowsWechat\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    onKeyDown: onContainerKeyDown,\n    className: contentClass\n  }, !readOnly && !isWindowsWechat && /*#__PURE__*/_react.default.createElement(_simpleEditor.default, {\n    ref: editorRef,\n    value: value,\n    editorApi: editorApi,\n    onContentChanged: onContentChanged\n  }), (readOnly || isWindowsWechat) && /*#__PURE__*/_react.default.createElement(_markdownPreview.default, {\n    isWindowsWechat: isWindowsWechat,\n    value: value,\n    isShowOutline: false\n  }))));\n}","map":{"version":3,"names":["_slicedToArray","require","default","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","value","LongTextEditorDialog","_react","_classnames","_simpleEditor","_getPreviewContent","_getBrowserInfo","_longtextModal","_browserTip","_markdownPreview","_ref","lang","readOnly","headerName","_ref$autoSave","autoSave","_ref$saveDelay","saveDelay","_ref$isCheckBrowser","isCheckBrowser","editorApi","onSaveEditorValue","onEditorValueChanged","onCloseEditorDialog","editorRef","useRef","_ref2","useState","_ref3","isValueChanged","setValueChanged","_ref4","_ref5","isFullScreen","setIsFullScreen","_ref6","_ref7","dialogStyle","setDialogStyle","onUpdateEditorValue","useCallback","_editorRef$current","_editorRef$current2","markdownString","current","getValue","slateNodes","getSlateValue","_ref8","previewText","images","links","checklist","text","preview","onCloseToggle","_editorRef$current3","_editorRef$current4","_ref9","onHotKey","event","keyCode","stopPropagation","preventDefault","useEffect","timer","setTimeout","document","addEventListener","clearTimeout","removeEventListener","_ref10","useMemo","isValidBrowser","isWindowsWechat","onFullScreenToggle","containerStyle","width","height","top","border","onContentChanged","_editorRef$current5","_editorRef$current6","_ref11","onContainerKeyDown","headerClass","contentClass","createElement","onModalClick","style","className","onClick","concat","onKeyDown","ref","isShowOutline"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/pages/longtext-editor-dialog/index.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = LongTextEditorDialog;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _classnames = _interopRequireDefault(require(\"classnames\"));\nvar _simpleEditor = _interopRequireDefault(require(\"../simple-editor\"));\nvar _getPreviewContent = _interopRequireDefault(require(\"../../utils/get-preview-content\"));\nvar _getBrowserInfo = _interopRequireDefault(require(\"../../utils/get-browser-Info\"));\nvar _longtextModal = _interopRequireDefault(require(\"./longtext-modal\"));\nvar _browserTip = _interopRequireDefault(require(\"./browser-tip\"));\nvar _markdownPreview = _interopRequireDefault(require(\"../markdown-preview\"));\nrequire(\"./style.css\");\nfunction LongTextEditorDialog(_ref) {\n  let {\n    lang,\n    readOnly,\n    headerName,\n    value,\n    autoSave = true,\n    saveDelay = 60000,\n    isCheckBrowser = false,\n    editorApi,\n    onSaveEditorValue,\n    onEditorValueChanged,\n    onCloseEditorDialog\n  } = _ref;\n  const editorRef = (0, _react.useRef)(null);\n  const [isValueChanged, setValueChanged] = (0, _react.useState)(false);\n  const [isFullScreen, setIsFullScreen] = (0, _react.useState)(false);\n  const [dialogStyle, setDialogStyle] = (0, _react.useState)({});\n  const onUpdateEditorValue = (0, _react.useCallback)(() => {\n    var _editorRef$current, _editorRef$current2;\n    if (!isValueChanged || readOnly) return;\n    const markdownString = (_editorRef$current = editorRef.current) === null || _editorRef$current === void 0 ? void 0 : _editorRef$current.getValue();\n    const slateNodes = (_editorRef$current2 = editorRef.current) === null || _editorRef$current2 === void 0 ? void 0 : _editorRef$current2.getSlateValue();\n    const {\n      previewText,\n      images,\n      links,\n      checklist\n    } = (0, _getPreviewContent.default)(slateNodes, false);\n    onSaveEditorValue({\n      text: markdownString,\n      preview: previewText,\n      images: images,\n      links: links,\n      checklist\n    });\n    setValueChanged(false);\n  }, [isValueChanged, onSaveEditorValue, readOnly]);\n  const onCloseToggle = (0, _react.useCallback)(() => {\n    let value = null;\n    if (!readOnly && isValueChanged) {\n      var _editorRef$current3, _editorRef$current4;\n      const markdownString = (_editorRef$current3 = editorRef.current) === null || _editorRef$current3 === void 0 ? void 0 : _editorRef$current3.getValue();\n      const slateNodes = (_editorRef$current4 = editorRef.current) === null || _editorRef$current4 === void 0 ? void 0 : _editorRef$current4.getSlateValue();\n      const {\n        previewText,\n        images,\n        links,\n        checklist\n      } = (0, _getPreviewContent.default)(slateNodes, false);\n      value = {\n        text: markdownString,\n        preview: previewText,\n        images: images,\n        links: links,\n        checklist\n      };\n    }\n    onCloseEditorDialog(value);\n  }, [isValueChanged, onCloseEditorDialog, readOnly]);\n  const onHotKey = (0, _react.useCallback)(event => {\n    if (event.keyCode === 27) {\n      event.stopPropagation();\n      event.preventDefault();\n      onCloseToggle();\n    }\n  }, [onCloseToggle]);\n  (0, _react.useEffect)(() => {\n    let timer = null;\n    if (autoSave) {\n      timer = setTimeout(() => {\n        onUpdateEditorValue();\n      }, saveDelay);\n    }\n    document.addEventListener('keydown', onHotKey);\n    return () => {\n      clearTimeout(timer);\n      document.removeEventListener('keydown', onHotKey);\n    };\n  }, [autoSave, saveDelay, onUpdateEditorValue, onHotKey]);\n  const {\n    isValidBrowser,\n    isWindowsWechat\n  } = (0, _react.useMemo)(() => {\n    return (0, _getBrowserInfo.default)(isCheckBrowser);\n  }, [isCheckBrowser]);\n  const onFullScreenToggle = (0, _react.useCallback)(() => {\n    let containerStyle = {};\n    if (!isFullScreen) {\n      containerStyle = {\n        width: '100%',\n        height: '100%',\n        top: 0,\n        border: 'none'\n      };\n    }\n    setIsFullScreen(!isFullScreen);\n    setDialogStyle(containerStyle);\n  }, [isFullScreen]);\n  const onContentChanged = (0, _react.useCallback)(() => {\n    // delay to update editor's content\n    setTimeout(() => {\n      // update parent's component cache value\n      if (onEditorValueChanged && typeof onEditorValueChanged === 'function') {\n        var _editorRef$current5, _editorRef$current6;\n        const markdownString = (_editorRef$current5 = editorRef.current) === null || _editorRef$current5 === void 0 ? void 0 : _editorRef$current5.getValue();\n        const slateNodes = (_editorRef$current6 = editorRef.current) === null || _editorRef$current6 === void 0 ? void 0 : _editorRef$current6.getSlateValue();\n        const {\n          previewText,\n          images,\n          links,\n          checklist\n        } = (0, _getPreviewContent.default)(slateNodes, false);\n        onEditorValueChanged({\n          text: markdownString,\n          preview: previewText,\n          images: images,\n          links: links,\n          checklist\n        });\n      }\n      setValueChanged(true);\n    }, 0);\n  }, [onEditorValueChanged]);\n  const onContainerKeyDown = event => {\n    event.stopPropagation();\n    onHotKey(event);\n  };\n  const headerClass = (0, _classnames.default)('longtext-header-container', {\n    'longtext-header-container-border': readOnly || isWindowsWechat\n  });\n  const contentClass = (0, _classnames.default)('longtext-content-container', {\n    'longtext-container-scroll': readOnly || isWindowsWechat\n  });\n  return /*#__PURE__*/_react.default.createElement(_longtextModal.default, {\n    onModalClick: onCloseToggle\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    style: dialogStyle,\n    className: \"longtext-dialog-container\"\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: headerClass\n  }, /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"longtext-header\"\n  }, /*#__PURE__*/_react.default.createElement(\"span\", {\n    className: \"longtext-header-name\"\n  }, headerName), /*#__PURE__*/_react.default.createElement(\"div\", {\n    className: \"longtext-header-tool\"\n  }, /*#__PURE__*/_react.default.createElement(\"span\", {\n    onClick: onFullScreenToggle,\n    className: \"longtext-header-tool-item mr-1 dtable-font dtable-icon-full-screen \".concat(isFullScreen ? 'long-text-full-screen' : '')\n  }), /*#__PURE__*/_react.default.createElement(\"span\", {\n    onClick: onCloseToggle,\n    className: \"longtext-header-tool-item dtable-font dtable-icon-x\"\n  }))), !isValidBrowser && /*#__PURE__*/_react.default.createElement(_browserTip.default, {\n    lang: lang,\n    isWindowsWechat: isWindowsWechat\n  })), /*#__PURE__*/_react.default.createElement(\"div\", {\n    onKeyDown: onContainerKeyDown,\n    className: contentClass\n  }, !readOnly && !isWindowsWechat && /*#__PURE__*/_react.default.createElement(_simpleEditor.default, {\n    ref: editorRef,\n    value: value,\n    editorApi: editorApi,\n    onContentChanged: onContentChanged\n  }), (readOnly || isWindowsWechat) && /*#__PURE__*/_react.default.createElement(_markdownPreview.default, {\n    isWindowsWechat: isWindowsWechat,\n    value: value,\n    isShowOutline: false\n  }))));\n}"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}