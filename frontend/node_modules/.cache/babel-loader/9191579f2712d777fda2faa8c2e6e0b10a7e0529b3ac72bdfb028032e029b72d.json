{"ast":null,"code":"import _objectSpread from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{seafileAPI}from'../../../utils/seafile-api';import{gettext}from'../../../utils/constants';import toaster from'../../../components/toast';import{Utils}from'../../../utils/utils';import EmptyTip from'../../../components/empty-tip';import moment from'moment';import Loading from'../../../components/loading';import Paginator from'../../../components/paginator';import LinksNav from'./links-nav';import MainPanelTopbar from'../main-panel-topbar';import UserLink from'../user-link';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.getPreviousPage=function(){_this.props.getUploadLinksByPage(_this.props.currentPage-1);};_this.getNextPage=function(){_this.props.getUploadLinksByPage(_this.props.currentPage+1);};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,perPage=_this$props.perPage,currentPage=_this$props.currentPage,hasNextPage=_this$props.hasNextPage;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsx(EmptyTip,{children:/*#__PURE__*/_jsx(\"h2\",{children:gettext('No upload links')})});var table=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"18%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"18%\",children:gettext('Token')}),/*#__PURE__*/_jsx(\"th\",{width:\"18%\",children:gettext('Owner')}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:gettext('Created At')}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\",children:gettext('Count')}),/*#__PURE__*/_jsx(\"th\",{width:\"11%\",children:gettext('Expiration')}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\"})]})}),items&&/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{item:item,deleteUploadLink:_this2.props.deleteUploadLink},index);})})]}),/*#__PURE__*/_jsx(Paginator,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:currentPage,hasNextPage:hasNextPage,curPerPage:perPage,resetPerPage:this.props.resetPerPage})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super2.call(this,props);_this3.handleMouseOver=function(){_this3.setState({isOpIconShown:true});};_this3.handleMouseOut=function(){_this3.setState({isOpIconShown:false});};_this3.deleteUploadLink=function(){_this3.props.deleteUploadLink(_this3.props.item.token);};_this3.renderExpiration=function(){var item=_this3.props.item;if(!item.expire_date){return'--';}var expire_date=moment(item.expire_date).format('YYYY-MM-DD');var expire_time=moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');return/*#__PURE__*/_jsx(\"span\",{className:item.is_expired?'error':'',title:expire_time,children:expire_date});};_this3.state={isOpIconShown:false};return _this3;}_createClass(Item,[{key:\"render\",value:function render(){var isOpIconShown=this.state.isOpIconShown;var item=this.props.item;var deleteIcon=\"action-icon sf2-icon-delete \".concat(isOpIconShown?'':'invisible');return/*#__PURE__*/_jsx(Fragment,{children:/*#__PURE__*/_jsxs(\"tr\",{onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,children:[/*#__PURE__*/_jsx(\"td\",{children:item.path}),/*#__PURE__*/_jsx(\"td\",{children:item.token}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(UserLink,{email:item.creator_email,name:item.creator_name})}),/*#__PURE__*/_jsx(\"td\",{children:moment(item.ctime).fromNow()}),/*#__PURE__*/_jsx(\"td\",{children:item.view_cnt}),/*#__PURE__*/_jsx(\"td\",{children:this.renderExpiration()}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:deleteIcon,title:gettext('Remove'),onClick:this.deleteUploadLink})})]})});}}]);return Item;}(Component);var UploadLinks=/*#__PURE__*/function(_Component3){_inherits(UploadLinks,_Component3);var _super3=_createSuper(UploadLinks);function UploadLinks(props){var _this4;_classCallCheck(this,UploadLinks);_this4=_super3.call(this,props);_this4.getUploadLinksByPage=function(page){var perPage=_this4.state.perPage;seafileAPI.sysAdminListAllUploadLinks(page,perPage).then(function(res){_this4.setState({uploadLinkList:res.data.upload_link_list,loading:false,currentPage:page,hasNextPage:Utils.hasNextPage(page,perPage,res.data.count)});}).catch(function(error){_this4.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this4.deleteUploadLink=function(linkToken){seafileAPI.sysAdminDeleteUploadLink(linkToken).then(function(res){var newUploadLinkList=_this4.state.uploadLinkList.filter(function(item){return item.token!=linkToken;});_this4.setState({uploadLinkList:newUploadLinkList});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.resetPerPage=function(newPerPage){_this4.setState({perPage:newPerPage},function(){return _this4.getUploadLinksByPage(_this4.initPage);});};_this4.state={loading:true,errorMsg:'',uploadLinkList:[],perPage:25,currentPage:1,hasNextPage:false};_this4.initPage=1;return _this4;}_createClass(UploadLinks,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;var urlParams=new URL(window.location).searchParams;var _this$state=this.state,currentPage=_this$state.currentPage,perPage=_this$state.perPage;this.setState({perPage:parseInt(urlParams.get('per_page')||perPage),currentPage:parseInt(urlParams.get('page')||currentPage)},function(){_this5.getUploadLinksByPage(_this5.state.currentPage);});}},{key:\"render\",value:function render(){var _this$state2=this.state,uploadLinkList=_this$state2.uploadLinkList,currentPage=_this$state2.currentPage,perPage=_this$state2.perPage,hasNextPage=_this$state2.hasNextPage;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,_objectSpread({},this.props)),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(LinksNav,{currentItem:\"uploadLinks\"}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:uploadLinkList,currentPage:currentPage,perPage:perPage,hasNextPage:hasNextPage,getUploadLinksByPage:this.getUploadLinksByPage,resetPerPage:this.resetPerPage,deleteUploadLink:this.deleteUploadLink})})]})})]});}}]);return UploadLinks;}(Component);export default UploadLinks;","map":{"version":3,"names":["React","Component","Fragment","seafileAPI","gettext","toaster","Utils","EmptyTip","moment","Loading","Paginator","LinksNav","MainPanelTopbar","UserLink","jsx","_jsx","jsxs","_jsxs","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","getPreviousPage","getUploadLinksByPage","currentPage","getNextPage","_createClass","key","value","render","_this2","_this$props","loading","errorMsg","items","perPage","hasNextPage","className","children","emptyTip","table","width","map","item","index","Item","deleteUploadLink","gotoPreviousPage","gotoNextPage","curPerPage","resetPerPage","length","_Component2","_super2","_this3","handleMouseOver","setState","isOpIconShown","handleMouseOut","token","renderExpiration","expire_date","format","expire_time","is_expired","title","state","deleteIcon","concat","onMouseOver","onMouseOut","path","email","creator_email","name","creator_name","ctime","fromNow","view_cnt","href","onClick","UploadLinks","_Component3","_super3","_this4","page","sysAdminListAllUploadLinks","then","res","uploadLinkList","data","upload_link_list","count","catch","error","getErrorMsg","linkToken","sysAdminDeleteUploadLink","newUploadLinkList","filter","errMessage","danger","newPerPage","initPage","componentDidMount","_this5","urlParams","URL","window","location","searchParams","_this$state","parseInt","get","_this$state2","_objectSpread","currentItem"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/links/upload-links.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport LinksNav from './links-nav';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport UserLink from '../user-link';\n\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getUploadLinksByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No upload links')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"18%\">{gettext('Name')}</th>\n                <th width=\"18%\">{gettext('Token')}</th>\n                <th width=\"18%\">{gettext('Owner')}</th>\n                <th width=\"15%\">{gettext('Created At')}</th>\n                <th width=\"10%\">{gettext('Count')}</th>\n                <th width=\"11%\">{gettext('Expiration')}</th>\n                <th width=\"10%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            {items &&\n              <tbody>\n                {items.map((item, index) => {\n                  return (<Item\n                    key={index}\n                    item={item}\n                    deleteUploadLink={this.props.deleteUploadLink}\n                  />);\n                })}\n              </tbody>\n            }\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getUploadLinksByPage: PropTypes.func.isRequired,\n  deleteUploadLink: PropTypes.func.isRequired,\n};\n\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({\n      isOpIconShown: true\n    });\n  };\n\n  handleMouseOut = () => {\n    this.setState({\n      isOpIconShown: false\n    });\n  };\n\n  deleteUploadLink = () => {\n    this.props.deleteUploadLink(this.props.item.token);\n  };\n\n  renderExpiration = () => {\n    let item = this.props.item;\n    if (!item.expire_date) {\n      return '--';\n    }\n    const expire_date = moment(item.expire_date).format('YYYY-MM-DD');\n    const expire_time = moment(item.expire_date).format('YYYY-MM-DD HH:mm:ss');\n    return (<span className={item.is_expired ? 'error' : ''} title={expire_time}>{expire_date}</span>);\n  };\n\n  render() {\n    let { isOpIconShown } = this.state;\n    let { item } = this.props;\n    let deleteIcon = `action-icon sf2-icon-delete ${isOpIconShown ? '' : 'invisible'}`;\n    return (\n      <Fragment>\n        <tr onMouseOver={this.handleMouseOver} onMouseOut={this.handleMouseOut}>\n          <td>{item.path}</td>\n          <td>{item.token}</td>\n          <td><UserLink email={item.creator_email} name={item.creator_name} /></td>\n          <td>{moment(item.ctime).fromNow()}</td>\n          <td>{item.view_cnt}</td>\n          <td>{this.renderExpiration()}</td>\n          <td>\n            <a href=\"#\" className={deleteIcon} title={gettext('Remove')} onClick={this.deleteUploadLink}></a>\n          </td>\n        </tr>\n      </Fragment>\n    );\n  }\n}\n\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  deleteUploadLink: PropTypes.func.isRequired,\n};\n\n\nclass UploadLinks extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      uploadLinkList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount() {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getUploadLinksByPage(this.state.currentPage);\n    });\n  }\n\n  getUploadLinksByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListAllUploadLinks(page, perPage).then((res) => {\n      this.setState({\n        uploadLinkList: res.data.upload_link_list,\n        loading: false,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  deleteUploadLink = (linkToken) => {\n    seafileAPI.sysAdminDeleteUploadLink(linkToken).then(res => {\n      let newUploadLinkList = this.state.uploadLinkList.filter(item =>\n        item.token != linkToken\n      );\n      this.setState({uploadLinkList: newUploadLinkList});\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getUploadLinksByPage(this.initPage));\n  };\n\n  render() {\n    let { uploadLinkList, currentPage, perPage, hasNextPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props} />\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <LinksNav currentItem=\"uploadLinks\" />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={uploadLinkList}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getUploadLinksByPage={this.getUploadLinksByPage}\n                resetPerPage={this.resetPerPage}\n                deleteUploadLink={this.deleteUploadLink}\n              />\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default UploadLinks;\n"],"mappings":"6tBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,OAASC,UAAU,KAAQ,4BAA4B,CACvD,OAASC,OAAO,KAAQ,0BAA0B,CAClD,MAAO,CAAAC,OAAO,KAAM,2BAA2B,CAC/C,OAASC,KAAK,KAAQ,sBAAsB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,+BAA+B,CACpD,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,MAAO,CAAAC,OAAO,KAAM,6BAA6B,CACjD,MAAO,CAAAC,SAAS,KAAM,+BAA+B,CACrD,MAAO,CAAAC,QAAQ,KAAM,aAAa,CAClC,MAAO,CAAAC,eAAe,KAAM,sBAAsB,CAClD,MAAO,CAAAC,QAAQ,KAAM,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAG9B,CAAAC,OAAO,uBAAAC,UAAA,EAAAC,SAAA,CAAAF,OAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,OAAA,EAEX,SAAAA,QAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,OAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAGfG,eAAe,CAAG,UAAM,CACtBH,KAAA,CAAKD,KAAK,CAACK,oBAAoB,CAACJ,KAAA,CAAKD,KAAK,CAACM,WAAW,CAAG,CAAC,CAAC,CAC7D,CAAC,CAAAL,KAAA,CAEDM,WAAW,CAAG,UAAM,CAClBN,KAAA,CAAKD,KAAK,CAACK,oBAAoB,CAACJ,KAAA,CAAKD,KAAK,CAACM,WAAW,CAAG,CAAC,CAAC,CAC7D,CAAC,QAAAL,KAAA,CARD,CAACO,YAAA,CAAAb,OAAA,GAAAc,GAAA,UAAAC,KAAA,CAUD,SAAAC,OAAA,CAAS,KAAAC,MAAA,MACP,IAAAC,WAAA,CAAwE,IAAI,CAACb,KAAK,CAA1Ec,OAAO,CAAAD,WAAA,CAAPC,OAAO,CAAEC,QAAQ,CAAAF,WAAA,CAARE,QAAQ,CAAEC,KAAK,CAAAH,WAAA,CAALG,KAAK,CAAEC,OAAO,CAAAJ,WAAA,CAAPI,OAAO,CAAEX,WAAW,CAAAO,WAAA,CAAXP,WAAW,CAAEY,WAAW,CAAAL,WAAA,CAAXK,WAAW,CACnE,GAAIJ,OAAO,CAAE,CACX,mBAAOtB,IAAA,CAACN,OAAO,GAAE,CAAC,CACpB,CAAC,IAAM,IAAI6B,QAAQ,CAAE,CACnB,mBAAOvB,IAAA,MAAG2B,SAAS,CAAC,mBAAmB,CAAAC,QAAA,CAAEL,QAAQ,CAAI,CAAC,CACxD,CAAC,IAAM,CACL,GAAM,CAAAM,QAAQ,cACZ7B,IAAA,CAACR,QAAQ,EAAAoC,QAAA,cACP5B,IAAA,OAAA4B,QAAA,CAAKvC,OAAO,CAAC,iBAAiB,CAAC,CAAK,CAAC,CAC7B,CACX,CACD,GAAM,CAAAyC,KAAK,cACT5B,KAAA,CAACf,QAAQ,EAAAyC,QAAA,eACP1B,KAAA,UAAOyB,SAAS,CAAC,aAAa,CAAAC,QAAA,eAC5B5B,IAAA,UAAA4B,QAAA,cACE1B,KAAA,OAAA0B,QAAA,eACE5B,IAAA,OAAI+B,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAEvC,OAAO,CAAC,MAAM,CAAC,CAAK,CAAC,cACtCW,IAAA,OAAI+B,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAEvC,OAAO,CAAC,OAAO,CAAC,CAAK,CAAC,cACvCW,IAAA,OAAI+B,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAEvC,OAAO,CAAC,OAAO,CAAC,CAAK,CAAC,cACvCW,IAAA,OAAI+B,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAEvC,OAAO,CAAC,YAAY,CAAC,CAAK,CAAC,cAC5CW,IAAA,OAAI+B,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAEvC,OAAO,CAAC,OAAO,CAAC,CAAK,CAAC,cACvCW,IAAA,OAAI+B,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAEvC,OAAO,CAAC,YAAY,CAAC,CAAK,CAAC,cAC5CW,IAAA,OAAI+B,KAAK,CAAC,KAAK,CAAqB,CAAC,EACnC,CAAC,CACA,CAAC,CACPP,KAAK,eACJxB,IAAA,UAAA4B,QAAA,CACGJ,KAAK,CAACQ,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAK,CAC1B,mBAAQlC,IAAA,CAACmC,IAAI,EAEXF,IAAI,CAAEA,IAAK,CACXG,gBAAgB,CAAEhB,MAAI,CAACZ,KAAK,CAAC4B,gBAAiB,EAFzCF,KAGN,CAAC,CACJ,CAAC,CAAC,CACG,CAAC,EAEL,CAAC,cACRlC,IAAA,CAACL,SAAS,EACR0C,gBAAgB,CAAE,IAAI,CAACzB,eAAgB,CACvC0B,YAAY,CAAE,IAAI,CAACvB,WAAY,CAC/BD,WAAW,CAAEA,WAAY,CACzBY,WAAW,CAAEA,WAAY,CACzBa,UAAU,CAAEd,OAAQ,CACpBe,YAAY,CAAE,IAAI,CAAChC,KAAK,CAACgC,YAAa,CACvC,CAAC,EACM,CACX,CACD,MAAO,CAAAhB,KAAK,CAACiB,MAAM,CAAGX,KAAK,CAAGD,QAAQ,CACxC,CACF,CAAC,WAAA1B,OAAA,GAhEmBjB,SAAS,KAkFzB,CAAAiD,IAAI,uBAAAO,WAAA,EAAArC,SAAA,CAAA8B,IAAA,CAAAO,WAAA,MAAAC,OAAA,CAAApC,YAAA,CAAA4B,IAAA,EAER,SAAAA,KAAY3B,KAAK,CAAE,KAAAoC,MAAA,CAAAlC,eAAA,MAAAyB,IAAA,EACjBS,MAAA,CAAAD,OAAA,CAAAhC,IAAA,MAAMH,KAAK,EAAEoC,MAAA,CAMfC,eAAe,CAAG,UAAM,CACtBD,MAAA,CAAKE,QAAQ,CAAC,CACZC,aAAa,CAAE,IACjB,CAAC,CAAC,CACJ,CAAC,CAAAH,MAAA,CAEDI,cAAc,CAAG,UAAM,CACrBJ,MAAA,CAAKE,QAAQ,CAAC,CACZC,aAAa,CAAE,KACjB,CAAC,CAAC,CACJ,CAAC,CAAAH,MAAA,CAEDR,gBAAgB,CAAG,UAAM,CACvBQ,MAAA,CAAKpC,KAAK,CAAC4B,gBAAgB,CAACQ,MAAA,CAAKpC,KAAK,CAACyB,IAAI,CAACgB,KAAK,CAAC,CACpD,CAAC,CAAAL,MAAA,CAEDM,gBAAgB,CAAG,UAAM,CACvB,GAAI,CAAAjB,IAAI,CAAGW,MAAA,CAAKpC,KAAK,CAACyB,IAAI,CAC1B,GAAI,CAACA,IAAI,CAACkB,WAAW,CAAE,CACrB,MAAO,IAAI,CACb,CACA,GAAM,CAAAA,WAAW,CAAG1D,MAAM,CAACwC,IAAI,CAACkB,WAAW,CAAC,CAACC,MAAM,CAAC,YAAY,CAAC,CACjE,GAAM,CAAAC,WAAW,CAAG5D,MAAM,CAACwC,IAAI,CAACkB,WAAW,CAAC,CAACC,MAAM,CAAC,qBAAqB,CAAC,CAC1E,mBAAQpD,IAAA,SAAM2B,SAAS,CAAEM,IAAI,CAACqB,UAAU,CAAG,OAAO,CAAG,EAAG,CAACC,KAAK,CAAEF,WAAY,CAAAzB,QAAA,CAAEuB,WAAW,CAAO,CAAC,CACnG,CAAC,CA7BCP,MAAA,CAAKY,KAAK,CAAG,CACXT,aAAa,CAAE,KACjB,CAAC,CAAC,OAAAH,MAAA,CACJ,CAAC5B,YAAA,CAAAmB,IAAA,GAAAlB,GAAA,UAAAC,KAAA,CA4BD,SAAAC,OAAA,CAAS,CACP,GAAM,CAAA4B,aAAa,CAAK,IAAI,CAACS,KAAK,CAA5BT,aAAa,CACnB,GAAM,CAAAd,IAAI,CAAK,IAAI,CAACzB,KAAK,CAAnByB,IAAI,CACV,GAAI,CAAAwB,UAAU,gCAAAC,MAAA,CAAkCX,aAAa,CAAG,EAAE,CAAG,WAAW,CAAE,CAClF,mBACE/C,IAAA,CAACb,QAAQ,EAAAyC,QAAA,cACP1B,KAAA,OAAIyD,WAAW,CAAE,IAAI,CAACd,eAAgB,CAACe,UAAU,CAAE,IAAI,CAACZ,cAAe,CAAApB,QAAA,eACrE5B,IAAA,OAAA4B,QAAA,CAAKK,IAAI,CAAC4B,IAAI,CAAK,CAAC,cACpB7D,IAAA,OAAA4B,QAAA,CAAKK,IAAI,CAACgB,KAAK,CAAK,CAAC,cACrBjD,IAAA,OAAA4B,QAAA,cAAI5B,IAAA,CAACF,QAAQ,EAACgE,KAAK,CAAE7B,IAAI,CAAC8B,aAAc,CAACC,IAAI,CAAE/B,IAAI,CAACgC,YAAa,CAAE,CAAC,CAAI,CAAC,cACzEjE,IAAA,OAAA4B,QAAA,CAAKnC,MAAM,CAACwC,IAAI,CAACiC,KAAK,CAAC,CAACC,OAAO,CAAC,CAAC,CAAK,CAAC,cACvCnE,IAAA,OAAA4B,QAAA,CAAKK,IAAI,CAACmC,QAAQ,CAAK,CAAC,cACxBpE,IAAA,OAAA4B,QAAA,CAAK,IAAI,CAACsB,gBAAgB,CAAC,CAAC,CAAK,CAAC,cAClClD,IAAA,OAAA4B,QAAA,cACE5B,IAAA,MAAGqE,IAAI,CAAC,GAAG,CAAC1C,SAAS,CAAE8B,UAAW,CAACF,KAAK,CAAElE,OAAO,CAAC,QAAQ,CAAE,CAACiF,OAAO,CAAE,IAAI,CAAClC,gBAAiB,CAAI,CAAC,CAC/F,CAAC,EACH,CAAC,CACG,CAAC,CAEf,CAAC,WAAAD,IAAA,GAtDgBjD,SAAS,KAgEtB,CAAAqF,WAAW,uBAAAC,WAAA,EAAAnE,SAAA,CAAAkE,WAAA,CAAAC,WAAA,MAAAC,OAAA,CAAAlE,YAAA,CAAAgE,WAAA,EAEf,SAAAA,YAAY/D,KAAK,CAAE,KAAAkE,MAAA,CAAAhE,eAAA,MAAA6D,WAAA,EACjBG,MAAA,CAAAD,OAAA,CAAA9D,IAAA,MAAMH,KAAK,EAAEkE,MAAA,CAuBf7D,oBAAoB,CAAG,SAAC8D,IAAI,CAAK,CAC/B,GAAM,CAAAlD,OAAO,CAAKiD,MAAA,CAAKlB,KAAK,CAAtB/B,OAAO,CACbrC,UAAU,CAACwF,0BAA0B,CAACD,IAAI,CAAElD,OAAO,CAAC,CAACoD,IAAI,CAAC,SAACC,GAAG,CAAK,CACjEJ,MAAA,CAAK5B,QAAQ,CAAC,CACZiC,cAAc,CAAED,GAAG,CAACE,IAAI,CAACC,gBAAgB,CACzC3D,OAAO,CAAE,KAAK,CACdR,WAAW,CAAE6D,IAAI,CACjBjD,WAAW,CAAEnC,KAAK,CAACmC,WAAW,CAACiD,IAAI,CAAElD,OAAO,CAAEqD,GAAG,CAACE,IAAI,CAACE,KAAK,CAC9D,CAAC,CAAC,CACJ,CAAC,CAAC,CAACC,KAAK,CAAC,SAACC,KAAK,CAAK,CAClBV,MAAA,CAAK5B,QAAQ,CAAC,CACZxB,OAAO,CAAE,KAAK,CACdC,QAAQ,CAAEhC,KAAK,CAAC8F,WAAW,CAACD,KAAK,CAAE,IAAI,CAAE;AAC3C,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAAV,MAAA,CAEDtC,gBAAgB,CAAG,SAACkD,SAAS,CAAK,CAChClG,UAAU,CAACmG,wBAAwB,CAACD,SAAS,CAAC,CAACT,IAAI,CAAC,SAAAC,GAAG,CAAI,CACzD,GAAI,CAAAU,iBAAiB,CAAGd,MAAA,CAAKlB,KAAK,CAACuB,cAAc,CAACU,MAAM,CAAC,SAAAxD,IAAI,QAC3D,CAAAA,IAAI,CAACgB,KAAK,EAAIqC,SAAS,EACzB,CAAC,CACDZ,MAAA,CAAK5B,QAAQ,CAAC,CAACiC,cAAc,CAAES,iBAAiB,CAAC,CAAC,CACpD,CAAC,CAAC,CAACL,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChB,GAAI,CAAAM,UAAU,CAAGnG,KAAK,CAAC8F,WAAW,CAACD,KAAK,CAAC,CACzC9F,OAAO,CAACqG,MAAM,CAACD,UAAU,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAAhB,MAAA,CAEDlC,YAAY,CAAG,SAACoD,UAAU,CAAK,CAC7BlB,MAAA,CAAK5B,QAAQ,CAAC,CACZrB,OAAO,CAAEmE,UACX,CAAC,CAAE,iBAAM,CAAAlB,MAAA,CAAK7D,oBAAoB,CAAC6D,MAAA,CAAKmB,QAAQ,CAAC,GAAC,CACpD,CAAC,CAvDCnB,MAAA,CAAKlB,KAAK,CAAG,CACXlC,OAAO,CAAE,IAAI,CACbC,QAAQ,CAAE,EAAE,CACZwD,cAAc,CAAE,EAAE,CAClBtD,OAAO,CAAE,EAAE,CACXX,WAAW,CAAE,CAAC,CACdY,WAAW,CAAE,KACf,CAAC,CACDgD,MAAA,CAAKmB,QAAQ,CAAG,CAAC,CAAC,OAAAnB,MAAA,CACpB,CAAC1D,YAAA,CAAAuD,WAAA,GAAAtD,GAAA,qBAAAC,KAAA,CAED,SAAA4E,kBAAA,CAAoB,KAAAC,MAAA,MAClB,GAAI,CAAAC,SAAS,CAAI,GAAI,CAAAC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAEC,YAAY,CACvD,IAAAC,WAAA,CAAiC,IAAI,CAAC7C,KAAK,CAAnC1C,WAAW,CAAAuF,WAAA,CAAXvF,WAAW,CAAEW,OAAO,CAAA4E,WAAA,CAAP5E,OAAO,CAC5B,IAAI,CAACqB,QAAQ,CAAC,CACZrB,OAAO,CAAE6E,QAAQ,CAACN,SAAS,CAACO,GAAG,CAAC,UAAU,CAAC,EAAI9E,OAAO,CAAC,CACvDX,WAAW,CAAEwF,QAAQ,CAACN,SAAS,CAACO,GAAG,CAAC,MAAM,CAAC,EAAIzF,WAAW,CAC5D,CAAC,CAAE,UAAM,CACPiF,MAAI,CAAClF,oBAAoB,CAACkF,MAAI,CAACvC,KAAK,CAAC1C,WAAW,CAAC,CACnD,CAAC,CAAC,CACJ,CAAC,GAAAG,GAAA,UAAAC,KAAA,CAqCD,SAAAC,OAAA,CAAS,CACP,IAAAqF,YAAA,CAA4D,IAAI,CAAChD,KAAK,CAAhEuB,cAAc,CAAAyB,YAAA,CAAdzB,cAAc,CAAEjE,WAAW,CAAA0F,YAAA,CAAX1F,WAAW,CAAEW,OAAO,CAAA+E,YAAA,CAAP/E,OAAO,CAAEC,WAAW,CAAA8E,YAAA,CAAX9E,WAAW,CACvD,mBACExB,KAAA,CAACf,QAAQ,EAAAyC,QAAA,eACP5B,IAAA,CAACH,eAAe,CAAA4G,aAAA,IAAK,IAAI,CAACjG,KAAK,CAAG,CAAC,cACnCR,IAAA,QAAK2B,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC1B,KAAA,QAAKyB,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjC5B,IAAA,CAACJ,QAAQ,EAAC8G,WAAW,CAAC,aAAa,CAAE,CAAC,cACtC1G,IAAA,QAAK2B,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/B5B,IAAA,CAACG,OAAO,EACNmB,OAAO,CAAE,IAAI,CAACkC,KAAK,CAAClC,OAAQ,CAC5BC,QAAQ,CAAE,IAAI,CAACiC,KAAK,CAACjC,QAAS,CAC9BC,KAAK,CAAEuD,cAAe,CACtBjE,WAAW,CAAEA,WAAY,CACzBW,OAAO,CAAEA,OAAQ,CACjBC,WAAW,CAAEA,WAAY,CACzBb,oBAAoB,CAAE,IAAI,CAACA,oBAAqB,CAChD2B,YAAY,CAAE,IAAI,CAACA,YAAa,CAChCJ,gBAAgB,CAAE,IAAI,CAACA,gBAAiB,CACzC,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,EACE,CAAC,CAEf,CAAC,WAAAmC,WAAA,GAtFuBrF,SAAS,EAyFnC,cAAe,CAAAqF,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}