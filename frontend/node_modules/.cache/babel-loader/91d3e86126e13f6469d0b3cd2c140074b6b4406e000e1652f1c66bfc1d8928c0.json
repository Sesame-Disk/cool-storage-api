{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{isPro,gettext,showLogoutIcon,enableSeafileAI}from'../../utils/constants';import Search from'../search/search';import AISearch from'../search/ai-search';import SearchByName from'../search/search-by-name';import Notification from'../common/notification';import Account from'../common/account';import Logout from'../common/logout';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CommonToolbar=/*#__PURE__*/function(_React$Component){_inherits(CommonToolbar,_React$Component);var _super=_createSuper(CommonToolbar);function CommonToolbar(){var _this;_classCallCheck(this,CommonToolbar);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.renderSearch=function(){var _this$props=_this.props,repoID=_this$props.repoID,repoName=_this$props.repoName,isLibView=_this$props.isLibView,searchPlaceholder=_this$props.searchPlaceholder;var placeholder=searchPlaceholder||gettext('Search files');if(isPro){if(enableSeafileAI&&isLibView){return/*#__PURE__*/_jsx(AISearch,{repoID:repoID,placeholder:placeholder,onSearchedClick:_this.props.onSearchedClick,repoName:repoName,currentRepoInfo:_this.props.currentRepoInfo});}else{return/*#__PURE__*/_jsx(Search,{repoID:repoID,placeholder:placeholder,onSearchedClick:_this.props.onSearchedClick,isPublic:false});}}else{if(isLibView){return/*#__PURE__*/_jsx(SearchByName,{repoID:repoID,repoName:repoName});}return null;}};return _this;}_createClass(CommonToolbar,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"common-toolbar\",children:[this.renderSearch(),/*#__PURE__*/_jsx(Notification,{}),/*#__PURE__*/_jsx(Account,{}),showLogoutIcon&&/*#__PURE__*/_jsx(Logout,{})]});}}]);return CommonToolbar;}(React.Component);export default CommonToolbar;","map":{"version":3,"names":["React","isPro","gettext","showLogoutIcon","enableSeafileAI","Search","AISearch","SearchByName","Notification","Account","Logout","jsx","_jsx","jsxs","_jsxs","CommonToolbar","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","renderSearch","_this$props","props","repoID","repoName","isLibView","searchPlaceholder","placeholder","onSearchedClick","currentRepoInfo","isPublic","_createClass","key","value","render","className","children","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/toolbar/common-toolbar.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { isPro, gettext, showLogoutIcon, enableSeafileAI } from '../../utils/constants';\nimport Search from '../search/search';\nimport AISearch from '../search/ai-search';\nimport SearchByName from '../search/search-by-name';\nimport Notification from '../common/notification';\nimport Account from '../common/account';\nimport Logout from '../common/logout';\n\nconst propTypes = {\n  repoID: PropTypes.string,\n  repoName: PropTypes.string,\n  isLibView: PropTypes.bool,\n  onSearchedClick: PropTypes.func.isRequired,\n  searchPlaceholder: PropTypes.string,\n  currentRepoInfo: PropTypes.object,\n};\n\nclass CommonToolbar extends React.Component {\n\n  renderSearch = () => {\n    const { repoID, repoName, isLibView, searchPlaceholder } = this.props;\n    const placeholder = searchPlaceholder || gettext('Search files');\n\n    if (isPro) {\n      if (enableSeafileAI && isLibView) {\n        return (\n          <AISearch\n            repoID={repoID}\n            placeholder={placeholder}\n            onSearchedClick={this.props.onSearchedClick}\n            repoName={repoName}\n            currentRepoInfo={this.props.currentRepoInfo}\n          />\n        );\n      } else {\n        return (\n          <Search\n            repoID={repoID}\n            placeholder={placeholder}\n            onSearchedClick={this.props.onSearchedClick}\n            isPublic={false}\n          />\n        );\n      }\n    } else {\n      if (isLibView) {\n        return (\n          <SearchByName repoID={repoID} repoName={repoName} />\n        );\n      }\n      return null;\n    }\n  };\n\n  render() {\n    return (\n      <div className=\"common-toolbar\">\n        {this.renderSearch()}\n        <Notification />\n        <Account />\n        {showLogoutIcon && (<Logout />)}\n      </div>\n    );\n  }\n}\n\nCommonToolbar.propTypes = propTypes;\n\nexport default CommonToolbar;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,KAAK,CAAEC,OAAO,CAAEC,cAAc,CAAEC,eAAe,KAAQ,uBAAuB,CACvF,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CACrC,MAAO,CAAAC,QAAQ,KAAM,qBAAqB,CAC1C,MAAO,CAAAC,YAAY,KAAM,0BAA0B,CACnD,MAAO,CAAAC,YAAY,KAAM,wBAAwB,CACjD,MAAO,CAAAC,OAAO,KAAM,mBAAmB,CACvC,MAAO,CAAAC,MAAM,KAAM,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAWhC,CAAAC,aAAa,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,aAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,aAAA,WAAAA,cAAA,MAAAK,KAAA,CAAAC,eAAA,MAAAN,aAAA,UAAAO,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAAAC,IAAA,KAAAC,KAAA,CAAAJ,IAAA,EAAAK,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,IAAAF,IAAA,CAAAE,IAAA,EAAAJ,SAAA,CAAAI,IAAA,GAAAP,KAAA,CAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,QAAAY,MAAA,CAAAL,IAAA,GAAAL,KAAA,CAEjBW,YAAY,CAAG,UAAM,CACnB,IAAAC,WAAA,CAA2DZ,KAAA,CAAKa,KAAK,CAA7DC,MAAM,CAAAF,WAAA,CAANE,MAAM,CAAEC,QAAQ,CAAAH,WAAA,CAARG,QAAQ,CAAEC,SAAS,CAAAJ,WAAA,CAATI,SAAS,CAAEC,iBAAiB,CAAAL,WAAA,CAAjBK,iBAAiB,CACtD,GAAM,CAAAC,WAAW,CAAGD,iBAAiB,EAAInC,OAAO,CAAC,cAAc,CAAC,CAEhE,GAAID,KAAK,CAAE,CACT,GAAIG,eAAe,EAAIgC,SAAS,CAAE,CAChC,mBACExB,IAAA,CAACN,QAAQ,EACP4B,MAAM,CAAEA,MAAO,CACfI,WAAW,CAAEA,WAAY,CACzBC,eAAe,CAAEnB,KAAA,CAAKa,KAAK,CAACM,eAAgB,CAC5CJ,QAAQ,CAAEA,QAAS,CACnBK,eAAe,CAAEpB,KAAA,CAAKa,KAAK,CAACO,eAAgB,CAC7C,CAAC,CAEN,CAAC,IAAM,CACL,mBACE5B,IAAA,CAACP,MAAM,EACL6B,MAAM,CAAEA,MAAO,CACfI,WAAW,CAAEA,WAAY,CACzBC,eAAe,CAAEnB,KAAA,CAAKa,KAAK,CAACM,eAAgB,CAC5CE,QAAQ,CAAE,KAAM,CACjB,CAAC,CAEN,CACF,CAAC,IAAM,CACL,GAAIL,SAAS,CAAE,CACb,mBACExB,IAAA,CAACL,YAAY,EAAC2B,MAAM,CAAEA,MAAO,CAACC,QAAQ,CAAEA,QAAS,CAAE,CAAC,CAExD,CACA,MAAO,KAAI,CACb,CACF,CAAC,QAAAf,KAAA,EAAAsB,YAAA,CAAA3B,aAAA,GAAA4B,GAAA,UAAAC,KAAA,CAED,SAAAC,OAAA,CAAS,CACP,mBACE/B,KAAA,QAAKgC,SAAS,CAAC,gBAAgB,CAAAC,QAAA,EAC5B,IAAI,CAAChB,YAAY,CAAC,CAAC,cACpBnB,IAAA,CAACJ,YAAY,GAAE,CAAC,cAChBI,IAAA,CAACH,OAAO,GAAE,CAAC,CACVN,cAAc,eAAKS,IAAA,CAACF,MAAM,GAAE,CAAE,EAC5B,CAAC,CAEV,CAAC,WAAAK,aAAA,GA9CyBf,KAAK,CAACgD,SAAS,EAmD3C,cAAe,CAAAjC,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}