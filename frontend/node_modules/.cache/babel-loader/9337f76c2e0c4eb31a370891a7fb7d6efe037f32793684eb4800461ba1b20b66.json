{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Button,Modal,ModalHeader,Input,ModalBody,ModalFooter,Form,FormGroup,Label,Alert}from'reactstrap';import{gettext}from'../../../utils/constants';import UserSelect from'../../user-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SysAdminCreateRepoDialog=/*#__PURE__*/function(_React$Component){_inherits(SysAdminCreateRepoDialog,_React$Component);var _super=_createSuper(SysAdminCreateRepoDialog);function SysAdminCreateRepoDialog(props){var _this;_classCallCheck(this,SysAdminCreateRepoDialog);_this=_super.call(this,props);_this.handleRepoNameChange=function(e){var value=e.target.value;_this.setState({repoName:value,isSubmitBtnActive:value.trim()});};_this.handleSubmit=function(){var _this$state=_this.state,repoName=_this$state.repoName,ownerEmail=_this$state.ownerEmail;_this.props.createRepo(repoName.trim(),ownerEmail);_this.toggle();};_this.handleSelectChange=function(option){// option can be null\n_this.setState({ownerEmail:option?option.email:''});};_this.handleKeyDown=function(e){if(e.key==='Enter'){_this.handleSubmit();e.preventDefault();}};_this.toggle=function(){_this.props.toggleDialog();};_this.state={repoName:'',ownerEmail:'',errMessage:'',isSubmitBtnActive:false};return _this;}_createClass(SysAdminCreateRepoDialog,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Modal,{isOpen:true,toggle:this.toggle,autoFocus:false,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggle,children:gettext('New Library')}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsxs(Form,{children:[/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"repoName\",children:gettext('Name')}),/*#__PURE__*/_jsx(Input,{id:\"repoName\",onKeyDown:this.handleKeyDown,value:this.state.repoName,onChange:this.handleRepoNameChange,autoFocus:true})]}),/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsxs(Label,{for:\"userSelect\",children:[gettext('Owner'),/*#__PURE__*/_jsx(\"span\",{className:\"small text-secondary\",children:gettext('(If left blank, owner will be admin)')})]}),/*#__PURE__*/_jsx(UserSelect,{id:\"userSelect\",isMulti:false,className:\"reviewer-select\",placeholder:gettext('Select a user'),onSelectChange:this.handleSelectChange})]})]}),this.state.errMessage&&/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:this.state.errMessage})]}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:this.toggle,children:gettext('Cancel')}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive,children:gettext('Submit')})]})]});}}]);return SysAdminCreateRepoDialog;}(React.Component);export default SysAdminCreateRepoDialog;","map":{"version":3,"names":["React","Button","Modal","ModalHeader","Input","ModalBody","ModalFooter","Form","FormGroup","Label","Alert","gettext","UserSelect","jsx","_jsx","jsxs","_jsxs","SysAdminCreateRepoDialog","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleRepoNameChange","e","value","target","setState","repoName","isSubmitBtnActive","trim","handleSubmit","_this$state","state","ownerEmail","createRepo","toggle","handleSelectChange","option","email","handleKeyDown","key","preventDefault","toggleDialog","errMessage","_createClass","render","isOpen","autoFocus","children","for","id","onKeyDown","onChange","className","isMulti","placeholder","onSelectChange","color","onClick","disabled","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/sysadmin-dialog/sysadmin-create-repo-dialog.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createRepo: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n};\n\nclass SysAdminCreateRepoDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      repoName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    const value = e.target.value;\n    this.setState({\n      repoName: value,\n      isSubmitBtnActive: value.trim()\n    });\n  };\n\n  handleSubmit = () => {\n    const { repoName, ownerEmail } = this.state;\n    this.props.createRepo(repoName.trim(), ownerEmail);\n    this.toggle();\n  };\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Library')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"repoName\">{gettext('Name')}</Label>\n              <Input\n                id=\"repoName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.repoName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n            </FormGroup>\n            <FormGroup>\n              <Label for=\"userSelect\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                id=\"userSelect\"\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateRepoDialog.propTypes = propTypes;\n\nexport default SysAdminCreateRepoDialog;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,MAAM,CAAEC,KAAK,CAAEC,WAAW,CAAEC,KAAK,CAAEC,SAAS,CAAEC,WAAW,CAAEC,IAAI,CAAEC,SAAS,CAAEC,KAAK,CAAEC,KAAK,KAAQ,YAAY,CACrH,OAASC,OAAO,KAAQ,0BAA0B,CAClD,MAAO,CAAAC,UAAU,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAQrC,CAAAC,wBAAwB,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,wBAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,wBAAA,EAC5B,SAAAA,yBAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,wBAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CASfG,oBAAoB,CAAG,SAACC,CAAC,CAAK,CAC5B,GAAM,CAAAC,KAAK,CAAGD,CAAC,CAACE,MAAM,CAACD,KAAK,CAC5BL,KAAA,CAAKO,QAAQ,CAAC,CACZC,QAAQ,CAAEH,KAAK,CACfI,iBAAiB,CAAEJ,KAAK,CAACK,IAAI,CAAC,CAChC,CAAC,CAAC,CACJ,CAAC,CAAAV,KAAA,CAEDW,YAAY,CAAG,UAAM,CACnB,IAAAC,WAAA,CAAiCZ,KAAA,CAAKa,KAAK,CAAnCL,QAAQ,CAAAI,WAAA,CAARJ,QAAQ,CAAEM,UAAU,CAAAF,WAAA,CAAVE,UAAU,CAC5Bd,KAAA,CAAKD,KAAK,CAACgB,UAAU,CAACP,QAAQ,CAACE,IAAI,CAAC,CAAC,CAAEI,UAAU,CAAC,CAClDd,KAAA,CAAKgB,MAAM,CAAC,CAAC,CACf,CAAC,CAAAhB,KAAA,CAEDiB,kBAAkB,CAAG,SAACC,MAAM,CAAK,CAC/B;AACAlB,KAAA,CAAKO,QAAQ,CAAC,CACZO,UAAU,CAAEI,MAAM,CAAGA,MAAM,CAACC,KAAK,CAAG,EACtC,CAAC,CAAC,CACJ,CAAC,CAAAnB,KAAA,CAEDoB,aAAa,CAAG,SAAChB,CAAC,CAAK,CACrB,GAAIA,CAAC,CAACiB,GAAG,GAAK,OAAO,CAAE,CACrBrB,KAAA,CAAKW,YAAY,CAAC,CAAC,CACnBP,CAAC,CAACkB,cAAc,CAAC,CAAC,CACpB,CACF,CAAC,CAAAtB,KAAA,CAEDgB,MAAM,CAAG,UAAM,CACbhB,KAAA,CAAKD,KAAK,CAACwB,YAAY,CAAC,CAAC,CAC3B,CAAC,CAtCCvB,KAAA,CAAKa,KAAK,CAAG,CACXL,QAAQ,CAAE,EAAE,CACZM,UAAU,CAAE,EAAE,CACdU,UAAU,CAAE,EAAE,CACdf,iBAAiB,CAAE,KACrB,CAAC,CAAC,OAAAT,KAAA,CACJ,CAACyB,YAAA,CAAA/B,wBAAA,GAAA2B,GAAA,UAAAhB,KAAA,CAkCD,SAAAqB,OAAA,CAAS,CACP,mBACEjC,KAAA,CAACd,KAAK,EAACgD,MAAM,CAAE,IAAK,CAACX,MAAM,CAAE,IAAI,CAACA,MAAO,CAACY,SAAS,CAAE,KAAM,CAAAC,QAAA,eACzDtC,IAAA,CAACX,WAAW,EAACoC,MAAM,CAAE,IAAI,CAACA,MAAO,CAAAa,QAAA,CAAEzC,OAAO,CAAC,aAAa,CAAC,CAAc,CAAC,cACxEK,KAAA,CAACX,SAAS,EAAA+C,QAAA,eACRpC,KAAA,CAACT,IAAI,EAAA6C,QAAA,eACHpC,KAAA,CAACR,SAAS,EAAA4C,QAAA,eACRtC,IAAA,CAACL,KAAK,EAAC4C,GAAG,CAAC,UAAU,CAAAD,QAAA,CAAEzC,OAAO,CAAC,MAAM,CAAC,CAAQ,CAAC,cAC/CG,IAAA,CAACV,KAAK,EACJkD,EAAE,CAAC,UAAU,CACbC,SAAS,CAAE,IAAI,CAACZ,aAAc,CAC9Bf,KAAK,CAAE,IAAI,CAACQ,KAAK,CAACL,QAAS,CAC3ByB,QAAQ,CAAE,IAAI,CAAC9B,oBAAqB,CACpCyB,SAAS,CAAE,IAAK,CACjB,CAAC,EACO,CAAC,cACZnC,KAAA,CAACR,SAAS,EAAA4C,QAAA,eACRpC,KAAA,CAACP,KAAK,EAAC4C,GAAG,CAAC,YAAY,CAAAD,QAAA,EACpBzC,OAAO,CAAC,OAAO,CAAC,cACjBG,IAAA,SAAM2C,SAAS,CAAC,sBAAsB,CAAAL,QAAA,CAAEzC,OAAO,CAAC,sCAAsC,CAAC,CAAO,CAAC,EAC1F,CAAC,cACRG,IAAA,CAACF,UAAU,EACT0C,EAAE,CAAC,YAAY,CACfI,OAAO,CAAE,KAAM,CACfD,SAAS,CAAC,iBAAiB,CAC3BE,WAAW,CAAEhD,OAAO,CAAC,eAAe,CAAE,CACtCiD,cAAc,CAAE,IAAI,CAACpB,kBAAmB,CACzC,CAAC,EACO,CAAC,EACR,CAAC,CACN,IAAI,CAACJ,KAAK,CAACW,UAAU,eAAIjC,IAAA,CAACJ,KAAK,EAACmD,KAAK,CAAC,QAAQ,CAAAT,QAAA,CAAE,IAAI,CAAChB,KAAK,CAACW,UAAU,CAAQ,CAAC,EACtE,CAAC,cACZ/B,KAAA,CAACV,WAAW,EAAA8C,QAAA,eACVtC,IAAA,CAACb,MAAM,EAAC4D,KAAK,CAAC,WAAW,CAACC,OAAO,CAAE,IAAI,CAACvB,MAAO,CAAAa,QAAA,CAAEzC,OAAO,CAAC,QAAQ,CAAC,CAAS,CAAC,cAC5EG,IAAA,CAACb,MAAM,EAAC4D,KAAK,CAAC,SAAS,CAACC,OAAO,CAAE,IAAI,CAAC5B,YAAa,CAAC6B,QAAQ,CAAE,CAAC,IAAI,CAAC3B,KAAK,CAACJ,iBAAkB,CAAAoB,QAAA,CAAEzC,OAAO,CAAC,QAAQ,CAAC,CAAS,CAAC,EAC9G,CAAC,EACT,CAAC,CAEZ,CAAC,WAAAM,wBAAA,GAjFoCjB,KAAK,CAACgE,SAAS,EAsFtD,cAAe,CAAA/C,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}