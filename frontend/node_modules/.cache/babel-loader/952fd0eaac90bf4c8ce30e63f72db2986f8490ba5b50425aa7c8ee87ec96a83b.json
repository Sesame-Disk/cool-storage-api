{"ast":null,"code":"import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _excluded = [\"text\"];\nimport React from 'react';\nimport Caret from './caret';\nimport { TEXT_STYLE_MAP } from '../../constants';\nimport { generatorFontFamily } from '../font/helpers';\nvar renderText = function renderText(props, editor) {\n  var attributes = props.attributes,\n    children = props.children,\n    leaf = props.leaf;\n  var text = leaf.text,\n    rest = _objectWithoutProperties(leaf, _excluded);\n  var markedChildren = React.cloneElement(children);\n  var style = {};\n  // The following is a workaround for a Chromium bug where,\n  // if you have an inline at the end of a block,\n  // clicking the end of a block puts the cursor inside the inline\n  // instead of inside the final {text: ''} node\n  // https://github.com/ianstormtaylor/slate/issues/4704#issuecomment-1006696364\n  if (!text.length) {\n    style['paddingLeft'] = '0.1px';\n  }\n  if (leaf.isCaret) {\n    style['position'] = 'relative';\n    style['display'] = 'inline-block';\n    style['minWidth'] = '2px';\n  }\n  if (leaf.computed_background_color) {\n    style['backgroundColor'] = leaf.computed_background_color;\n  }\n  if (leaf[TEXT_STYLE_MAP.COLOR]) {\n    style['color'] = leaf[TEXT_STYLE_MAP.COLOR];\n  }\n  if (leaf[TEXT_STYLE_MAP.HIGHLIGHT_COLOR]) {\n    style['backgroundColor'] = leaf[TEXT_STYLE_MAP.HIGHLIGHT_COLOR];\n  }\n  if (leaf[TEXT_STYLE_MAP.FONT_SIZE]) {\n    var fontSize = leaf[TEXT_STYLE_MAP.FONT_SIZE];\n    if (typeof fontSize === 'number') {\n      style['fontSize'] = \"\".concat(fontSize, \"pt\");\n    }\n  }\n  if (leaf[TEXT_STYLE_MAP.FONT]) {\n    var fontWeight = leaf[TEXT_STYLE_MAP.BOLD] ? 600 : 400;\n    style['fontFamily'] = generatorFontFamily(leaf[TEXT_STYLE_MAP.FONT], fontWeight);\n  }\n  if (leaf[TEXT_STYLE_MAP.BOLD]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"strong\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.ITALIC]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"i\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.UNDERLINE]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        textDecoration: 'underline'\n      }\n    }, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.STRIKETHROUGH]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        textDecoration: 'line-through'\n      }\n    }, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.SUPERSCRIPT]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"sup\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.SUBSCRIPT]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"sub\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.CODE]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"code\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.DELETE]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"del\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.ADD]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"span\", null, markedChildren);\n  }\n  if (leaf.decoration) {\n    markedChildren = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"token \".concat(leaf.type)\n    }, markedChildren);\n  }\n  return /*#__PURE__*/React.createElement(\"span\", Object.assign({\n    \"data-id\": leaf.id\n  }, attributes, {\n    style: style,\n    className: Object.keys(rest).join(' ')\n  }), leaf.isCaret ? /*#__PURE__*/React.createElement(Caret, leaf) : null, markedChildren);\n};\nexport default renderText;","map":{"version":3,"names":["_objectWithoutProperties","_excluded","React","Caret","TEXT_STYLE_MAP","generatorFontFamily","renderText","props","editor","attributes","children","leaf","text","rest","markedChildren","cloneElement","style","length","isCaret","computed_background_color","COLOR","HIGHLIGHT_COLOR","FONT_SIZE","fontSize","concat","FONT","fontWeight","BOLD","createElement","ITALIC","UNDERLINE","textDecoration","STRIKETHROUGH","SUPERSCRIPT","SUBSCRIPT","CODE","DELETE","ADD","decoration","className","type","Object","assign","id","keys","join"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/text-style/render-elem.js"],"sourcesContent":["import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nconst _excluded = [\"text\"];\nimport React from 'react';\nimport Caret from './caret';\nimport { TEXT_STYLE_MAP } from '../../constants';\nimport { generatorFontFamily } from '../font/helpers';\nconst renderText = (props, editor) => {\n  const {\n    attributes,\n    children,\n    leaf\n  } = props;\n  const {\n      text\n    } = leaf,\n    rest = _objectWithoutProperties(leaf, _excluded);\n  let markedChildren = React.cloneElement(children);\n  let style = {};\n  // The following is a workaround for a Chromium bug where,\n  // if you have an inline at the end of a block,\n  // clicking the end of a block puts the cursor inside the inline\n  // instead of inside the final {text: ''} node\n  // https://github.com/ianstormtaylor/slate/issues/4704#issuecomment-1006696364\n  if (!text.length) {\n    style['paddingLeft'] = '0.1px';\n  }\n  if (leaf.isCaret) {\n    style['position'] = 'relative';\n    style['display'] = 'inline-block';\n    style['minWidth'] = '2px';\n  }\n  if (leaf.computed_background_color) {\n    style['backgroundColor'] = leaf.computed_background_color;\n  }\n  if (leaf[TEXT_STYLE_MAP.COLOR]) {\n    style['color'] = leaf[TEXT_STYLE_MAP.COLOR];\n  }\n  if (leaf[TEXT_STYLE_MAP.HIGHLIGHT_COLOR]) {\n    style['backgroundColor'] = leaf[TEXT_STYLE_MAP.HIGHLIGHT_COLOR];\n  }\n  if (leaf[TEXT_STYLE_MAP.FONT_SIZE]) {\n    const fontSize = leaf[TEXT_STYLE_MAP.FONT_SIZE];\n    if (typeof fontSize === 'number') {\n      style['fontSize'] = \"\".concat(fontSize, \"pt\");\n    }\n  }\n  if (leaf[TEXT_STYLE_MAP.FONT]) {\n    const fontWeight = leaf[TEXT_STYLE_MAP.BOLD] ? 600 : 400;\n    style['fontFamily'] = generatorFontFamily(leaf[TEXT_STYLE_MAP.FONT], fontWeight);\n  }\n  if (leaf[TEXT_STYLE_MAP.BOLD]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"strong\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.ITALIC]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"i\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.UNDERLINE]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        textDecoration: 'underline'\n      }\n    }, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.STRIKETHROUGH]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"span\", {\n      style: {\n        textDecoration: 'line-through'\n      }\n    }, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.SUPERSCRIPT]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"sup\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.SUBSCRIPT]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"sub\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.CODE]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"code\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.DELETE]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"del\", null, markedChildren);\n  }\n  if (leaf[TEXT_STYLE_MAP.ADD]) {\n    markedChildren = /*#__PURE__*/React.createElement(\"span\", null, markedChildren);\n  }\n  if (leaf.decoration) {\n    markedChildren = /*#__PURE__*/React.createElement(\"span\", {\n      className: \"token \".concat(leaf.type)\n    }, markedChildren);\n  }\n  return /*#__PURE__*/React.createElement(\"span\", Object.assign({\n    \"data-id\": leaf.id\n  }, attributes, {\n    style: style,\n    className: Object.keys(rest).join(' ')\n  }), leaf.isCaret ? /*#__PURE__*/React.createElement(Caret, leaf) : null, markedChildren);\n};\nexport default renderText;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}