{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{siteRoot}from'../../utils/constants';import{Utils}from'../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WikiDirListItem=/*#__PURE__*/function(_React$Component){_inherits(WikiDirListItem,_React$Component);var _super=_createSuper(WikiDirListItem);function WikiDirListItem(props){var _this;_classCallCheck(this,WikiDirListItem);_this=_super.call(this,props);_this.onMouseEnter=function(){_this.setState({highlight:true});};_this.onMouseLeave=function(){_this.setState({highlight:false});};_this.onContextMenu=function(event){event.preventDefault();event.stopPropagation();};_this.onDirentClick=function(e){e.preventDefault();_this.props.onDirentClick(_this.props.dirent);};_this.state={highlight:false};return _this;}_createClass(WikiDirListItem,[{key:\"render\",value:function render(){var _this$props=this.props,path=_this$props.path,dirent=_this$props.dirent;var href=siteRoot+'published'+Utils.joinPath(path,dirent.name);var iconUrl=Utils.getDirentIcon(dirent);var isDesktop=Utils.isDesktop();return isDesktop?/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onContextMenu:this.onContextMenu,children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,width:\"24\",alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{className:\"name\",children:/*#__PURE__*/_jsx(\"a\",{href:href,onClick:this.onDirentClick,children:dirent.name})}),/*#__PURE__*/_jsx(\"td\",{children:dirent.size}),/*#__PURE__*/_jsx(\"td\",{children:dirent.mtime_relative})]}):/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{className:\"text-center\",children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,width:\"24\",alt:\"\"})}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(\"a\",{href:href,onClick:this.onDirentClick,children:dirent.name}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info\",children:dirent.size}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info\",children:dirent.mtime_relative})]})]});}}]);return WikiDirListItem;}(React.Component);export default WikiDirListItem;","map":{"version":3,"names":["React","siteRoot","Utils","jsx","_jsx","jsxs","_jsxs","WikiDirListItem","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onMouseEnter","setState","highlight","onMouseLeave","onContextMenu","event","preventDefault","stopPropagation","onDirentClick","e","dirent","state","_createClass","key","value","render","_this$props","path","href","joinPath","name","iconUrl","getDirentIcon","isDesktop","className","children","src","width","alt","onClick","size","mtime_relative","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/wiki-dir-list-view/wiki-dir-list-item.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  dirent: PropTypes.object.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n};\n\nclass WikiDirListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n    };\n  }\n\n  onMouseEnter = () => {\n    this.setState({highlight: true});\n  };\n\n  onMouseLeave = () => {\n    this.setState({highlight: false});\n  };\n\n  onContextMenu = (event) => {\n    event.preventDefault();\n    event.stopPropagation();\n  };\n\n  onDirentClick = (e) => {\n    e.preventDefault();\n    this.props.onDirentClick(this.props.dirent);\n  };\n\n  render() {\n    let { path, dirent } = this.props;\n    let href = siteRoot + 'published' + Utils.joinPath(path, dirent.name);\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    const isDesktop = Utils.isDesktop();\n    return isDesktop ? (\n      <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave} onContextMenu={this.onContextMenu}>\n        <td className=\"text-center\">\n          <img src={iconUrl} width=\"24\" alt=\"\" />\n        </td>\n        <td className=\"name\">\n          <a href={href} onClick={this.onDirentClick}>{dirent.name}</a>\n        </td>\n        <td>{dirent.size}</td>\n        <td>{dirent.mtime_relative}</td>\n      </tr>\n    ) : (\n      <tr>\n        <td className=\"text-center\">\n          <img src={iconUrl} width=\"24\" alt=\"\" />\n        </td>\n        <td>\n          <a href={href} onClick={this.onDirentClick}>{dirent.name}</a>\n          <br />\n          <span className=\"item-meta-info\">{dirent.size}</span>\n          <span className=\"item-meta-info\">{dirent.mtime_relative}</span>\n        </td>\n      </tr>\n    );\n  }\n}\n\nWikiDirListItem.propTypes = propTypes;\n\nexport default WikiDirListItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}