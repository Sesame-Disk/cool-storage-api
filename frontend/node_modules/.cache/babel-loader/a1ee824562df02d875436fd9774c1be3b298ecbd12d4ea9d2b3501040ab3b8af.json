{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import{Modal,ModalHeader,ModalBody,TabContent,TabPane,Nav,NavItem,NavLink}from'reactstrap';import{gettext,username,canGenerateShareLink,canGenerateUploadLink,canInvitePeople,additionalShareDialogNote,enableOCM,isPro,canShareRepo}from'../../utils/constants';import ShareLinkPanel from'../share-link-panel';import GenerateUploadLink from'./generate-upload-link';import ShareToUser from'./share-to-user';import ShareToGroup from'./share-to-group';import ShareToInvitePeople from'./share-to-invite-people';import ShareToOtherServer from'./share-to-other-server';import InternalLink from'./internal-link';import{seafileAPI}from'../../utils/seafile-api';import{Utils}from'../../utils/utils';import Loading from'../loading';import toaster from'../toast';import CustomPermissionManager from'./custom-permission/custom-permission-manager';import'../../css/share-link-dialog.css';import{InternalAd}from'../../services/ad';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ShareDialog=/*#__PURE__*/function(_React$Component){_inherits(ShareDialog,_React$Component);var _super=_createSuper(ShareDialog);function ShareDialog(props){var _this;_classCallCheck(this,ShareDialog);_this=_super.call(this,props);_this.getInitialActiveTab=function(){var _this$props=_this.props,repoEncrypted=_this$props.repoEncrypted,userPerm=_this$props.userPerm,enableDirPrivateShare=_this$props.enableDirPrivateShare,itemType=_this$props.itemType;var enableShareLink=!repoEncrypted&&canGenerateShareLink;var enableUploadLink=!repoEncrypted&&canGenerateUploadLink&&(userPerm=='rw'||userPerm=='admin');// for encrypted repo, 'dir private share' is only enabled for the repo itself,\n// not for the folders in it.\nif(repoEncrypted){enableDirPrivateShare=itemType=='library';}if(enableShareLink){return'shareLink';}else if(enableUploadLink){return'uploadLink';}else if(itemType=='file'||itemType=='dir'){return'internalLink';}else if(enableDirPrivateShare){return'shareToUser';}};_this.toggle=function(tab){if(_this.state.activeTab!==tab){_this.setState({activeTab:tab});}};_this.onAddCustomPermissionToggle=function(){_this.toggle('customSharePermission');};_this.renderDirContent=function(){if(!_this.state.isRepoJudgemented){return/*#__PURE__*/_jsx(Loading,{});}var activeTab=_this.state.activeTab;var _this$props2=_this.props,repoEncrypted=_this$props2.repoEncrypted,userPerm=_this$props2.userPerm,enableDirPrivateShare=_this$props2.enableDirPrivateShare,itemType=_this$props2.itemType;var enableShareLink=!repoEncrypted&&canGenerateShareLink;var enableUploadLink=!repoEncrypted&&canGenerateUploadLink&&(userPerm=='rw'||userPerm=='admin');// for encrypted repo, 'dir private share' is only enabled for the repo itself,\n// not for the folders in it.\nif(repoEncrypted){enableDirPrivateShare=itemType=='library';}var _Utils$getUserPermiss=Utils.getUserPermission(userPerm),isCustomPermission=_Utils$getUserPermiss.isCustomPermission;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"share-dialog-side\",children:/*#__PURE__*/_jsxs(Nav,{pills:true,children:[enableShareLink&&/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='shareLink',\"aria-controls\":\"share-link-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='shareLink'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'shareLink'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Share Link')})}),enableUploadLink&&/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='uploadLink',\"aria-controls\":\"upload-link-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='uploadLink'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'uploadLink'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Upload Link')})}),itemType==='dir'&&/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='internalLink',\"aria-controls\":\"internal-link-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='internalLink'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'internalLink'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Internal Link')})}),enableDirPrivateShare&&/*#__PURE__*/_jsxs(Fragment,{children:[canShareRepo&&/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='shareToUser',\"aria-controls\":\"share-to-user-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='shareToUser'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'shareToUser'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Share to user')})}),canShareRepo&&/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='shareToGroup',\"aria-controls\":\"share-to-group-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='shareToGroup'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'shareToGroup'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Share to group')})}),isPro&&!isCustomPermission&&canShareRepo&&/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='customSharePermission',\"aria-controls\":\"custom-share-perm-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='customSharePermission'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'customSharePermission'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Custom sharing permissions')})}),canInvitePeople&&/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='invitePeople',\"aria-controls\":\"invite-people-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='invitePeople'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'invitePeople'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Invite Guest')})})]}),enableOCM&&itemType==='library'&&_this.state.isRepoOwner&&/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='shareToOtherServer',\"aria-controls\":\"share-to-other-server-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='shareToOtherServer'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'shareToOtherServer'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Share to other server')})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"share-dialog-main\",children:/*#__PURE__*/_jsxs(TabContent,{activeTab:_this.state.activeTab,children:[/*#__PURE__*/_jsx(InternalAd,{}),enableShareLink&&activeTab==='shareLink'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"shareLink\",role:\"tabpanel\",id:\"share-link-panel\",children:/*#__PURE__*/_jsx(ShareLinkPanel,{itemPath:_this.props.itemPath,repoID:_this.props.repoID,closeShareDialog:_this.props.toggleDialog,itemType:itemType,userPerm:userPerm})}),enableUploadLink&&activeTab==='uploadLink'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"uploadLink\",role:\"tabpanel\",id:\"upload-link-panel\",children:/*#__PURE__*/_jsx(GenerateUploadLink,{itemPath:_this.props.itemPath,repoID:_this.props.repoID,closeShareDialog:_this.props.toggleDialog})}),itemType==='dir'&&activeTab==='internalLink'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"internalLink\",role:\"tabpanel\",id:\"internal-link-panel\",children:/*#__PURE__*/_jsx(InternalLink,{path:_this.props.itemPath,repoID:_this.props.repoID,direntType:itemType})}),enableDirPrivateShare&&/*#__PURE__*/_jsxs(Fragment,{children:[activeTab==='shareToUser'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"shareToUser\",role:\"tabpanel\",id:\"share-to-user-panel\",children:/*#__PURE__*/_jsx(ShareToUser,{itemType:_this.props.itemType,isGroupOwnedRepo:_this.props.isGroupOwnedRepo,itemPath:_this.props.itemPath,repoID:_this.props.repoID,isRepoOwner:_this.state.isRepoOwner,onAddCustomPermissionToggle:_this.onAddCustomPermissionToggle})}),activeTab==='shareToGroup'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"shareToGroup\",role:\"tabpanel\",id:\"share-to-group-panel\",children:/*#__PURE__*/_jsx(ShareToGroup,{itemType:_this.props.itemType,isGroupOwnedRepo:_this.props.isGroupOwnedRepo,itemPath:_this.props.itemPath,repoID:_this.props.repoID,isRepoOwner:_this.state.isRepoOwner,onAddCustomPermissionToggle:_this.onAddCustomPermissionToggle})}),isPro&&activeTab==='customSharePermission'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"customSharePermission\",role:\"tabpanel\",id:\"custom-share-perm-panel\",children:/*#__PURE__*/_jsx(CustomPermissionManager,{repoID:_this.props.repoID})}),canInvitePeople&&activeTab==='invitePeople'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"invitePeople\",role:\"tabpanel\",id:\"invite-people-panel\",children:/*#__PURE__*/_jsx(ShareToInvitePeople,{itemPath:_this.props.itemPath,repoID:_this.props.repoID})})]}),enableOCM&&itemType==='library'&&activeTab==='shareToOtherServer'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"shareToOtherServer\",role:\"tabpanel\",id:\"share-to-other-server-panel\",children:/*#__PURE__*/_jsx(ShareToOtherServer,{itemType:_this.props.itemType,isGroupOwnedRepo:_this.props.isGroupOwnedRepo,itemPath:_this.props.itemPath,repoID:_this.props.repoID,isRepoOwner:_this.state.isRepoOwner})})]})})]});};_this.onTabKeyDown=function(e){if(e.key=='Enter'||e.key=='Space'){e.target.click();}};_this.renderFileContent=function(){var activeTab=_this.state.activeTab;var _this$props3=_this.props,itemType=_this$props3.itemType,repoEncrypted=_this$props3.repoEncrypted,userPerm=_this$props3.userPerm;var enableShareLink=!repoEncrypted&&canGenerateShareLink;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"share-dialog-side\",children:/*#__PURE__*/_jsxs(Nav,{pills:true,children:[enableShareLink&&/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='shareLink',\"aria-controls\":\"share-link-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='shareLink'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'shareLink'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Share Link')})}),/*#__PURE__*/_jsx(NavItem,{role:\"tab\",\"aria-selected\":activeTab==='internalLink',\"aria-controls\":\"internal-link-panel\",children:/*#__PURE__*/_jsx(NavLink,{className:activeTab==='internalLink'?'active':'',onClick:_this.toggle.bind(_assertThisInitialized(_this),'internalLink'),tabIndex:\"0\",onKeyDown:_this.onTabKeyDown,children:gettext('Internal Link')})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"share-dialog-main\",children:/*#__PURE__*/_jsxs(TabContent,{activeTab:_this.state.activeTab,children:[/*#__PURE__*/_jsx(InternalAd,{}),enableShareLink&&activeTab==='shareLink'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"shareLink\",role:\"tabpanel\",id:\"share-link-panel\",children:/*#__PURE__*/_jsx(ShareLinkPanel,{itemPath:_this.props.itemPath,repoID:_this.props.repoID,closeShareDialog:_this.props.toggleDialog,itemType:itemType,userPerm:userPerm})}),activeTab==='internalLink'&&/*#__PURE__*/_jsx(TabPane,{tabId:\"internalLink\",role:\"tabpanel\",id:\"internal-link-panel\",children:/*#__PURE__*/_jsx(InternalLink,{path:_this.props.itemPath,repoID:_this.props.repoID})})]})})]});};_this.renderExternalShareMessage=function(){if(additionalShareDialogNote&&typeof additionalShareDialogNote==='object'){return/*#__PURE__*/_jsxs(\"div\",{className:\"external-share-message mt-2\",children:[/*#__PURE__*/_jsx(\"h6\",{children:additionalShareDialogNote.title}),/*#__PURE__*/_jsx(\"p\",{style:{fontSize:'14px',color:'#666'},className:\"text-wrap m-0\",children:additionalShareDialogNote.content})]});}return null;};_this.state={activeTab:_this.getInitialActiveTab(),isRepoJudgemented:false,isRepoOwner:false};return _this;}_createClass(ShareDialog,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;var repoID=this.props.repoID;seafileAPI.getRepoInfo(repoID).then(function(res){var isRepoOwner=res.data.owner_email===username;_this2.setState({isRepoJudgemented:true,isRepoOwner:isRepoOwner});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});}},{key:\"render\",value:function render(){var _this$props4=this.props,itemType=_this$props4.itemType,itemName=_this$props4.itemName;return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(Modal,{isOpen:true,style:{maxWidth:'760px'},className:\"share-dialog\",toggle:this.props.toggleDialog,children:[/*#__PURE__*/_jsxs(ModalHeader,{toggle:this.props.toggleDialog,tag:\"div\",children:[/*#__PURE__*/_jsxs(\"h5\",{className:\"text-truncate\",children:[gettext('Share'),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"op-target\",title:itemName,children:itemName})]}),this.renderExternalShareMessage()]}),/*#__PURE__*/_jsxs(ModalBody,{className:\"share-dialog-content\",role:\"tablist\",children:[(itemType==='library'||itemType==='dir')&&this.renderDirContent(),itemType==='file'&&this.renderFileContent()]})]})});}}]);return ShareDialog;}(React.Component);export default ShareDialog;","map":{"version":3,"names":["React","Fragment","Modal","ModalHeader","ModalBody","TabContent","TabPane","Nav","NavItem","NavLink","gettext","username","canGenerateShareLink","canGenerateUploadLink","canInvitePeople","additionalShareDialogNote","enableOCM","isPro","canShareRepo","ShareLinkPanel","GenerateUploadLink","ShareToUser","ShareToGroup","ShareToInvitePeople","ShareToOtherServer","InternalLink","seafileAPI","Utils","Loading","toaster","CustomPermissionManager","InternalAd","jsx","_jsx","jsxs","_jsxs","ShareDialog","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","getInitialActiveTab","_this$props","repoEncrypted","userPerm","enableDirPrivateShare","itemType","enableShareLink","enableUploadLink","toggle","tab","state","activeTab","setState","onAddCustomPermissionToggle","renderDirContent","isRepoJudgemented","_this$props2","_Utils$getUserPermiss","getUserPermission","isCustomPermission","children","className","pills","role","onClick","bind","_assertThisInitialized","tabIndex","onKeyDown","onTabKeyDown","isRepoOwner","tabId","id","itemPath","repoID","closeShareDialog","toggleDialog","path","direntType","isGroupOwnedRepo","e","key","target","click","renderFileContent","_this$props3","renderExternalShareMessage","title","style","fontSize","color","content","_createClass","value","componentDidMount","_this2","getRepoInfo","then","res","data","owner_email","catch","error","errMessage","getErrorMsg","danger","render","_this$props4","itemName","isOpen","maxWidth","tag","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/share-dialog.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody, TabContent, TabPane, Nav, NavItem, NavLink } from 'reactstrap';\nimport { gettext, username, canGenerateShareLink, canGenerateUploadLink, canInvitePeople, additionalShareDialogNote, enableOCM, isPro, canShareRepo } from '../../utils/constants';\nimport ShareLinkPanel from '../share-link-panel';\nimport GenerateUploadLink from './generate-upload-link';\nimport ShareToUser from './share-to-user';\nimport ShareToGroup from './share-to-group';\nimport ShareToInvitePeople from './share-to-invite-people';\nimport ShareToOtherServer from './share-to-other-server';\nimport InternalLink from './internal-link';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport Loading from '../loading';\nimport toaster from '../toast';\nimport CustomPermissionManager from './custom-permission/custom-permission-manager';\n\nimport '../../css/share-link-dialog.css';\nimport { InternalAd } from '../../services/ad';\n\nconst propTypes = {\n  isGroupOwnedRepo: PropTypes.bool,\n  itemType: PropTypes.string.isRequired, // there will be three choose: ['library', 'dir', 'file']\n  itemName: PropTypes.string.isRequired,\n  itemPath: PropTypes.string.isRequired,\n  toggleDialog: PropTypes.func.isRequired,\n  repoID: PropTypes.string.isRequired,\n  repoEncrypted: PropTypes.bool,\n  userPerm: PropTypes.string,\n  enableDirPrivateShare: PropTypes.bool,\n};\n\nclass ShareDialog extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      activeTab: this.getInitialActiveTab(),\n      isRepoJudgemented: false,\n      isRepoOwner: false,\n    };\n  }\n\n  componentDidMount() {\n    let repoID = this.props.repoID;\n    seafileAPI.getRepoInfo(repoID).then(res => {\n      let isRepoOwner = res.data.owner_email === username;\n      this.setState({\n        isRepoJudgemented: true,\n        isRepoOwner: isRepoOwner,\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  }\n\n  getInitialActiveTab = () => {\n    let { repoEncrypted, userPerm, enableDirPrivateShare, itemType } = this.props;\n    const enableShareLink = !repoEncrypted && canGenerateShareLink;\n    const enableUploadLink = !repoEncrypted && canGenerateUploadLink && (userPerm == 'rw' || userPerm == 'admin');\n\n    // for encrypted repo, 'dir private share' is only enabled for the repo itself,\n    // not for the folders in it.\n    if (repoEncrypted) {\n      enableDirPrivateShare = itemType == 'library';\n    }\n\n    if (enableShareLink) {\n      return 'shareLink';\n    } else if (enableUploadLink) {\n      return 'uploadLink';\n    } else if (itemType == 'file' || itemType == 'dir') {\n      return 'internalLink';\n    } else if (enableDirPrivateShare) {\n      return 'shareToUser';\n    }\n  };\n\n  toggle = (tab) => {\n    if (this.state.activeTab !== tab) {\n      this.setState({ activeTab: tab });\n    }\n  };\n\n  onAddCustomPermissionToggle = () => {\n    this.toggle('customSharePermission');\n  };\n\n  renderDirContent = () => {\n\n    if (!this.state.isRepoJudgemented) {\n      return <Loading />;\n    }\n\n    let activeTab = this.state.activeTab;\n    let { repoEncrypted, userPerm, enableDirPrivateShare, itemType } = this.props;\n    const enableShareLink = !repoEncrypted && canGenerateShareLink;\n    const enableUploadLink = !repoEncrypted && canGenerateUploadLink && (userPerm == 'rw' || userPerm == 'admin');\n\n    // for encrypted repo, 'dir private share' is only enabled for the repo itself,\n    // not for the folders in it.\n    if (repoEncrypted) {\n      enableDirPrivateShare = itemType == 'library';\n    }\n\n    const { isCustomPermission } = Utils.getUserPermission(userPerm);\n\n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills>\n            {enableShareLink &&\n              <NavItem role=\"tab\" aria-selected={activeTab === 'shareLink'} aria-controls=\"share-link-panel\">\n                <NavLink className={activeTab === 'shareLink' ? 'active' : ''} onClick={(this.toggle.bind(this, 'shareLink'))} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                  {gettext('Share Link')}\n                </NavLink>\n              </NavItem>\n            }\n            {enableUploadLink &&\n              <NavItem role=\"tab\" aria-selected={activeTab === 'uploadLink'} aria-controls=\"upload-link-panel\">\n                <NavLink className={activeTab === 'uploadLink' ? 'active' : ''} onClick={this.toggle.bind(this, 'uploadLink')} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                  {gettext('Upload Link')}\n                </NavLink>\n              </NavItem>\n            }\n            {itemType === 'dir' &&\n              <NavItem role=\"tab\" aria-selected={activeTab === 'internalLink'} aria-controls=\"internal-link-panel\">\n                <NavLink className={activeTab === 'internalLink' ? 'active' : ''} onClick={this.toggle.bind(this, 'internalLink')} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                  {gettext('Internal Link')}\n                </NavLink>\n              </NavItem>\n            }\n            {enableDirPrivateShare &&\n              <Fragment>\n                {canShareRepo && (\n                  <NavItem role=\"tab\" aria-selected={activeTab === 'shareToUser'} aria-controls=\"share-to-user-panel\">\n                    <NavLink className={activeTab === 'shareToUser' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToUser')} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                      {gettext('Share to user')}\n                    </NavLink>\n                  </NavItem>\n                )}\n                {canShareRepo && (\n                  <NavItem role=\"tab\" aria-selected={activeTab === 'shareToGroup'} aria-controls=\"share-to-group-panel\">\n                    <NavLink className={activeTab === 'shareToGroup' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToGroup')} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                      {gettext('Share to group')}\n                    </NavLink>\n                  </NavItem>\n                )}\n                {isPro && !isCustomPermission && canShareRepo && (\n                  <NavItem role=\"tab\" aria-selected={activeTab === 'customSharePermission'} aria-controls=\"custom-share-perm-panel\">\n                    <NavLink className={activeTab === 'customSharePermission' ? 'active' : ''} onClick={this.toggle.bind(this, 'customSharePermission')} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                      {gettext('Custom sharing permissions')}\n                    </NavLink>\n                  </NavItem>\n                )}\n                {canInvitePeople &&\n                  <NavItem role=\"tab\" aria-selected={activeTab === 'invitePeople'} aria-controls=\"invite-people-panel\">\n                    <NavLink className={activeTab === 'invitePeople' ? 'active' : ''} onClick={this.toggle.bind(this, 'invitePeople')} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                      {gettext('Invite Guest')}\n                    </NavLink>\n                  </NavItem>\n                }\n              </Fragment>\n            }\n            {enableOCM && itemType === 'library' && this.state.isRepoOwner &&\n              <NavItem role=\"tab\" aria-selected={activeTab === 'shareToOtherServer'} aria-controls=\"share-to-other-server-panel\">\n                <NavLink className={activeTab === 'shareToOtherServer' ? 'active' : ''} onClick={this.toggle.bind(this, 'shareToOtherServer')} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                  {gettext('Share to other server')}\n                </NavLink>\n              </NavItem>\n            }\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            <InternalAd />\n            {(enableShareLink && activeTab === 'shareLink') &&\n              <TabPane tabId=\"shareLink\" role=\"tabpanel\" id=\"share-link-panel\">\n                <ShareLinkPanel\n                  itemPath={this.props.itemPath}\n                  repoID={this.props.repoID}\n                  closeShareDialog={this.props.toggleDialog}\n                  itemType={itemType}\n                  userPerm={userPerm}\n                />\n              </TabPane>\n            }\n            {(enableUploadLink && activeTab === 'uploadLink') &&\n              <TabPane tabId=\"uploadLink\" role=\"tabpanel\" id=\"upload-link-panel\">\n                <GenerateUploadLink\n                  itemPath={this.props.itemPath}\n                  repoID={this.props.repoID}\n                  closeShareDialog={this.props.toggleDialog}\n                />\n              </TabPane>\n            }\n            {(itemType === 'dir' && activeTab === 'internalLink') &&\n              <TabPane tabId=\"internalLink\" role=\"tabpanel\" id=\"internal-link-panel\">\n                <InternalLink\n                  path={this.props.itemPath}\n                  repoID={this.props.repoID}\n                  direntType={itemType}\n                />\n              </TabPane>\n            }\n            {enableDirPrivateShare &&\n              <Fragment>\n                {activeTab === 'shareToUser' &&\n                  <TabPane tabId=\"shareToUser\" role=\"tabpanel\" id=\"share-to-user-panel\">\n                    <ShareToUser\n                      itemType={this.props.itemType}\n                      isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n                      itemPath={this.props.itemPath}\n                      repoID={this.props.repoID}\n                      isRepoOwner={this.state.isRepoOwner}\n                      onAddCustomPermissionToggle={this.onAddCustomPermissionToggle}\n                    />\n                  </TabPane>\n                }\n                {activeTab === 'shareToGroup' &&\n                  <TabPane tabId=\"shareToGroup\" role=\"tabpanel\" id=\"share-to-group-panel\">\n                    <ShareToGroup\n                      itemType={this.props.itemType}\n                      isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n                      itemPath={this.props.itemPath}\n                      repoID={this.props.repoID}\n                      isRepoOwner={this.state.isRepoOwner}\n                      onAddCustomPermissionToggle={this.onAddCustomPermissionToggle}\n                    />\n                  </TabPane>\n                }\n                {isPro && activeTab === 'customSharePermission' && (\n                  <TabPane tabId=\"customSharePermission\" role=\"tabpanel\" id=\"custom-share-perm-panel\">\n                    <CustomPermissionManager repoID={this.props.repoID} />\n                  </TabPane>\n                )}\n                {(canInvitePeople && activeTab === 'invitePeople') &&\n                  <TabPane tabId=\"invitePeople\" role=\"tabpanel\" id=\"invite-people-panel\">\n                    <ShareToInvitePeople itemPath={this.props.itemPath} repoID={this.props.repoID} />\n                  </TabPane>\n                }\n              </Fragment>\n            }\n            {enableOCM && itemType === 'library' && activeTab === 'shareToOtherServer' &&\n              <TabPane tabId=\"shareToOtherServer\" role=\"tabpanel\" id=\"share-to-other-server-panel\">\n                <ShareToOtherServer itemType={this.props.itemType} isGroupOwnedRepo={this.props.isGroupOwnedRepo} itemPath={this.props.itemPath} repoID={this.props.repoID} isRepoOwner={this.state.isRepoOwner} />\n              </TabPane>\n            }\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  };\n\n  onTabKeyDown = (e) => {\n    if (e.key == 'Enter' || e.key == 'Space') {\n      e.target.click();\n    }\n  };\n\n  renderFileContent = () => {\n    let activeTab = this.state.activeTab;\n    const { itemType, repoEncrypted, userPerm } = this.props;\n    const enableShareLink = !repoEncrypted && canGenerateShareLink;\n\n    return (\n      <Fragment>\n        <div className=\"share-dialog-side\">\n          <Nav pills>\n            {enableShareLink &&\n              <NavItem role=\"tab\" aria-selected={activeTab === 'shareLink'} aria-controls=\"share-link-panel\">\n                <NavLink className={activeTab === 'shareLink' ? 'active' : ''} onClick={(this.toggle.bind(this, 'shareLink'))} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                  {gettext('Share Link')}\n                </NavLink>\n              </NavItem>\n            }\n            <NavItem role=\"tab\" aria-selected={activeTab === 'internalLink'} aria-controls=\"internal-link-panel\">\n              <NavLink className={activeTab === 'internalLink' ? 'active' : ''} onClick={this.toggle.bind(this, 'internalLink')} tabIndex=\"0\" onKeyDown={this.onTabKeyDown}>\n                {gettext('Internal Link')}\n              </NavLink>\n            </NavItem>\n          </Nav>\n        </div>\n        <div className=\"share-dialog-main\">\n          <TabContent activeTab={this.state.activeTab}>\n            <InternalAd />\n            {enableShareLink && activeTab === 'shareLink' &&\n              <TabPane tabId=\"shareLink\" role=\"tabpanel\" id=\"share-link-panel\">\n                <ShareLinkPanel\n                  itemPath={this.props.itemPath}\n                  repoID={this.props.repoID}\n                  closeShareDialog={this.props.toggleDialog}\n                  itemType={itemType}\n                  userPerm={userPerm}\n                />\n              </TabPane>\n            }\n            {activeTab === 'internalLink' &&\n              <TabPane tabId=\"internalLink\" role=\"tabpanel\" id=\"internal-link-panel\">\n                <InternalLink\n                  path={this.props.itemPath}\n                  repoID={this.props.repoID}\n                />\n              </TabPane>\n            }\n          </TabContent>\n        </div>\n      </Fragment>\n    );\n  };\n\n  renderExternalShareMessage = () => {\n    if (additionalShareDialogNote && (typeof additionalShareDialogNote) === 'object') {\n      return (\n        <div className=\"external-share-message mt-2\">\n          <h6>{additionalShareDialogNote.title}</h6>\n          <p style={{ fontSize: '14px', color: '#666' }} className=\"text-wrap m-0\">{additionalShareDialogNote.content}</p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  render() {\n    const { itemType, itemName } = this.props;\n    return (\n      <div>\n        <Modal isOpen={true} style={{ maxWidth: '760px' }} className=\"share-dialog\" toggle={this.props.toggleDialog}>\n          <ModalHeader toggle={this.props.toggleDialog} tag=\"div\">\n            <h5 className=\"text-truncate\">{gettext('Share')} <span className=\"op-target\" title={itemName}>{itemName}</span></h5>\n            {this.renderExternalShareMessage()}\n          </ModalHeader>\n          <ModalBody className=\"share-dialog-content\" role=\"tablist\">\n            {(itemType === 'library' || itemType === 'dir') && this.renderDirContent()}\n            {itemType === 'file' && this.renderFileContent()}\n          </ModalBody>\n        </Modal>\n      </div>\n    );\n  }\n}\n\nShareDialog.propTypes = propTypes;\n\nexport default ShareDialog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}