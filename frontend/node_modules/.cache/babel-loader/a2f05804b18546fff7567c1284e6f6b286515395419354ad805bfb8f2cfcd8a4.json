{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import{Table}from'reactstrap';import{siteRoot}from'../../../utils/constants';import Loading from'../../../components/loading';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WorkWeixinDepartmentMembersList=/*#__PURE__*/function(_Component){_inherits(WorkWeixinDepartmentMembersList,_Component);var _super=_createSuper(WorkWeixinDepartmentMembersList);function WorkWeixinDepartmentMembersList(props){_classCallCheck(this,WorkWeixinDepartmentMembersList);return _super.call(this,props);}_createClass(WorkWeixinDepartmentMembersList,[{key:\"render\",value:function render(){var _this=this;var _this$props=this.props,newUsersTempObj=_this$props.newUsersTempObj,checkedDepartmentId=_this$props.checkedDepartmentId,isMembersListLoading=_this$props.isMembersListLoading,canCheckUserIds=_this$props.canCheckUserIds;var membersList=this.props.membersList.map(function(member,index){var avatar=member.avatar;if(member.avatar&&member.avatar.length>0){avatar=member.avatar.substring(0,member.avatar.length-1)+'100';// get smaller avatar\n}else{avatar=siteRoot+'media/avatars/default.png';}return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:!member.email&&/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"vam\",onChange:function onChange(){return _this.props.onUserChecked(member);},checked:member.userid in newUsersTempObj?'checked':''})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{className:\"avatar\",src:avatar,alt:\"\"})}),/*#__PURE__*/_jsx(\"td\",{children:member.name}),/*#__PURE__*/_jsx(\"td\",{children:member.mobile}),/*#__PURE__*/_jsx(\"td\",{children:member.contact_email}),/*#__PURE__*/_jsx(\"td\",{children:member.email&&/*#__PURE__*/_jsx(\"i\",{className:\"sf2-icon-tick\"})})]},checkedDepartmentId.toString()+member.userid);});return/*#__PURE__*/_jsxs(\"div\",{className:\"dir-content-main\",children:[isMembersListLoading&&/*#__PURE__*/_jsx(Loading,{}),!isMembersListLoading&&this.props.membersList.length>0&&/*#__PURE__*/_jsxs(Table,{hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"5%\",children:canCheckUserIds.length>0&&/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"vam\",checked:this.props.isCheckedAll,onChange:function onChange(){return _this.props.onAllUsersChecked();}})}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:'名称'}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:'手机号'}),/*#__PURE__*/_jsx(\"th\",{width:\"30%\",children:'邮箱'}),/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:'已添加'})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:membersList})]}),!isMembersListLoading&&this.props.membersList.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"message empty-tip text-center\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(siteRoot,\"media/img/member-list-empty-2x.png\"),alt:\"\"}),/*#__PURE__*/_jsx(\"h4\",{children:'成员列表为空'})]})]});}}]);return WorkWeixinDepartmentMembersList;}(Component);export default WorkWeixinDepartmentMembersList;","map":{"version":3,"names":["React","Component","Table","siteRoot","Loading","jsx","_jsx","jsxs","_jsxs","WorkWeixinDepartmentMembersList","_Component","_inherits","_super","_createSuper","props","_classCallCheck","call","_createClass","key","value","render","_this","_this$props","newUsersTempObj","checkedDepartmentId","isMembersListLoading","canCheckUserIds","membersList","map","member","index","avatar","length","substring","children","email","type","className","onChange","onUserChecked","checked","userid","src","alt","name","mobile","contact_email","toString","hover","width","isCheckedAll","onAllUsersChecked","concat"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/work-weixin/work-weixin-department-members-list.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Table } from 'reactstrap';\nimport { siteRoot } from '../../../utils/constants';\nimport Loading from '../../../components/loading';\n\nconst WorkWeixinDepartmentMembersListPropTypes = {\n  isMembersListLoading: PropTypes.bool.isRequired,\n  membersList: PropTypes.array.isRequired,\n  newUsersTempObj: PropTypes.object.isRequired,\n  checkedDepartmentId: PropTypes.number.isRequired,\n  onUserChecked: PropTypes.func.isRequired,\n  onAllUsersChecked: PropTypes.func.isRequired,\n  isCheckedAll: PropTypes.bool.isRequired,\n  canCheckUserIds: PropTypes.array.isRequired,\n};\n\nclass WorkWeixinDepartmentMembersList extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  render() {\n    const { newUsersTempObj, checkedDepartmentId, isMembersListLoading, canCheckUserIds } = this.props;\n    const membersList = this.props.membersList.map((member, index) => {\n      let avatar = member.avatar;\n      if (member.avatar && member.avatar.length > 0) {\n        avatar = member.avatar.substring(0, member.avatar.length - 1) + '100';// get smaller avatar\n      } else {\n        avatar = siteRoot + 'media/avatars/default.png';\n      }\n      return (\n        <tr key={checkedDepartmentId.toString() + member.userid}>\n          <td>\n            {!member.email &&\n              <input type=\"checkbox\" className=\"vam\" onChange={() => this.props.onUserChecked(member)}\n                checked={(member.userid in newUsersTempObj) ? 'checked' : ''}></input>}\n          </td>\n          <td><img className=\"avatar\" src={avatar} alt=\"\"></img></td>\n          <td>{member.name}</td>\n          <td>{member.mobile}</td>\n          <td>{member.contact_email}</td>\n          <td>{member.email && <i className=\"sf2-icon-tick\"></i>}</td>\n        </tr>\n      );\n    });\n\n    return (\n      <div className=\"dir-content-main\">\n        {isMembersListLoading && <Loading/>}\n        {!isMembersListLoading && this.props.membersList.length > 0 &&\n          <Table hover>\n            <thead>\n              <tr>\n                <th width=\"5%\">\n                  {canCheckUserIds.length > 0 &&\n                    <input type=\"checkbox\" className=\"vam\" checked={this.props.isCheckedAll}\n                      onChange={() => this.props.onAllUsersChecked()}></input>}\n                </th>\n                <th width=\"10%\"></th>\n                <th width=\"20%\">{'名称'}</th>\n                <th width=\"20%\">{'手机号'}</th>\n                <th width=\"30%\">{'邮箱'}</th>\n                <th width=\"15%\">{'已添加'}</th>\n              </tr>\n            </thead>\n            <tbody>{membersList}</tbody>\n          </Table>\n        }\n        {!isMembersListLoading && this.props.membersList.length === 0 &&\n          <div className=\"message empty-tip text-center\">\n            <img src={`${siteRoot}media/img/member-list-empty-2x.png`} alt=\"\"/>\n            <h4>{'成员列表为空'}</h4>\n          </div>\n        }\n      </div>\n    );\n  }\n}\n\nWorkWeixinDepartmentMembersList.propTypes = WorkWeixinDepartmentMembersListPropTypes;\n\nexport default WorkWeixinDepartmentMembersList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}