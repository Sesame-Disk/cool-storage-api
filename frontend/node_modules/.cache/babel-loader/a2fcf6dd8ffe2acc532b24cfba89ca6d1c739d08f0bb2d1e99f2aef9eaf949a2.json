{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _assertThisInitialized from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import MediaQuery from'react-responsive';import{v4 as uuidv4}from'uuid';import moment from'moment';import{Dropdown,DropdownToggle,DropdownItem}from'reactstrap';import{gettext,siteRoot,mediaUrl,username,useGoFileserver,fileServerRoot}from'../../utils/constants';import{Utils}from'../../utils/utils';import{seafileAPI}from'../../utils/seafile-api';import URLDecorator from'../../utils/url-decorator';import ItemDropdownMenu from'../dropdown-menu/item-dropdown-menu';import Rename from'../rename';import ModalPortal from'../modal-portal';import MoveDirentDialog from'../dialog/move-dirent-dialog';import CopyDirentDialog from'../dialog/copy-dirent-dialog';import ShareDialog from'../dialog/share-dialog';import ZipDownloadDialog from'../dialog/zip-download-dialog';import EditFileTagDialog from'../dialog/edit-filetag-dialog';import EditFileTagPopover from'../popover/edit-filetag-popover';import LibSubFolderPermissionDialog from'../dialog/lib-sub-folder-permission-dialog';import toaster from'../toast';import FileTag from'./file-tag';import'../../css/dirent-list-item.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DirentListItem=/*#__PURE__*/function(_React$Component){_inherits(DirentListItem,_React$Component);var _super=_createSuper(DirentListItem);function DirentListItem(props){var _this;_classCallCheck(this,DirentListItem);_this=_super.call(this,props);_this.toggleOpMenu=function(){_this.setState({isOpMenuOpen:!_this.state.isOpMenuOpen});};//UI Interactive\n_this.onMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({highlight:true,isOperationShow:true});}if(_this.state.canDrag){_this.setState({isDragTipShow:true});}};_this.onMouseOver=function(){if(!_this.props.isItemFreezed){_this.setState({highlight:true,isOperationShow:true});}if(_this.state.canDrag){_this.setState({isDragTipShow:true});}};_this.onMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({highlight:false,isOperationShow:false});}_this.setState({isDragTipShow:false});};_this.unfreezeItem=function(){_this.setState({highlight:false,isOperationShow:false});_this.props.unfreezeItem();};//buiness handler\n_this.onItemSelected=function(){_this.props.onItemSelected(_this.props.dirent);};_this.onItemStarred=function(e){var dirent=_this.props.dirent;var repoID=_this.props.repoID;var filePath=_this.getDirentPath(dirent);e.preventDefault();if(dirent.starred){seafileAPI.unstarItem(repoID,filePath).then(function(){_this.props.updateDirent(_this.props.dirent,'starred',false);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});}else{seafileAPI.starItem(repoID,filePath).then(function(){_this.props.updateDirent(_this.props.dirent,'starred',true);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});}};// on '<tr>'\n_this.onDirentClick=function(e){// '<td>' is clicked\ne.stopPropagation();if(e.target.tagName=='TD'){_this.props.onDirentClick(_this.props.dirent);}};_this.onItemClick=function(e){e.preventDefault();var dirent=_this.props.dirent;if(_this.state.isRenameing){return;}if(dirent.isDir()){_this.props.onItemClick(dirent);return;}if(!_this.canPreview){return;}if(Utils.imageCheck(dirent.name)){_this.props.showImagePopup(dirent);}else{_this.props.onItemClick(dirent);}};_this.onItemDelete=function(e){e.preventDefault();e.nativeEvent.stopImmediatePropagation();//for document event\n_this.props.onItemDelete(_this.props.dirent);};_this.onItemShare=function(e){e.preventDefault();e.nativeEvent.stopImmediatePropagation();//for document event\n_this.setState({isShareDialogShow:!_this.state.isShareDialogShow});};_this.exportDocx=function(){var serviceUrl=window.app.config.serviceURL;var repoID=_this.props.repoID;var filePath=_this.getDirentPath(_this.props.dirent);var exportToDocxUrl=serviceUrl+'/repo/sdoc_export_to_docx/'+repoID+'/?file_path='+filePath;window.location.href=exportToDocxUrl;};_this.closeSharedDialog=function(){_this.setState({isShareDialogShow:!_this.state.isShareDialogShow});};_this.onMobileMenuItemClick=function(e){var operation=e.target.getAttribute('data-op');_this.onMenuItemClick(operation,e);};_this.onMenuItemClick=function(operation,event){switch(operation){case'Download':_this.onItemDownload(event);break;case'Share':_this.onItemShare(event);break;case'Delete':_this.onItemDelete(event);break;case'Rename':_this.onItemRenameToggle();break;case'Move':_this.onItemMoveToggle();break;case'Copy':_this.onItemCopyToggle();break;case'Tags':_this.onEditFileTagToggle();break;case'Permission':_this.onPermissionItem();break;case'Unlock':_this.onUnlockItem();break;case'Lock':_this.onLockItem();break;case'Unfreeze Document':_this.onUnlockItem();break;case'Freeze Document':_this.onFreezeDocument();break;case'Convert to Markdown':_this.onItemConvert(event,'markdown');break;case'Convert to docx':_this.onItemConvert(event,'docx');break;case'Export docx':_this.exportDocx();break;case'Convert to sdoc':_this.onItemConvert(event,'sdoc');break;case'History':_this.onHistory();break;case'Access Log':_this.onAccessLog();break;case'Properties':_this.props.onDirentClick(_this.props.dirent);_this.props.showDirentDetail('info');break;case'Open via Client':_this.onOpenViaClient();break;case'Convert with ONLYOFFICE':_this.onConvertWithONLYOFFICE();break;default:break;}};_this.onItemConvert=function(e,dstType){e.preventDefault();e.nativeEvent.stopImmediatePropagation();//for document event\n_this.props.onItemConvert(_this.props.dirent,dstType);};_this.onEditFileTagToggle=function(){_this.setState({isEditFileTagShow:!_this.state.isEditFileTagShow});};_this.onFileTagChanged=function(){var direntPath=_this.getDirentPath(_this.props.dirent);_this.props.onFileTagChanged(_this.props.dirent,direntPath);};_this.onItemRenameToggle=function(){_this.props.onItemRenameToggle(_this.props.dirent);_this.setState({isOperationShow:false,isRenameing:true,canDrag:false});};_this.onRenameConfirm=function(newName){_this.props.onItemRename(_this.props.dirent,newName);_this.onRenameCancel();};_this.onRenameCancel=function(){_this.setState({isRenameing:false,canDrag:_this.canDrag// set it back to the initial value\n});_this.unfreezeItem();};_this.onItemMoveToggle=function(){_this.setState({isMoveDialogShow:!_this.state.isMoveDialogShow});};_this.onItemCopyToggle=function(){_this.setState({isCopyDialogShow:!_this.state.isCopyDialogShow});};_this.onPermissionItem=function(){_this.setState({isPermissionDialogOpen:!_this.state.isPermissionDialogOpen});};_this.onLockItem=function(){var repoID=_this.props.repoID;var filePath=_this.getDirentPath(_this.props.dirent);seafileAPI.lockfile(repoID,filePath).then(function(){_this.props.updateDirent(_this.props.dirent,'is_locked',true);_this.props.updateDirent(_this.props.dirent,'locked_by_me',true);var lockName=username.split('@');_this.props.updateDirent(_this.props.dirent,'lock_owner_name',lockName[0]);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this.onFreezeDocument=function(){var repoID=_this.props.repoID;var filePath=_this.getDirentPath(_this.props.dirent);seafileAPI.lockfile(repoID,filePath,-1).then(function(){_this.props.updateDirent(_this.props.dirent,'is_freezed',true);_this.props.updateDirent(_this.props.dirent,'is_locked',true);_this.props.updateDirent(_this.props.dirent,'locked_by_me',true);var lockName=username.split('@');_this.props.updateDirent(_this.props.dirent,'lock_owner_name',lockName[0]);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this.onUnlockItem=function(){var repoID=_this.props.repoID;var filePath=_this.getDirentPath(_this.props.dirent);seafileAPI.unlockfile(repoID,filePath).then(function(){_this.props.updateDirent(_this.props.dirent,'is_locked',false);_this.props.updateDirent(_this.props.dirent,'locked_by_me',false);_this.props.updateDirent(_this.props.dirent,'lock_owner_name','');}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this.onHistory=function(){var repoID=_this.props.repoID;var filePath=_this.getDirentPath(_this.props.dirent);var url=URLDecorator.getUrl({type:'file_revisions',repoID:repoID,filePath:filePath});location.href=url;};_this.onAccessLog=function(){var filePath=_this.getDirentPath(_this.props.dirent);var path=siteRoot+'repo/file-access/'+_this.props.repoID+'/?p='+encodeURIComponent(filePath);window.open(path);};_this.onOpenViaClient=function(){var repoID=_this.props.repoID;var filePath=_this.getDirentPath(_this.props.dirent);var url=URLDecorator.getUrl({type:'open_via_client',repoID:repoID,filePath:filePath});location.href=url;};_this.onConvertWithONLYOFFICE=function(){var repoID=_this.props.repoID;var filePath=_this.getDirentPath(_this.props.dirent);seafileAPI.onlyofficeConvert(repoID,filePath).then(function(res){_this.props.loadDirentList(res.data.parent_dir);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this.onItemDownload=function(e){e.preventDefault();e.nativeEvent.stopImmediatePropagation();var dirent=_this.props.dirent;var repoID=_this.props.repoID;var direntPath=_this.getDirentPath(dirent);if(dirent.type==='dir'){if(!useGoFileserver){_this.setState({isZipDialogOpen:true});}else{seafileAPI.zipDownload(repoID,_this.props.path,_this.props.dirent.name).then(function(res){var zipToken=res.data['zip_token'];location.href=\"\".concat(fileServerRoot,\"zip/\").concat(zipToken);}).catch(function(error){var errorMsg=Utils.getErrorMsg(error);_this.setState({isLoading:false,errorMsg:errorMsg});});}}else{var url=URLDecorator.getUrl({type:'download_file_url',repoID:repoID,filePath:direntPath});location.href=url;}};_this.closeZipDialog=function(){_this.setState({isZipDialogOpen:false});};_this.getDirentPath=function(dirent){var path=_this.props.path;return path==='/'?path+dirent.name:path+'/'+dirent.name;};_this.onTagTooltipToggle=function(e){e.stopPropagation();_this.setState({isShowTagTooltip:!_this.state.isShowTagTooltip});};_this.onItemMove=function(destRepo,dirent,selectedPath,currentPath){_this.props.onItemMove(destRepo,dirent,selectedPath,currentPath);};_this.onItemDragStart=function(e){if(Utils.isIEBrower()||!_this.state.canDrag){return false;}e.dataTransfer.effectAllowed='move';var selectedDirentList=_this.props.selectedDirentList;if(selectedDirentList.length>0&&selectedDirentList.includes(_this.props.dirent)){// drag items and selectedDirentList include item\n_this.props.onShowDirentsDraggablePreview();e.dataTransfer.setDragImage(_this.refs.empty_content,0,0);// Show an empty content\nvar selectedList=selectedDirentList.map(function(item){var nodeRootPath=_this.getDirentPath(item);var dragStartItemData={nodeDirent:item,nodeParentPath:_this.props.path,nodeRootPath:nodeRootPath};return dragStartItemData;});selectedList=JSON.stringify(selectedList);e.dataTransfer.setData('applicaiton/drag-item-info',selectedList);return;}if(e.dataTransfer&&e.dataTransfer.setDragImage){e.dataTransfer.setDragImage(_this.refs.drag_icon,15,15);}var nodeRootPath=_this.getDirentPath(_this.props.dirent);var dragStartItemData={nodeDirent:_this.props.dirent,nodeParentPath:_this.props.path,nodeRootPath:nodeRootPath};dragStartItemData=JSON.stringify(dragStartItemData);e.dataTransfer.setData('applicaiton/drag-item-info',dragStartItemData);};_this.onItemDragEnter=function(e){if(Utils.isIEBrower()||!_this.state.canDrag){return false;}if(_this.props.dirent.type==='dir'){e.stopPropagation();_this.setState({isDropTipshow:true});}};_this.onItemDragOver=function(e){if(Utils.isIEBrower()||!_this.state.canDrag){return false;}if(e.dataTransfer.dropEffect==='copy'){return;}e.preventDefault();e.dataTransfer.dropEffect='move';};_this.onItemDragLeave=function(e){if(Utils.isIEBrower()||!_this.state.canDrag){return false;}if(_this.props.dirent.type==='dir'){e.stopPropagation();}_this.setState({isDropTipshow:false});};_this.onItemDragDrop=function(e){if(Utils.isIEBrower()||!_this.state.canDrag){return false;}_this.setState({isDropTipshow:false});if(e.dataTransfer.files.length){// uploaded files\nreturn;}if(_this.props.dirent.type==='dir'){e.stopPropagation();}else{return;}var dragStartItemData=e.dataTransfer.getData('applicaiton/drag-item-info');dragStartItemData=JSON.parse(dragStartItemData);if(Array.isArray(dragStartItemData)){//move items\nvar direntPaths=dragStartItemData.map(function(draggedItem){return draggedItem.nodeRootPath;});var _selectedPath=Utils.joinPath(_this.props.path,_this.props.dirent.name);if(direntPaths.some(function(direntPath){return direntPath===_selectedPath;})){//eg; A/B, A/C --> A/B\nreturn;}_this.props.onItemsMove(_this.props.currentRepoInfo,_selectedPath);return;}var _dragStartItemData=dragStartItemData,nodeDirent=_dragStartItemData.nodeDirent,nodeParentPath=_dragStartItemData.nodeParentPath,nodeRootPath=_dragStartItemData.nodeRootPath;var dropItemData=_this.props.dirent;if(nodeDirent.name===dropItemData.name){return;}//  copy the dirent to it's child. eg: A/B -> A/B/C\nif(dropItemData.type==='dir'&&nodeDirent.type==='dir'){if(nodeParentPath!==_this.props.path){if(_this.props.path.indexOf(nodeRootPath)!==-1){return;}}}var selectedPath=Utils.joinPath(_this.props.path,_this.props.dirent.name);_this.onItemMove(_this.props.currentRepoInfo,nodeDirent,selectedPath,nodeParentPath);};_this.onItemMouseDown=function(event){_this.props.onItemMouseDown(event);};_this.onItemContextMenu=function(event){var dirent=_this.props.dirent;_this.props.onItemContextMenu(event,dirent);};_this.renderItemOperation=function(){var _this$props=_this.props,dirent=_this$props.dirent,currentRepoInfo=_this$props.currentRepoInfo,selectedDirentList=_this$props.selectedDirentList;var canDownload=true;var canDelete=true;var _assertThisInitialize=_assertThisInitialized(_this),isCustomPermission=_assertThisInitialize.isCustomPermission,customPermission=_assertThisInitialize.customPermission;if(isCustomPermission){var permission=customPermission.permission;canDownload=permission.download;canDelete=permission.delete;}// https://dev.seafile.com/seahub/lib/d6f300e7-bb2b-4722-b83e-cf45e370bfbc/file/seaf-server%20%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1/%E6%9D%83%E9%99%90%E7%9B%B8%E5%85%B3/%E8%B5%84%E6%96%99%E5%BA%93%E6%9D%83%E9%99%90%E8%A7%84%E8%8C%83.md\nvar showShareBtn=Utils.isHasPermissionToShare(currentRepoInfo,dirent.permission,dirent);return/*#__PURE__*/_jsx(Fragment,{children:selectedDirentList.length>1?/*#__PURE__*/_jsx(Fragment,{children:_this.state.isOperationShow&&!dirent.isSelected&&/*#__PURE__*/_jsxs(\"div\",{className:\"operations\",children:[(dirent.permission==='rw'||dirent.permission==='r'||isCustomPermission&&canDownload)&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"op-icon sf2-icon-download\",title:gettext('Download'),role:\"button\",\"aria-label\":gettext('Download'),onClick:_this.onItemDownload}),showShareBtn&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"op-icon sf2-icon-share\",title:gettext('Share'),role:\"button\",\"aria-label\":gettext('Share'),onClick:_this.onItemShare}),(dirent.permission==='rw'||dirent.permission==='cloud-edit'||isCustomPermission&&canDelete)&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"op-icon sf2-icon-delete\",title:gettext('Delete'),role:\"button\",\"aria-label\":gettext('Delete'),onClick:_this.onItemDelete}),/*#__PURE__*/_jsx(ItemDropdownMenu,{item:_this.props.dirent,toggleClass:'sf2-icon-caret-down',isHandleContextMenuEvent:true,getMenuList:_this.props.getDirentItemMenuList,onMenuItemClick:_this.onMenuItemClick,unfreezeItem:_this.unfreezeItem,freezeItem:_this.props.freezeItem})]})}):/*#__PURE__*/_jsx(Fragment,{children:_this.state.isOperationShow&&/*#__PURE__*/_jsxs(\"div\",{className:\"operations\",children:[(dirent.permission==='rw'||dirent.permission==='r'||isCustomPermission&&canDownload)&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"op-icon sf2-icon-download\",title:gettext('Download'),role:\"button\",\"aria-label\":gettext('Download'),onClick:_this.onItemDownload}),showShareBtn&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"op-icon sf2-icon-share\",title:gettext('Share'),role:\"button\",\"aria-label\":gettext('Share'),onClick:_this.onItemShare}),(dirent.permission==='rw'||dirent.permission==='cloud-edit'||isCustomPermission&&canDelete)&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"op-icon sf2-icon-delete\",title:gettext('Delete'),role:\"button\",\"aria-label\":gettext('Delete'),onClick:_this.onItemDelete}),/*#__PURE__*/_jsx(ItemDropdownMenu,{item:_this.props.dirent,toggleClass:'sf2-icon-caret-down',isHandleContextMenuEvent:true,getMenuList:_this.props.getDirentItemMenuList,onMenuItemClick:_this.onMenuItemClick,unfreezeItem:_this.unfreezeItem,freezeItem:_this.props.freezeItem})]})})});};var _dirent=_this.props.dirent;var _Utils$getUserPermiss=Utils.getUserPermission(_dirent.permission),_isCustomPermission=_Utils$getUserPermiss.isCustomPermission,_customPermission=_Utils$getUserPermiss.customPermission;_this.isCustomPermission=_isCustomPermission;_this.customPermission=_customPermission;_this.canPreview=true;_this.canDrag=_dirent.permission==='rw';if(_isCustomPermission){var _customPermission$per=_customPermission.permission,preview=_customPermission$per.preview,modify=_customPermission$per.modify;_this.canPreview=preview||modify;_this.canDrag=modify;}_this.state={isOperationShow:false,highlight:false,isZipDialogOpen:false,isMoveDialogShow:false,isCopyDialogShow:false,isShareDialogShow:false,isMutipleOperation:false,canDrag:_this.canDrag,isShowTagTooltip:false,isDragTipShow:false,isDropTipshow:false,isEditFileTagShow:false,isPermissionDialogOpen:false,isOpMenuOpen:false// for mobile\n};_this.tagListTitleID=\"tag-list-title-\".concat(uuidv4());return _this;}_createClass(DirentListItem,[{key:\"UNSAFE_componentWillReceiveProps\",value:function UNSAFE_componentWillReceiveProps(nextProps){var _this2=this;if(nextProps.isItemFreezed!==this.props.isItemFreezed&&!nextProps.isItemFreezed){this.setState({highlight:false,isOperationShow:false},function(){if(nextProps.activeDirent&&nextProps.activeDirent.name===nextProps.dirent.name){_this2.setState({isOperationShow:true});}});}}},{key:\"render\",value:function render(){var _this3=this;var _this$props2=this.props,path=_this$props2.path,dirent=_this$props2.dirent,activeDirent=_this$props2.activeDirent;var direntPath=Utils.joinPath(path,dirent.name);var dirHref='';if(this.props.currentRepoInfo){dirHref=siteRoot+'library/'+this.props.repoID+'/'+this.props.currentRepoInfo.repo_name+Utils.encodePath(direntPath);}var fileHref=siteRoot+'lib/'+this.props.repoID+'/file'+Utils.encodePath(direntPath);if(dirent.is_sdoc_revision&&dirent.revision_id){fileHref=siteRoot+'lib/'+this.props.repoID+'/revisions/'+dirent.revision_id+'/';}var iconUrl=Utils.getDirentIcon(dirent);var trClass=this.state.highlight?'tr-highlight ':'';trClass+=this.state.isDropTipshow?'tr-drop-effect':'';trClass+=activeDirent&&activeDirent.name===dirent.name?'tr-active':'';trClass+=dirent.isSelected?'tr-active':'';var lockedInfo=dirent.is_freezed?gettext('Frozen by {name}'):gettext('locked by {name}');lockedInfo=lockedInfo.replace('{name}',dirent.lock_owner_name);var isDesktop=Utils.isDesktop();var canDrag=this.state.canDrag;var lockedImageUrl=\"\".concat(mediaUrl,\"img/file-\").concat(dirent.is_freezed?'freezed-32.svg':'locked-32.png');var lockedMessage=dirent.is_freezed?gettext('freezed'):gettext('locked');var desktopItem=/*#__PURE__*/_jsxs(\"tr\",{className:trClass,draggable:canDrag,onFocus:this.onMouseEnter,onMouseEnter:this.onMouseEnter,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onClick:this.onDirentClick,onDragStart:this.onItemDragStart,onDragEnter:this.onItemDragEnter,onDragOver:this.onItemDragOver,onDragLeave:this.onItemDragLeave,onDrop:this.onItemDragDrop,onMouseDown:this.onItemMouseDown,onContextMenu:this.onItemContextMenu,children:[/*#__PURE__*/_jsx(\"td\",{className:\"pl10 \".concat(this.state.isDragTipShow?'tr-drag-effect':''),children:/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",className:\"vam\",onChange:this.onItemSelected,checked:dirent.isSelected,\"aria-label\":dirent.isSelected?gettext('Unselect this item'):gettext('Select this item')})}),/*#__PURE__*/_jsx(\"td\",{className:\"pl10\",children:dirent.starred!==undefined&&/*#__PURE__*/_jsx(\"a\",{href:\"#\",role:\"button\",\"aria-label\":dirent.starred?gettext('Unstar'):gettext('Star'),onClick:this.onItemStarred,children:/*#__PURE__*/_jsx(\"i\",{className:\"fa-star \".concat(dirent.starred?'fas':'far star-empty')})})}),/*#__PURE__*/_jsx(\"td\",{className:\"pl10\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"dir-icon\",children:[this.canPreview&&dirent.encoded_thumbnail_src?/*#__PURE__*/_jsx(\"img\",{ref:\"drag_icon\",src:\"\".concat(siteRoot).concat(dirent.encoded_thumbnail_src),className:\"thumbnail cursor-pointer\",onClick:this.onItemClick,alt:\"\"}):/*#__PURE__*/_jsx(\"img\",{ref:\"drag_icon\",src:iconUrl,width:\"24\",alt:\"\"}),dirent.is_locked&&/*#__PURE__*/_jsx(\"img\",{className:\"locked\",src:lockedImageUrl,alt:lockedMessage,title:lockedInfo}),/*#__PURE__*/_jsx(\"div\",{ref:\"empty_content\",style:{position:'absolute',width:'1px',height:'1px'}})]})}),/*#__PURE__*/_jsxs(\"td\",{className:\"name\",children:[this.state.isRenameing&&/*#__PURE__*/_jsx(Rename,{hasSuffix:dirent.type!=='dir',name:dirent.name,onRenameConfirm:this.onRenameConfirm,onRenameCancel:this.onRenameCancel}),!this.state.isRenameing&&/*#__PURE__*/_jsx(Fragment,{children:!dirent.isDir()&&!this.canPreview?/*#__PURE__*/_jsx(\"a\",{className:\"sf-link\",onClick:this.onItemClick,children:dirent.name}):/*#__PURE__*/_jsx(\"a\",{href:dirent.type==='dir'?dirHref:fileHref,onClick:this.onItemClick,children:dirent.name})})]}),/*#__PURE__*/_jsxs(\"td\",{className:\"tag-list-title\",children:[dirent.type!=='dir'&&dirent.file_tags&&dirent.file_tags.length>0&&/*#__PURE__*/_jsx(\"div\",{id:this.tagListTitleID,className:\"dirent-item tag-list tag-list-stacked\",children:dirent.file_tags.map(function(fileTag,index){return/*#__PURE__*/_jsx(FileTag,{fileTag:fileTag,length:dirent.file_tags.length,index:index},index);})}),dirent.type!=='dir'&&(!dirent.file_tags||dirent.file_tags.length==0)&&/*#__PURE__*/_jsx(\"div\",{id:this.tagListTitleID,className:\"dirent-item tag-list tag-list-stacked\"})]}),/*#__PURE__*/_jsx(\"td\",{className:\"operation\",children:this.renderItemOperation()}),/*#__PURE__*/_jsx(\"td\",{className:\"file-size\",children:dirent.size&&dirent.size}),/*#__PURE__*/_jsx(\"td\",{className:\"last-update\",title:moment.unix(dirent.mtime).format('llll'),children:dirent.mtime_relative})]});var mobileItem=/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{onClick:this.onItemClick,children:/*#__PURE__*/_jsxs(\"div\",{className:\"dir-icon\",children:[this.canPreview&&dirent.encoded_thumbnail_src?/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(siteRoot).concat(dirent.encoded_thumbnail_src),className:\"thumbnail cursor-pointer\",alt:\"\"}):/*#__PURE__*/_jsx(\"img\",{src:iconUrl,width:\"24\",alt:\"\"}),dirent.is_locked&&/*#__PURE__*/_jsx(\"img\",{className:\"locked\",src:lockedImageUrl,alt:lockedMessage,title:lockedInfo})]})}),/*#__PURE__*/_jsxs(\"td\",{onClick:this.onItemClick,children:[this.state.isRenameing&&/*#__PURE__*/_jsx(Rename,{hasSuffix:dirent.type!=='dir',name:dirent.name,onRenameConfirm:this.onRenameConfirm,onRenameCancel:this.onRenameCancel}),!this.state.isRenameing&&/*#__PURE__*/_jsx(Fragment,{children:!dirent.isDir()&&!this.canPreview?/*#__PURE__*/_jsx(\"a\",{className:\"sf-link\",children:dirent.name}):/*#__PURE__*/_jsx(\"a\",{href:dirent.type==='dir'?dirHref:fileHref,children:dirent.name})}),/*#__PURE__*/_jsx(\"br\",{}),dirent.size&&/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info\",children:dirent.size}),/*#__PURE__*/_jsx(\"span\",{className:\"item-meta-info\",children:dirent.mtime_relative})]}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isOpMenuOpen,toggle:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"i\",className:\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\",title:gettext('More operations'),\"aria-label\":gettext('More operations'),\"data-toggle\":\"dropdown\",\"aria-expanded\":this.state.isOpMenuOpen}),/*#__PURE__*/_jsxs(\"div\",{className:this.state.isOpMenuOpen?'':'d-none',onClick:this.toggleOpMenu,children:[/*#__PURE__*/_jsx(\"div\",{className:\"mobile-operation-menu-bg-layer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mobile-operation-menu\",children:[dirent.starred!==undefined&&/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",onClick:this.onItemStarred,children:dirent.starred?gettext('Unstar'):gettext('Star')}),this.props.getDirentItemMenuList(dirent,true).map(function(item,index){if(item!='Divider'&&item.key!='Open via Client'){return/*#__PURE__*/_jsx(DropdownItem,{className:\"mobile-menu-item\",\"data-op\":item.key,onClick:_this3.onMobileMenuItemClick,children:item.value},index);}else{return null;}})]})]})]})})]});return/*#__PURE__*/_jsxs(Fragment,{children:[isDesktop?desktopItem:mobileItem,this.state.isMoveDialogShow&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(MoveDirentDialog,{path:this.props.path,repoID:this.props.repoID,dirent:this.props.dirent,isMutipleOperation:this.state.isMutipleOperation,onItemMove:this.props.onItemMove,onCancelMove:this.onItemMoveToggle,repoEncrypted:this.props.repoEncrypted})}),this.state.isCopyDialogShow&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(CopyDirentDialog,{path:this.props.path,repoID:this.props.repoID,dirent:this.props.dirent,isMutipleOperation:this.state.isMutipleOperation,onItemCopy:this.props.onItemCopy,onCancelCopy:this.onItemCopyToggle,repoEncrypted:this.props.repoEncrypted})}),/*#__PURE__*/_jsx(MediaQuery,{query:\"(min-width: 768px)\",children:this.state.isEditFileTagShow&&/*#__PURE__*/_jsx(EditFileTagPopover,{repoID:this.props.repoID,repoTags:this.props.repoTags,fileTagList:dirent.file_tags,filePath:direntPath,toggleCancel:this.onEditFileTagToggle,onFileTagChanged:this.onFileTagChanged,target:this.tagListTitleID,isEditFileTagShow:this.state.isEditFileTagShow})}),/*#__PURE__*/_jsx(MediaQuery,{query:\"(max-width: 767.8px)\",children:this.state.isEditFileTagShow&&/*#__PURE__*/_jsx(EditFileTagDialog,{repoID:this.props.repoID,repoTags:this.props.repoTags,fileTagList:dirent.file_tags,filePath:direntPath,toggleCancel:this.onEditFileTagToggle,onFileTagChanged:this.onFileTagChanged})}),this.state.isZipDialogOpen&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(ZipDownloadDialog,{repoID:this.props.repoID,path:this.props.path,target:this.props.dirent.name,toggleDialog:this.closeZipDialog})}),this.state.isShareDialogShow&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(ShareDialog,{itemType:dirent.type,itemName:dirent.name,itemPath:direntPath,userPerm:dirent.permission,repoID:this.props.repoID,repoEncrypted:this.props.repoEncrypted,enableDirPrivateShare:this.props.enableDirPrivateShare,isGroupOwnedRepo:this.props.isGroupOwnedRepo,toggleDialog:this.closeSharedDialog})}),this.state.isPermissionDialogOpen&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(LibSubFolderPermissionDialog,{toggleDialog:this.onPermissionItem,repoID:this.props.repoID,folderPath:direntPath,folderName:dirent.name,isDepartmentRepo:this.props.isGroupOwnedRepo})})]});}}]);return DirentListItem;}(React.Component);export default DirentListItem;","map":{"version":3,"names":["React","Fragment","MediaQuery","v4","uuidv4","moment","Dropdown","DropdownToggle","DropdownItem","gettext","siteRoot","mediaUrl","username","useGoFileserver","fileServerRoot","Utils","seafileAPI","URLDecorator","ItemDropdownMenu","Rename","ModalPortal","MoveDirentDialog","CopyDirentDialog","ShareDialog","ZipDownloadDialog","EditFileTagDialog","EditFileTagPopover","LibSubFolderPermissionDialog","toaster","FileTag","jsx","_jsx","jsxs","_jsxs","DirentListItem","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","toggleOpMenu","setState","isOpMenuOpen","state","onMouseEnter","isItemFreezed","highlight","isOperationShow","canDrag","isDragTipShow","onMouseOver","onMouseLeave","unfreezeItem","onItemSelected","dirent","onItemStarred","e","repoID","filePath","getDirentPath","preventDefault","starred","unstarItem","then","updateDirent","catch","error","errMessage","getErrorMsg","danger","starItem","onDirentClick","stopPropagation","target","tagName","onItemClick","isRenameing","isDir","canPreview","imageCheck","name","showImagePopup","onItemDelete","nativeEvent","stopImmediatePropagation","onItemShare","isShareDialogShow","exportDocx","serviceUrl","window","app","config","serviceURL","exportToDocxUrl","location","href","closeSharedDialog","onMobileMenuItemClick","operation","getAttribute","onMenuItemClick","event","onItemDownload","onItemRenameToggle","onItemMoveToggle","onItemCopyToggle","onEditFileTagToggle","onPermissionItem","onUnlockItem","onLockItem","onFreezeDocument","onItemConvert","onHistory","onAccessLog","showDirentDetail","onOpenViaClient","onConvertWithONLYOFFICE","dstType","isEditFileTagShow","onFileTagChanged","direntPath","onRenameConfirm","newName","onItemRename","onRenameCancel","isMoveDialogShow","isCopyDialogShow","isPermissionDialogOpen","lockfile","lockName","split","unlockfile","url","getUrl","type","path","encodeURIComponent","open","onlyofficeConvert","res","loadDirentList","data","parent_dir","isZipDialogOpen","zipDownload","zipToken","concat","errorMsg","isLoading","closeZipDialog","onTagTooltipToggle","isShowTagTooltip","onItemMove","destRepo","selectedPath","currentPath","onItemDragStart","isIEBrower","dataTransfer","effectAllowed","selectedDirentList","length","includes","onShowDirentsDraggablePreview","setDragImage","refs","empty_content","selectedList","map","item","nodeRootPath","dragStartItemData","nodeDirent","nodeParentPath","JSON","stringify","setData","drag_icon","onItemDragEnter","isDropTipshow","onItemDragOver","dropEffect","onItemDragLeave","onItemDragDrop","files","getData","parse","Array","isArray","direntPaths","draggedItem","joinPath","some","onItemsMove","currentRepoInfo","_dragStartItemData","dropItemData","indexOf","onItemMouseDown","onItemContextMenu","renderItemOperation","_this$props","canDownload","canDelete","_assertThisInitialize","_assertThisInitialized","isCustomPermission","customPermission","permission","download","delete","showShareBtn","isHasPermissionToShare","children","isSelected","className","title","role","onClick","toggleClass","isHandleContextMenuEvent","getMenuList","getDirentItemMenuList","freezeItem","_Utils$getUserPermiss","getUserPermission","_customPermission$per","preview","modify","isMutipleOperation","tagListTitleID","_createClass","key","value","UNSAFE_componentWillReceiveProps","nextProps","_this2","activeDirent","render","_this3","_this$props2","dirHref","repo_name","encodePath","fileHref","is_sdoc_revision","revision_id","iconUrl","getDirentIcon","trClass","lockedInfo","is_freezed","replace","lock_owner_name","isDesktop","lockedImageUrl","lockedMessage","desktopItem","draggable","onFocus","onDragStart","onDragEnter","onDragOver","onDragLeave","onDrop","onMouseDown","onContextMenu","onChange","checked","undefined","encoded_thumbnail_src","ref","src","alt","width","is_locked","style","position","height","hasSuffix","file_tags","id","fileTag","index","size","unix","mtime","format","mtime_relative","mobileItem","isOpen","toggle","tag","onCancelMove","repoEncrypted","onItemCopy","onCancelCopy","query","repoTags","fileTagList","toggleCancel","toggleDialog","itemType","itemName","itemPath","userPerm","enableDirPrivateShare","isGroupOwnedRepo","folderPath","folderName","isDepartmentRepo","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dirent-list-view/dirent-list-item.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MediaQuery from 'react-responsive';\nimport { v4 as uuidv4 } from 'uuid';\nimport moment from 'moment';\nimport { Dropdown, DropdownToggle, DropdownItem } from 'reactstrap';\nimport { gettext, siteRoot, mediaUrl, username, useGoFileserver, fileServerRoot } from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport URLDecorator from '../../utils/url-decorator';\nimport ItemDropdownMenu from '../dropdown-menu/item-dropdown-menu';\nimport Rename from '../rename';\nimport ModalPortal from '../modal-portal';\nimport MoveDirentDialog from '../dialog/move-dirent-dialog';\nimport CopyDirentDialog from '../dialog/copy-dirent-dialog';\nimport ShareDialog from '../dialog/share-dialog';\nimport ZipDownloadDialog from '../dialog/zip-download-dialog';\nimport EditFileTagDialog from '../dialog/edit-filetag-dialog';\nimport EditFileTagPopover from '../popover/edit-filetag-popover';\nimport LibSubFolderPermissionDialog from '../dialog/lib-sub-folder-permission-dialog';\nimport toaster from '../toast';\nimport FileTag from './file-tag';\n\nimport '../../css/dirent-list-item.css';\n\nconst propTypes = {\n  path: PropTypes.string.isRequired,\n  repoID: PropTypes.string.isRequired,\n  isItemFreezed: PropTypes.bool.isRequired,\n  dirent: PropTypes.object.isRequired,\n  onItemClick: PropTypes.func.isRequired,\n  freezeItem: PropTypes.func.isRequired,\n  unfreezeItem: PropTypes.func.isRequired,\n  onItemRenameToggle: PropTypes.func.isRequired,\n  onItemSelected: PropTypes.func.isRequired,\n  onItemDelete: PropTypes.func.isRequired,\n  onItemRename: PropTypes.func.isRequired,\n  onItemMove: PropTypes.func.isRequired,\n  onItemCopy: PropTypes.func.isRequired,\n  onItemConvert: PropTypes.func.isRequired,\n  onDirentClick: PropTypes.func.isRequired,\n  updateDirent: PropTypes.func.isRequired,\n  showImagePopup: PropTypes.func.isRequired,\n  currentRepoInfo: PropTypes.object,\n  isRepoOwner: PropTypes.bool,\n  isAdmin: PropTypes.bool.isRequired,\n  repoEncrypted: PropTypes.bool.isRequired,\n  isGroupOwnedRepo: PropTypes.bool.isRequired,\n  onItemMouseDown: PropTypes.func.isRequired,\n  onItemContextMenu: PropTypes.func.isRequired,\n  selectedDirentList: PropTypes.array.isRequired,\n  activeDirent: PropTypes.object,\n  getDirentItemMenuList: PropTypes.func.isRequired,\n  repoTags: PropTypes.array.isRequired,\n  onFileTagChanged: PropTypes.func,\n  enableDirPrivateShare: PropTypes.bool.isRequired,\n  showDirentDetail: PropTypes.func.isRequired,\n  onItemsMove: PropTypes.func.isRequired,\n  onShowDirentsDraggablePreview: PropTypes.func,\n  loadDirentList: PropTypes.func,\n};\n\nclass DirentListItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n\n    const { dirent } = this.props;\n    const { isCustomPermission, customPermission } = Utils.getUserPermission(dirent.permission);\n    this.isCustomPermission = isCustomPermission;\n    this.customPermission = customPermission;\n    this.canPreview = true;\n    this.canDrag = dirent.permission === 'rw';\n    if (isCustomPermission) {\n      const { preview, modify } = customPermission.permission;\n      this.canPreview = preview || modify;\n      this.canDrag = modify;\n    }\n\n    this.state = {\n      isOperationShow: false,\n      highlight: false,\n      isZipDialogOpen: false,\n      isMoveDialogShow: false,\n      isCopyDialogShow: false,\n      isShareDialogShow: false,\n      isMutipleOperation: false,\n      canDrag: this.canDrag,\n      isShowTagTooltip: false,\n      isDragTipShow: false,\n      isDropTipshow: false,\n      isEditFileTagShow: false,\n      isPermissionDialogOpen: false,\n      isOpMenuOpen: false // for mobile\n    };\n    this.tagListTitleID = `tag-list-title-${uuidv4()}`;\n  }\n\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    if (nextProps.isItemFreezed !== this.props.isItemFreezed && !nextProps.isItemFreezed) {\n      this.setState({\n        highlight: false,\n        isOperationShow: false,\n      }, () => {\n        if (nextProps.activeDirent && nextProps.activeDirent.name === nextProps.dirent.name) {\n          this.setState({isOperationShow: true});\n        }\n      });\n    }\n  }\n\n  toggleOpMenu = () => {\n    this.setState({\n      isOpMenuOpen: !this.state.isOpMenuOpen\n    });\n  };\n\n  //UI Interactive\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: true,\n        isOperationShow: true,\n      });\n    }\n    if (this.state.canDrag) {\n      this.setState({isDragTipShow: true});\n    }\n  };\n\n  onMouseOver = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: true,\n        isOperationShow: true,\n      });\n    }\n    if (this.state.canDrag) {\n      this.setState({isDragTipShow: true});\n    }\n  };\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        highlight: false,\n        isOperationShow: false,\n      });\n    }\n    this.setState({isDragTipShow: false});\n  };\n\n  unfreezeItem = () => {\n    this.setState({\n      highlight: false,\n      isOperationShow: false,\n    });\n    this.props.unfreezeItem();\n  };\n\n  //buiness handler\n  onItemSelected = () => {\n    this.props.onItemSelected(this.props.dirent);\n  };\n\n  onItemStarred = (e) => {\n    let dirent = this.props.dirent;\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(dirent);\n\n    e.preventDefault();\n\n    if (dirent.starred) {\n      seafileAPI.unstarItem(repoID, filePath).then(() => {\n        this.props.updateDirent(this.props.dirent, 'starred', false);\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    } else {\n      seafileAPI.starItem(repoID, filePath).then(() => {\n        this.props.updateDirent(this.props.dirent, 'starred', true);\n      }).catch(error => {\n        let errMessage = Utils.getErrorMsg(error);\n        toaster.danger(errMessage);\n      });\n    }\n  };\n\n  // on '<tr>'\n  onDirentClick = (e) => {\n    // '<td>' is clicked\n    e.stopPropagation();\n    if (e.target.tagName == 'TD') {\n      this.props.onDirentClick(this.props.dirent);\n    }\n  };\n\n  onItemClick = (e) => {\n    e.preventDefault();\n    const dirent = this.props.dirent;\n    if (this.state.isRenameing) {\n      return;\n    }\n\n    if (dirent.isDir()) {\n      this.props.onItemClick(dirent);\n      return;\n    }\n\n    if (!this.canPreview) {\n      return;\n    }\n\n    if (Utils.imageCheck(dirent.name)) {\n      this.props.showImagePopup(dirent);\n    } else {\n      this.props.onItemClick(dirent);\n    }\n  };\n\n  onItemDelete = (e) => {\n    e.preventDefault();\n    e.nativeEvent.stopImmediatePropagation(); //for document event\n    this.props.onItemDelete(this.props.dirent);\n  };\n\n  onItemShare = (e) => {\n    e.preventDefault();\n    e.nativeEvent.stopImmediatePropagation(); //for document event\n    this.setState({isShareDialogShow: !this.state.isShareDialogShow});\n  };\n\n  exportDocx = () => {\n    const serviceUrl = window.app.config.serviceURL;\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    let exportToDocxUrl = serviceUrl + '/repo/sdoc_export_to_docx/' + repoID + '/?file_path=' + filePath;\n    window.location.href = exportToDocxUrl;\n  };\n\n  closeSharedDialog = () => {\n    this.setState({isShareDialogShow: !this.state.isShareDialogShow});\n  };\n\n  onMobileMenuItemClick = (e) => {\n    const operation = e.target.getAttribute('data-op');\n    this.onMenuItemClick(operation, e);\n  };\n\n  onMenuItemClick = (operation, event) => {\n    switch(operation) {\n      case 'Download':\n        this.onItemDownload(event);\n        break;\n      case 'Share':\n        this.onItemShare(event);\n        break;\n      case 'Delete':\n        this.onItemDelete(event);\n        break;\n      case 'Rename':\n        this.onItemRenameToggle();\n        break;\n      case 'Move':\n        this.onItemMoveToggle();\n        break;\n      case 'Copy':\n        this.onItemCopyToggle();\n        break;\n      case 'Tags':\n        this.onEditFileTagToggle();\n        break;\n      case 'Permission':\n        this.onPermissionItem();\n        break;\n      case 'Unlock':\n        this.onUnlockItem();\n        break;\n      case 'Lock':\n        this.onLockItem();\n        break;\n      case 'Unfreeze Document':\n        this.onUnlockItem();\n        break;\n      case 'Freeze Document':\n        this.onFreezeDocument();\n        break;\n      case 'Convert to Markdown':\n        this.onItemConvert(event, 'markdown');\n        break;\n      case 'Convert to docx':\n        this.onItemConvert(event, 'docx');\n        break;\n      case 'Export docx':\n        this.exportDocx();\n        break;\n      case 'Convert to sdoc':\n        this.onItemConvert(event, 'sdoc');\n        break;\n      case 'History':\n        this.onHistory();\n        break;\n      case 'Access Log':\n        this.onAccessLog();\n        break;\n      case 'Properties':\n        this.props.onDirentClick(this.props.dirent);\n        this.props.showDirentDetail('info');\n        break;\n      case 'Open via Client':\n        this.onOpenViaClient();\n        break;\n      case 'Convert with ONLYOFFICE':\n        this.onConvertWithONLYOFFICE();\n        break;\n      default:\n        break;\n    }\n  };\n\n  onItemConvert = (e, dstType)=> {\n    e.preventDefault();\n    e.nativeEvent.stopImmediatePropagation(); //for document event\n    this.props.onItemConvert(this.props.dirent, dstType);\n  };\n\n  onEditFileTagToggle = () => {\n    this.setState({\n      isEditFileTagShow: !this.state.isEditFileTagShow\n    });\n  };\n\n  onFileTagChanged = () => {\n    let direntPath = this.getDirentPath(this.props.dirent);\n    this.props.onFileTagChanged(this.props.dirent, direntPath);\n  };\n\n  onItemRenameToggle = () => {\n    this.props.onItemRenameToggle(this.props.dirent);\n    this.setState({\n      isOperationShow: false,\n      isRenameing: true,\n      canDrag: false\n    });\n  };\n\n  onRenameConfirm = (newName) => {\n    this.props.onItemRename(this.props.dirent, newName);\n    this.onRenameCancel();\n  };\n\n  onRenameCancel = () => {\n    this.setState({\n      isRenameing: false,\n      canDrag: this.canDrag // set it back to the initial value\n    });\n    this.unfreezeItem();\n  };\n\n  onItemMoveToggle = () => {\n    this.setState({isMoveDialogShow: !this.state.isMoveDialogShow});\n  };\n\n  onItemCopyToggle = () => {\n    this.setState({isCopyDialogShow: !this.state.isCopyDialogShow});\n  };\n\n  onPermissionItem = () => {\n    this.setState({isPermissionDialogOpen: !this.state.isPermissionDialogOpen});\n  };\n\n  onLockItem = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    seafileAPI.lockfile(repoID, filePath).then(() => {\n      this.props.updateDirent(this.props.dirent, 'is_locked', true);\n      this.props.updateDirent(this.props.dirent, 'locked_by_me', true);\n      let lockName = username.split('@');\n      this.props.updateDirent(this.props.dirent, 'lock_owner_name', lockName[0]);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onFreezeDocument = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    seafileAPI.lockfile(repoID, filePath, -1).then(() => {\n      this.props.updateDirent(this.props.dirent, 'is_freezed', true);\n      this.props.updateDirent(this.props.dirent, 'is_locked', true);\n      this.props.updateDirent(this.props.dirent, 'locked_by_me', true);\n      let lockName = username.split('@');\n      this.props.updateDirent(this.props.dirent, 'lock_owner_name', lockName[0]);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onUnlockItem = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    seafileAPI.unlockfile(repoID, filePath).then(() => {\n      this.props.updateDirent(this.props.dirent, 'is_locked', false);\n      this.props.updateDirent(this.props.dirent, 'locked_by_me', false);\n      this.props.updateDirent(this.props.dirent, 'lock_owner_name', '');\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onHistory = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    let url = URLDecorator.getUrl({type: 'file_revisions', repoID: repoID, filePath: filePath});\n    location.href = url;\n  };\n\n  onAccessLog = () => {\n    let filePath = this.getDirentPath(this.props.dirent);\n    let path = siteRoot + 'repo/file-access/' + this.props.repoID + '/?p=' + encodeURIComponent(filePath) ;\n    window.open(path);\n  };\n\n  onOpenViaClient = () => {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    let url = URLDecorator.getUrl({type: 'open_via_client', repoID: repoID, filePath: filePath});\n    location.href = url;\n  };\n\n  onConvertWithONLYOFFICE = ()=> {\n    let repoID = this.props.repoID;\n    let filePath = this.getDirentPath(this.props.dirent);\n    seafileAPI.onlyofficeConvert(repoID, filePath).then(res => {\n      this.props.loadDirentList(res.data.parent_dir);\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  onItemDownload = (e) => {\n    e.preventDefault();\n    e.nativeEvent.stopImmediatePropagation();\n    let dirent = this.props.dirent;\n    let repoID = this.props.repoID;\n    let direntPath = this.getDirentPath(dirent);\n    if (dirent.type === 'dir') {\n      if (!useGoFileserver) {\n        this.setState({\n          isZipDialogOpen: true\n        });\n      } else {\n        seafileAPI.zipDownload(repoID, this.props.path, this.props.dirent.name).then((res) => {\n          const zipToken = res.data['zip_token'];\n          location.href = `${fileServerRoot}zip/${zipToken}`;\n        }).catch((error) => {\n          let errorMsg = Utils.getErrorMsg(error);\n          this.setState({\n            isLoading: false,\n            errorMsg: errorMsg\n          });\n        });\n      }\n    } else {\n      let url = URLDecorator.getUrl({type: 'download_file_url', repoID: repoID, filePath: direntPath});\n      location.href = url;\n    }\n  };\n\n  closeZipDialog = () => {\n    this.setState({\n      isZipDialogOpen: false\n    });\n  };\n\n  getDirentPath = (dirent) => {\n    let path = this.props.path;\n    return path === '/' ? path + dirent.name : path + '/' + dirent.name;\n  };\n\n  onTagTooltipToggle = (e) => {\n    e.stopPropagation();\n    this.setState({isShowTagTooltip: !this.state.isShowTagTooltip});\n  };\n\n  onItemMove = (destRepo, dirent, selectedPath, currentPath) => {\n    this.props.onItemMove(destRepo, dirent, selectedPath, currentPath);\n  };\n\n  onItemDragStart = (e) => {\n    if (Utils.isIEBrower() || !this.state.canDrag) {\n      return false;\n    }\n    e.dataTransfer.effectAllowed = 'move';\n    let { selectedDirentList } = this.props;\n    if (selectedDirentList.length > 0 && selectedDirentList.includes(this.props.dirent)) { // drag items and selectedDirentList include item\n      this.props.onShowDirentsDraggablePreview();\n      e.dataTransfer.setDragImage(this.refs.empty_content, 0, 0); // Show an empty content\n      let selectedList =  selectedDirentList.map(item => {\n        let nodeRootPath = this.getDirentPath(item);\n        let dragStartItemData = {nodeDirent: item, nodeParentPath: this.props.path, nodeRootPath: nodeRootPath};\n        return dragStartItemData;\n      });\n      selectedList = JSON.stringify(selectedList);\n      e.dataTransfer.setData('applicaiton/drag-item-info', selectedList);\n      return ;\n    }\n\n    if (e.dataTransfer && e.dataTransfer.setDragImage) {\n      e.dataTransfer.setDragImage(this.refs.drag_icon, 15, 15);\n    }\n\n    let nodeRootPath = this.getDirentPath(this.props.dirent);\n    let dragStartItemData = {nodeDirent: this.props.dirent, nodeParentPath: this.props.path, nodeRootPath: nodeRootPath};\n    dragStartItemData = JSON.stringify(dragStartItemData);\n\n    e.dataTransfer.setData('applicaiton/drag-item-info', dragStartItemData);\n  };\n\n  onItemDragEnter = (e) => {\n    if (Utils.isIEBrower() || !this.state.canDrag) {\n      return false;\n    }\n    if (this.props.dirent.type === 'dir') {\n      e.stopPropagation();\n      this.setState({isDropTipshow: true});\n    }\n  };\n\n  onItemDragOver = (e) => {\n    if (Utils.isIEBrower() || !this.state.canDrag) {\n      return false;\n    }\n    if (e.dataTransfer.dropEffect === 'copy') {\n      return;\n    }\n    e.preventDefault();\n    e.dataTransfer.dropEffect = 'move';\n  };\n\n  onItemDragLeave = (e) => {\n    if (Utils.isIEBrower() || !this.state.canDrag) {\n      return false;\n    }\n\n    if (this.props.dirent.type === 'dir') {\n      e.stopPropagation();\n    }\n    this.setState({isDropTipshow: false});\n  };\n\n  onItemDragDrop = (e) => {\n    if (Utils.isIEBrower() || !this.state.canDrag) {\n      return false;\n    }\n    this.setState({isDropTipshow: false});\n    if (e.dataTransfer.files.length) { // uploaded files\n      return;\n    }\n    if (this.props.dirent.type === 'dir') {\n      e.stopPropagation();\n    } else {\n      return;\n    }\n    let dragStartItemData = e.dataTransfer.getData('applicaiton/drag-item-info');\n    dragStartItemData = JSON.parse(dragStartItemData);\n    if (Array.isArray(dragStartItemData)) { //move items\n      let direntPaths =  dragStartItemData.map(draggedItem => {\n        return draggedItem.nodeRootPath;\n      });\n\n      let selectedPath = Utils.joinPath(this.props.path, this.props.dirent.name);\n\n      if (direntPaths.some(direntPath => { return direntPath === selectedPath;})) { //eg; A/B, A/C --> A/B\n        return;\n      }\n\n      this.props.onItemsMove(this.props.currentRepoInfo, selectedPath);\n      return ;\n    }\n\n    let { nodeDirent, nodeParentPath, nodeRootPath } = dragStartItemData;\n    let dropItemData = this.props.dirent;\n\n    if (nodeDirent.name === dropItemData.name) {\n      return;\n    }\n\n    //  copy the dirent to it's child. eg: A/B -> A/B/C\n    if (dropItemData.type === 'dir' && nodeDirent.type === 'dir') {\n      if (nodeParentPath !== this.props.path) {\n        if (this.props.path.indexOf(nodeRootPath) !== -1) {\n          return;\n        }\n      }\n    }\n\n    let selectedPath = Utils.joinPath(this.props.path, this.props.dirent.name);\n    this.onItemMove(this.props.currentRepoInfo, nodeDirent, selectedPath, nodeParentPath);\n  };\n\n  onItemMouseDown = (event) => {\n    this.props.onItemMouseDown(event);\n  };\n\n  onItemContextMenu = (event) => {\n    let dirent = this.props.dirent;\n    this.props.onItemContextMenu(event, dirent);\n  };\n\n  renderItemOperation = () => {\n    let { dirent, currentRepoInfo, selectedDirentList } = this.props;\n    let canDownload = true;\n    let canDelete = true;\n    const { isCustomPermission, customPermission } = this;\n    if (isCustomPermission) {\n      const { permission } = customPermission;\n      canDownload = permission.download;\n      canDelete = permission.delete;\n    }\n\n    // https://dev.seafile.com/seahub/lib/d6f300e7-bb2b-4722-b83e-cf45e370bfbc/file/seaf-server%20%E5%8A%9F%E8%83%BD%E8%AE%BE%E8%AE%A1/%E6%9D%83%E9%99%90%E7%9B%B8%E5%85%B3/%E8%B5%84%E6%96%99%E5%BA%93%E6%9D%83%E9%99%90%E8%A7%84%E8%8C%83.md\n    let showShareBtn = Utils.isHasPermissionToShare(currentRepoInfo, dirent.permission, dirent);\n\n    return (\n      <Fragment>\n        {selectedDirentList.length > 1 ?\n          <Fragment>\n            {this.state.isOperationShow && !dirent.isSelected &&\n              <div className=\"operations\">\n                {(dirent.permission === 'rw' || dirent.permission === 'r' || (isCustomPermission && canDownload)) && (\n                  <a href=\"#\" className=\"op-icon sf2-icon-download\" title={gettext('Download')} role=\"button\" aria-label={gettext('Download')} onClick={this.onItemDownload}></a>\n                )}\n                {showShareBtn && (\n                  <a href=\"#\" className=\"op-icon sf2-icon-share\" title={gettext('Share')} role=\"button\" aria-label={gettext('Share')} onClick={this.onItemShare}></a>\n                )}\n                {(dirent.permission === 'rw' || dirent.permission === 'cloud-edit' || (isCustomPermission && canDelete)) && (\n                  <a href=\"#\" className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} role=\"button\" aria-label={gettext('Delete')} onClick={this.onItemDelete}></a>\n                )}\n                <ItemDropdownMenu\n                  item={this.props.dirent}\n                  toggleClass={'sf2-icon-caret-down'}\n                  isHandleContextMenuEvent={true}\n                  getMenuList={this.props.getDirentItemMenuList}\n                  onMenuItemClick={this.onMenuItemClick}\n                  unfreezeItem={this.unfreezeItem}\n                  freezeItem={this.props.freezeItem}\n                />\n              </div>\n            }\n          </Fragment> :\n          <Fragment>\n            {this.state.isOperationShow &&\n              <div className=\"operations\">\n                {(dirent.permission === 'rw' || dirent.permission === 'r' || (isCustomPermission && canDownload)) && (\n                  <a href=\"#\" className=\"op-icon sf2-icon-download\" title={gettext('Download')} role=\"button\" aria-label={gettext('Download')} onClick={this.onItemDownload}></a>\n                )}\n                {showShareBtn && (\n                  <a href=\"#\" className=\"op-icon sf2-icon-share\" title={gettext('Share')} role=\"button\" aria-label={gettext('Share')} onClick={this.onItemShare}></a>\n                )}\n                {(dirent.permission === 'rw' || dirent.permission === 'cloud-edit' || (isCustomPermission && canDelete)) && (\n                  <a href=\"#\" className=\"op-icon sf2-icon-delete\" title={gettext('Delete')} role=\"button\" aria-label={gettext('Delete')} onClick={this.onItemDelete}></a>\n                )}\n                <ItemDropdownMenu\n                  item={this.props.dirent}\n                  toggleClass={'sf2-icon-caret-down'}\n                  isHandleContextMenuEvent={true}\n                  getMenuList={this.props.getDirentItemMenuList}\n                  onMenuItemClick={this.onMenuItemClick}\n                  unfreezeItem={this.unfreezeItem}\n                  freezeItem={this.props.freezeItem}\n                />\n              </div>\n            }\n          </Fragment>\n        }\n      </Fragment>\n    );\n  };\n\n  render() {\n    let { path, dirent, activeDirent } = this.props;\n    let direntPath = Utils.joinPath(path, dirent.name);\n    let dirHref = '';\n    if (this.props.currentRepoInfo) {\n      dirHref = siteRoot + 'library/' + this.props.repoID + '/' + this.props.currentRepoInfo.repo_name + Utils.encodePath(direntPath);\n    }\n    let fileHref = siteRoot + 'lib/' + this.props.repoID + '/file' + Utils.encodePath(direntPath);\n    if (dirent.is_sdoc_revision && dirent.revision_id) {\n      fileHref = siteRoot + 'lib/' + this.props.repoID + '/revisions/' + dirent.revision_id + '/';\n    }\n\n    let iconUrl = Utils.getDirentIcon(dirent);\n\n    let trClass = this.state.highlight ? 'tr-highlight ' : '';\n    trClass += this.state.isDropTipshow ? 'tr-drop-effect' : '';\n    trClass += (activeDirent && activeDirent.name === dirent.name)  ? 'tr-active' : '';\n    trClass += dirent.isSelected? 'tr-active' : '';\n\n    let lockedInfo = dirent.is_freezed ? gettext('Frozen by {name}'): gettext('locked by {name}');\n    lockedInfo = lockedInfo.replace('{name}', dirent.lock_owner_name);\n\n    const isDesktop = Utils.isDesktop();\n    const { canDrag } = this.state;\n    const lockedImageUrl = `${mediaUrl}img/file-${dirent.is_freezed ? 'freezed-32.svg' : 'locked-32.png'}`;\n    const lockedMessage = dirent.is_freezed ? gettext('freezed') : gettext('locked');\n    const desktopItem = (\n      <tr\n        className={trClass}\n        draggable={canDrag}\n        onFocus={this.onMouseEnter}\n        onMouseEnter={this.onMouseEnter}\n        onMouseOver={this.onMouseOver}\n        onMouseLeave={this.onMouseLeave}\n        onClick={this.onDirentClick}\n        onDragStart={this.onItemDragStart}\n        onDragEnter={this.onItemDragEnter}\n        onDragOver={this.onItemDragOver}\n        onDragLeave={this.onItemDragLeave}\n        onDrop={this.onItemDragDrop}\n        onMouseDown={this.onItemMouseDown}\n        onContextMenu={this.onItemContextMenu}\n      >\n        <td className={`pl10 ${this.state.isDragTipShow ? 'tr-drag-effect' : ''}`}>\n          <input type=\"checkbox\" className=\"vam\" onChange={this.onItemSelected} checked={dirent.isSelected} aria-label={dirent.isSelected ?gettext('Unselect this item') : gettext('Select this item')} />\n        </td>\n        <td className=\"pl10\">\n          {dirent.starred !== undefined &&\n          <a href=\"#\" role=\"button\" aria-label={dirent.starred ? gettext('Unstar') : gettext('Star')} onClick={this.onItemStarred}>\n            <i className={`fa-star ${dirent.starred ? 'fas' : 'far star-empty'}`}></i>\n          </a>\n          }\n        </td>\n        <td className=\"pl10\">\n          <div className=\"dir-icon\">\n            {(this.canPreview && dirent.encoded_thumbnail_src) ?\n              <img ref='drag_icon' src={`${siteRoot}${dirent.encoded_thumbnail_src}`} className=\"thumbnail cursor-pointer\" onClick={this.onItemClick} alt=\"\" /> :\n              <img ref='drag_icon' src={iconUrl} width=\"24\" alt='' />\n            }\n            {dirent.is_locked && <img className=\"locked\" src={lockedImageUrl} alt={lockedMessage} title={lockedInfo}/>}\n            <div ref=\"empty_content\" style={{position: 'absolute', width: '1px', height: '1px'}}></div>\n          </div>\n        </td>\n        <td className=\"name\">\n          {this.state.isRenameing && <Rename hasSuffix={dirent.type !== 'dir'} name={dirent.name} onRenameConfirm={this.onRenameConfirm} onRenameCancel={this.onRenameCancel} />}\n          {!this.state.isRenameing && (\n            <Fragment>\n              {(!dirent.isDir() && !this.canPreview) ?\n                <a className=\"sf-link\" onClick={this.onItemClick}>{dirent.name}</a> :\n                <a href={dirent.type === 'dir' ? dirHref : fileHref} onClick={this.onItemClick}>{dirent.name}</a>\n              }\n            </Fragment>\n          )}\n        </td>\n        <td className=\"tag-list-title\">\n          {(dirent.type !== 'dir' && dirent.file_tags && dirent.file_tags.length > 0) && (\n            <div id={this.tagListTitleID} className=\"dirent-item tag-list tag-list-stacked\">\n              {dirent.file_tags.map((fileTag, index) => {\n                return (\n                  <FileTag fileTag={fileTag} length={dirent.file_tags.length} key={index} index={index}/>\n                );\n              })}\n            </div>\n          )}\n          {(dirent.type !== 'dir' && (!dirent.file_tags || dirent.file_tags.length == 0)) && (\n            <div id={this.tagListTitleID} className=\"dirent-item tag-list tag-list-stacked\"></div>\n          )}\n        </td>\n        <td className=\"operation\">{this.renderItemOperation()}</td>\n        <td className=\"file-size\">{dirent.size && dirent.size}</td>\n        <td className=\"last-update\" title={moment.unix(dirent.mtime).format('llll')}>{dirent.mtime_relative}</td>\n      </tr>\n    );\n    const mobileItem = (\n      <tr>\n        <td onClick={this.onItemClick}>\n          <div className=\"dir-icon\">\n            {(this.canPreview && dirent.encoded_thumbnail_src) ?\n              <img src={`${siteRoot}${dirent.encoded_thumbnail_src}`} className=\"thumbnail cursor-pointer\" alt=\"\" /> :\n              <img src={iconUrl} width=\"24\" alt=\"\" />\n            }\n            {dirent.is_locked && <img className=\"locked\" src={lockedImageUrl} alt={lockedMessage} title={lockedInfo}/>}\n          </div>\n        </td>\n        <td onClick={this.onItemClick}>\n          {this.state.isRenameing && <Rename hasSuffix={dirent.type !== 'dir'} name={dirent.name} onRenameConfirm={this.onRenameConfirm} onRenameCancel={this.onRenameCancel} /> }\n          {!this.state.isRenameing && (\n            <Fragment>\n              {(!dirent.isDir() && !this.canPreview) ?\n                <a className=\"sf-link\">{dirent.name}</a> :\n                <a href={dirent.type === 'dir' ? dirHref : fileHref}>{dirent.name}</a>\n              }\n            </Fragment>\n          )}\n          <br />\n          {dirent.size && <span className=\"item-meta-info\">{dirent.size}</span>}\n          <span className=\"item-meta-info\">{dirent.mtime_relative}</span>\n        </td>\n        <td>\n          <Dropdown isOpen={this.state.isOpMenuOpen} toggle={this.toggleOpMenu}>\n            <DropdownToggle\n              tag=\"i\"\n              className=\"sf-dropdown-toggle fa fa-ellipsis-v ml-0\"\n              title={gettext('More operations')}\n              aria-label={gettext('More operations')}\n              data-toggle=\"dropdown\"\n              aria-expanded={this.state.isOpMenuOpen}\n            />\n            <div className={this.state.isOpMenuOpen ? '' : 'd-none'} onClick={this.toggleOpMenu}>\n              <div className=\"mobile-operation-menu-bg-layer\"></div>\n              <div className=\"mobile-operation-menu\">\n                {dirent.starred !== undefined &&\n                <DropdownItem className=\"mobile-menu-item\" onClick={this.onItemStarred}>{dirent.starred ? gettext('Unstar') : gettext('Star')}</DropdownItem>}\n                {this.props.getDirentItemMenuList(dirent, true).map((item, index) => {\n                  if (item != 'Divider' && item.key != 'Open via Client') {\n                    return (\n                      <DropdownItem className=\"mobile-menu-item\" key={index} data-op={item.key} onClick={this.onMobileMenuItemClick}>{item.value}</DropdownItem>\n                    );\n                  } else {\n                    return null;\n                  }\n                })}\n              </div>\n            </div>\n          </Dropdown>\n        </td>\n      </tr>\n    );\n\n    return (\n      <Fragment>\n        {isDesktop ? desktopItem : mobileItem}\n        {this.state.isMoveDialogShow &&\n          <ModalPortal>\n            <MoveDirentDialog\n              path={this.props.path}\n              repoID={this.props.repoID}\n              dirent={this.props.dirent}\n              isMutipleOperation={this.state.isMutipleOperation}\n              onItemMove={this.props.onItemMove}\n              onCancelMove={this.onItemMoveToggle}\n              repoEncrypted={this.props.repoEncrypted}\n            />\n          </ModalPortal>\n        }\n        {this.state.isCopyDialogShow &&\n          <ModalPortal>\n            <CopyDirentDialog\n              path={this.props.path}\n              repoID={this.props.repoID}\n              dirent={this.props.dirent}\n              isMutipleOperation={this.state.isMutipleOperation}\n              onItemCopy={this.props.onItemCopy}\n              onCancelCopy={this.onItemCopyToggle}\n              repoEncrypted={this.props.repoEncrypted}\n            />\n          </ModalPortal>\n        }\n        <MediaQuery query=\"(min-width: 768px)\">\n          {this.state.isEditFileTagShow &&\n            <EditFileTagPopover\n              repoID={this.props.repoID}\n              repoTags={this.props.repoTags}\n              fileTagList={dirent.file_tags}\n              filePath={direntPath}\n              toggleCancel={this.onEditFileTagToggle}\n              onFileTagChanged={this.onFileTagChanged}\n              target={this.tagListTitleID}\n              isEditFileTagShow={this.state.isEditFileTagShow}\n            />\n          }\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          {this.state.isEditFileTagShow &&\n            <EditFileTagDialog\n              repoID={this.props.repoID}\n              repoTags={this.props.repoTags}\n              fileTagList={dirent.file_tags}\n              filePath={direntPath}\n              toggleCancel={this.onEditFileTagToggle}\n              onFileTagChanged={this.onFileTagChanged}\n            />\n          }\n        </MediaQuery>\n        {this.state.isZipDialogOpen &&\n          <ModalPortal>\n            <ZipDownloadDialog\n              repoID={this.props.repoID}\n              path={this.props.path}\n              target={this.props.dirent.name}\n              toggleDialog={this.closeZipDialog}\n            />\n          </ModalPortal>\n        }\n        {this.state.isShareDialogShow &&\n          <ModalPortal>\n            <ShareDialog\n              itemType={dirent.type}\n              itemName={dirent.name}\n              itemPath={direntPath}\n              userPerm={dirent.permission}\n              repoID={this.props.repoID}\n              repoEncrypted={this.props.repoEncrypted}\n              enableDirPrivateShare={this.props.enableDirPrivateShare}\n              isGroupOwnedRepo={this.props.isGroupOwnedRepo}\n              toggleDialog={this.closeSharedDialog}\n            />\n          </ModalPortal>\n        }\n        {this.state.isPermissionDialogOpen &&\n          <ModalPortal>\n            <LibSubFolderPermissionDialog\n              toggleDialog={this.onPermissionItem}\n              repoID={this.props.repoID}\n              folderPath={direntPath}\n              folderName={dirent.name}\n              isDepartmentRepo={this.props.isGroupOwnedRepo}\n            />\n          </ModalPortal>\n        }\n      </Fragment>\n    );\n  }\n}\n\nDirentListItem.propTypes = propTypes;\n\nexport default DirentListItem;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}