{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Button,Modal,ModalHeader,Input,ModalBody,ModalFooter,Form,FormGroup,Label,Alert}from'reactstrap';import{gettext}from'../../../utils/constants';import UserSelect from'../../user-select';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SysAdminCreateGroupDialog=/*#__PURE__*/function(_React$Component){_inherits(SysAdminCreateGroupDialog,_React$Component);var _super=_createSuper(SysAdminCreateGroupDialog);function SysAdminCreateGroupDialog(props){var _this;_classCallCheck(this,SysAdminCreateGroupDialog);_this=_super.call(this,props);_this.handleRepoNameChange=function(e){if(!e.target.value.trim()){_this.setState({isSubmitBtnActive:false});}else{_this.setState({isSubmitBtnActive:true});}_this.setState({groupName:e.target.value});};_this.handleSubmit=function(){var groupName=_this.state.groupName.trim();_this.props.createGroup(groupName,_this.state.ownerEmail);};_this.handleSelectChange=function(option){// option can be null\n_this.setState({ownerEmail:option?option.email:''});};_this.handleKeyDown=function(e){if(e.key==='Enter'){_this.handleSubmit();e.preventDefault();}};_this.toggle=function(){_this.props.toggleDialog();};_this.state={groupName:'',ownerEmail:'',errMessage:'',isSubmitBtnActive:false};return _this;}_createClass(SysAdminCreateGroupDialog,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Modal,{isOpen:true,toggle:this.toggle,autoFocus:false,children:[/*#__PURE__*/_jsx(ModalHeader,{toggle:this.toggle,children:gettext('New Group')}),/*#__PURE__*/_jsxs(ModalBody,{children:[/*#__PURE__*/_jsx(Form,{children:/*#__PURE__*/_jsxs(FormGroup,{children:[/*#__PURE__*/_jsx(Label,{for:\"groupName\",children:gettext('Name')}),/*#__PURE__*/_jsx(Input,{id:\"groupName\",onKeyDown:this.handleKeyDown,value:this.state.groupName,onChange:this.handleRepoNameChange,autoFocus:true}),/*#__PURE__*/_jsxs(Label,{className:\"mt-2\",children:[gettext('Owner'),/*#__PURE__*/_jsx(\"span\",{className:\"small text-secondary\",children:gettext('(If left blank, owner will be admin)')})]}),/*#__PURE__*/_jsx(UserSelect,{isMulti:false,className:\"reviewer-select\",placeholder:gettext('Select a user'),onSelectChange:this.handleSelectChange})]})}),this.state.errMessage&&/*#__PURE__*/_jsx(Alert,{color:\"danger\",children:this.state.errMessage})]}),/*#__PURE__*/_jsxs(ModalFooter,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:this.toggle,children:gettext('Cancel')}),/*#__PURE__*/_jsx(Button,{color:\"primary\",onClick:this.handleSubmit,disabled:!this.state.isSubmitBtnActive,children:gettext('Submit')})]})]});}}]);return SysAdminCreateGroupDialog;}(React.Component);export default SysAdminCreateGroupDialog;","map":{"version":3,"names":["React","Button","Modal","ModalHeader","Input","ModalBody","ModalFooter","Form","FormGroup","Label","Alert","gettext","UserSelect","jsx","_jsx","jsxs","_jsxs","SysAdminCreateGroupDialog","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleRepoNameChange","e","target","value","trim","setState","isSubmitBtnActive","groupName","handleSubmit","state","createGroup","ownerEmail","handleSelectChange","option","email","handleKeyDown","key","preventDefault","toggle","toggleDialog","errMessage","_createClass","render","isOpen","autoFocus","children","for","id","onKeyDown","onChange","className","isMulti","placeholder","onSelectChange","color","onClick","disabled","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/sysadmin-dialog/sysadmin-create-group-dialog.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Button, Modal, ModalHeader, Input, ModalBody, ModalFooter, Form, FormGroup, Label, Alert } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport UserSelect from '../../user-select';\n\n\nconst propTypes = {\n  createGroup: PropTypes.func.isRequired,\n  toggleDialog: PropTypes.func.isRequired\n};\n\nclass SysAdminCreateGroupDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      groupName: '',\n      ownerEmail: '',\n      errMessage: '',\n      isSubmitBtnActive: false\n    };\n  }\n\n  handleRepoNameChange = (e) => {\n    if (!e.target.value.trim()) {\n      this.setState({isSubmitBtnActive: false});\n    } else {\n      this.setState({isSubmitBtnActive: true});\n    }\n\n    this.setState({groupName: e.target.value});\n  };\n\n  handleSubmit = () => {\n    let groupName = this.state.groupName.trim();\n    this.props.createGroup(groupName, this.state.ownerEmail);\n  };\n\n  handleSelectChange = (option) => {\n    // option can be null\n    this.setState({\n      ownerEmail: option ? option.email : ''\n    });\n  };\n\n  handleKeyDown = (e) => {\n    if (e.key === 'Enter') {\n      this.handleSubmit();\n      e.preventDefault();\n    }\n  };\n\n  toggle = () => {\n    this.props.toggleDialog();\n  };\n\n  render() {\n    return (\n      <Modal isOpen={true} toggle={this.toggle} autoFocus={false}>\n        <ModalHeader toggle={this.toggle}>{gettext('New Group')}</ModalHeader>\n        <ModalBody>\n          <Form>\n            <FormGroup>\n              <Label for=\"groupName\">{gettext('Name')}</Label>\n              <Input\n                id=\"groupName\"\n                onKeyDown={this.handleKeyDown}\n                value={this.state.groupName}\n                onChange={this.handleRepoNameChange}\n                autoFocus={true}\n              />\n              <Label className=\"mt-2\">\n                {gettext('Owner')}\n                <span className=\"small text-secondary\">{gettext('(If left blank, owner will be admin)')}</span>\n              </Label>\n              <UserSelect\n                isMulti={false}\n                className=\"reviewer-select\"\n                placeholder={gettext('Select a user')}\n                onSelectChange={this.handleSelectChange}\n              />\n            </FormGroup>\n          </Form>\n          {this.state.errMessage && <Alert color=\"danger\">{this.state.errMessage}</Alert>}\n        </ModalBody>\n        <ModalFooter>\n          <Button color=\"secondary\" onClick={this.toggle}>{gettext('Cancel')}</Button>\n          <Button color=\"primary\" onClick={this.handleSubmit} disabled={!this.state.isSubmitBtnActive}>{gettext('Submit')}</Button>\n        </ModalFooter>\n      </Modal>\n    );\n  }\n}\n\nSysAdminCreateGroupDialog.propTypes = propTypes;\n\nexport default SysAdminCreateGroupDialog;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,MAAM,CAAEC,KAAK,CAAEC,WAAW,CAAEC,KAAK,CAAEC,SAAS,CAAEC,WAAW,CAAEC,IAAI,CAAEC,SAAS,CAAEC,KAAK,CAAEC,KAAK,KAAQ,YAAY,CACrH,OAASC,OAAO,KAAQ,0BAA0B,CAClD,MAAO,CAAAC,UAAU,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAQrC,CAAAC,yBAAyB,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,yBAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,yBAAA,EAE7B,SAAAA,0BAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,yBAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CASfG,oBAAoB,CAAG,SAACC,CAAC,CAAK,CAC5B,GAAI,CAACA,CAAC,CAACC,MAAM,CAACC,KAAK,CAACC,IAAI,CAAC,CAAC,CAAE,CAC1BP,KAAA,CAAKQ,QAAQ,CAAC,CAACC,iBAAiB,CAAE,KAAK,CAAC,CAAC,CAC3C,CAAC,IAAM,CACLT,KAAA,CAAKQ,QAAQ,CAAC,CAACC,iBAAiB,CAAE,IAAI,CAAC,CAAC,CAC1C,CAEAT,KAAA,CAAKQ,QAAQ,CAAC,CAACE,SAAS,CAAEN,CAAC,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAC5C,CAAC,CAAAN,KAAA,CAEDW,YAAY,CAAG,UAAM,CACnB,GAAI,CAAAD,SAAS,CAAGV,KAAA,CAAKY,KAAK,CAACF,SAAS,CAACH,IAAI,CAAC,CAAC,CAC3CP,KAAA,CAAKD,KAAK,CAACc,WAAW,CAACH,SAAS,CAAEV,KAAA,CAAKY,KAAK,CAACE,UAAU,CAAC,CAC1D,CAAC,CAAAd,KAAA,CAEDe,kBAAkB,CAAG,SAACC,MAAM,CAAK,CAC/B;AACAhB,KAAA,CAAKQ,QAAQ,CAAC,CACZM,UAAU,CAAEE,MAAM,CAAGA,MAAM,CAACC,KAAK,CAAG,EACtC,CAAC,CAAC,CACJ,CAAC,CAAAjB,KAAA,CAEDkB,aAAa,CAAG,SAACd,CAAC,CAAK,CACrB,GAAIA,CAAC,CAACe,GAAG,GAAK,OAAO,CAAE,CACrBnB,KAAA,CAAKW,YAAY,CAAC,CAAC,CACnBP,CAAC,CAACgB,cAAc,CAAC,CAAC,CACpB,CACF,CAAC,CAAApB,KAAA,CAEDqB,MAAM,CAAG,UAAM,CACbrB,KAAA,CAAKD,KAAK,CAACuB,YAAY,CAAC,CAAC,CAC3B,CAAC,CAvCCtB,KAAA,CAAKY,KAAK,CAAG,CACXF,SAAS,CAAE,EAAE,CACbI,UAAU,CAAE,EAAE,CACdS,UAAU,CAAE,EAAE,CACdd,iBAAiB,CAAE,KACrB,CAAC,CAAC,OAAAT,KAAA,CACJ,CAACwB,YAAA,CAAA9B,yBAAA,GAAAyB,GAAA,UAAAb,KAAA,CAmCD,SAAAmB,OAAA,CAAS,CACP,mBACEhC,KAAA,CAACd,KAAK,EAAC+C,MAAM,CAAE,IAAK,CAACL,MAAM,CAAE,IAAI,CAACA,MAAO,CAACM,SAAS,CAAE,KAAM,CAAAC,QAAA,eACzDrC,IAAA,CAACX,WAAW,EAACyC,MAAM,CAAE,IAAI,CAACA,MAAO,CAAAO,QAAA,CAAExC,OAAO,CAAC,WAAW,CAAC,CAAc,CAAC,cACtEK,KAAA,CAACX,SAAS,EAAA8C,QAAA,eACRrC,IAAA,CAACP,IAAI,EAAA4C,QAAA,cACHnC,KAAA,CAACR,SAAS,EAAA2C,QAAA,eACRrC,IAAA,CAACL,KAAK,EAAC2C,GAAG,CAAC,WAAW,CAAAD,QAAA,CAAExC,OAAO,CAAC,MAAM,CAAC,CAAQ,CAAC,cAChDG,IAAA,CAACV,KAAK,EACJiD,EAAE,CAAC,WAAW,CACdC,SAAS,CAAE,IAAI,CAACb,aAAc,CAC9BZ,KAAK,CAAE,IAAI,CAACM,KAAK,CAACF,SAAU,CAC5BsB,QAAQ,CAAE,IAAI,CAAC7B,oBAAqB,CACpCwB,SAAS,CAAE,IAAK,CACjB,CAAC,cACFlC,KAAA,CAACP,KAAK,EAAC+C,SAAS,CAAC,MAAM,CAAAL,QAAA,EACpBxC,OAAO,CAAC,OAAO,CAAC,cACjBG,IAAA,SAAM0C,SAAS,CAAC,sBAAsB,CAAAL,QAAA,CAAExC,OAAO,CAAC,sCAAsC,CAAC,CAAO,CAAC,EAC1F,CAAC,cACRG,IAAA,CAACF,UAAU,EACT6C,OAAO,CAAE,KAAM,CACfD,SAAS,CAAC,iBAAiB,CAC3BE,WAAW,CAAE/C,OAAO,CAAC,eAAe,CAAE,CACtCgD,cAAc,CAAE,IAAI,CAACrB,kBAAmB,CACzC,CAAC,EACO,CAAC,CACR,CAAC,CACN,IAAI,CAACH,KAAK,CAACW,UAAU,eAAIhC,IAAA,CAACJ,KAAK,EAACkD,KAAK,CAAC,QAAQ,CAAAT,QAAA,CAAE,IAAI,CAAChB,KAAK,CAACW,UAAU,CAAQ,CAAC,EACtE,CAAC,cACZ9B,KAAA,CAACV,WAAW,EAAA6C,QAAA,eACVrC,IAAA,CAACb,MAAM,EAAC2D,KAAK,CAAC,WAAW,CAACC,OAAO,CAAE,IAAI,CAACjB,MAAO,CAAAO,QAAA,CAAExC,OAAO,CAAC,QAAQ,CAAC,CAAS,CAAC,cAC5EG,IAAA,CAACb,MAAM,EAAC2D,KAAK,CAAC,SAAS,CAACC,OAAO,CAAE,IAAI,CAAC3B,YAAa,CAAC4B,QAAQ,CAAE,CAAC,IAAI,CAAC3B,KAAK,CAACH,iBAAkB,CAAAmB,QAAA,CAAExC,OAAO,CAAC,QAAQ,CAAC,CAAS,CAAC,EAC9G,CAAC,EACT,CAAC,CAEZ,CAAC,WAAAM,yBAAA,GAhFqCjB,KAAK,CAAC+D,SAAS,EAqFvD,cAAe,CAAA9C,yBAAyB"},"metadata":{},"sourceType":"module","externalDependencies":[]}