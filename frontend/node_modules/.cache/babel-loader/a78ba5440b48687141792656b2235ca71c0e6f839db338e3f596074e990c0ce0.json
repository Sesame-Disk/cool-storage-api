{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import ReactDom from'react-dom';import SharedFileView from'./components/shared-file-view/shared-file-view';import SharedFileViewTip from'./components/shared-file-view/shared-file-view-tip';import{gettext}from'./utils/constants';import'./css/image-file-view.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _window$shared$pageOp=window.shared.pageOptions,fileName=_window$shared$pageOp.fileName,rawPath=_window$shared$pageOp.rawPath,err=_window$shared$pageOp.err,prevImgPath=_window$shared$pageOp.prevImgPath,nextImgPath=_window$shared$pageOp.nextImgPath;var prevImgURL=\"?p=\".concat(encodeURIComponent(prevImgPath));var nextImgURL=\"?p=\".concat(encodeURIComponent(nextImgPath));var SharedFileViewImage=/*#__PURE__*/function(_React$Component){_inherits(SharedFileViewImage,_React$Component);var _super=_createSuper(SharedFileViewImage);function SharedFileViewImage(){_classCallCheck(this,SharedFileViewImage);return _super.apply(this,arguments);}_createClass(SharedFileViewImage,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(SharedFileView,{content:/*#__PURE__*/_jsx(FileContent,{})});}}]);return SharedFileViewImage;}(React.Component);var FileContent=/*#__PURE__*/function(_React$Component2){_inherits(FileContent,_React$Component2);var _super2=_createSuper(FileContent);function FileContent(){_classCallCheck(this,FileContent);return _super2.apply(this,arguments);}_createClass(FileContent,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('keydown',function(e){if(prevImgPath&&e.keyCode==37){// press '<-'\nlocation.href=prevImgURL;}if(nextImgPath&&e.keyCode==39){// press '->'\nlocation.href=nextImgURL;}});}},{key:\"render\",value:function render(){if(err){return/*#__PURE__*/_jsx(SharedFileViewTip,{});}return/*#__PURE__*/_jsx(\"div\",{className:\"shared-file-view-body d-flex text-center\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"image-file-view flex-1\",children:[prevImgPath&&/*#__PURE__*/_jsx(\"a\",{href:prevImgURL,id:\"img-prev\",title:gettext('you can also press ← '),children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-chevron-left\"})}),nextImgPath&&/*#__PURE__*/_jsx(\"a\",{href:nextImgURL,id:\"img-next\",title:gettext('you can also press →'),children:/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-chevron-right\"})}),/*#__PURE__*/_jsx(\"img\",{src:rawPath,alt:fileName,id:\"image-view\"})]})});}}]);return FileContent;}(React.Component);ReactDom.render(/*#__PURE__*/_jsx(SharedFileViewImage,{}),document.getElementById('wrapper'));","map":{"version":3,"names":["React","ReactDom","SharedFileView","SharedFileViewTip","gettext","jsx","_jsx","jsxs","_jsxs","_window$shared$pageOp","window","shared","pageOptions","fileName","rawPath","err","prevImgPath","nextImgPath","prevImgURL","concat","encodeURIComponent","nextImgURL","SharedFileViewImage","_React$Component","_inherits","_super","_createSuper","_classCallCheck","apply","arguments","_createClass","key","value","render","content","FileContent","Component","_React$Component2","_super2","componentDidMount","document","addEventListener","e","keyCode","location","href","className","children","id","title","src","alt","getElementById"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/shared-file-view-image.js"],"sourcesContent":["import React from 'react';\nimport ReactDom from 'react-dom';\nimport SharedFileView from './components/shared-file-view/shared-file-view';\nimport SharedFileViewTip from './components/shared-file-view/shared-file-view-tip';\nimport { gettext } from './utils/constants';\n\nimport './css/image-file-view.css';\n\nconst { fileName, rawPath, err, prevImgPath, nextImgPath } = window.shared.pageOptions;\n\nconst prevImgURL = `?p=${encodeURIComponent(prevImgPath)}`;\nconst nextImgURL = `?p=${encodeURIComponent(nextImgPath)}`;\n\nclass SharedFileViewImage extends React.Component {\n  render() {\n    return <SharedFileView content={<FileContent />} />;\n  }\n}\n\nclass FileContent extends React.Component {\n\n  componentDidMount() {\n    document.addEventListener('keydown', (e) => {\n      if (prevImgPath && e.keyCode == 37) { // press '<-'\n        location.href = prevImgURL;\n      }\n      if (nextImgPath && e.keyCode == 39) { // press '->'\n        location.href = nextImgURL;\n      }\n    });\n  }\n\n  render() {\n    if (err) {\n      return <SharedFileViewTip />;\n    }\n\n    return (\n      <div className=\"shared-file-view-body d-flex text-center\">\n        <div className=\"image-file-view flex-1\">\n          {prevImgPath && (\n            <a href={prevImgURL} id=\"img-prev\" title={gettext('you can also press ← ')}><span className=\"fas fa-chevron-left\"></span></a>\n          )}\n          {nextImgPath && (\n            <a href={nextImgURL} id=\"img-next\" title={gettext('you can also press →')}><span className=\"fas fa-chevron-right\"></span></a>\n          )}\n          <img src={rawPath} alt={fileName} id=\"image-view\" />\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDom.render(<SharedFileViewImage />, document.getElementById('wrapper'));\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}