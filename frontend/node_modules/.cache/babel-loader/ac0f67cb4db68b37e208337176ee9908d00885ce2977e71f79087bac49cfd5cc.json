{"ast":null,"code":"import _toConsumableArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport classnames from 'classnames';\nimport throttle from 'lodash.throttle';\nimport { useSelected, useSlateStatic, useReadOnly, ReactEditor } from '@seafile/slate-react';\nimport { Transforms, Editor } from '@seafile/slate';\nimport { EMPTY_SELECTED_RANGE } from '../constants';\nimport { ResizeHandlersContext, TableSelectedRangeContext, SettingSelectRangeContext } from './hooks';\nimport EventBus from '../../../../utils/event-bus';\nimport { INTERNAL_EVENT } from '../../../../constants';\nimport { getTableColumns, setTableSelectedRange, getFirstTableCell, getRowHeight, adjustCombinedCellRange } from '../helpers';\nimport ObjectUtils from '../../../../utils/object-utils';\nimport ResizeHandlers from './resize-handlers';\nimport { registerResizeEvents, unregisterResizeEvents } from '../../../../utils/mouse-event';\nimport TableRoot from './table-root';\nimport TableHeader from './table-header';\nimport { findPath } from '../../../core';\nimport ResizeMask from './resize-mask';\nimport DragHandlers from './drag-handlers';\nimport './index.css';\nimport './alternate-color.css';\nvar Table = function Table(_ref) {\n  var className = _ref.className,\n    attributes = _ref.attributes,\n    children = _ref.children,\n    element = _ref.element;\n  var isSelected = useSelected();\n  var editor = useSlateStatic();\n  var table = useRef(null);\n  var _useState = useState(0),\n    _useState2 = _slicedToArray(_useState, 2),\n    startRowIndex = _useState2[0],\n    setStartRowIndex = _useState2[1];\n  var _useState3 = useState(0),\n    _useState4 = _slicedToArray(_useState3, 2),\n    startColIndex = _useState4[0],\n    setStartColIndex = _useState4[1];\n  var _useState5 = useState(1),\n    _useState6 = _slicedToArray(_useState5, 2),\n    startRowSpan = _useState6[0],\n    setStartRowSpan = _useState6[1];\n  var _useState7 = useState(1),\n    _useState8 = _slicedToArray(_useState7, 2),\n    startColSpan = _useState8[0],\n    setStartColSpan = _useState8[1];\n  var _useState9 = useState(false),\n    _useState10 = _slicedToArray(_useState9, 2),\n    isSettingSelectRange = _useState10[0],\n    setIsSettingSelectRange = _useState10[1];\n  var _useState11 = useState(EMPTY_SELECTED_RANGE),\n    _useState12 = _slicedToArray(_useState11, 2),\n    selectedRange = _useState12[0],\n    setSelectedRange = _useState12[1];\n  var oldColumns = getTableColumns(editor, element);\n  var _useState13 = useState(oldColumns),\n    _useState14 = _slicedToArray(_useState13, 2),\n    columns = _useState14[0],\n    setColumns = _useState14[1];\n  var path = findPath(editor, element);\n  var _useState15 = useState({}),\n    _useState16 = _slicedToArray(_useState15, 2),\n    resizeCellMaskInfo = _useState16[0],\n    setResizeCellMaskInfo = _useState16[1];\n  var _useState17 = useState(false),\n    _useState18 = _slicedToArray(_useState17, 2),\n    isShowResizeHandlers = _useState18[0],\n    setIsShowResizeHandlers = _useState18[1];\n  var _useState19 = useState(false),\n    _useState20 = _slicedToArray(_useState19, 2),\n    isDraggingResizeHandler = _useState20[0],\n    setIsDraggingResizeHandler = _useState20[1];\n  var _useState21 = useState(false),\n    _useState22 = _slicedToArray(_useState21, 2),\n    isDragMove = _useState22[0],\n    setIsDragMove = _useState22[1];\n  var onMouseDown = useCallback(function (event) {\n    if (event.button !== 0) return; // right click not deal\n    setIsSettingSelectRange(true);\n    if (!table.current.contains(event.target)) return;\n    var tableCell = getFirstTableCell(event.target);\n    var cellData = tableCell.style.gridArea.split(' / ');\n    setStartRowIndex(Number(tableCell.getAttribute('row-index')));\n    setStartColIndex(Number(tableCell.getAttribute('cell-index')));\n    setStartRowSpan(Number(cellData[2].split(' ')[1]));\n    setStartColSpan(Number(cellData[3].split(' ')[1]));\n    setSelectedRange(EMPTY_SELECTED_RANGE);\n    setTableSelectedRange(editor, EMPTY_SELECTED_RANGE);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var resetState = useCallback(function () {\n    setIsSettingSelectRange(false);\n    setStartColIndex(0);\n    setStartRowIndex(0);\n    setStartRowSpan(1);\n    setStartColSpan(1);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var setSelectedRangeByClick = useCallback(function (range) {\n    setSelectedRange(range);\n    setTableSelectedRange(editor, range);\n    var minRowIndex = range.minRowIndex,\n      minColIndex = range.minColIndex;\n    var selection = {\n      offset: 0,\n      path: [].concat(_toConsumableArray(path), [minRowIndex, minColIndex, 0])\n    };\n    Transforms.setSelection(editor, {\n      anchor: selection,\n      focus: selection\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, path]);\n  useEffect(function () {\n    var eventBus = EventBus.getInstance();\n    var cancelTableSelectRangeSubscribe = eventBus.subscribe(INTERNAL_EVENT.CANCEL_TABLE_SELECT_RANGE, clearRange);\n    var setTableSelectRangeSubscribe = eventBus.subscribe(INTERNAL_EVENT.SET_TABLE_SELECT_RANGE, setRange);\n    return function () {\n      cancelTableSelectRangeSubscribe();\n      setTableSelectRangeSubscribe();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(function () {\n    setColumns(getTableColumns(editor, element));\n    if (isSettingSelectRange) {\n      var onMouseMove = throttle(function (event) {\n        // if event.target not in the table, clear the mouseMove event\n        if (!table.current.contains(event.target)) return;\n        var tableCell = getFirstTableCell(event.target);\n        var endRowIndex = Number(tableCell.getAttribute('row-index'));\n        var endColIndex = Number(tableCell.getAttribute('cell-index'));\n        var cellData = tableCell.style.gridArea.split(' / ');\n        var endRowSpan = Number(cellData[2].split(' ')[1]);\n        var endColSpan = Number(cellData[3].split(' ')[1]);\n        var tableSlateNode = ReactEditor.toSlateNode(editor, table.current);\n        var newSelectedRange = {\n          minRowIndex: Math.min(startRowIndex, endRowIndex),\n          maxRowIndex: startRowIndex < endRowIndex ? endRowIndex + endRowSpan - 1 : startRowIndex + startRowSpan - 1,\n          minColIndex: Math.min(startColIndex, endColIndex),\n          maxColIndex: startColIndex < endColIndex ? endColIndex + endColSpan - 1 : startColIndex + startColSpan - 1\n        };\n        newSelectedRange = adjustCombinedCellRange(tableSlateNode, newSelectedRange);\n        if (!ObjectUtils.isSameObject(selectedRange, EMPTY_SELECTED_RANGE)) {\n          event.preventDefault();\n          Editor.withoutNormalizing(editor, function () {\n            var selection = {\n              offset: 0,\n              path: [].concat(_toConsumableArray(path), [endRowIndex, endColIndex, 0])\n            };\n            Transforms.setSelection(editor, {\n              anchor: selection,\n              focus: selection\n            });\n          });\n        }\n\n        // same cell\n        if (newSelectedRange.minRowIndex === newSelectedRange.maxRowIndex && newSelectedRange.minColIndex === newSelectedRange.maxColIndex) {\n          setSelectedRange(EMPTY_SELECTED_RANGE);\n          setTableSelectedRange(editor, EMPTY_SELECTED_RANGE);\n          return;\n        }\n        setSelectedRange(newSelectedRange);\n        setTableSelectedRange(editor, newSelectedRange);\n      }, 200);\n      var onMouseUp = function onMouseUp(event) {\n        /*\n        if (!ObjectUtils.isSameObject(selectedRange, EMPTY_SELECTED_RANGE)) {\n          setTableSelectedRange(editor, selectedRange);\n        }\n        */\n        resetState();\n      };\n      registerResizeEvents({\n        'mousemove': onMouseMove,\n        'mouseup': onMouseUp\n      });\n      return function () {\n        unregisterResizeEvents({\n          'mousemove': onMouseMove,\n          'mouseup': onMouseUp\n        });\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [element, isSettingSelectRange, selectedRange, element]);\n  var setRange = useCallback(function (table, range) {\n    if (element.id !== table.id) {\n      setSelectedRange(EMPTY_SELECTED_RANGE);\n    } else {\n      setSelectedRange(range);\n    }\n    setTableSelectedRange(editor, range);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [element]);\n  var clearRange = useCallback(function () {\n    setSelectedRange(EMPTY_SELECTED_RANGE);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var tableContainerClassName = classnames('sdoc-table-container position-relative', attributes.className, className, {\n    'sdoc-table-selected': isSelected,\n    'sdoc-table-selected-range': !ObjectUtils.isSameObject(selectedRange, EMPTY_SELECTED_RANGE)\n  });\n  var handleShowResizeHandler = useCallback(function (cellInfo) {\n    setResizeCellMaskInfo(cellInfo);\n    setIsShowResizeHandlers(true);\n  }, []);\n  var hideResizeHandlers = useCallback(function () {\n    setIsShowResizeHandlers(false);\n    setIsDraggingResizeHandler(false);\n  }, []);\n  var handlerStartDragging = useCallback(function () {\n    setIsDraggingResizeHandler(true);\n  }, []);\n  var style = element.style ? _objectSpread({}, element.style) : {};\n  var columnWidthList = columns.map(function (item) {\n    return \"\".concat(item.width, \"px\");\n  });\n  style.gridTemplateColumns = columnWidthList.join(' ');\n  var rowHeightList = element.children.map(function (item, index) {\n    return getRowHeight(item, index);\n  });\n  style.gridAutoRows = rowHeightList.map(function (item) {\n    return \"minmax(\".concat(item, \"px, auto)\");\n  }).join(' ');\n  return /*#__PURE__*/React.createElement(TableSelectedRangeContext.Provider, {\n    value: selectedRange\n  }, /*#__PURE__*/React.createElement(ResizeHandlersContext.Provider, {\n    value: columns\n  }, /*#__PURE__*/React.createElement(SettingSelectRangeContext.Provider, {\n    value: isSettingSelectRange\n  }, /*#__PURE__*/React.createElement(TableRoot, {\n    columns: columns,\n    attributes: attributes\n  }, isSelected && /*#__PURE__*/React.createElement(TableHeader, {\n    editor: editor,\n    table: element,\n    setSelectedRange: setSelectedRangeByClick,\n    setIsDragMove: setIsDragMove\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames(tableContainerClassName),\n    style: style,\n    onMouseDown: onMouseDown,\n    ref: table,\n    \"data-id\": element.id\n  }, children, !isSettingSelectRange && /*#__PURE__*/React.createElement(ResizeMask, {\n    editor: editor,\n    table: element,\n    handleShowResizeHandler: handleShowResizeHandler,\n    hideResizeHandlers: hideResizeHandlers,\n    handlerStartDragging: handlerStartDragging,\n    isDraggingResizeHandler: isDraggingResizeHandler\n  }), !isSettingSelectRange && isShowResizeHandlers && /*#__PURE__*/React.createElement(ResizeHandlers, {\n    hideResizeHandlers: hideResizeHandlers,\n    element: element,\n    resizeCellMaskInfo: resizeCellMaskInfo,\n    isDraggingResizeHandler: isDraggingResizeHandler\n  }), isDragMove && /*#__PURE__*/React.createElement(DragHandlers, {\n    table: element\n  }))))));\n};\nfunction renderTable(props) {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  var readOnly = useReadOnly();\n  if (readOnly) {\n    var className = props.className,\n      attributes = props.attributes,\n      children = props.children,\n      element = props.element;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    var editor = useSlateStatic();\n    var columns = getTableColumns(editor, element);\n    var style = element.style ? _objectSpread({}, element.style) : {};\n    var columnWidthList = columns.map(function (item) {\n      return \"\".concat(item.width, \"px\");\n    });\n    style.gridTemplateColumns = columnWidthList.join(' ');\n    var rowHeightList = element.children.map(function (item, index) {\n      return getRowHeight(item, index);\n    });\n    style.gridAutoRows = rowHeightList.map(function (item) {\n      return \"minmax(\".concat(item, \"px, auto)\");\n    }).join(' ');\n    return /*#__PURE__*/React.createElement(TableRoot, {\n      columns: columns,\n      attributes: attributes\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames('sdoc-table-container', attributes.className, className),\n      \"data-id\": element.id,\n      style: style\n    }, children));\n  }\n  return /*#__PURE__*/React.createElement(Table, props);\n}\nexport default renderTable;","map":{"version":3,"names":["_objectSpread","React","useRef","useState","useEffect","useCallback","classnames","throttle","useSelected","useSlateStatic","useReadOnly","ReactEditor","Transforms","Editor","EMPTY_SELECTED_RANGE","ResizeHandlersContext","TableSelectedRangeContext","SettingSelectRangeContext","EventBus","INTERNAL_EVENT","getTableColumns","setTableSelectedRange","getFirstTableCell","getRowHeight","adjustCombinedCellRange","ObjectUtils","ResizeHandlers","registerResizeEvents","unregisterResizeEvents","TableRoot","TableHeader","findPath","ResizeMask","DragHandlers","Table","_ref","className","attributes","children","element","isSelected","editor","table","_useState","_useState2","_slicedToArray","startRowIndex","setStartRowIndex","_useState3","_useState4","startColIndex","setStartColIndex","_useState5","_useState6","startRowSpan","setStartRowSpan","_useState7","_useState8","startColSpan","setStartColSpan","_useState9","_useState10","isSettingSelectRange","setIsSettingSelectRange","_useState11","_useState12","selectedRange","setSelectedRange","oldColumns","_useState13","_useState14","columns","setColumns","path","_useState15","_useState16","resizeCellMaskInfo","setResizeCellMaskInfo","_useState17","_useState18","isShowResizeHandlers","setIsShowResizeHandlers","_useState19","_useState20","isDraggingResizeHandler","setIsDraggingResizeHandler","_useState21","_useState22","isDragMove","setIsDragMove","onMouseDown","event","button","current","contains","target","tableCell","cellData","style","gridArea","split","Number","getAttribute","resetState","setSelectedRangeByClick","range","minRowIndex","minColIndex","selection","offset","concat","_toConsumableArray","setSelection","anchor","focus","eventBus","getInstance","cancelTableSelectRangeSubscribe","subscribe","CANCEL_TABLE_SELECT_RANGE","clearRange","setTableSelectRangeSubscribe","SET_TABLE_SELECT_RANGE","setRange","onMouseMove","endRowIndex","endColIndex","endRowSpan","endColSpan","tableSlateNode","toSlateNode","newSelectedRange","Math","min","maxRowIndex","maxColIndex","isSameObject","preventDefault","withoutNormalizing","onMouseUp","id","tableContainerClassName","handleShowResizeHandler","cellInfo","hideResizeHandlers","handlerStartDragging","columnWidthList","map","item","width","gridTemplateColumns","join","rowHeightList","index","gridAutoRows","createElement","Provider","value","ref","renderTable","props","readOnly"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/table/render/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\nimport classnames from 'classnames';\nimport throttle from 'lodash.throttle';\nimport { useSelected, useSlateStatic, useReadOnly, ReactEditor } from '@seafile/slate-react';\nimport { Transforms, Editor } from '@seafile/slate';\nimport { EMPTY_SELECTED_RANGE } from '../constants';\nimport { ResizeHandlersContext, TableSelectedRangeContext, SettingSelectRangeContext } from './hooks';\nimport EventBus from '../../../../utils/event-bus';\nimport { INTERNAL_EVENT } from '../../../../constants';\nimport { getTableColumns, setTableSelectedRange, getFirstTableCell, getRowHeight, adjustCombinedCellRange } from '../helpers';\nimport ObjectUtils from '../../../../utils/object-utils';\nimport ResizeHandlers from './resize-handlers';\nimport { registerResizeEvents, unregisterResizeEvents } from '../../../../utils/mouse-event';\nimport TableRoot from './table-root';\nimport TableHeader from './table-header';\nimport { findPath } from '../../../core';\nimport ResizeMask from './resize-mask';\nimport DragHandlers from './drag-handlers';\nimport './index.css';\nimport './alternate-color.css';\nconst Table = _ref => {\n  let {\n    className,\n    attributes,\n    children,\n    element\n  } = _ref;\n  const isSelected = useSelected();\n  const editor = useSlateStatic();\n  const table = useRef(null);\n  const [startRowIndex, setStartRowIndex] = useState(0);\n  const [startColIndex, setStartColIndex] = useState(0);\n  const [startRowSpan, setStartRowSpan] = useState(1);\n  const [startColSpan, setStartColSpan] = useState(1);\n  const [isSettingSelectRange, setIsSettingSelectRange] = useState(false);\n  const [selectedRange, setSelectedRange] = useState(EMPTY_SELECTED_RANGE);\n  const oldColumns = getTableColumns(editor, element);\n  const [columns, setColumns] = useState(oldColumns);\n  const path = findPath(editor, element);\n  const [resizeCellMaskInfo, setResizeCellMaskInfo] = useState({});\n  const [isShowResizeHandlers, setIsShowResizeHandlers] = useState(false);\n  const [isDraggingResizeHandler, setIsDraggingResizeHandler] = useState(false);\n  const [isDragMove, setIsDragMove] = useState(false);\n  const onMouseDown = useCallback(event => {\n    if (event.button !== 0) return; // right click not deal\n    setIsSettingSelectRange(true);\n    if (!table.current.contains(event.target)) return;\n    const tableCell = getFirstTableCell(event.target);\n    const cellData = tableCell.style.gridArea.split(' / ');\n    setStartRowIndex(Number(tableCell.getAttribute('row-index')));\n    setStartColIndex(Number(tableCell.getAttribute('cell-index')));\n    setStartRowSpan(Number(cellData[2].split(' ')[1]));\n    setStartColSpan(Number(cellData[3].split(' ')[1]));\n    setSelectedRange(EMPTY_SELECTED_RANGE);\n    setTableSelectedRange(editor, EMPTY_SELECTED_RANGE);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const resetState = useCallback(() => {\n    setIsSettingSelectRange(false);\n    setStartColIndex(0);\n    setStartRowIndex(0);\n    setStartRowSpan(1);\n    setStartColSpan(1);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const setSelectedRangeByClick = useCallback(range => {\n    setSelectedRange(range);\n    setTableSelectedRange(editor, range);\n    const {\n      minRowIndex,\n      minColIndex\n    } = range;\n    const selection = {\n      offset: 0,\n      path: [...path, minRowIndex, minColIndex, 0]\n    };\n    Transforms.setSelection(editor, {\n      anchor: selection,\n      focus: selection\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, path]);\n  useEffect(() => {\n    const eventBus = EventBus.getInstance();\n    const cancelTableSelectRangeSubscribe = eventBus.subscribe(INTERNAL_EVENT.CANCEL_TABLE_SELECT_RANGE, clearRange);\n    const setTableSelectRangeSubscribe = eventBus.subscribe(INTERNAL_EVENT.SET_TABLE_SELECT_RANGE, setRange);\n    return () => {\n      cancelTableSelectRangeSubscribe();\n      setTableSelectRangeSubscribe();\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  useEffect(() => {\n    setColumns(getTableColumns(editor, element));\n    if (isSettingSelectRange) {\n      const onMouseMove = throttle(event => {\n        // if event.target not in the table, clear the mouseMove event\n        if (!table.current.contains(event.target)) return;\n        const tableCell = getFirstTableCell(event.target);\n        const endRowIndex = Number(tableCell.getAttribute('row-index'));\n        const endColIndex = Number(tableCell.getAttribute('cell-index'));\n        const cellData = tableCell.style.gridArea.split(' / ');\n        const endRowSpan = Number(cellData[2].split(' ')[1]);\n        const endColSpan = Number(cellData[3].split(' ')[1]);\n        const tableSlateNode = ReactEditor.toSlateNode(editor, table.current);\n        let newSelectedRange = {\n          minRowIndex: Math.min(startRowIndex, endRowIndex),\n          maxRowIndex: startRowIndex < endRowIndex ? endRowIndex + endRowSpan - 1 : startRowIndex + startRowSpan - 1,\n          minColIndex: Math.min(startColIndex, endColIndex),\n          maxColIndex: startColIndex < endColIndex ? endColIndex + endColSpan - 1 : startColIndex + startColSpan - 1\n        };\n        newSelectedRange = adjustCombinedCellRange(tableSlateNode, newSelectedRange);\n        if (!ObjectUtils.isSameObject(selectedRange, EMPTY_SELECTED_RANGE)) {\n          event.preventDefault();\n          Editor.withoutNormalizing(editor, () => {\n            const selection = {\n              offset: 0,\n              path: [...path, endRowIndex, endColIndex, 0]\n            };\n            Transforms.setSelection(editor, {\n              anchor: selection,\n              focus: selection\n            });\n          });\n        }\n\n        // same cell\n        if (newSelectedRange.minRowIndex === newSelectedRange.maxRowIndex && newSelectedRange.minColIndex === newSelectedRange.maxColIndex) {\n          setSelectedRange(EMPTY_SELECTED_RANGE);\n          setTableSelectedRange(editor, EMPTY_SELECTED_RANGE);\n          return;\n        }\n        setSelectedRange(newSelectedRange);\n        setTableSelectedRange(editor, newSelectedRange);\n      }, 200);\n      const onMouseUp = event => {\n        /*\n        if (!ObjectUtils.isSameObject(selectedRange, EMPTY_SELECTED_RANGE)) {\n          setTableSelectedRange(editor, selectedRange);\n        }\n        */\n        resetState();\n      };\n      registerResizeEvents({\n        'mousemove': onMouseMove,\n        'mouseup': onMouseUp\n      });\n      return () => {\n        unregisterResizeEvents({\n          'mousemove': onMouseMove,\n          'mouseup': onMouseUp\n        });\n      };\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [element, isSettingSelectRange, selectedRange, element]);\n  const setRange = useCallback((table, range) => {\n    if (element.id !== table.id) {\n      setSelectedRange(EMPTY_SELECTED_RANGE);\n    } else {\n      setSelectedRange(range);\n    }\n    setTableSelectedRange(editor, range);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [element]);\n  const clearRange = useCallback(() => {\n    setSelectedRange(EMPTY_SELECTED_RANGE);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const tableContainerClassName = classnames('sdoc-table-container position-relative', attributes.className, className, {\n    'sdoc-table-selected': isSelected,\n    'sdoc-table-selected-range': !ObjectUtils.isSameObject(selectedRange, EMPTY_SELECTED_RANGE)\n  });\n  const handleShowResizeHandler = useCallback(cellInfo => {\n    setResizeCellMaskInfo(cellInfo);\n    setIsShowResizeHandlers(true);\n  }, []);\n  const hideResizeHandlers = useCallback(() => {\n    setIsShowResizeHandlers(false);\n    setIsDraggingResizeHandler(false);\n  }, []);\n  const handlerStartDragging = useCallback(() => {\n    setIsDraggingResizeHandler(true);\n  }, []);\n  let style = element.style ? _objectSpread({}, element.style) : {};\n  const columnWidthList = columns.map(item => \"\".concat(item.width, \"px\"));\n  style.gridTemplateColumns = columnWidthList.join(' ');\n  const rowHeightList = element.children.map((item, index) => getRowHeight(item, index));\n  style.gridAutoRows = rowHeightList.map(item => \"minmax(\".concat(item, \"px, auto)\")).join(' ');\n  return /*#__PURE__*/React.createElement(TableSelectedRangeContext.Provider, {\n    value: selectedRange\n  }, /*#__PURE__*/React.createElement(ResizeHandlersContext.Provider, {\n    value: columns\n  }, /*#__PURE__*/React.createElement(SettingSelectRangeContext.Provider, {\n    value: isSettingSelectRange\n  }, /*#__PURE__*/React.createElement(TableRoot, {\n    columns: columns,\n    attributes: attributes\n  }, isSelected && /*#__PURE__*/React.createElement(TableHeader, {\n    editor: editor,\n    table: element,\n    setSelectedRange: setSelectedRangeByClick,\n    setIsDragMove: setIsDragMove\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: classnames(tableContainerClassName),\n    style: style,\n    onMouseDown: onMouseDown,\n    ref: table,\n    \"data-id\": element.id\n  }, children, !isSettingSelectRange && /*#__PURE__*/React.createElement(ResizeMask, {\n    editor: editor,\n    table: element,\n    handleShowResizeHandler: handleShowResizeHandler,\n    hideResizeHandlers: hideResizeHandlers,\n    handlerStartDragging: handlerStartDragging,\n    isDraggingResizeHandler: isDraggingResizeHandler\n  }), !isSettingSelectRange && isShowResizeHandlers && /*#__PURE__*/React.createElement(ResizeHandlers, {\n    hideResizeHandlers: hideResizeHandlers,\n    element: element,\n    resizeCellMaskInfo: resizeCellMaskInfo,\n    isDraggingResizeHandler: isDraggingResizeHandler\n  }), isDragMove && /*#__PURE__*/React.createElement(DragHandlers, {\n    table: element\n  }))))));\n};\nfunction renderTable(props) {\n  // eslint-disable-next-line react-hooks/rules-of-hooks\n  const readOnly = useReadOnly();\n  if (readOnly) {\n    const {\n      className,\n      attributes,\n      children,\n      element\n    } = props;\n    // eslint-disable-next-line react-hooks/rules-of-hooks\n    const editor = useSlateStatic();\n    const columns = getTableColumns(editor, element);\n    let style = element.style ? _objectSpread({}, element.style) : {};\n    const columnWidthList = columns.map(item => \"\".concat(item.width, \"px\"));\n    style.gridTemplateColumns = columnWidthList.join(' ');\n    const rowHeightList = element.children.map((item, index) => getRowHeight(item, index));\n    style.gridAutoRows = rowHeightList.map(item => \"minmax(\".concat(item, \"px, auto)\")).join(' ');\n    return /*#__PURE__*/React.createElement(TableRoot, {\n      columns: columns,\n      attributes: attributes\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: classnames('sdoc-table-container', attributes.className, className),\n      \"data-id\": element.id,\n      style: style\n    }, children));\n  }\n  return /*#__PURE__*/React.createElement(Table, props);\n}\nexport default renderTable;"],"mappings":";;AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,KAAK,IAAIC,MAAM,EAAEC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,QAAQ,OAAO;AACvE,OAAOC,UAAU,MAAM,YAAY;AACnC,OAAOC,QAAQ,MAAM,iBAAiB;AACtC,SAASC,WAAW,EAAEC,cAAc,EAAEC,WAAW,EAAEC,WAAW,QAAQ,sBAAsB;AAC5F,SAASC,UAAU,EAAEC,MAAM,QAAQ,gBAAgB;AACnD,SAASC,oBAAoB,QAAQ,cAAc;AACnD,SAASC,qBAAqB,EAAEC,yBAAyB,EAAEC,yBAAyB,QAAQ,SAAS;AACrG,OAAOC,QAAQ,MAAM,6BAA6B;AAClD,SAASC,cAAc,QAAQ,uBAAuB;AACtD,SAASC,eAAe,EAAEC,qBAAqB,EAAEC,iBAAiB,EAAEC,YAAY,EAAEC,uBAAuB,QAAQ,YAAY;AAC7H,OAAOC,WAAW,MAAM,gCAAgC;AACxD,OAAOC,cAAc,MAAM,mBAAmB;AAC9C,SAASC,oBAAoB,EAAEC,sBAAsB,QAAQ,+BAA+B;AAC5F,OAAOC,SAAS,MAAM,cAAc;AACpC,OAAOC,WAAW,MAAM,gBAAgB;AACxC,SAASC,QAAQ,QAAQ,eAAe;AACxC,OAAOC,UAAU,MAAM,eAAe;AACtC,OAAOC,YAAY,MAAM,iBAAiB;AAC1C,OAAO,aAAa;AACpB,OAAO,uBAAuB;AAC9B,IAAMC,KAAK,GAAG,SAARA,KAAKA,CAAGC,IAAI,EAAI;EACpB,IACEC,SAAS,GAIPD,IAAI,CAJNC,SAAS;IACTC,UAAU,GAGRF,IAAI,CAHNE,UAAU;IACVC,QAAQ,GAENH,IAAI,CAFNG,QAAQ;IACRC,OAAO,GACLJ,IAAI,CADNI,OAAO;EAET,IAAMC,UAAU,GAAGhC,WAAW,CAAC,CAAC;EAChC,IAAMiC,MAAM,GAAGhC,cAAc,CAAC,CAAC;EAC/B,IAAMiC,KAAK,GAAGxC,MAAM,CAAC,IAAI,CAAC;EAC1B,IAAAyC,SAAA,GAA0CxC,QAAQ,CAAC,CAAC,CAAC;IAAAyC,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA9CG,aAAa,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EACtC,IAAAI,UAAA,GAA0C7C,QAAQ,CAAC,CAAC,CAAC;IAAA8C,UAAA,GAAAJ,cAAA,CAAAG,UAAA;IAA9CE,aAAa,GAAAD,UAAA;IAAEE,gBAAgB,GAAAF,UAAA;EACtC,IAAAG,UAAA,GAAwCjD,QAAQ,CAAC,CAAC,CAAC;IAAAkD,UAAA,GAAAR,cAAA,CAAAO,UAAA;IAA5CE,YAAY,GAAAD,UAAA;IAAEE,eAAe,GAAAF,UAAA;EACpC,IAAAG,UAAA,GAAwCrD,QAAQ,CAAC,CAAC,CAAC;IAAAsD,UAAA,GAAAZ,cAAA,CAAAW,UAAA;IAA5CE,YAAY,GAAAD,UAAA;IAAEE,eAAe,GAAAF,UAAA;EACpC,IAAAG,UAAA,GAAwDzD,QAAQ,CAAC,KAAK,CAAC;IAAA0D,WAAA,GAAAhB,cAAA,CAAAe,UAAA;IAAhEE,oBAAoB,GAAAD,WAAA;IAAEE,uBAAuB,GAAAF,WAAA;EACpD,IAAAG,WAAA,GAA0C7D,QAAQ,CAACW,oBAAoB,CAAC;IAAAmD,WAAA,GAAApB,cAAA,CAAAmB,WAAA;IAAjEE,aAAa,GAAAD,WAAA;IAAEE,gBAAgB,GAAAF,WAAA;EACtC,IAAMG,UAAU,GAAGhD,eAAe,CAACqB,MAAM,EAAEF,OAAO,CAAC;EACnD,IAAA8B,WAAA,GAA8BlE,QAAQ,CAACiE,UAAU,CAAC;IAAAE,WAAA,GAAAzB,cAAA,CAAAwB,WAAA;IAA3CE,OAAO,GAAAD,WAAA;IAAEE,UAAU,GAAAF,WAAA;EAC1B,IAAMG,IAAI,GAAG1C,QAAQ,CAACU,MAAM,EAAEF,OAAO,CAAC;EACtC,IAAAmC,WAAA,GAAoDvE,QAAQ,CAAC,CAAC,CAAC,CAAC;IAAAwE,WAAA,GAAA9B,cAAA,CAAA6B,WAAA;IAAzDE,kBAAkB,GAAAD,WAAA;IAAEE,qBAAqB,GAAAF,WAAA;EAChD,IAAAG,WAAA,GAAwD3E,QAAQ,CAAC,KAAK,CAAC;IAAA4E,WAAA,GAAAlC,cAAA,CAAAiC,WAAA;IAAhEE,oBAAoB,GAAAD,WAAA;IAAEE,uBAAuB,GAAAF,WAAA;EACpD,IAAAG,WAAA,GAA8D/E,QAAQ,CAAC,KAAK,CAAC;IAAAgF,WAAA,GAAAtC,cAAA,CAAAqC,WAAA;IAAtEE,uBAAuB,GAAAD,WAAA;IAAEE,0BAA0B,GAAAF,WAAA;EAC1D,IAAAG,WAAA,GAAoCnF,QAAQ,CAAC,KAAK,CAAC;IAAAoF,WAAA,GAAA1C,cAAA,CAAAyC,WAAA;IAA5CE,UAAU,GAAAD,WAAA;IAAEE,aAAa,GAAAF,WAAA;EAChC,IAAMG,WAAW,GAAGrF,WAAW,CAAC,UAAAsF,KAAK,EAAI;IACvC,IAAIA,KAAK,CAACC,MAAM,KAAK,CAAC,EAAE,OAAO,CAAC;IAChC7B,uBAAuB,CAAC,IAAI,CAAC;IAC7B,IAAI,CAACrB,KAAK,CAACmD,OAAO,CAACC,QAAQ,CAACH,KAAK,CAACI,MAAM,CAAC,EAAE;IAC3C,IAAMC,SAAS,GAAG1E,iBAAiB,CAACqE,KAAK,CAACI,MAAM,CAAC;IACjD,IAAME,QAAQ,GAAGD,SAAS,CAACE,KAAK,CAACC,QAAQ,CAACC,KAAK,CAAC,KAAK,CAAC;IACtDrD,gBAAgB,CAACsD,MAAM,CAACL,SAAS,CAACM,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC;IAC7DnD,gBAAgB,CAACkD,MAAM,CAACL,SAAS,CAACM,YAAY,CAAC,YAAY,CAAC,CAAC,CAAC;IAC9D/C,eAAe,CAAC8C,MAAM,CAACJ,QAAQ,CAAC,CAAC,CAAC,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClDzC,eAAe,CAAC0C,MAAM,CAACJ,QAAQ,CAAC,CAAC,CAAC,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClDjC,gBAAgB,CAACrD,oBAAoB,CAAC;IACtCO,qBAAqB,CAACoB,MAAM,EAAE3B,oBAAoB,CAAC;;IAEnD;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAMyF,UAAU,GAAGlG,WAAW,CAAC,YAAM;IACnC0D,uBAAuB,CAAC,KAAK,CAAC;IAC9BZ,gBAAgB,CAAC,CAAC,CAAC;IACnBJ,gBAAgB,CAAC,CAAC,CAAC;IACnBQ,eAAe,CAAC,CAAC,CAAC;IAClBI,eAAe,CAAC,CAAC,CAAC;;IAElB;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAM6C,uBAAuB,GAAGnG,WAAW,CAAC,UAAAoG,KAAK,EAAI;IACnDtC,gBAAgB,CAACsC,KAAK,CAAC;IACvBpF,qBAAqB,CAACoB,MAAM,EAAEgE,KAAK,CAAC;IACpC,IACEC,WAAW,GAETD,KAAK,CAFPC,WAAW;MACXC,WAAW,GACTF,KAAK,CADPE,WAAW;IAEb,IAAMC,SAAS,GAAG;MAChBC,MAAM,EAAE,CAAC;MACTpC,IAAI,KAAAqC,MAAA,CAAAC,kBAAA,CAAMtC,IAAI,IAAEiC,WAAW,EAAEC,WAAW,EAAE,CAAC;IAC7C,CAAC;IACD/F,UAAU,CAACoG,YAAY,CAACvE,MAAM,EAAE;MAC9BwE,MAAM,EAAEL,SAAS;MACjBM,KAAK,EAAEN;IACT,CAAC,CAAC;IACF;EACF,CAAC,EAAE,CAACnE,MAAM,EAAEgC,IAAI,CAAC,CAAC;EAClBrE,SAAS,CAAC,YAAM;IACd,IAAM+G,QAAQ,GAAGjG,QAAQ,CAACkG,WAAW,CAAC,CAAC;IACvC,IAAMC,+BAA+B,GAAGF,QAAQ,CAACG,SAAS,CAACnG,cAAc,CAACoG,yBAAyB,EAAEC,UAAU,CAAC;IAChH,IAAMC,4BAA4B,GAAGN,QAAQ,CAACG,SAAS,CAACnG,cAAc,CAACuG,sBAAsB,EAAEC,QAAQ,CAAC;IACxG,OAAO,YAAM;MACXN,+BAA+B,CAAC,CAAC;MACjCI,4BAA4B,CAAC,CAAC;IAChC,CAAC;IACD;EACF,CAAC,EAAE,EAAE,CAAC;EACNrH,SAAS,CAAC,YAAM;IACdoE,UAAU,CAACpD,eAAe,CAACqB,MAAM,EAAEF,OAAO,CAAC,CAAC;IAC5C,IAAIuB,oBAAoB,EAAE;MACxB,IAAM8D,WAAW,GAAGrH,QAAQ,CAAC,UAAAoF,KAAK,EAAI;QACpC;QACA,IAAI,CAACjD,KAAK,CAACmD,OAAO,CAACC,QAAQ,CAACH,KAAK,CAACI,MAAM,CAAC,EAAE;QAC3C,IAAMC,SAAS,GAAG1E,iBAAiB,CAACqE,KAAK,CAACI,MAAM,CAAC;QACjD,IAAM8B,WAAW,GAAGxB,MAAM,CAACL,SAAS,CAACM,YAAY,CAAC,WAAW,CAAC,CAAC;QAC/D,IAAMwB,WAAW,GAAGzB,MAAM,CAACL,SAAS,CAACM,YAAY,CAAC,YAAY,CAAC,CAAC;QAChE,IAAML,QAAQ,GAAGD,SAAS,CAACE,KAAK,CAACC,QAAQ,CAACC,KAAK,CAAC,KAAK,CAAC;QACtD,IAAM2B,UAAU,GAAG1B,MAAM,CAACJ,QAAQ,CAAC,CAAC,CAAC,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,IAAM4B,UAAU,GAAG3B,MAAM,CAACJ,QAAQ,CAAC,CAAC,CAAC,CAACG,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;QACpD,IAAM6B,cAAc,GAAGtH,WAAW,CAACuH,WAAW,CAACzF,MAAM,EAAEC,KAAK,CAACmD,OAAO,CAAC;QACrE,IAAIsC,gBAAgB,GAAG;UACrBzB,WAAW,EAAE0B,IAAI,CAACC,GAAG,CAACvF,aAAa,EAAE+E,WAAW,CAAC;UACjDS,WAAW,EAAExF,aAAa,GAAG+E,WAAW,GAAGA,WAAW,GAAGE,UAAU,GAAG,CAAC,GAAGjF,aAAa,GAAGQ,YAAY,GAAG,CAAC;UAC1GqD,WAAW,EAAEyB,IAAI,CAACC,GAAG,CAACnF,aAAa,EAAE4E,WAAW,CAAC;UACjDS,WAAW,EAAErF,aAAa,GAAG4E,WAAW,GAAGA,WAAW,GAAGE,UAAU,GAAG,CAAC,GAAG9E,aAAa,GAAGQ,YAAY,GAAG;QAC3G,CAAC;QACDyE,gBAAgB,GAAG3G,uBAAuB,CAACyG,cAAc,EAAEE,gBAAgB,CAAC;QAC5E,IAAI,CAAC1G,WAAW,CAAC+G,YAAY,CAACtE,aAAa,EAAEpD,oBAAoB,CAAC,EAAE;UAClE6E,KAAK,CAAC8C,cAAc,CAAC,CAAC;UACtB5H,MAAM,CAAC6H,kBAAkB,CAACjG,MAAM,EAAE,YAAM;YACtC,IAAMmE,SAAS,GAAG;cAChBC,MAAM,EAAE,CAAC;cACTpC,IAAI,KAAAqC,MAAA,CAAAC,kBAAA,CAAMtC,IAAI,IAAEoD,WAAW,EAAEC,WAAW,EAAE,CAAC;YAC7C,CAAC;YACDlH,UAAU,CAACoG,YAAY,CAACvE,MAAM,EAAE;cAC9BwE,MAAM,EAAEL,SAAS;cACjBM,KAAK,EAAEN;YACT,CAAC,CAAC;UACJ,CAAC,CAAC;QACJ;;QAEA;QACA,IAAIuB,gBAAgB,CAACzB,WAAW,KAAKyB,gBAAgB,CAACG,WAAW,IAAIH,gBAAgB,CAACxB,WAAW,KAAKwB,gBAAgB,CAACI,WAAW,EAAE;UAClIpE,gBAAgB,CAACrD,oBAAoB,CAAC;UACtCO,qBAAqB,CAACoB,MAAM,EAAE3B,oBAAoB,CAAC;UACnD;QACF;QACAqD,gBAAgB,CAACgE,gBAAgB,CAAC;QAClC9G,qBAAqB,CAACoB,MAAM,EAAE0F,gBAAgB,CAAC;MACjD,CAAC,EAAE,GAAG,CAAC;MACP,IAAMQ,SAAS,GAAG,SAAZA,SAASA,CAAGhD,KAAK,EAAI;QACzB;AACR;AACA;AACA;AACA;QACQY,UAAU,CAAC,CAAC;MACd,CAAC;MACD5E,oBAAoB,CAAC;QACnB,WAAW,EAAEiG,WAAW;QACxB,SAAS,EAAEe;MACb,CAAC,CAAC;MACF,OAAO,YAAM;QACX/G,sBAAsB,CAAC;UACrB,WAAW,EAAEgG,WAAW;UACxB,SAAS,EAAEe;QACb,CAAC,CAAC;MACJ,CAAC;IACH;IACA;EACF,CAAC,EAAE,CAACpG,OAAO,EAAEuB,oBAAoB,EAAEI,aAAa,EAAE3B,OAAO,CAAC,CAAC;EAC3D,IAAMoF,QAAQ,GAAGtH,WAAW,CAAC,UAACqC,KAAK,EAAE+D,KAAK,EAAK;IAC7C,IAAIlE,OAAO,CAACqG,EAAE,KAAKlG,KAAK,CAACkG,EAAE,EAAE;MAC3BzE,gBAAgB,CAACrD,oBAAoB,CAAC;IACxC,CAAC,MAAM;MACLqD,gBAAgB,CAACsC,KAAK,CAAC;IACzB;IACApF,qBAAqB,CAACoB,MAAM,EAAEgE,KAAK,CAAC;;IAEpC;EACF,CAAC,EAAE,CAAClE,OAAO,CAAC,CAAC;EACb,IAAMiF,UAAU,GAAGnH,WAAW,CAAC,YAAM;IACnC8D,gBAAgB,CAACrD,oBAAoB,CAAC;;IAEtC;EACF,CAAC,EAAE,EAAE,CAAC;EACN,IAAM+H,uBAAuB,GAAGvI,UAAU,CAAC,wCAAwC,EAAE+B,UAAU,CAACD,SAAS,EAAEA,SAAS,EAAE;IACpH,qBAAqB,EAAEI,UAAU;IACjC,2BAA2B,EAAE,CAACf,WAAW,CAAC+G,YAAY,CAACtE,aAAa,EAAEpD,oBAAoB;EAC5F,CAAC,CAAC;EACF,IAAMgI,uBAAuB,GAAGzI,WAAW,CAAC,UAAA0I,QAAQ,EAAI;IACtDlE,qBAAqB,CAACkE,QAAQ,CAAC;IAC/B9D,uBAAuB,CAAC,IAAI,CAAC;EAC/B,CAAC,EAAE,EAAE,CAAC;EACN,IAAM+D,kBAAkB,GAAG3I,WAAW,CAAC,YAAM;IAC3C4E,uBAAuB,CAAC,KAAK,CAAC;IAC9BI,0BAA0B,CAAC,KAAK,CAAC;EACnC,CAAC,EAAE,EAAE,CAAC;EACN,IAAM4D,oBAAoB,GAAG5I,WAAW,CAAC,YAAM;IAC7CgF,0BAA0B,CAAC,IAAI,CAAC;EAClC,CAAC,EAAE,EAAE,CAAC;EACN,IAAIa,KAAK,GAAG3D,OAAO,CAAC2D,KAAK,GAAGlG,aAAa,CAAC,CAAC,CAAC,EAAEuC,OAAO,CAAC2D,KAAK,CAAC,GAAG,CAAC,CAAC;EACjE,IAAMgD,eAAe,GAAG3E,OAAO,CAAC4E,GAAG,CAAC,UAAAC,IAAI;IAAA,OAAI,EAAE,CAACtC,MAAM,CAACsC,IAAI,CAACC,KAAK,EAAE,IAAI,CAAC;EAAA,EAAC;EACxEnD,KAAK,CAACoD,mBAAmB,GAAGJ,eAAe,CAACK,IAAI,CAAC,GAAG,CAAC;EACrD,IAAMC,aAAa,GAAGjH,OAAO,CAACD,QAAQ,CAAC6G,GAAG,CAAC,UAACC,IAAI,EAAEK,KAAK;IAAA,OAAKlI,YAAY,CAAC6H,IAAI,EAAEK,KAAK,CAAC;EAAA,EAAC;EACtFvD,KAAK,CAACwD,YAAY,GAAGF,aAAa,CAACL,GAAG,CAAC,UAAAC,IAAI;IAAA,OAAI,SAAS,CAACtC,MAAM,CAACsC,IAAI,EAAE,WAAW,CAAC;EAAA,EAAC,CAACG,IAAI,CAAC,GAAG,CAAC;EAC7F,OAAO,aAAatJ,KAAK,CAAC0J,aAAa,CAAC3I,yBAAyB,CAAC4I,QAAQ,EAAE;IAC1EC,KAAK,EAAE3F;EACT,CAAC,EAAE,aAAajE,KAAK,CAAC0J,aAAa,CAAC5I,qBAAqB,CAAC6I,QAAQ,EAAE;IAClEC,KAAK,EAAEtF;EACT,CAAC,EAAE,aAAatE,KAAK,CAAC0J,aAAa,CAAC1I,yBAAyB,CAAC2I,QAAQ,EAAE;IACtEC,KAAK,EAAE/F;EACT,CAAC,EAAE,aAAa7D,KAAK,CAAC0J,aAAa,CAAC9H,SAAS,EAAE;IAC7C0C,OAAO,EAAEA,OAAO;IAChBlC,UAAU,EAAEA;EACd,CAAC,EAAEG,UAAU,IAAI,aAAavC,KAAK,CAAC0J,aAAa,CAAC7H,WAAW,EAAE;IAC7DW,MAAM,EAAEA,MAAM;IACdC,KAAK,EAAEH,OAAO;IACd4B,gBAAgB,EAAEqC,uBAAuB;IACzCf,aAAa,EAAEA;EACjB,CAAC,CAAC,EAAE,aAAaxF,KAAK,CAAC0J,aAAa,CAAC,KAAK,EAAE;IAC1CvH,SAAS,EAAE9B,UAAU,CAACuI,uBAAuB,CAAC;IAC9C3C,KAAK,EAAEA,KAAK;IACZR,WAAW,EAAEA,WAAW;IACxBoE,GAAG,EAAEpH,KAAK;IACV,SAAS,EAAEH,OAAO,CAACqG;EACrB,CAAC,EAAEtG,QAAQ,EAAE,CAACwB,oBAAoB,IAAI,aAAa7D,KAAK,CAAC0J,aAAa,CAAC3H,UAAU,EAAE;IACjFS,MAAM,EAAEA,MAAM;IACdC,KAAK,EAAEH,OAAO;IACduG,uBAAuB,EAAEA,uBAAuB;IAChDE,kBAAkB,EAAEA,kBAAkB;IACtCC,oBAAoB,EAAEA,oBAAoB;IAC1C7D,uBAAuB,EAAEA;EAC3B,CAAC,CAAC,EAAE,CAACtB,oBAAoB,IAAIkB,oBAAoB,IAAI,aAAa/E,KAAK,CAAC0J,aAAa,CAACjI,cAAc,EAAE;IACpGsH,kBAAkB,EAAEA,kBAAkB;IACtCzG,OAAO,EAAEA,OAAO;IAChBqC,kBAAkB,EAAEA,kBAAkB;IACtCQ,uBAAuB,EAAEA;EAC3B,CAAC,CAAC,EAAEI,UAAU,IAAI,aAAavF,KAAK,CAAC0J,aAAa,CAAC1H,YAAY,EAAE;IAC/DS,KAAK,EAAEH;EACT,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACT,CAAC;AACD,SAASwH,WAAWA,CAACC,KAAK,EAAE;EAC1B;EACA,IAAMC,QAAQ,GAAGvJ,WAAW,CAAC,CAAC;EAC9B,IAAIuJ,QAAQ,EAAE;IACZ,IACE7H,SAAS,GAIP4H,KAAK,CAJP5H,SAAS;MACTC,UAAU,GAGR2H,KAAK,CAHP3H,UAAU;MACVC,QAAQ,GAEN0H,KAAK,CAFP1H,QAAQ;MACRC,OAAO,GACLyH,KAAK,CADPzH,OAAO;IAET;IACA,IAAME,MAAM,GAAGhC,cAAc,CAAC,CAAC;IAC/B,IAAM8D,OAAO,GAAGnD,eAAe,CAACqB,MAAM,EAAEF,OAAO,CAAC;IAChD,IAAI2D,KAAK,GAAG3D,OAAO,CAAC2D,KAAK,GAAGlG,aAAa,CAAC,CAAC,CAAC,EAAEuC,OAAO,CAAC2D,KAAK,CAAC,GAAG,CAAC,CAAC;IACjE,IAAMgD,eAAe,GAAG3E,OAAO,CAAC4E,GAAG,CAAC,UAAAC,IAAI;MAAA,OAAI,EAAE,CAACtC,MAAM,CAACsC,IAAI,CAACC,KAAK,EAAE,IAAI,CAAC;IAAA,EAAC;IACxEnD,KAAK,CAACoD,mBAAmB,GAAGJ,eAAe,CAACK,IAAI,CAAC,GAAG,CAAC;IACrD,IAAMC,aAAa,GAAGjH,OAAO,CAACD,QAAQ,CAAC6G,GAAG,CAAC,UAACC,IAAI,EAAEK,KAAK;MAAA,OAAKlI,YAAY,CAAC6H,IAAI,EAAEK,KAAK,CAAC;IAAA,EAAC;IACtFvD,KAAK,CAACwD,YAAY,GAAGF,aAAa,CAACL,GAAG,CAAC,UAAAC,IAAI;MAAA,OAAI,SAAS,CAACtC,MAAM,CAACsC,IAAI,EAAE,WAAW,CAAC;IAAA,EAAC,CAACG,IAAI,CAAC,GAAG,CAAC;IAC7F,OAAO,aAAatJ,KAAK,CAAC0J,aAAa,CAAC9H,SAAS,EAAE;MACjD0C,OAAO,EAAEA,OAAO;MAChBlC,UAAU,EAAEA;IACd,CAAC,EAAE,aAAapC,KAAK,CAAC0J,aAAa,CAAC,KAAK,EAAE;MACzCvH,SAAS,EAAE9B,UAAU,CAAC,sBAAsB,EAAE+B,UAAU,CAACD,SAAS,EAAEA,SAAS,CAAC;MAC9E,SAAS,EAAEG,OAAO,CAACqG,EAAE;MACrB1C,KAAK,EAAEA;IACT,CAAC,EAAE5D,QAAQ,CAAC,CAAC;EACf;EACA,OAAO,aAAarC,KAAK,CAAC0J,aAAa,CAACzH,KAAK,EAAE8H,KAAK,CAAC;AACvD;AACA,eAAeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}