{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizeNestedList = void 0;\nvar _slate = require(\"slate\");\nvar _core = require(\"../../../core\");\nvar _elementTypes = require(\"../../../constants/element-types\");\nvar normalizeNestedList = function normalizeNestedList(editor) {\n  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    nestedListItem = _ref.nestedListItem;\n  var _nestedListItem = _slicedToArray(nestedListItem, 2),\n    path = _nestedListItem[1];\n  var parentNodeEntry = _slate.Editor.parent(editor, path);\n  var hasParentList = parentNodeEntry && (0, _core.match)(parentNodeEntry[0], [], {\n    type: [_elementTypes.ORDERED_LIST, _elementTypes.UNORDERED_LIST]\n  });\n  if (!hasParentList) return false;\n  var previousListItemPath = null;\n  try {\n    previousListItemPath = _slate.Path.previous(path);\n  } catch (e) {\n    return false;\n  }\n  var previousSiblingItem = _slate.Editor.node(editor, previousListItemPath);\n  if (previousSiblingItem) {\n    var _previousSiblingItem = _slicedToArray(previousSiblingItem, 2),\n      previousPath = _previousSiblingItem[1];\n    var newPath = previousPath.concat([1]);\n    _slate.Transforms.moveNodes(editor, {\n      at: path,\n      to: newPath\n    });\n    return true;\n  }\n  return false;\n};\nexports.normalizeNestedList = normalizeNestedList;","map":{"version":3,"names":["_slicedToArray","require","default","Object","defineProperty","exports","value","normalizeNestedList","_slate","_core","_elementTypes","editor","_ref","arguments","length","undefined","nestedListItem","_nestedListItem","path","parentNodeEntry","Editor","parent","hasParentList","match","type","ORDERED_LIST","UNORDERED_LIST","previousListItemPath","Path","previous","e","previousSiblingItem","node","_previousSiblingItem","previousPath","newPath","concat","Transforms","moveNodes","at","to"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/list/transforms/normalize-nested-list.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.normalizeNestedList = void 0;\nvar _slate = require(\"slate\");\nvar _core = require(\"../../../core\");\nvar _elementTypes = require(\"../../../constants/element-types\");\nconst normalizeNestedList = function (editor) {\n  let {\n    nestedListItem\n  } = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  const [, path] = nestedListItem;\n  const parentNodeEntry = _slate.Editor.parent(editor, path);\n  const hasParentList = parentNodeEntry && (0, _core.match)(parentNodeEntry[0], [], {\n    type: [_elementTypes.ORDERED_LIST, _elementTypes.UNORDERED_LIST]\n  });\n  if (!hasParentList) return false;\n  let previousListItemPath = null;\n  try {\n    previousListItemPath = _slate.Path.previous(path);\n  } catch (e) {\n    return false;\n  }\n  const previousSiblingItem = _slate.Editor.node(editor, previousListItemPath);\n  if (previousSiblingItem) {\n    const [, previousPath] = previousSiblingItem;\n    const newPath = previousPath.concat([1]);\n    _slate.Transforms.moveNodes(editor, {\n      at: path,\n      to: newPath\n    });\n    return true;\n  }\n  return false;\n};\nexports.normalizeNestedList = normalizeNestedList;"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,cAAA,GAAAC,OAAA,0HAAAC,OAAA;AAEbC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,mBAAmB,GAAG,KAAK,CAAC;AACpC,IAAIC,MAAM,GAAGP,OAAO,CAAC,OAAO,CAAC;AAC7B,IAAIQ,KAAK,GAAGR,OAAO,CAAC,eAAe,CAAC;AACpC,IAAIS,aAAa,GAAGT,OAAO,CAAC,kCAAkC,CAAC;AAC/D,IAAMM,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAaI,MAAM,EAAE;EAC5C,IAAAC,IAAA,GAEIC,SAAS,CAACC,MAAM,GAAG,CAAC,IAAID,SAAS,CAAC,CAAC,CAAC,KAAKE,SAAS,GAAGF,SAAS,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;IADxEG,cAAc,GAAAJ,IAAA,CAAdI,cAAc;EAEhB,IAAAC,eAAA,GAAAjB,cAAA,CAAiBgB,cAAc;IAAtBE,IAAI,GAAAD,eAAA;EACb,IAAME,eAAe,GAAGX,MAAM,CAACY,MAAM,CAACC,MAAM,CAACV,MAAM,EAAEO,IAAI,CAAC;EAC1D,IAAMI,aAAa,GAAGH,eAAe,IAAI,CAAC,CAAC,EAAEV,KAAK,CAACc,KAAK,EAAEJ,eAAe,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE;IAChFK,IAAI,EAAE,CAACd,aAAa,CAACe,YAAY,EAAEf,aAAa,CAACgB,cAAc;EACjE,CAAC,CAAC;EACF,IAAI,CAACJ,aAAa,EAAE,OAAO,KAAK;EAChC,IAAIK,oBAAoB,GAAG,IAAI;EAC/B,IAAI;IACFA,oBAAoB,GAAGnB,MAAM,CAACoB,IAAI,CAACC,QAAQ,CAACX,IAAI,CAAC;EACnD,CAAC,CAAC,OAAOY,CAAC,EAAE;IACV,OAAO,KAAK;EACd;EACA,IAAMC,mBAAmB,GAAGvB,MAAM,CAACY,MAAM,CAACY,IAAI,CAACrB,MAAM,EAAEgB,oBAAoB,CAAC;EAC5E,IAAII,mBAAmB,EAAE;IACvB,IAAAE,oBAAA,GAAAjC,cAAA,CAAyB+B,mBAAmB;MAAnCG,YAAY,GAAAD,oBAAA;IACrB,IAAME,OAAO,GAAGD,YAAY,CAACE,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;IACxC5B,MAAM,CAAC6B,UAAU,CAACC,SAAS,CAAC3B,MAAM,EAAE;MAClC4B,EAAE,EAAErB,IAAI;MACRsB,EAAE,EAAEL;IACN,CAAC,CAAC;IACF,OAAO,IAAI;EACb;EACA,OAAO,KAAK;AACd,CAAC;AACD9B,OAAO,CAACE,mBAAmB,GAAGA,mBAAmB"},"metadata":{},"sourceType":"script","externalDependencies":[]}