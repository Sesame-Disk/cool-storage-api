{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Dropdown,DropdownToggle,DropdownMenu,DropdownItem}from'reactstrap';import{gettext,siteRoot,orgID,username}from'../../utils/constants';import{seafileAPI}from'../../utils/seafile-api';import{Utils}from'../../utils/utils';import toaster from'../../components/toast';import Selector from'../../components/single-selector';import CommonOperationConfirmationDialog from'../../components/dialog/common-operation-confirmation-dialog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UserItem=/*#__PURE__*/function(_React$Component){_inherits(UserItem,_React$Component);var _super=_createSuper(UserItem);function UserItem(props){var _this;_classCallCheck(this,UserItem);_this=_super.call(this,props);_this.onMouseEnter=function(){if(!_this.props.isItemFreezed){_this.setState({showMenu:true,highlight:true});}};_this.onMouseLeave=function(){if(!_this.props.isItemFreezed){_this.setState({showMenu:false,highlight:false});}};_this.toggleDelete=function(){var email=_this.props.user.email;var username=_this.props.user.name;_this.props.toggleDelete(email,username);};_this.toggleResetPW=function(){var _this$props$user=_this.props.user,email=_this$props$user.email,name=_this$props$user.name;toaster.success(gettext('Resetting user\\'s password, please wait for a moment.'));seafileAPI.orgAdminResetOrgUserPassword(orgID,email).then(function(res){var msg;msg=gettext('Successfully reset password to %(passwd)s for user %(user)s.');msg=msg.replace('%(passwd)s',res.data.new_password);msg=msg.replace('%(user)s',name);toaster.success(msg,{duration:15});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this.toggleRevokeAdmin=function(){var email=_this.props.user.email;_this.props.toggleRevokeAdmin(email);};_this.changeStatus=function(statusOption){var isActive=statusOption.value=='active';if(isActive){toaster.notify(gettext('It may take some time, please wait.'));}_this.props.changeStatus(_this.props.user.email,isActive);};_this.setUserInactive=function(){var isActive=false;_this.props.changeStatus(_this.props.user.email,isActive);};_this.onDropdownToggleClick=function(e){e.preventDefault();_this.toggleOperationMenu(e);};_this.toggleOperationMenu=function(e){e.stopPropagation();_this.setState({isItemMenuShow:!_this.state.isItemMenuShow},function(){if(_this.state.isItemMenuShow){_this.props.onFreezedItem();}else{_this.setState({highlight:false,showMenu:false});_this.props.onUnfreezedItem();}});};_this.getQuotaTotal=function(data){switch(data){case-1:// failed to fetch quota\nreturn gettext('Failed');case-2:return'--';default:// data > 0\nreturn Utils.formatSize({bytes:data});}};_this.translateStatus=function(status){switch(status){case'active':return gettext('Active');case'inactive':return gettext('Inactive');}};_this.toggleConfirmInactiveDialog=function(){_this.setState({isConfirmInactiveDialogOpen:!_this.state.isConfirmInactiveDialogOpen});};_this.state={highlight:false,showMenu:false,isItemMenuShow:false};return _this;}_createClass(UserItem,[{key:\"render\",value:function render(){var _this2=this;var _this$state=this.state,highlight=_this$state.highlight,isConfirmInactiveDialogOpen=_this$state.isConfirmInactiveDialogOpen;var _this$props=this.props,user=_this$props.user,currentTab=_this$props.currentTab;var href=siteRoot+'org/useradmin/info/'+encodeURIComponent(user.email)+'/';var isOperationMenuShow=user.email!==username&&this.state.showMenu;// for 'user status'\nvar curStatus=user.is_active?'active':'inactive';this.statusOptions=['active','inactive'].map(function(item){return{value:item,text:_this2.translateStatus(item),isSelected:item==curStatus};});var currentSelectedStatusOption=this.statusOptions.filter(function(item){return item.isSelected;})[0];var itemName='<span class=\"op-target\">'+Utils.HTMLescape(user.name)+'</span>';var confirmSetUserInactiveMsg=gettext('Are you sure you want to set {user_placeholder} inactive?').replace('{user_placeholder}',itemName);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:href,children:user.name})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Selector,{isDropdownToggleShown:highlight,currentSelectedOption:currentSelectedStatusOption,options:this.statusOptions,selectOption:this.changeStatus,toggleItemFreezed:this.props.toggleItemFreezed,operationBeforeSelect:user.is_active?this.toggleConfirmInactiveDialog:undefined})}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(Utils.formatSize({bytes:user.quota_usage}),\" / \").concat(this.getQuotaTotal(user.quota_total))}),/*#__PURE__*/_jsxs(\"td\",{children:[user.ctime,\" /\",/*#__PURE__*/_jsx(\"br\",{}),user.last_login?user.last_login:'--']}),/*#__PURE__*/_jsx(\"td\",{className:\"text-center cursor-pointer\",children:isOperationMenuShow&&/*#__PURE__*/_jsxs(Dropdown,{isOpen:this.state.isItemMenuShow,toggle:this.toggleOperationMenu,children:[/*#__PURE__*/_jsx(DropdownToggle,{tag:\"a\",className:\"attr-action-icon fas fa-ellipsis-v\",title:gettext('More operations'),\"aria-label\":gettext('More operations'),\"data-toggle\":\"dropdown\",\"aria-expanded\":this.state.isItemMenuShow,onClick:this.onDropdownToggleClick}),/*#__PURE__*/_jsxs(DropdownMenu,{children:[/*#__PURE__*/_jsx(DropdownItem,{onClick:this.toggleDelete,children:gettext('Delete')}),/*#__PURE__*/_jsx(DropdownItem,{onClick:this.toggleResetPW,children:gettext('ResetPwd')}),currentTab=='admins'&&/*#__PURE__*/_jsx(DropdownItem,{onClick:this.toggleRevokeAdmin,children:gettext('Revoke Admin')})]})]})})]}),isConfirmInactiveDialogOpen&&/*#__PURE__*/_jsx(CommonOperationConfirmationDialog,{title:gettext('Set user inactive'),message:confirmSetUserInactiveMsg,executeOperation:this.setUserInactive,confirmBtnText:gettext('Set'),toggleDialog:this.toggleConfirmInactiveDialog})]});}}]);return UserItem;}(React.Component);export default UserItem;","map":{"version":3,"names":["React","Dropdown","DropdownToggle","DropdownMenu","DropdownItem","gettext","siteRoot","orgID","username","seafileAPI","Utils","toaster","Selector","CommonOperationConfirmationDialog","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserItem","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onMouseEnter","isItemFreezed","setState","showMenu","highlight","onMouseLeave","toggleDelete","email","user","name","toggleResetPW","_this$props$user","success","orgAdminResetOrgUserPassword","then","res","msg","replace","data","new_password","duration","catch","error","errMessage","getErrorMsg","danger","toggleRevokeAdmin","changeStatus","statusOption","isActive","value","notify","setUserInactive","onDropdownToggleClick","e","preventDefault","toggleOperationMenu","stopPropagation","isItemMenuShow","state","onFreezedItem","onUnfreezedItem","getQuotaTotal","formatSize","bytes","translateStatus","status","toggleConfirmInactiveDialog","isConfirmInactiveDialogOpen","_createClass","key","render","_this2","_this$state","_this$props","currentTab","href","encodeURIComponent","isOperationMenuShow","curStatus","is_active","statusOptions","map","item","text","isSelected","currentSelectedStatusOption","filter","itemName","HTMLescape","confirmSetUserInactiveMsg","children","className","isDropdownToggleShown","currentSelectedOption","options","selectOption","toggleItemFreezed","operationBeforeSelect","undefined","concat","quota_usage","quota_total","ctime","last_login","isOpen","toggle","tag","title","onClick","message","executeOperation","confirmBtnText","toggleDialog","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/org-admin/org-user-item.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Dropdown, DropdownToggle, DropdownMenu, DropdownItem } from 'reactstrap';\nimport { gettext, siteRoot, orgID, username } from '../../utils/constants';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { Utils } from '../../utils/utils';\nimport toaster from '../../components/toast';\nimport Selector from '../../components/single-selector';\nimport CommonOperationConfirmationDialog from '../../components/dialog/common-operation-confirmation-dialog';\n\nconst propTypes = {\n  user: PropTypes.object,\n  currentTab: PropTypes.string,\n  toggleRevokeAdmin: PropTypes.func,\n  isItemFreezed: PropTypes.bool.isRequired,\n  toggleDelete: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  toggleItemFreezed: PropTypes.func.isRequired,\n  changeStatus: PropTypes.func.isRequired,\n};\n\nclass UserItem extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      highlight: false,\n      showMenu: false,\n      isItemMenuShow: false\n    };\n  }\n\n  onMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: true,\n        highlight: true,\n      });\n    }\n  };\n\n  onMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        showMenu: false,\n        highlight: false\n      });\n    }\n  };\n\n  toggleDelete = () => {\n    const email = this.props.user.email;\n    const username = this.props.user.name;\n    this.props.toggleDelete(email, username);\n  };\n\n  toggleResetPW = () => {\n    const { email, name } = this.props.user;\n    toaster.success(gettext('Resetting user\\'s password, please wait for a moment.'));\n    seafileAPI.orgAdminResetOrgUserPassword(orgID, email).then(res => {\n      let msg;\n      msg = gettext('Successfully reset password to %(passwd)s for user %(user)s.');\n      msg = msg.replace('%(passwd)s', res.data.new_password);\n      msg = msg.replace('%(user)s', name);\n      toaster.success(msg, {\n        duration: 15\n      });\n    }).catch(error => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleRevokeAdmin = () => {\n    const email = this.props.user.email;\n    this.props.toggleRevokeAdmin(email);\n  };\n\n  changeStatus = (statusOption) => {\n    const isActive = statusOption.value == 'active';\n    if (isActive) {\n      toaster.notify(gettext('It may take some time, please wait.'));\n    }\n    this.props.changeStatus(this.props.user.email, isActive);\n  };\n\n  setUserInactive = () => {\n    const isActive = false;\n    this.props.changeStatus(this.props.user.email, isActive);\n  };\n\n  onDropdownToggleClick = (e) => {\n    e.preventDefault();\n    this.toggleOperationMenu(e);\n  };\n\n  toggleOperationMenu = (e) => {\n    e.stopPropagation();\n    this.setState(\n      {isItemMenuShow: !this.state.isItemMenuShow }, () => {\n        if (this.state.isItemMenuShow) {\n          this.props.onFreezedItem();\n        } else {\n          this.setState({\n            highlight: false,\n            showMenu: false,\n          });\n          this.props.onUnfreezedItem();\n        }\n      }\n    );\n  };\n\n  getQuotaTotal = (data) => {\n    switch (data) {\n      case -1: // failed to fetch quota\n        return gettext('Failed');\n      case -2:\n        return '--';\n      default: // data > 0\n        return Utils.formatSize({bytes: data});\n    }\n  };\n\n  translateStatus = (status) => {\n    switch (status) {\n      case 'active':\n        return gettext('Active');\n      case 'inactive':\n        return gettext('Inactive');\n    }\n  };\n\n  toggleConfirmInactiveDialog= () => {\n    this.setState({isConfirmInactiveDialogOpen: !this.state.isConfirmInactiveDialogOpen});\n  };\n\n  render() {\n    const { highlight, isConfirmInactiveDialogOpen } = this.state;\n    let { user, currentTab } = this.props;\n    let href = siteRoot + 'org/useradmin/info/' + encodeURIComponent(user.email) + '/';\n    let isOperationMenuShow = (user.email !== username)  && this.state.showMenu;\n\n    // for 'user status'\n    const curStatus = user.is_active ? 'active' : 'inactive';\n    this.statusOptions = ['active', 'inactive'].map(item => {\n      return {\n        value: item,\n        text: this.translateStatus(item),\n        isSelected: item == curStatus\n      };\n    });\n    const currentSelectedStatusOption = this.statusOptions.filter(item => item.isSelected)[0];\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(user.name) + '</span>';\n    const confirmSetUserInactiveMsg = gettext('Are you sure you want to set {user_placeholder} inactive?').replace('{user_placeholder}', itemName);\n\n    return (\n      <>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.onMouseEnter} onMouseLeave={this.onMouseLeave}>\n          <td>\n            <a href={href}>{user.name}</a>\n          </td>\n          <td>\n            <Selector\n              isDropdownToggleShown={highlight}\n              currentSelectedOption={currentSelectedStatusOption}\n              options={this.statusOptions}\n              selectOption={this.changeStatus}\n              toggleItemFreezed={this.props.toggleItemFreezed}\n              operationBeforeSelect={user.is_active ? this.toggleConfirmInactiveDialog : undefined}\n            />\n          </td>\n          <td>{`${Utils.formatSize({bytes: user.quota_usage})} / ${this.getQuotaTotal(user.quota_total)}`}</td>\n          <td>\n            {user.ctime} /\n            <br />\n            {user.last_login ? user.last_login : '--'}\n          </td>\n          <td className=\"text-center cursor-pointer\">\n            {isOperationMenuShow && (\n              <Dropdown isOpen={this.state.isItemMenuShow} toggle={this.toggleOperationMenu}>\n                <DropdownToggle\n                  tag=\"a\"\n                  className=\"attr-action-icon fas fa-ellipsis-v\"\n                  title={gettext('More operations')}\n                  aria-label={gettext('More operations')}\n                  data-toggle=\"dropdown\"\n                  aria-expanded={this.state.isItemMenuShow}\n                  onClick={this.onDropdownToggleClick}\n                />\n                <DropdownMenu>\n                  <DropdownItem onClick={this.toggleDelete}>{gettext('Delete')}</DropdownItem>\n                  <DropdownItem onClick={this.toggleResetPW}>{gettext('ResetPwd')}</DropdownItem>\n                  {currentTab == 'admins' && <DropdownItem onClick={this.toggleRevokeAdmin}>{gettext('Revoke Admin')}</DropdownItem>}\n                </DropdownMenu>\n              </Dropdown>\n            )}\n          </td>\n        </tr>\n        {isConfirmInactiveDialogOpen &&\n        <CommonOperationConfirmationDialog\n          title={gettext('Set user inactive')}\n          message={confirmSetUserInactiveMsg}\n          executeOperation={this.setUserInactive}\n          confirmBtnText={gettext('Set')}\n          toggleDialog={this.toggleConfirmInactiveDialog}\n        />\n        }\n      </>\n    );\n  }\n}\n\nUserItem.propTypes = propTypes;\n\nexport default UserItem;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CAEzB,OAASC,QAAQ,CAAEC,cAAc,CAAEC,YAAY,CAAEC,YAAY,KAAQ,YAAY,CACjF,OAASC,OAAO,CAAEC,QAAQ,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,uBAAuB,CAC1E,OAASC,UAAU,KAAQ,yBAAyB,CACpD,OAASC,KAAK,KAAQ,mBAAmB,CACzC,MAAO,CAAAC,OAAO,KAAM,wBAAwB,CAC5C,MAAO,CAAAC,QAAQ,KAAM,kCAAkC,CACvD,MAAO,CAAAC,iCAAiC,KAAM,8DAA8D,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,4BAcvG,CAAAC,QAAQ,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,QAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,QAAA,EAEZ,SAAAA,SAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,QAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAQfG,YAAY,CAAG,UAAM,CACnB,GAAI,CAACH,KAAA,CAAKD,KAAK,CAACK,aAAa,CAAE,CAC7BJ,KAAA,CAAKK,QAAQ,CAAC,CACZC,QAAQ,CAAE,IAAI,CACdC,SAAS,CAAE,IACb,CAAC,CAAC,CACJ,CACF,CAAC,CAAAP,KAAA,CAEDQ,YAAY,CAAG,UAAM,CACnB,GAAI,CAACR,KAAA,CAAKD,KAAK,CAACK,aAAa,CAAE,CAC7BJ,KAAA,CAAKK,QAAQ,CAAC,CACZC,QAAQ,CAAE,KAAK,CACfC,SAAS,CAAE,KACb,CAAC,CAAC,CACJ,CACF,CAAC,CAAAP,KAAA,CAEDS,YAAY,CAAG,UAAM,CACnB,GAAM,CAAAC,KAAK,CAAGV,KAAA,CAAKD,KAAK,CAACY,IAAI,CAACD,KAAK,CACnC,GAAM,CAAA5B,QAAQ,CAAGkB,KAAA,CAAKD,KAAK,CAACY,IAAI,CAACC,IAAI,CACrCZ,KAAA,CAAKD,KAAK,CAACU,YAAY,CAACC,KAAK,CAAE5B,QAAQ,CAAC,CAC1C,CAAC,CAAAkB,KAAA,CAEDa,aAAa,CAAG,UAAM,CACpB,IAAAC,gBAAA,CAAwBd,KAAA,CAAKD,KAAK,CAACY,IAAI,CAA/BD,KAAK,CAAAI,gBAAA,CAALJ,KAAK,CAAEE,IAAI,CAAAE,gBAAA,CAAJF,IAAI,CACnB3B,OAAO,CAAC8B,OAAO,CAACpC,OAAO,CAAC,uDAAuD,CAAC,CAAC,CACjFI,UAAU,CAACiC,4BAA4B,CAACnC,KAAK,CAAE6B,KAAK,CAAC,CAACO,IAAI,CAAC,SAAAC,GAAG,CAAI,CAChE,GAAI,CAAAC,GAAG,CACPA,GAAG,CAAGxC,OAAO,CAAC,8DAA8D,CAAC,CAC7EwC,GAAG,CAAGA,GAAG,CAACC,OAAO,CAAC,YAAY,CAAEF,GAAG,CAACG,IAAI,CAACC,YAAY,CAAC,CACtDH,GAAG,CAAGA,GAAG,CAACC,OAAO,CAAC,UAAU,CAAER,IAAI,CAAC,CACnC3B,OAAO,CAAC8B,OAAO,CAACI,GAAG,CAAE,CACnBI,QAAQ,CAAE,EACZ,CAAC,CAAC,CACJ,CAAC,CAAC,CAACC,KAAK,CAAC,SAAAC,KAAK,CAAI,CAChB,GAAI,CAAAC,UAAU,CAAG1C,KAAK,CAAC2C,WAAW,CAACF,KAAK,CAAC,CACzCxC,OAAO,CAAC2C,MAAM,CAACF,UAAU,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAA1B,KAAA,CAED6B,iBAAiB,CAAG,UAAM,CACxB,GAAM,CAAAnB,KAAK,CAAGV,KAAA,CAAKD,KAAK,CAACY,IAAI,CAACD,KAAK,CACnCV,KAAA,CAAKD,KAAK,CAAC8B,iBAAiB,CAACnB,KAAK,CAAC,CACrC,CAAC,CAAAV,KAAA,CAED8B,YAAY,CAAG,SAACC,YAAY,CAAK,CAC/B,GAAM,CAAAC,QAAQ,CAAGD,YAAY,CAACE,KAAK,EAAI,QAAQ,CAC/C,GAAID,QAAQ,CAAE,CACZ/C,OAAO,CAACiD,MAAM,CAACvD,OAAO,CAAC,qCAAqC,CAAC,CAAC,CAChE,CACAqB,KAAA,CAAKD,KAAK,CAAC+B,YAAY,CAAC9B,KAAA,CAAKD,KAAK,CAACY,IAAI,CAACD,KAAK,CAAEsB,QAAQ,CAAC,CAC1D,CAAC,CAAAhC,KAAA,CAEDmC,eAAe,CAAG,UAAM,CACtB,GAAM,CAAAH,QAAQ,CAAG,KAAK,CACtBhC,KAAA,CAAKD,KAAK,CAAC+B,YAAY,CAAC9B,KAAA,CAAKD,KAAK,CAACY,IAAI,CAACD,KAAK,CAAEsB,QAAQ,CAAC,CAC1D,CAAC,CAAAhC,KAAA,CAEDoC,qBAAqB,CAAG,SAACC,CAAC,CAAK,CAC7BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClBtC,KAAA,CAAKuC,mBAAmB,CAACF,CAAC,CAAC,CAC7B,CAAC,CAAArC,KAAA,CAEDuC,mBAAmB,CAAG,SAACF,CAAC,CAAK,CAC3BA,CAAC,CAACG,eAAe,CAAC,CAAC,CACnBxC,KAAA,CAAKK,QAAQ,CACX,CAACoC,cAAc,CAAE,CAACzC,KAAA,CAAK0C,KAAK,CAACD,cAAe,CAAC,CAAE,UAAM,CACnD,GAAIzC,KAAA,CAAK0C,KAAK,CAACD,cAAc,CAAE,CAC7BzC,KAAA,CAAKD,KAAK,CAAC4C,aAAa,CAAC,CAAC,CAC5B,CAAC,IAAM,CACL3C,KAAA,CAAKK,QAAQ,CAAC,CACZE,SAAS,CAAE,KAAK,CAChBD,QAAQ,CAAE,KACZ,CAAC,CAAC,CACFN,KAAA,CAAKD,KAAK,CAAC6C,eAAe,CAAC,CAAC,CAC9B,CACF,CACF,CAAC,CACH,CAAC,CAAA5C,KAAA,CAED6C,aAAa,CAAG,SAACxB,IAAI,CAAK,CACxB,OAAQA,IAAI,EACV,IAAK,CAAC,CAAC,CAAE;AACP,MAAO,CAAA1C,OAAO,CAAC,QAAQ,CAAC,CAC1B,IAAK,CAAC,CAAC,CACL,MAAO,IAAI,CACb,QAAS;AACP,MAAO,CAAAK,KAAK,CAAC8D,UAAU,CAAC,CAACC,KAAK,CAAE1B,IAAI,CAAC,CAAC,CAC1C,CACF,CAAC,CAAArB,KAAA,CAEDgD,eAAe,CAAG,SAACC,MAAM,CAAK,CAC5B,OAAQA,MAAM,EACZ,IAAK,QAAQ,CACX,MAAO,CAAAtE,OAAO,CAAC,QAAQ,CAAC,CAC1B,IAAK,UAAU,CACb,MAAO,CAAAA,OAAO,CAAC,UAAU,CAAC,CAC9B,CACF,CAAC,CAAAqB,KAAA,CAEDkD,2BAA2B,CAAE,UAAM,CACjClD,KAAA,CAAKK,QAAQ,CAAC,CAAC8C,2BAA2B,CAAE,CAACnD,KAAA,CAAK0C,KAAK,CAACS,2BAA2B,CAAC,CAAC,CACvF,CAAC,CA9GCnD,KAAA,CAAK0C,KAAK,CAAG,CACXnC,SAAS,CAAE,KAAK,CAChBD,QAAQ,CAAE,KAAK,CACfmC,cAAc,CAAE,KAClB,CAAC,CAAC,OAAAzC,KAAA,CACJ,CAACoD,YAAA,CAAA1D,QAAA,GAAA2D,GAAA,UAAApB,KAAA,CA2GD,SAAAqB,OAAA,CAAS,KAAAC,MAAA,MACP,IAAAC,WAAA,CAAmD,IAAI,CAACd,KAAK,CAArDnC,SAAS,CAAAiD,WAAA,CAATjD,SAAS,CAAE4C,2BAA2B,CAAAK,WAAA,CAA3BL,2BAA2B,CAC9C,IAAAM,WAAA,CAA2B,IAAI,CAAC1D,KAAK,CAA/BY,IAAI,CAAA8C,WAAA,CAAJ9C,IAAI,CAAE+C,UAAU,CAAAD,WAAA,CAAVC,UAAU,CACtB,GAAI,CAAAC,IAAI,CAAG/E,QAAQ,CAAG,qBAAqB,CAAGgF,kBAAkB,CAACjD,IAAI,CAACD,KAAK,CAAC,CAAG,GAAG,CAClF,GAAI,CAAAmD,mBAAmB,CAAIlD,IAAI,CAACD,KAAK,GAAK5B,QAAQ,EAAM,IAAI,CAAC4D,KAAK,CAACpC,QAAQ,CAE3E;AACA,GAAM,CAAAwD,SAAS,CAAGnD,IAAI,CAACoD,SAAS,CAAG,QAAQ,CAAG,UAAU,CACxD,IAAI,CAACC,aAAa,CAAG,CAAC,QAAQ,CAAE,UAAU,CAAC,CAACC,GAAG,CAAC,SAAAC,IAAI,CAAI,CACtD,MAAO,CACLjC,KAAK,CAAEiC,IAAI,CACXC,IAAI,CAAEZ,MAAI,CAACP,eAAe,CAACkB,IAAI,CAAC,CAChCE,UAAU,CAAEF,IAAI,EAAIJ,SACtB,CAAC,CACH,CAAC,CAAC,CACF,GAAM,CAAAO,2BAA2B,CAAG,IAAI,CAACL,aAAa,CAACM,MAAM,CAAC,SAAAJ,IAAI,QAAI,CAAAA,IAAI,CAACE,UAAU,GAAC,CAAC,CAAC,CAAC,CAEzF,GAAM,CAAAG,QAAQ,CAAG,0BAA0B,CAAGvF,KAAK,CAACwF,UAAU,CAAC7D,IAAI,CAACC,IAAI,CAAC,CAAG,SAAS,CACrF,GAAM,CAAA6D,yBAAyB,CAAG9F,OAAO,CAAC,2DAA2D,CAAC,CAACyC,OAAO,CAAC,oBAAoB,CAAEmD,QAAQ,CAAC,CAE9I,mBACEhF,KAAA,CAAAE,SAAA,EAAAiF,QAAA,eACEnF,KAAA,OAAIoF,SAAS,CAAE,IAAI,CAACjC,KAAK,CAACnC,SAAS,CAAG,cAAc,CAAG,EAAG,CAACJ,YAAY,CAAE,IAAI,CAACA,YAAa,CAACK,YAAY,CAAE,IAAI,CAACA,YAAa,CAAAkE,QAAA,eAC1HrF,IAAA,OAAAqF,QAAA,cACErF,IAAA,MAAGsE,IAAI,CAAEA,IAAK,CAAAe,QAAA,CAAE/D,IAAI,CAACC,IAAI,CAAI,CAAC,CAC5B,CAAC,cACLvB,IAAA,OAAAqF,QAAA,cACErF,IAAA,CAACH,QAAQ,EACP0F,qBAAqB,CAAErE,SAAU,CACjCsE,qBAAqB,CAAER,2BAA4B,CACnDS,OAAO,CAAE,IAAI,CAACd,aAAc,CAC5Be,YAAY,CAAE,IAAI,CAACjD,YAAa,CAChCkD,iBAAiB,CAAE,IAAI,CAACjF,KAAK,CAACiF,iBAAkB,CAChDC,qBAAqB,CAAEtE,IAAI,CAACoD,SAAS,CAAG,IAAI,CAACb,2BAA2B,CAAGgC,SAAU,CACtF,CAAC,CACA,CAAC,cACL7F,IAAA,OAAAqF,QAAA,IAAAS,MAAA,CAAQnG,KAAK,CAAC8D,UAAU,CAAC,CAACC,KAAK,CAAEpC,IAAI,CAACyE,WAAW,CAAC,CAAC,QAAAD,MAAA,CAAM,IAAI,CAACtC,aAAa,CAAClC,IAAI,CAAC0E,WAAW,CAAC,EAAO,CAAC,cACrG9F,KAAA,OAAAmF,QAAA,EACG/D,IAAI,CAAC2E,KAAK,CAAC,IACZ,cAAAjG,IAAA,QAAK,CAAC,CACLsB,IAAI,CAAC4E,UAAU,CAAG5E,IAAI,CAAC4E,UAAU,CAAG,IAAI,EACvC,CAAC,cACLlG,IAAA,OAAIsF,SAAS,CAAC,4BAA4B,CAAAD,QAAA,CACvCb,mBAAmB,eAClBtE,KAAA,CAAChB,QAAQ,EAACiH,MAAM,CAAE,IAAI,CAAC9C,KAAK,CAACD,cAAe,CAACgD,MAAM,CAAE,IAAI,CAAClD,mBAAoB,CAAAmC,QAAA,eAC5ErF,IAAA,CAACb,cAAc,EACbkH,GAAG,CAAC,GAAG,CACPf,SAAS,CAAC,oCAAoC,CAC9CgB,KAAK,CAAEhH,OAAO,CAAC,iBAAiB,CAAE,CAClC,aAAYA,OAAO,CAAC,iBAAiB,CAAE,CACvC,cAAY,UAAU,CACtB,gBAAe,IAAI,CAAC+D,KAAK,CAACD,cAAe,CACzCmD,OAAO,CAAE,IAAI,CAACxD,qBAAsB,CACrC,CAAC,cACF7C,KAAA,CAACd,YAAY,EAAAiG,QAAA,eACXrF,IAAA,CAACX,YAAY,EAACkH,OAAO,CAAE,IAAI,CAACnF,YAAa,CAAAiE,QAAA,CAAE/F,OAAO,CAAC,QAAQ,CAAC,CAAe,CAAC,cAC5EU,IAAA,CAACX,YAAY,EAACkH,OAAO,CAAE,IAAI,CAAC/E,aAAc,CAAA6D,QAAA,CAAE/F,OAAO,CAAC,UAAU,CAAC,CAAe,CAAC,CAC9E+E,UAAU,EAAI,QAAQ,eAAIrE,IAAA,CAACX,YAAY,EAACkH,OAAO,CAAE,IAAI,CAAC/D,iBAAkB,CAAA6C,QAAA,CAAE/F,OAAO,CAAC,cAAc,CAAC,CAAe,CAAC,EACtG,CAAC,EACP,CACX,CACC,CAAC,EACH,CAAC,CACJwE,2BAA2B,eAC5B9D,IAAA,CAACF,iCAAiC,EAChCwG,KAAK,CAAEhH,OAAO,CAAC,mBAAmB,CAAE,CACpCkH,OAAO,CAAEpB,yBAA0B,CACnCqB,gBAAgB,CAAE,IAAI,CAAC3D,eAAgB,CACvC4D,cAAc,CAAEpH,OAAO,CAAC,KAAK,CAAE,CAC/BqH,YAAY,CAAE,IAAI,CAAC9C,2BAA4B,CAChD,CAAC,EAEF,CAAC,CAEP,CAAC,WAAAxD,QAAA,GA9LoBpB,KAAK,CAAC2H,SAAS,EAmMtC,cAAe,CAAAvG,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}