{"ast":null,"code":"import _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport io from 'socket.io-client';\nimport SocketManager from './socket-manager';\nimport { clientDebug, serverDebug } from '../utils/debug';\nvar SocketClient = /*#__PURE__*/_createClass(function SocketClient(config) {\n  var _this2 = this;\n  _classCallCheck(this, SocketClient);\n  var _this = this;\n  _defineProperty(this, \"getParams\", function () {\n    var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    var _this$config = _this.config,\n      docUuid = _this$config.docUuid,\n      user = _this$config.user;\n    return _objectSpread({\n      doc_uuid: docUuid,\n      user: user\n    }, params);\n  });\n  _defineProperty(this, \"onConnected\", function () {\n    // join room\n    _this2.socket.emit('join-room', function (result) {\n      var socketManager = SocketManager.getInstance();\n      if (result.success) {\n        // sync operations or document\n        if (_this2.isReconnect) {\n          _this2.isReconnect = false;\n          // The reconnect of socketManager needs to be triggered after entering the room again\n          socketManager.onReconnect(result);\n        }\n        socketManager.dispatchConnectState('onConnected', result);\n        return;\n      }\n\n      // Disconnect the server in the client side. There will be no reconnection.\n      _this2.socket.disconnect();\n      socketManager.dispatchConnectState('connect-error', result);\n    });\n  });\n  _defineProperty(this, \"onReconnect\", function (data) {\n    clientDebug('reconnect.');\n    _this2.isReconnect = true;\n    var socketManager = SocketManager.getInstance();\n    socketManager.dispatchConnectState('reconnect');\n  });\n  _defineProperty(this, \"onReconnectAttempt\", function (attemptNumber) {\n    clientDebug('reconnect_attempt. %s', attemptNumber);\n    var socketManager = SocketManager.getInstance();\n    socketManager.dispatchConnectState('reconnect_attempt', attemptNumber);\n  });\n  _defineProperty(this, \"onReconnectError\", function () {\n    clientDebug('reconnect_error.');\n    var socketManager = SocketManager.getInstance();\n    socketManager.dispatchConnectState('reconnect_error');\n  });\n  _defineProperty(this, \"onDisconnected\", function (data) {\n    clientDebug('disconnect message: %s', data);\n    var socketManager = SocketManager.getInstance();\n    socketManager.dispatchConnectState('disconnect');\n  });\n  _defineProperty(this, \"onConnectError\", function () {\n    clientDebug('connect_error.');\n    var socketManager = SocketManager.getInstance();\n    socketManager.dispatchConnectState('connect_error');\n  });\n  _defineProperty(this, \"sendOperations\", function (operations, version, selection, callback) {\n    clientDebug('send operations: %O', operations);\n    _this2.socket.emit('update-document', _this2.getParams({\n      operations: operations,\n      version: version,\n      selection: selection\n    }), function (result) {\n      callback && callback(result);\n    });\n  });\n  _defineProperty(this, \"onJoinRoom\", function (userInfo) {\n    serverDebug('%s joined room success.', userInfo.username);\n    var socketManager = SocketManager.getInstance();\n    socketManager.dispatchConnectState('join-room', userInfo);\n  });\n  _defineProperty(this, \"onLeaveRoom\", function (username) {\n    serverDebug('%s leaved room success.', username);\n    var socketManager = SocketManager.getInstance();\n    socketManager.dispatchConnectState('leave-room', username);\n  });\n  /**\n   * receive remote broadcast operations\n   * @param {*} params {operations, version}\n   */\n  _defineProperty(this, \"onReceiveRemoteOperations\", function (params) {\n    serverDebug('receive operations: %O', params);\n    var socketManager = SocketManager.getInstance();\n    socketManager.onReceiveRemoteOperations(params);\n  });\n  _defineProperty(this, \"getRecentOperations\", function () {\n    var docUuid = _this2.config.docUuid;\n    var socketManager = SocketManager.getInstance();\n    var clientVersion = socketManager.getDocumentVersion();\n    _this2.socket.emit('sync-document', {\n      doc_uuid: docUuid,\n      version: clientVersion\n    }, function (result) {\n      if (result.success) {\n        socketManager.onGetRecentOperations(result);\n      }\n    });\n  });\n  _defineProperty(this, \"sendCursorLocation\", function (location) {\n    var cursor_data = _this2.config.cursorData;\n    _this2.socket.emit('update-cursor', _this2.getParams({\n      location: location,\n      cursor_data: cursor_data\n    }));\n  });\n  _defineProperty(this, \"receiveCursorLocation\", function (params) {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receiveCursorLocation(params);\n  });\n  _defineProperty(this, \"disconnectWithServer\", function () {\n    _this2.socket.disconnect();\n  });\n  _defineProperty(this, \"receivePublishDocument\", function () {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receivePublishDocument();\n  });\n  _defineProperty(this, \"receivePublishDocumentError\", function () {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receivePublishDocumentError();\n  });\n  _defineProperty(this, \"receiveDocumentReplaced\", function () {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receiveDocumentReplaced();\n  });\n  _defineProperty(this, \"receiveDocumentReplacedError\", function () {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receiveDocumentReplacedError();\n  });\n  _defineProperty(this, \"receiveRemoveDocument\", function () {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receiveRemoveDocument();\n  });\n  _defineProperty(this, \"receiveRemoveDocumentError\", function () {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receiveRemoveDocumentError();\n  });\n  _defineProperty(this, \"receiveNewNotification\", function (notification) {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receiveNewNotification(notification);\n  });\n  _defineProperty(this, \"receiveParticipantAdded\", function (uses) {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receiveParticipantAdded(uses);\n  });\n  _defineProperty(this, \"receiveParticipantRemoved\", function (email) {\n    var socketManager = SocketManager.getInstance();\n    socketManager.receiveParticipantRemoved(email);\n  });\n  this.config = config;\n  this.isReconnect = false;\n  this.socket = io(config.sdocServer, {\n    reconnection: true,\n    auth: {\n      token: config.accessToken\n    },\n    query: {\n      'sdoc_uuid': config.docUuid\n    }\n  });\n  this.socket.on('connect', this.onConnected);\n  this.socket.on('disconnect', this.onDisconnected);\n  this.socket.on('connect_error', this.onConnectError);\n  this.socket.on('join-room', this.onJoinRoom);\n  this.socket.on('leave-room', this.onLeaveRoom);\n  this.socket.on('update-document', this.onReceiveRemoteOperations);\n\n  // doc replaced\n  this.socket.on('doc-replaced', this.receiveDocumentReplaced);\n  this.socket.on('doc-replaced-error', this.receiveDocumentReplacedError);\n\n  // doc published\n  this.socket.on('doc-published', this.receivePublishDocument);\n  this.socket.on('doc-published-error', this.receivePublishDocumentError);\n\n  // doc removed\n  this.socket.on('doc-removed', this.receiveRemoveDocument);\n  this.socket.on('doc-removed-error', this.receiveRemoveDocumentError);\n  this.socket.on('update-cursor', this.receiveCursorLocation);\n\n  // notification\n  this.socket.on('new-notification', this.receiveNewNotification);\n\n  // participant\n  this.socket.on('participant-added', this.receiveParticipantAdded);\n  this.socket.on('participant-removed', this.receiveParticipantRemoved);\n  this.socket.io.on('reconnect', this.onReconnect);\n  this.socket.io.on('reconnect_attempt', this.onReconnectAttempt);\n  this.socket.io.on('reconnect_error', this.onReconnectError);\n});\nexport default SocketClient;","map":{"version":3,"names":["_objectSpread","_defineProperty","io","SocketManager","clientDebug","serverDebug","SocketClient","_createClass","config","_this2","_classCallCheck","_this","params","arguments","length","undefined","_this$config","docUuid","user","doc_uuid","socket","emit","result","socketManager","getInstance","success","isReconnect","onReconnect","dispatchConnectState","disconnect","data","attemptNumber","operations","version","selection","callback","getParams","userInfo","username","onReceiveRemoteOperations","clientVersion","getDocumentVersion","onGetRecentOperations","location","cursor_data","cursorData","receiveCursorLocation","receivePublishDocument","receivePublishDocumentError","receiveDocumentReplaced","receiveDocumentReplacedError","receiveRemoveDocument","receiveRemoveDocumentError","notification","receiveNewNotification","uses","receiveParticipantAdded","email","receiveParticipantRemoved","sdocServer","reconnection","auth","token","accessToken","query","on","onConnected","onDisconnected","onConnectError","onJoinRoom","onLeaveRoom","onReconnectAttempt","onReconnectError"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/socket/socket-client.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport io from 'socket.io-client';\nimport SocketManager from './socket-manager';\nimport { clientDebug, serverDebug } from '../utils/debug';\nclass SocketClient {\n  constructor(config) {\n    var _this = this;\n    _defineProperty(this, \"getParams\", function () {\n      let params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      const {\n        docUuid,\n        user\n      } = _this.config;\n      return _objectSpread({\n        doc_uuid: docUuid,\n        user\n      }, params);\n    });\n    _defineProperty(this, \"onConnected\", () => {\n      // join room\n      this.socket.emit('join-room', result => {\n        const socketManager = SocketManager.getInstance();\n        if (result.success) {\n          // sync operations or document\n          if (this.isReconnect) {\n            this.isReconnect = false;\n            // The reconnect of socketManager needs to be triggered after entering the room again\n            socketManager.onReconnect(result);\n          }\n          socketManager.dispatchConnectState('onConnected', result);\n          return;\n        }\n\n        // Disconnect the server in the client side. There will be no reconnection.\n        this.socket.disconnect();\n        socketManager.dispatchConnectState('connect-error', result);\n      });\n    });\n    _defineProperty(this, \"onReconnect\", data => {\n      clientDebug('reconnect.');\n      this.isReconnect = true;\n      const socketManager = SocketManager.getInstance();\n      socketManager.dispatchConnectState('reconnect');\n    });\n    _defineProperty(this, \"onReconnectAttempt\", attemptNumber => {\n      clientDebug('reconnect_attempt. %s', attemptNumber);\n      const socketManager = SocketManager.getInstance();\n      socketManager.dispatchConnectState('reconnect_attempt', attemptNumber);\n    });\n    _defineProperty(this, \"onReconnectError\", () => {\n      clientDebug('reconnect_error.');\n      const socketManager = SocketManager.getInstance();\n      socketManager.dispatchConnectState('reconnect_error');\n    });\n    _defineProperty(this, \"onDisconnected\", data => {\n      clientDebug('disconnect message: %s', data);\n      const socketManager = SocketManager.getInstance();\n      socketManager.dispatchConnectState('disconnect');\n    });\n    _defineProperty(this, \"onConnectError\", () => {\n      clientDebug('connect_error.');\n      const socketManager = SocketManager.getInstance();\n      socketManager.dispatchConnectState('connect_error');\n    });\n    _defineProperty(this, \"sendOperations\", (operations, version, selection, callback) => {\n      clientDebug('send operations: %O', operations);\n      this.socket.emit('update-document', this.getParams({\n        operations,\n        version,\n        selection\n      }), result => {\n        callback && callback(result);\n      });\n    });\n    _defineProperty(this, \"onJoinRoom\", userInfo => {\n      serverDebug('%s joined room success.', userInfo.username);\n      const socketManager = SocketManager.getInstance();\n      socketManager.dispatchConnectState('join-room', userInfo);\n    });\n    _defineProperty(this, \"onLeaveRoom\", username => {\n      serverDebug('%s leaved room success.', username);\n      const socketManager = SocketManager.getInstance();\n      socketManager.dispatchConnectState('leave-room', username);\n    });\n    /**\n     * receive remote broadcast operations\n     * @param {*} params {operations, version}\n     */\n    _defineProperty(this, \"onReceiveRemoteOperations\", params => {\n      serverDebug('receive operations: %O', params);\n      const socketManager = SocketManager.getInstance();\n      socketManager.onReceiveRemoteOperations(params);\n    });\n    _defineProperty(this, \"getRecentOperations\", () => {\n      const {\n        docUuid\n      } = this.config;\n      const socketManager = SocketManager.getInstance();\n      const clientVersion = socketManager.getDocumentVersion();\n      this.socket.emit('sync-document', {\n        doc_uuid: docUuid,\n        version: clientVersion\n      }, result => {\n        if (result.success) {\n          socketManager.onGetRecentOperations(result);\n        }\n      });\n    });\n    _defineProperty(this, \"sendCursorLocation\", location => {\n      const {\n        cursorData: cursor_data\n      } = this.config;\n      this.socket.emit('update-cursor', this.getParams({\n        location,\n        cursor_data\n      }));\n    });\n    _defineProperty(this, \"receiveCursorLocation\", params => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receiveCursorLocation(params);\n    });\n    _defineProperty(this, \"disconnectWithServer\", () => {\n      this.socket.disconnect();\n    });\n    _defineProperty(this, \"receivePublishDocument\", () => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receivePublishDocument();\n    });\n    _defineProperty(this, \"receivePublishDocumentError\", () => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receivePublishDocumentError();\n    });\n    _defineProperty(this, \"receiveDocumentReplaced\", () => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receiveDocumentReplaced();\n    });\n    _defineProperty(this, \"receiveDocumentReplacedError\", () => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receiveDocumentReplacedError();\n    });\n    _defineProperty(this, \"receiveRemoveDocument\", () => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receiveRemoveDocument();\n    });\n    _defineProperty(this, \"receiveRemoveDocumentError\", () => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receiveRemoveDocumentError();\n    });\n    _defineProperty(this, \"receiveNewNotification\", notification => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receiveNewNotification(notification);\n    });\n    _defineProperty(this, \"receiveParticipantAdded\", uses => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receiveParticipantAdded(uses);\n    });\n    _defineProperty(this, \"receiveParticipantRemoved\", email => {\n      const socketManager = SocketManager.getInstance();\n      socketManager.receiveParticipantRemoved(email);\n    });\n    this.config = config;\n    this.isReconnect = false;\n    this.socket = io(config.sdocServer, {\n      reconnection: true,\n      auth: {\n        token: config.accessToken\n      },\n      query: {\n        'sdoc_uuid': config.docUuid\n      }\n    });\n    this.socket.on('connect', this.onConnected);\n    this.socket.on('disconnect', this.onDisconnected);\n    this.socket.on('connect_error', this.onConnectError);\n    this.socket.on('join-room', this.onJoinRoom);\n    this.socket.on('leave-room', this.onLeaveRoom);\n    this.socket.on('update-document', this.onReceiveRemoteOperations);\n\n    // doc replaced\n    this.socket.on('doc-replaced', this.receiveDocumentReplaced);\n    this.socket.on('doc-replaced-error', this.receiveDocumentReplacedError);\n\n    // doc published\n    this.socket.on('doc-published', this.receivePublishDocument);\n    this.socket.on('doc-published-error', this.receivePublishDocumentError);\n\n    // doc removed\n    this.socket.on('doc-removed', this.receiveRemoveDocument);\n    this.socket.on('doc-removed-error', this.receiveRemoveDocumentError);\n    this.socket.on('update-cursor', this.receiveCursorLocation);\n\n    // notification\n    this.socket.on('new-notification', this.receiveNewNotification);\n\n    // participant\n    this.socket.on('participant-added', this.receiveParticipantAdded);\n    this.socket.on('participant-removed', this.receiveParticipantRemoved);\n    this.socket.io.on('reconnect', this.onReconnect);\n    this.socket.io.on('reconnect_attempt', this.onReconnectAttempt);\n    this.socket.io.on('reconnect_error', this.onReconnectError);\n  }\n}\nexport default SocketClient;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}