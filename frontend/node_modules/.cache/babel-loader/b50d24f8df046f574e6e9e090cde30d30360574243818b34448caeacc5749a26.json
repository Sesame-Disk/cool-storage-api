{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{css}from'glamor';import Transition from'react-transition-group/Transition';import Alert from'./alert';import{jsx as _jsx}from\"react/jsx-runtime\";var animationEasing={deceleration:'cubic-bezier(0.0, 0.0, 0.2, 1)',acceleration:'cubic-bezier(0.4, 0.0, 1, 1)',spring:'cubic-bezier(0.175, 0.885, 0.320, 1.175)'};var ANIMATION_DURATION=240;var openAnimation=css.keyframes('openAnimation',{from:{opacity:0,transform:'translateY(-120%)'},to:{transform:'translateY(0)'}});var closeAnimation=css.keyframes('closeAnimation',{from:{transform:'scale(1)',opacity:1},to:{transform:'scale(0.9)',opacity:0}});var animationStyles=css({display:'flex',flexDirection:'column',alignItems:'center',height:0,transition:\"all \".concat(ANIMATION_DURATION,\"ms \").concat(animationEasing.deceleration),'&[data-state=\"entering\"], &[data-state=\"entered\"]':{animation:\"\".concat(openAnimation,\" \").concat(ANIMATION_DURATION,\"ms \").concat(animationEasing.spring,\" both\")},'&[data-state=\"exiting\"]':{animation:\"\".concat(closeAnimation,\" 120ms \").concat(animationEasing.acceleration,\" both\")}});var Toast=/*#__PURE__*/function(_React$PureComponent){_inherits(Toast,_React$PureComponent);var _super=_createSuper(Toast);function Toast(){var _this;_classCallCheck(this,Toast);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={isShown:true,height:0};_this.close=function(){_this.clearCloseTimer();_this.setState({isShown:false});};_this.startCloseTimer=function(){if(_this.props.duration){_this.closeTimer=setTimeout(function(){_this.close();},_this.props.duration*1000);}};_this.clearCloseTimer=function(){if(_this.closeTimer){clearTimeout(_this.closeTimer);_this.closeTimer=null;}};_this.handleMouseEnter=function(){_this.clearCloseTimer();};_this.handleMouseLeave=function(){_this.startCloseTimer();};_this.onRef=function(ref){if(ref===null)return;var _ref$getBoundingClien=ref.getBoundingClientRect(),height=_ref$getBoundingClien.height;_this.setState({height:height});};return _this;}_createClass(Toast,[{key:\"componentDidUpdate\",value:function componentDidUpdate(prevProps){if(prevProps.isShown!==this.props.isShown){// eslint-disable-next-line react/no-did-update-set-state\nthis.setState({isShown:this.props.isShown});}}},{key:\"componentDidMount\",value:function componentDidMount(){this.startCloseTimer();}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.clearCloseTimer();}},{key:\"render\",value:function render(){var _this2=this;return/*#__PURE__*/_jsx(Transition,{appear:true,unmountOnExit:true,timeout:ANIMATION_DURATION,in:this.state.isShown,onExited:this.props.onRemove,children:function children(state){return/*#__PURE__*/_jsx(\"div\",{\"data-state\":state,className:animationStyles,onMouseEnter:_this2.handleMouseEnter,onMouseLeave:_this2.handleMouseLeave,style:{height:_this2.state.height,zIndex:_this2.props.zIndex,marginBottom:_this2.state.isShown?0:-_this2.state.height},children:/*#__PURE__*/_jsx(\"div\",{ref:_this2.onRef,style:{padding:8},children:/*#__PURE__*/_jsx(Alert,{intent:_this2.props.intent,title:_this2.props.title,children:_this2.props.children,isRemoveable:_this2.props.hasCloseButton,onRemove:function onRemove(){return _this2.close();}})})});}});}}]);return Toast;}(React.PureComponent);Toast.defaultProps={intent:'none'};export{Toast as default};","map":{"version":3,"names":["React","css","Transition","Alert","jsx","_jsx","animationEasing","deceleration","acceleration","spring","ANIMATION_DURATION","openAnimation","keyframes","from","opacity","transform","to","closeAnimation","animationStyles","display","flexDirection","alignItems","height","transition","concat","animation","Toast","_React$PureComponent","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","state","isShown","close","clearCloseTimer","setState","startCloseTimer","props","duration","closeTimer","setTimeout","clearTimeout","handleMouseEnter","handleMouseLeave","onRef","ref","_ref$getBoundingClien","getBoundingClientRect","_createClass","key","value","componentDidUpdate","prevProps","componentDidMount","componentWillUnmount","render","_this2","appear","unmountOnExit","timeout","in","onExited","onRemove","children","className","onMouseEnter","onMouseLeave","style","zIndex","marginBottom","padding","intent","title","isRemoveable","hasCloseButton","PureComponent","defaultProps","default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/toast/toast.js"],"sourcesContent":["import React from 'react';\nimport { css } from 'glamor';\nimport PropTypes from 'prop-types';\nimport Transition from 'react-transition-group/Transition';\nimport Alert from './alert';\n\nconst animationEasing = {\n  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',\n  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)',\n  spring: 'cubic-bezier(0.175, 0.885, 0.320, 1.175)'\n};\n\nconst ANIMATION_DURATION = 240;\n\nconst openAnimation = css.keyframes('openAnimation', {\n  from: {\n    opacity: 0,\n    transform: 'translateY(-120%)'\n  },\n  to: {\n    transform: 'translateY(0)'\n  }\n});\n\nconst closeAnimation = css.keyframes('closeAnimation', {\n  from: {\n    transform: 'scale(1)',\n    opacity: 1\n  },\n  to: {\n    transform: 'scale(0.9)',\n    opacity: 0\n  }\n});\n\nconst animationStyles = css({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  height: 0,\n  transition: `all ${ANIMATION_DURATION}ms ${animationEasing.deceleration}`,\n  '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n    animation: `${openAnimation} ${ANIMATION_DURATION}ms ${animationEasing.spring} both`\n  },\n  '&[data-state=\"exiting\"]': {\n    animation: `${closeAnimation} 120ms ${animationEasing.acceleration} both`\n  }\n});\n\nexport default class Toast extends React.PureComponent {\n  static propTypes = {\n    /**\n     * The z-index of the toast.\n     */\n    zIndex: PropTypes.number,\n\n    /**\n     * Duration of the toast.\n     */\n    duration: PropTypes.number,\n\n    /**\n     * Function called when the toast is all the way closed.\n     */\n    onRemove: PropTypes.func,\n\n    /**\n     * The type of the alert.\n     */\n    intent: PropTypes.oneOf(['none', 'notify-in-progress', 'success', 'warning', 'danger']).isRequired,\n\n    /**\n     * The title of the alert.\n     */\n    title: PropTypes.node,\n\n    /**\n     * Description of the alert.\n     */\n    children: PropTypes.node,\n\n    /**\n     * When true, show a close icon button inside of the toast.\n     */\n    hasCloseButton: PropTypes.bool,\n\n    /**\n     * When false, will close the Toast and call onRemove when finished.\n     */\n    isShown: PropTypes.bool\n  };\n\n  static defaultProps = {\n    intent: 'none'\n  };\n\n  state = {\n    isShown: true,\n    height: 0\n  };\n\n  componentDidUpdate(prevProps) {\n    if (prevProps.isShown !== this.props.isShown) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        isShown: this.props.isShown\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.startCloseTimer();\n  }\n\n  componentWillUnmount() {\n    this.clearCloseTimer();\n  }\n\n  close = () => {\n    this.clearCloseTimer();\n    this.setState({\n      isShown: false\n    });\n  };\n\n  startCloseTimer = () => {\n    if (this.props.duration) {\n      this.closeTimer = setTimeout(() => {\n        this.close();\n      }, this.props.duration * 1000);\n    }\n  };\n\n  clearCloseTimer = () => {\n    if (this.closeTimer) {\n      clearTimeout(this.closeTimer);\n      this.closeTimer = null;\n    }\n  };\n\n  handleMouseEnter = () => {\n    this.clearCloseTimer();\n  };\n\n  handleMouseLeave = () => {\n    this.startCloseTimer();\n  };\n\n  onRef = ref => {\n    if (ref === null) return;\n\n    const { height } = ref.getBoundingClientRect();\n\n    this.setState({\n      height\n    });\n  };\n\n  render() {\n    return (\n      <Transition\n        appear\n        unmountOnExit\n        timeout={ANIMATION_DURATION}\n        in={this.state.isShown}\n        onExited={this.props.onRemove}\n      >\n        {state => (\n          <div\n            data-state={state}\n            className={animationStyles}\n            onMouseEnter={this.handleMouseEnter}\n            onMouseLeave={this.handleMouseLeave}\n            style={{\n              height: this.state.height,\n              zIndex: this.props.zIndex,\n              marginBottom: this.state.isShown ? 0 : -this.state.height\n            }}\n          >\n            <div ref={this.onRef} style={{ padding: 8 }}>\n              <Alert\n                intent={this.props.intent}\n                title={this.props.title}\n                children={this.props.children}\n                isRemoveable={this.props.hasCloseButton}\n                onRemove={() => this.close()}\n              />\n            </div>\n          </div>\n        )}\n      </Transition>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}