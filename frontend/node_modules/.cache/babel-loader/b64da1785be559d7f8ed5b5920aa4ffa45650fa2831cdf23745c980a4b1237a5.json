{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useEffect, useReducer } from 'react';\nimport { commentReducer, initCommentsInfo } from '../reducer/comment-reducer';\nimport { useCommentsMount } from '../hooks/comment-hooks/use-comment-mount';\nimport { CommentContext } from '../hooks/comment-hooks/use-comment-context';\nvar CommentContextProvider = function CommentContextProvider(_ref) {\n  var children = _ref.children,\n    editor = _ref.editor;\n  var _useReducer = useReducer(commentReducer, initCommentsInfo),\n    _useReducer2 = _slicedToArray(_useReducer, 2),\n    commentsInfo = _useReducer2[0],\n    dispatch = _useReducer2[1];\n  useCommentsMount(dispatch);\n  useEffect(function () {\n    editor.element_comments_map = _objectSpread({}, commentsInfo.element_comments_map);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [commentsInfo]);\n  return /*#__PURE__*/React.createElement(CommentContext.Provider, {\n    value: {\n      commentsInfo: commentsInfo,\n      dispatch: dispatch\n    }\n  }, children);\n};\nexport default CommentContextProvider;","map":{"version":3,"names":["_objectSpread","React","useEffect","useReducer","commentReducer","initCommentsInfo","useCommentsMount","CommentContext","CommentContextProvider","_ref","children","editor","_useReducer","_useReducer2","_slicedToArray","commentsInfo","dispatch","element_comments_map","createElement","Provider","value"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/comment/provider/comment-context-provider.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useEffect, useReducer } from 'react';\nimport { commentReducer, initCommentsInfo } from '../reducer/comment-reducer';\nimport { useCommentsMount } from '../hooks/comment-hooks/use-comment-mount';\nimport { CommentContext } from '../hooks/comment-hooks/use-comment-context';\nconst CommentContextProvider = _ref => {\n  let {\n    children,\n    editor\n  } = _ref;\n  const [commentsInfo, dispatch] = useReducer(commentReducer, initCommentsInfo);\n  useCommentsMount(dispatch);\n  useEffect(() => {\n    editor.element_comments_map = _objectSpread({}, commentsInfo.element_comments_map);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [commentsInfo]);\n  return /*#__PURE__*/React.createElement(CommentContext.Provider, {\n    value: {\n      commentsInfo,\n      dispatch\n    }\n  }, children);\n};\nexport default CommentContextProvider;"],"mappings":";AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,KAAK,IAAIC,SAAS,EAAEC,UAAU,QAAQ,OAAO;AACpD,SAASC,cAAc,EAAEC,gBAAgB,QAAQ,4BAA4B;AAC7E,SAASC,gBAAgB,QAAQ,0CAA0C;AAC3E,SAASC,cAAc,QAAQ,4CAA4C;AAC3E,IAAMC,sBAAsB,GAAG,SAAzBA,sBAAsBA,CAAGC,IAAI,EAAI;EACrC,IACEC,QAAQ,GAEND,IAAI,CAFNC,QAAQ;IACRC,MAAM,GACJF,IAAI,CADNE,MAAM;EAER,IAAAC,WAAA,GAAiCT,UAAU,CAACC,cAAc,EAAEC,gBAAgB,CAAC;IAAAQ,YAAA,GAAAC,cAAA,CAAAF,WAAA;IAAtEG,YAAY,GAAAF,YAAA;IAAEG,QAAQ,GAAAH,YAAA;EAC7BP,gBAAgB,CAACU,QAAQ,CAAC;EAC1Bd,SAAS,CAAC,YAAM;IACdS,MAAM,CAACM,oBAAoB,GAAGjB,aAAa,CAAC,CAAC,CAAC,EAAEe,YAAY,CAACE,oBAAoB,CAAC;IAClF;EACF,CAAC,EAAE,CAACF,YAAY,CAAC,CAAC;EAClB,OAAO,aAAad,KAAK,CAACiB,aAAa,CAACX,cAAc,CAACY,QAAQ,EAAE;IAC/DC,KAAK,EAAE;MACLL,YAAY,EAAZA,YAAY;MACZC,QAAQ,EAARA;IACF;EACF,CAAC,EAAEN,QAAQ,CAAC;AACd,CAAC;AACD,eAAeF,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}