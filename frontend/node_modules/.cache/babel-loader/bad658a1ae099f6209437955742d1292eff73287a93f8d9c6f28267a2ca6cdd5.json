{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import MediaQuery from'react-responsive';import{gettext,storages}from'../../utils/constants';import MylibRepoListItem from'./mylib-repo-list-item';import LibsMobileThead from'../../components/libs-mobile-thead';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MylibRepoListView=/*#__PURE__*/function(_React$Component){_inherits(MylibRepoListView,_React$Component);var _super=_createSuper(MylibRepoListView);function MylibRepoListView(props){var _this;_classCallCheck(this,MylibRepoListView);_this=_super.call(this,props);_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.sortByName=function(e){e.preventDefault();var sortBy='name';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortRepoList(sortBy,sortOrder);};_this.sortByTime=function(e){e.preventDefault();var sortBy='time';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortRepoList(sortBy,sortOrder);};_this.sortBySize=function(e){e.preventDefault();var sortBy='size';var sortOrder=_this.props.sortOrder=='asc'?'desc':'asc';_this.props.sortRepoList(sortBy,sortOrder);};_this.renderRepoListView=function(){return/*#__PURE__*/_jsx(Fragment,{children:_this.props.repoList.map(function(item){return/*#__PURE__*/_jsx(MylibRepoListItem,{repo:item,isItemFreezed:_this.state.isItemFreezed,onFreezedItem:_this.onFreezedItem,onUnfreezedItem:_this.onUnfreezedItem,onRenameRepo:_this.props.onRenameRepo,onDeleteRepo:_this.props.onDeleteRepo,onTransferRepo:_this.props.onTransferRepo,onMonitorRepo:_this.props.onMonitorRepo,onRepoClick:_this.props.onRepoClick},item.repo_id);})});};_this.renderPCUI=function(){var showStorageBackend=storages.length>0;var sortIcon=_this.props.sortOrder==='asc'?/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-up\"}):/*#__PURE__*/_jsx(\"span\",{className:\"fas fa-caret-down\"});return/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"4%\"}),/*#__PURE__*/_jsx(\"th\",{width:\"4%\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:gettext('Library Type')})}),/*#__PURE__*/_jsx(\"th\",{width:showStorageBackend?'33%':'38%',children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:_this.sortByName,children:[gettext('Name'),\" \",_this.props.sortBy==='name'&&sortIcon]})}),/*#__PURE__*/_jsx(\"th\",{width:\"14%\",children:/*#__PURE__*/_jsx(\"span\",{className:\"sr-only\",children:gettext('Actions')})}),/*#__PURE__*/_jsx(\"th\",{width:showStorageBackend?'15%':'20%',children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:_this.sortBySize,children:[gettext('Size'),\" \",_this.props.sortBy==='size'&&sortIcon]})}),showStorageBackend?/*#__PURE__*/_jsx(\"th\",{width:\"15%\",children:gettext('Storage Backend')}):null,/*#__PURE__*/_jsx(\"th\",{width:showStorageBackend?'15%':'20%',children:/*#__PURE__*/_jsxs(\"a\",{className:\"d-block table-sort-op\",href:\"#\",onClick:_this.sortByTime,children:[gettext('Last Update'),\" \",_this.props.sortBy==='time'&&sortIcon]})})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:_this.renderRepoListView()})]});};_this.renderMobileUI=function(){return/*#__PURE__*/_jsxs(\"table\",{className:\"table-thead-hidden\",children:[/*#__PURE__*/_jsx(LibsMobileThead,{}),/*#__PURE__*/_jsx(\"tbody\",{children:_this.renderRepoListView()})]});};_this.state={isItemFreezed:false};return _this;}_createClass(MylibRepoListView,[{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MediaQuery,{query:\"(min-width: 768px)\",children:this.renderPCUI()}),/*#__PURE__*/_jsx(MediaQuery,{query:\"(max-width: 767.8px)\",children:this.renderMobileUI()})]});}}]);return MylibRepoListView;}(React.Component);export default MylibRepoListView;","map":{"version":3,"names":["React","Fragment","MediaQuery","gettext","storages","MylibRepoListItem","LibsMobileThead","jsx","_jsx","jsxs","_jsxs","MylibRepoListView","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onFreezedItem","setState","isItemFreezed","onUnfreezedItem","sortByName","e","preventDefault","sortBy","sortOrder","sortRepoList","sortByTime","sortBySize","renderRepoListView","children","repoList","map","item","repo","state","onRenameRepo","onDeleteRepo","onTransferRepo","onMonitorRepo","onRepoClick","repo_id","renderPCUI","showStorageBackend","length","sortIcon","className","width","href","onClick","renderMobileUI","_createClass","key","value","render","query","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/my-libs/mylib-repo-list-view.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport MediaQuery from 'react-responsive';\nimport { gettext, storages } from '../../utils/constants';\nimport MylibRepoListItem from './mylib-repo-list-item';\nimport LibsMobileThead from '../../components/libs-mobile-thead';\n\nconst propTypes = {\n  sortBy: PropTypes.string.isRequired,\n  sortOrder: PropTypes.string.isRequired,\n  repoList: PropTypes.array.isRequired,\n  sortRepoList: PropTypes.func.isRequired,\n  onRenameRepo: PropTypes.func.isRequired,\n  onDeleteRepo: PropTypes.func.isRequired,\n  onTransferRepo: PropTypes.func.isRequired,\n  onRepoClick: PropTypes.func.isRequired,\n  onMonitorRepo: PropTypes.func.isRequired,\n};\n\nclass MylibRepoListView extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false,\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  sortByName = (e) => {\n    e.preventDefault();\n    const sortBy = 'name';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortRepoList(sortBy, sortOrder);\n  };\n\n  sortByTime = (e) => {\n    e.preventDefault();\n    const sortBy = 'time';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortRepoList(sortBy, sortOrder);\n  };\n\n  sortBySize = (e) => {\n    e.preventDefault();\n    const sortBy = 'size';\n    const sortOrder = this.props.sortOrder == 'asc' ? 'desc' : 'asc';\n    this.props.sortRepoList(sortBy, sortOrder);\n  };\n\n  renderRepoListView = () => {\n    return (\n      <Fragment>\n        {this.props.repoList.map(item => {\n          return (\n            <MylibRepoListItem\n              key={item.repo_id}\n              repo={item}\n              isItemFreezed={this.state.isItemFreezed}\n              onFreezedItem={this.onFreezedItem}\n              onUnfreezedItem={this.onUnfreezedItem}\n              onRenameRepo={this.props.onRenameRepo}\n              onDeleteRepo={this.props.onDeleteRepo}\n              onTransferRepo={this.props.onTransferRepo}\n              onMonitorRepo={this.props.onMonitorRepo}\n              onRepoClick={this.props.onRepoClick}\n            />\n          );\n        })}\n      </Fragment>\n    );\n  };\n\n  renderPCUI = () => {\n    const showStorageBackend = storages.length > 0;\n    const sortIcon = this.props.sortOrder === 'asc' ? <span className=\"fas fa-caret-up\"></span> : <span className=\"fas fa-caret-down\"></span>;\n    return (\n      <table>\n        <thead>\n          <tr>\n            <th width=\"4%\"></th>\n            <th width=\"4%\"><span className=\"sr-only\">{gettext('Library Type')}</span></th>\n            <th width={showStorageBackend ? '33%' : '38%'}><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByName}>{gettext('Name')} {this.props.sortBy === 'name' && sortIcon}</a></th>\n            <th width=\"14%\"><span className=\"sr-only\">{gettext('Actions')}</span></th>\n            <th width={showStorageBackend ? '15%' : '20%'}><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortBySize}>{gettext('Size')} {this.props.sortBy === 'size' && sortIcon}</a></th>\n            {showStorageBackend ? <th width=\"15%\">{gettext('Storage Backend')}</th> : null}\n            <th width={showStorageBackend ? '15%' : '20%'}><a className=\"d-block table-sort-op\" href=\"#\" onClick={this.sortByTime}>{gettext('Last Update')} {this.props.sortBy === 'time' && sortIcon}</a></th>\n          </tr>\n        </thead>\n        <tbody>\n          {this.renderRepoListView()}\n        </tbody>\n      </table>\n    );\n  };\n\n  renderMobileUI = () => {\n    return (\n      <table className=\"table-thead-hidden\">\n        <LibsMobileThead />\n        <tbody>\n          {this.renderRepoListView()}\n        </tbody>\n      </table>\n    );\n  };\n\n  render() {\n    return (\n      <Fragment>\n        <MediaQuery query=\"(min-width: 768px)\">\n          {this.renderPCUI()}\n        </MediaQuery>\n        <MediaQuery query=\"(max-width: 767.8px)\">\n          {this.renderMobileUI()}\n        </MediaQuery>\n      </Fragment>\n    );\n  }\n}\n\nMylibRepoListView.propTypes = propTypes;\n\nexport default MylibRepoListView;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}