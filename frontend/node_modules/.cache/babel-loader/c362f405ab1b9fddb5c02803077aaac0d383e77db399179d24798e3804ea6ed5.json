{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{gettext}from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var _window$app$pageOptio=window.app.pageOptions,nameLabel=_window$app$pageOptio.nameLabel,enableUpdateUserInfo=_window$app$pageOptio.enableUpdateUserInfo,enableUserSetContactEmail=_window$app$pageOptio.enableUserSetContactEmail,enableUserSetName=_window$app$pageOptio.enableUserSetName;var UserBasicInfoForm=/*#__PURE__*/function(_React$Component){_inherits(UserBasicInfoForm,_React$Component);var _super=_createSuper(UserBasicInfoForm);function UserBasicInfoForm(props){var _this;_classCallCheck(this,UserBasicInfoForm);_this=_super.call(this,props);_this.handleNameInputChange=function(e){_this.setState({name:e.target.value});};_this.handleContactEmailInputChange=function(e){_this.setState({contactEmail:e.target.value});};_this.handleSubmit=function(e){e.preventDefault();var data={};if(enableUserSetName){data.name=_this.state.name;}if(enableUserSetContactEmail){data.contact_email=_this.state.contactEmail;}_this.props.updateUserInfo(data);};var _this$props$userInfo=_this.props.userInfo,contact_email=_this$props$userInfo.contact_email,login_id=_this$props$userInfo.login_id,name=_this$props$userInfo.name;_this.state={contactEmail:contact_email,loginID:login_id,name:name};return _this;}_createClass(UserBasicInfoForm,[{key:\"render\",value:function render(){var _this$state=this.state,contactEmail=_this$state.contactEmail,loginID=_this$state.loginID,name=_this$state.name;return/*#__PURE__*/_jsxs(\"form\",{action:\"\",method:\"post\",onSubmit:this.handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-1 col-form-label\",htmlFor:\"name\",children:nameLabel}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-5\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",id:\"name\",type:\"text\",name:\"nickname\",value:name,disabled:!enableUpdateUserInfo||!enableUserSetName,onChange:this.handleNameInputChange})})]}),loginID&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-1 col-form-label\",htmlFor:\"user-name\",children:gettext('Username:')}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-5\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",id:\"user-name\",type:\"text\",name:\"username\",value:loginID,disabled:true,readOnly:true})}),/*#__PURE__*/_jsx(\"p\",{className:\"col-sm-5 m-0 input-tip\",children:gettext('You can use this field at login.')})]}),(contactEmail||enableUserSetContactEmail)&&/*#__PURE__*/_jsxs(\"div\",{className:\"form-group row\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"col-sm-1 col-form-label\",htmlFor:\"contact-email\",children:gettext('Contact Email:')}),/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-5\",children:/*#__PURE__*/_jsx(\"input\",{className:\"form-control\",id:\"contact-email\",type:\"text\",name:\"contact_email\",value:contactEmail,disabled:!enableUserSetContactEmail,readOnly:!enableUserSetContactEmail,onChange:this.handleContactEmailInputChange})}),/*#__PURE__*/_jsx(\"p\",{className:\"col-sm-5 m-0 input-tip\",children:gettext('Your notifications will be sent to this email.')})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-outline-primary offset-sm-1\",disabled:!enableUpdateUserInfo,children:gettext('Submit')})]});}}]);return UserBasicInfoForm;}(React.Component);export default UserBasicInfoForm;","map":{"version":3,"names":["React","gettext","jsx","_jsx","jsxs","_jsxs","_window$app$pageOptio","window","app","pageOptions","nameLabel","enableUpdateUserInfo","enableUserSetContactEmail","enableUserSetName","UserBasicInfoForm","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleNameInputChange","e","setState","name","target","value","handleContactEmailInputChange","contactEmail","handleSubmit","preventDefault","data","state","contact_email","updateUserInfo","_this$props$userInfo","userInfo","login_id","loginID","_createClass","key","render","_this$state","action","method","onSubmit","children","className","htmlFor","id","type","disabled","onChange","readOnly","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/user-settings/user-basic-info-form.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { gettext } from '../../utils/constants';\n\nconst {\n  nameLabel,\n  enableUpdateUserInfo,\n  enableUserSetContactEmail,\n  enableUserSetName\n} = window.app.pageOptions;\n\nclass UserBasicInfoForm extends React.Component {\n\n  constructor(props) {\n    super(props);\n    const {\n      contact_email,\n      login_id,\n      name\n    } = this.props.userInfo;\n    this.state = {\n      contactEmail: contact_email,\n      loginID: login_id,\n      name: name\n    };\n  }\n\n  handleNameInputChange = (e) => {\n    this.setState({\n      name: e.target.value\n    });\n  };\n\n  handleContactEmailInputChange = (e) => {\n    this.setState({\n      contactEmail: e.target.value\n    });\n  };\n\n  handleSubmit = (e) => {\n    e.preventDefault();\n    let data = {};\n    if (enableUserSetName) {\n      data.name = this.state.name;\n    }\n    if (enableUserSetContactEmail) {\n      data.contact_email = this.state.contactEmail;\n    }\n    this.props.updateUserInfo(data);\n  };\n\n  render() {\n    const {\n      contactEmail,\n      loginID,\n      name\n    } = this.state;\n\n    return (\n      <form action=\"\" method=\"post\" onSubmit={this.handleSubmit}>\n\n        <div className=\"form-group row\">\n          <label className=\"col-sm-1 col-form-label\" htmlFor=\"name\">{nameLabel}</label>\n          <div className=\"col-sm-5\">\n            <input className=\"form-control\" id=\"name\" type=\"text\" name=\"nickname\" value={name} disabled={!enableUpdateUserInfo || !enableUserSetName} onChange={this.handleNameInputChange} />\n          </div>\n        </div>\n\n        {loginID && (\n          <div className=\"form-group row\">\n            <label className=\"col-sm-1 col-form-label\" htmlFor=\"user-name\">{gettext('Username:')}</label>\n            <div className=\"col-sm-5\">\n              <input className=\"form-control\" id=\"user-name\" type=\"text\" name=\"username\" value={loginID} disabled={true} readOnly={true} />\n            </div>\n            <p className=\"col-sm-5 m-0 input-tip\">{gettext('You can use this field at login.')}</p>\n          </div>\n        )}\n\n        {(contactEmail || enableUserSetContactEmail) && (\n          <div className=\"form-group row\">\n            <label className=\"col-sm-1 col-form-label\" htmlFor=\"contact-email\">{gettext('Contact Email:')}</label>\n            <div className=\"col-sm-5\">\n              <input className=\"form-control\" id=\"contact-email\" type=\"text\" name=\"contact_email\" value={contactEmail} disabled={!enableUserSetContactEmail} readOnly={!enableUserSetContactEmail} onChange={this.handleContactEmailInputChange} />\n            </div>\n            <p className=\"col-sm-5 m-0 input-tip\">{gettext('Your notifications will be sent to this email.')}</p>\n          </div>\n        )}\n\n        <button type=\"submit\" className=\"btn btn-outline-primary offset-sm-1\" disabled={!enableUpdateUserInfo}>{gettext('Submit')}</button>\n      </form>\n    );\n  }\n}\n\nUserBasicInfoForm.propTypes = {\n  updateUserInfo: PropTypes.func.isRequired,\n  userInfo: PropTypes.object.isRequired,\n};\n\nexport default UserBasicInfoForm;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}