{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _classCallCheck = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/classCallCheck.js\").default;\nvar _createClass = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/createClass.js\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/defineProperty\"));\nvar _ObjectUtils;\nvar ObjectUtils = /*#__PURE__*/function () {\n  function ObjectUtils() {\n    _classCallCheck(this, ObjectUtils);\n  }\n  _createClass(ObjectUtils, null, [{\n    key: \"getDataType\",\n    value: function getDataType(data) {\n      var type = typeof data;\n      if (type !== 'object') {\n        return type;\n      }\n      return Object.prototype.toString.call(data).replace(/^\\[object (\\S+)\\]$/, '$1');\n    }\n  }, {\n    key: \"iterable\",\n    value: function iterable(data) {\n      return ['Object', 'Array'].includes(this.getDataType(data));\n    }\n  }, {\n    key: \"isObjectChanged\",\n    value: function isObjectChanged(source, comparison, notIncludeKeys) {\n      var _this = this;\n      if (!this.iterable(source)) {\n        throw new Error(\"source should be a Object or Array , but got \".concat(this.getDataType(source)));\n      }\n      if (this.getDataType(source) !== this.getDataType(comparison)) {\n        return true;\n      }\n      var sourceKeys = Object.keys(source);\n      var comparisonKeys = Object.keys(_objectSpread(_objectSpread({}, source), comparison)).filter(function (key) {\n        return !notIncludeKeys.includes(key);\n      });\n      if (sourceKeys.length !== comparisonKeys.length) {\n        return true;\n      }\n      return comparisonKeys.some(function (key) {\n        if (_this.iterable(source[key])) {\n          return _this.isObjectChanged(source[key], comparison[key], notIncludeKeys);\n        } else {\n          return source[key] !== comparison[key];\n        }\n      });\n    }\n  }, {\n    key: \"isSameObject\",\n    value: function isSameObject(source, comparison) {\n      var notIncludeKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      if (!source || !comparison) return false;\n      return !this.isObjectChanged(source, comparison, notIncludeKeys);\n    }\n  }]);\n  return ObjectUtils;\n}();\n_ObjectUtils = ObjectUtils;\n(0, _defineProperty2.default)(ObjectUtils, \"isObject\", function (data) {\n  return _ObjectUtils.getDataType(data) === 'Object';\n});\n(0, _defineProperty2.default)(ObjectUtils, \"hasProperty\", function (obj, prop) {\n  if (!obj) return false;\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n});\nvar _default = exports.default = ObjectUtils;","map":{"version":3,"names":["_objectSpread","require","default","_classCallCheck","_createClass","_interopRequireDefault","Object","defineProperty","exports","value","_defineProperty2","_ObjectUtils","ObjectUtils","key","getDataType","data","type","prototype","toString","call","replace","iterable","includes","isObjectChanged","source","comparison","notIncludeKeys","_this","Error","concat","sourceKeys","keys","comparisonKeys","filter","length","some","isSameObject","arguments","undefined","obj","prop","hasOwnProperty","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/utils/object-utils.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _defineProperty2 = _interopRequireDefault(require(\"@babel/runtime/helpers/esm/defineProperty\"));\nvar _ObjectUtils;\nclass ObjectUtils {\n  static getDataType(data) {\n    let type = typeof data;\n    if (type !== 'object') {\n      return type;\n    }\n    return Object.prototype.toString.call(data).replace(/^\\[object (\\S+)\\]$/, '$1');\n  }\n  static iterable(data) {\n    return ['Object', 'Array'].includes(this.getDataType(data));\n  }\n  static isObjectChanged(source, comparison, notIncludeKeys) {\n    if (!this.iterable(source)) {\n      throw new Error(\"source should be a Object or Array , but got \".concat(this.getDataType(source)));\n    }\n    if (this.getDataType(source) !== this.getDataType(comparison)) {\n      return true;\n    }\n    const sourceKeys = Object.keys(source);\n    const comparisonKeys = Object.keys({\n      ...source,\n      ...comparison\n    }).filter(key => !notIncludeKeys.includes(key));\n    if (sourceKeys.length !== comparisonKeys.length) {\n      return true;\n    }\n    return comparisonKeys.some(key => {\n      if (this.iterable(source[key])) {\n        return this.isObjectChanged(source[key], comparison[key], notIncludeKeys);\n      } else {\n        return source[key] !== comparison[key];\n      }\n    });\n  }\n  static isSameObject(source, comparison) {\n    let notIncludeKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (!source || !comparison) return false;\n    return !this.isObjectChanged(source, comparison, notIncludeKeys);\n  }\n}\n_ObjectUtils = ObjectUtils;\n(0, _defineProperty2.default)(ObjectUtils, \"isObject\", data => {\n  return _ObjectUtils.getDataType(data) === 'Object';\n});\n(0, _defineProperty2.default)(ObjectUtils, \"hasProperty\", (obj, prop) => {\n  if (!obj) return false;\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n});\nvar _default = exports.default = ObjectUtils;"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,aAAA,GAAAC,OAAA,0HAAAC,OAAA;AAAA,IAAAC,eAAA,GAAAF,OAAA,2HAAAC,OAAA;AAAA,IAAAE,YAAA,GAAAH,OAAA,wHAAAC,OAAA;AAEb,IAAIG,sBAAsB,GAAGJ,OAAO,CAAC,8CAA8C,CAAC,CAACC,OAAO;AAC5FI,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACN,OAAO,GAAG,KAAK,CAAC;AACxB,IAAIQ,gBAAgB,GAAGL,sBAAsB,CAACJ,OAAO,CAAC,2CAA2C,CAAC,CAAC;AACnG,IAAIU,YAAY;AAAC,IACXC,WAAW;EAAA,SAAAA,YAAA;IAAAT,eAAA,OAAAS,WAAA;EAAA;EAAAR,YAAA,CAAAQ,WAAA;IAAAC,GAAA;IAAAJ,KAAA,EACf,SAAAK,YAAmBC,IAAI,EAAE;MACvB,IAAIC,IAAI,GAAG,OAAOD,IAAI;MACtB,IAAIC,IAAI,KAAK,QAAQ,EAAE;QACrB,OAAOA,IAAI;MACb;MACA,OAAOV,MAAM,CAACW,SAAS,CAACC,QAAQ,CAACC,IAAI,CAACJ,IAAI,CAAC,CAACK,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC;IACjF;EAAC;IAAAP,GAAA;IAAAJ,KAAA,EACD,SAAAY,SAAgBN,IAAI,EAAE;MACpB,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,CAACO,QAAQ,CAAC,IAAI,CAACR,WAAW,CAACC,IAAI,CAAC,CAAC;IAC7D;EAAC;IAAAF,GAAA;IAAAJ,KAAA,EACD,SAAAc,gBAAuBC,MAAM,EAAEC,UAAU,EAAEC,cAAc,EAAE;MAAA,IAAAC,KAAA;MACzD,IAAI,CAAC,IAAI,CAACN,QAAQ,CAACG,MAAM,CAAC,EAAE;QAC1B,MAAM,IAAII,KAAK,CAAC,+CAA+C,CAACC,MAAM,CAAC,IAAI,CAACf,WAAW,CAACU,MAAM,CAAC,CAAC,CAAC;MACnG;MACA,IAAI,IAAI,CAACV,WAAW,CAACU,MAAM,CAAC,KAAK,IAAI,CAACV,WAAW,CAACW,UAAU,CAAC,EAAE;QAC7D,OAAO,IAAI;MACb;MACA,IAAMK,UAAU,GAAGxB,MAAM,CAACyB,IAAI,CAACP,MAAM,CAAC;MACtC,IAAMQ,cAAc,GAAG1B,MAAM,CAACyB,IAAI,CAAA/B,aAAA,CAAAA,aAAA,KAC7BwB,MAAM,GACNC,UAAU,CACd,CAAC,CAACQ,MAAM,CAAC,UAAApB,GAAG;QAAA,OAAI,CAACa,cAAc,CAACJ,QAAQ,CAACT,GAAG,CAAC;MAAA,EAAC;MAC/C,IAAIiB,UAAU,CAACI,MAAM,KAAKF,cAAc,CAACE,MAAM,EAAE;QAC/C,OAAO,IAAI;MACb;MACA,OAAOF,cAAc,CAACG,IAAI,CAAC,UAAAtB,GAAG,EAAI;QAChC,IAAIc,KAAI,CAACN,QAAQ,CAACG,MAAM,CAACX,GAAG,CAAC,CAAC,EAAE;UAC9B,OAAOc,KAAI,CAACJ,eAAe,CAACC,MAAM,CAACX,GAAG,CAAC,EAAEY,UAAU,CAACZ,GAAG,CAAC,EAAEa,cAAc,CAAC;QAC3E,CAAC,MAAM;UACL,OAAOF,MAAM,CAACX,GAAG,CAAC,KAAKY,UAAU,CAACZ,GAAG,CAAC;QACxC;MACF,CAAC,CAAC;IACJ;EAAC;IAAAA,GAAA;IAAAJ,KAAA,EACD,SAAA2B,aAAoBZ,MAAM,EAAEC,UAAU,EAAE;MACtC,IAAIC,cAAc,GAAGW,SAAS,CAACH,MAAM,GAAG,CAAC,IAAIG,SAAS,CAAC,CAAC,CAAC,KAAKC,SAAS,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE;MAC3F,IAAI,CAACb,MAAM,IAAI,CAACC,UAAU,EAAE,OAAO,KAAK;MACxC,OAAO,CAAC,IAAI,CAACF,eAAe,CAACC,MAAM,EAAEC,UAAU,EAAEC,cAAc,CAAC;IAClE;EAAC;EAAA,OAAAd,WAAA;AAAA;AAEHD,YAAY,GAAGC,WAAW;AAC1B,CAAC,CAAC,EAAEF,gBAAgB,CAACR,OAAO,EAAEU,WAAW,EAAE,UAAU,EAAE,UAAAG,IAAI,EAAI;EAC7D,OAAOJ,YAAY,CAACG,WAAW,CAACC,IAAI,CAAC,KAAK,QAAQ;AACpD,CAAC,CAAC;AACF,CAAC,CAAC,EAAEL,gBAAgB,CAACR,OAAO,EAAEU,WAAW,EAAE,aAAa,EAAE,UAAC2B,GAAG,EAAEC,IAAI,EAAK;EACvE,IAAI,CAACD,GAAG,EAAE,OAAO,KAAK;EACtB,OAAOjC,MAAM,CAACW,SAAS,CAACwB,cAAc,CAACtB,IAAI,CAACoB,GAAG,EAAEC,IAAI,CAAC;AACxD,CAAC,CAAC;AACF,IAAIE,QAAQ,GAAGlC,OAAO,CAACN,OAAO,GAAGU,WAAW"},"metadata":{},"sourceType":"script","externalDependencies":[]}