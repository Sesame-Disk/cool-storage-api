{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _require = require('react'),\n  useEffect = _require.useEffect;\nvar _require2 = require('../constants/event-types'),\n  EXTERNAL_EVENTS = _require2.EXTERNAL_EVENTS;\nvar _require3 = require('../utils/event-bus'),\n  EventBus = _require3.default;\nvar useLinkClick = function useLinkClick(callback) {\n  useEffect(function () {\n    function onLinkClick(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      var link = '';\n      var target = event.target;\n      while (!target.dataset || !target.dataset.url) {\n        target = target.parentNode;\n      }\n      if (!target) return;\n      link = target.dataset.url;\n      if (callback) {\n        callback(link);\n      } else {\n        window.open(link);\n      }\n    }\n    var eventBus = EventBus.getInstance();\n    var unsubscribe = eventBus.subscribe(EXTERNAL_EVENTS.ON_LINK_CLICK, onLinkClick);\n    return unsubscribe;\n  }, [callback]);\n};\nvar _default = exports.default = useLinkClick;","map":{"version":3,"names":["Object","defineProperty","exports","value","default","_require","require","useEffect","_require2","EXTERNAL_EVENTS","_require3","EventBus","useLinkClick","callback","onLinkClick","event","preventDefault","stopPropagation","link","target","dataset","url","parentNode","window","open","eventBus","getInstance","unsubscribe","subscribe","ON_LINK_CLICK","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/hooks/user-link-click.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nconst {\n  useEffect\n} = require('react');\nconst {\n  EXTERNAL_EVENTS\n} = require('../constants/event-types');\nconst {\n  default: EventBus\n} = require('../utils/event-bus');\nconst useLinkClick = callback => {\n  useEffect(() => {\n    function onLinkClick(event) {\n      event.preventDefault();\n      event.stopPropagation();\n      let link = '';\n      let target = event.target;\n      while (!target.dataset || !target.dataset.url) {\n        target = target.parentNode;\n      }\n      if (!target) return;\n      link = target.dataset.url;\n      if (callback) {\n        callback(link);\n      } else {\n        window.open(link);\n      }\n    }\n    const eventBus = EventBus.getInstance();\n    const unsubscribe = eventBus.subscribe(EXTERNAL_EVENTS.ON_LINK_CLICK, onLinkClick);\n    return unsubscribe;\n  }, [callback]);\n};\nvar _default = exports.default = useLinkClick;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,OAAO,GAAG,KAAK,CAAC;AACxB,IAAAC,QAAA,GAEIC,OAAO,CAAC,OAAO,CAAC;EADlBC,SAAS,GAAAF,QAAA,CAATE,SAAS;AAEX,IAAAC,SAAA,GAEIF,OAAO,CAAC,0BAA0B,CAAC;EADrCG,eAAe,GAAAD,SAAA,CAAfC,eAAe;AAEjB,IAAAC,SAAA,GAEIJ,OAAO,CAAC,oBAAoB,CAAC;EADtBK,QAAQ,GAAAD,SAAA,CAAjBN,OAAO;AAET,IAAMQ,YAAY,GAAG,SAAfA,YAAYA,CAAGC,QAAQ,EAAI;EAC/BN,SAAS,CAAC,YAAM;IACd,SAASO,WAAWA,CAACC,KAAK,EAAE;MAC1BA,KAAK,CAACC,cAAc,CAAC,CAAC;MACtBD,KAAK,CAACE,eAAe,CAAC,CAAC;MACvB,IAAIC,IAAI,GAAG,EAAE;MACb,IAAIC,MAAM,GAAGJ,KAAK,CAACI,MAAM;MACzB,OAAO,CAACA,MAAM,CAACC,OAAO,IAAI,CAACD,MAAM,CAACC,OAAO,CAACC,GAAG,EAAE;QAC7CF,MAAM,GAAGA,MAAM,CAACG,UAAU;MAC5B;MACA,IAAI,CAACH,MAAM,EAAE;MACbD,IAAI,GAAGC,MAAM,CAACC,OAAO,CAACC,GAAG;MACzB,IAAIR,QAAQ,EAAE;QACZA,QAAQ,CAACK,IAAI,CAAC;MAChB,CAAC,MAAM;QACLK,MAAM,CAACC,IAAI,CAACN,IAAI,CAAC;MACnB;IACF;IACA,IAAMO,QAAQ,GAAGd,QAAQ,CAACe,WAAW,CAAC,CAAC;IACvC,IAAMC,WAAW,GAAGF,QAAQ,CAACG,SAAS,CAACnB,eAAe,CAACoB,aAAa,EAAEf,WAAW,CAAC;IAClF,OAAOa,WAAW;EACpB,CAAC,EAAE,CAACd,QAAQ,CAAC,CAAC;AAChB,CAAC;AACD,IAAIiB,QAAQ,GAAG5B,OAAO,CAACE,OAAO,GAAGQ,YAAY"},"metadata":{},"sourceType":"script","externalDependencies":[]}