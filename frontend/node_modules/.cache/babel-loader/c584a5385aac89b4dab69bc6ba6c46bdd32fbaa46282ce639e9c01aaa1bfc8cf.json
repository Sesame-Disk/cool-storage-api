{"ast":null,"code":"import _slicedToArray from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useCallback,useState}from'react';import{Link}from'@gatsbyjs/reach-router';import moment from'moment';import{Utils}from'../../../utils/utils';import{enableSysAdminViewRepo,gettext,isPro,siteRoot}from'../../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserRepoItem=function UserRepoItem(_ref){var repo=_ref.repo;var _useState=useState(false),_useState2=_slicedToArray(_useState,2),highlight=_useState2[0],setHighlight=_useState2[1];var handleMouseEnter=useCallback(function(){setHighlight(true);},[]);var handleMouseLeave=useCallback(function(){setHighlight(false);},[]);var renderRepoName=function renderRepoName(repo){if(repo.name){if(isPro&&enableSysAdminViewRepo&&!repo.encrypted){return/*#__PURE__*/_jsx(Link,{to:\"\".concat(siteRoot,\"sys/libraries/\").concat(repo.id,\"/\"),children:repo.name});}else{return repo.name;}}else{return gettext('Broken ({repo_id_placeholder})').replace('{repo_id_placeholder}',repo.id);}};var iconUrl=Utils.getLibIconUrl(repo);var iconTitle=Utils.getLibIconTitle(repo);return/*#__PURE__*/_jsxs(\"tr\",{className:highlight?'tr-highlight':'',onMouseEnter:handleMouseEnter,onMouseLeave:handleMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"img\",{src:iconUrl,title:iconTitle,alt:iconTitle,width:\"24\"})}),/*#__PURE__*/_jsx(\"td\",{children:renderRepoName(repo)}),/*#__PURE__*/_jsx(\"td\",{children:Utils.bytesToSize(repo.size)}),/*#__PURE__*/_jsx(\"td\",{children:moment(repo.last_modified).fromNow()}),/*#__PURE__*/_jsx(\"td\",{\"data-id\":repo.id,\"data-name\":repo.name})]},repo.id);};export default UserRepoItem;","map":{"version":3,"names":["React","useCallback","useState","Link","moment","Utils","enableSysAdminViewRepo","gettext","isPro","siteRoot","jsx","_jsx","jsxs","_jsxs","UserRepoItem","_ref","repo","_useState","_useState2","_slicedToArray","highlight","setHighlight","handleMouseEnter","handleMouseLeave","renderRepoName","name","encrypted","to","concat","id","children","replace","iconUrl","getLibIconUrl","iconTitle","getLibIconTitle","className","onMouseEnter","onMouseLeave","src","title","alt","width","bytesToSize","size","last_modified","fromNow"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/institution-admin/user-content/user-repo-item.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { Link } from '@gatsbyjs/reach-router';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { enableSysAdminViewRepo, gettext, isPro, siteRoot } from '../../../utils/constants';\n\nconst UserRepoItem = ({ repo }) => {\n\n  const [highlight, setHighlight] = useState(false);\n\n  const handleMouseEnter = useCallback(() => {\n    setHighlight(true);\n  }, []);\n\n  const handleMouseLeave = useCallback(() => {\n    setHighlight(false);\n  }, []);\n\n  const renderRepoName = (repo) => {\n    if (repo.name) {\n      if (isPro && enableSysAdminViewRepo && !repo.encrypted) {\n        return <Link to={`${siteRoot}sys/libraries/${repo.id}/`}>{repo.name}</Link>;\n      } else {\n        return repo.name;\n      }\n    } else {\n      return gettext('Broken ({repo_id_placeholder})').replace('{repo_id_placeholder}', repo.id);\n    }\n  };\n\n  const iconUrl = Utils.getLibIconUrl(repo);\n  const iconTitle = Utils.getLibIconTitle(repo);\n\n  return (\n    <tr key={repo.id} className={highlight ? 'tr-highlight' : ''} onMouseEnter={handleMouseEnter} onMouseLeave={handleMouseLeave}>\n      <td><img src={iconUrl} title={iconTitle} alt={iconTitle} width=\"24\" /></td>\n      <td>{renderRepoName(repo)}</td>\n      <td>{Utils.bytesToSize(repo.size)}</td>\n      <td>{moment(repo.last_modified).fromNow()}</td>\n      <td data-id={repo.id} data-name={repo.name}></td>\n    </tr>\n  );\n};\n\nUserRepoItem.propTypes = {\n  repo: PropTypes.object,\n};\n\nexport default UserRepoItem;\n"],"mappings":"sJAAA,MAAO,CAAAA,KAAK,EAAIC,WAAW,CAAEC,QAAQ,KAAQ,OAAO,CACpD,OAASC,IAAI,KAAQ,wBAAwB,CAE7C,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,OAASC,KAAK,KAAQ,sBAAsB,CAC5C,OAASC,sBAAsB,CAAEC,OAAO,CAAEC,KAAK,CAAEC,QAAQ,KAAQ,0BAA0B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE5F,GAAM,CAAAC,YAAY,CAAG,QAAf,CAAAA,YAAYA,CAAAC,IAAA,CAAiB,IAAX,CAAAC,IAAI,CAAAD,IAAA,CAAJC,IAAI,CAE1B,IAAAC,SAAA,CAAkCf,QAAQ,CAAC,KAAK,CAAC,CAAAgB,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA1CG,SAAS,CAAAF,UAAA,IAAEG,YAAY,CAAAH,UAAA,IAE9B,GAAM,CAAAI,gBAAgB,CAAGrB,WAAW,CAAC,UAAM,CACzCoB,YAAY,CAAC,IAAI,CAAC,CACpB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAE,gBAAgB,CAAGtB,WAAW,CAAC,UAAM,CACzCoB,YAAY,CAAC,KAAK,CAAC,CACrB,CAAC,CAAE,EAAE,CAAC,CAEN,GAAM,CAAAG,cAAc,CAAG,QAAjB,CAAAA,cAAcA,CAAIR,IAAI,CAAK,CAC/B,GAAIA,IAAI,CAACS,IAAI,CAAE,CACb,GAAIjB,KAAK,EAAIF,sBAAsB,EAAI,CAACU,IAAI,CAACU,SAAS,CAAE,CACtD,mBAAOf,IAAA,CAACR,IAAI,EAACwB,EAAE,IAAAC,MAAA,CAAKnB,QAAQ,mBAAAmB,MAAA,CAAiBZ,IAAI,CAACa,EAAE,KAAI,CAAAC,QAAA,CAAEd,IAAI,CAACS,IAAI,CAAO,CAAC,CAC7E,CAAC,IAAM,CACL,MAAO,CAAAT,IAAI,CAACS,IAAI,CAClB,CACF,CAAC,IAAM,CACL,MAAO,CAAAlB,OAAO,CAAC,gCAAgC,CAAC,CAACwB,OAAO,CAAC,uBAAuB,CAAEf,IAAI,CAACa,EAAE,CAAC,CAC5F,CACF,CAAC,CAED,GAAM,CAAAG,OAAO,CAAG3B,KAAK,CAAC4B,aAAa,CAACjB,IAAI,CAAC,CACzC,GAAM,CAAAkB,SAAS,CAAG7B,KAAK,CAAC8B,eAAe,CAACnB,IAAI,CAAC,CAE7C,mBACEH,KAAA,OAAkBuB,SAAS,CAAEhB,SAAS,CAAG,cAAc,CAAG,EAAG,CAACiB,YAAY,CAAEf,gBAAiB,CAACgB,YAAY,CAAEf,gBAAiB,CAAAO,QAAA,eAC3HnB,IAAA,OAAAmB,QAAA,cAAInB,IAAA,QAAK4B,GAAG,CAAEP,OAAQ,CAACQ,KAAK,CAAEN,SAAU,CAACO,GAAG,CAAEP,SAAU,CAACQ,KAAK,CAAC,IAAI,CAAE,CAAC,CAAI,CAAC,cAC3E/B,IAAA,OAAAmB,QAAA,CAAKN,cAAc,CAACR,IAAI,CAAC,CAAK,CAAC,cAC/BL,IAAA,OAAAmB,QAAA,CAAKzB,KAAK,CAACsC,WAAW,CAAC3B,IAAI,CAAC4B,IAAI,CAAC,CAAK,CAAC,cACvCjC,IAAA,OAAAmB,QAAA,CAAK1B,MAAM,CAACY,IAAI,CAAC6B,aAAa,CAAC,CAACC,OAAO,CAAC,CAAC,CAAK,CAAC,cAC/CnC,IAAA,OAAI,UAASK,IAAI,CAACa,EAAG,CAAC,YAAWb,IAAI,CAACS,IAAK,CAAK,CAAC,GAL1CT,IAAI,CAACa,EAMV,CAAC,CAET,CAAC,CAMD,cAAe,CAAAf,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}