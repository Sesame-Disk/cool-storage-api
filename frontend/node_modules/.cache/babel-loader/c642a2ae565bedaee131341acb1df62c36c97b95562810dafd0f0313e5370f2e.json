{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.movedListItemDown = void 0;\nvar _slate = require(\"slate\");\nvar _core = require(\"../../../core\");\nvar _constant = require(\"../constant\");\nvar movedListItemDown = function movedListItemDown(editor, _ref) {\n  var list = _ref.list,\n    listItem = _ref.listItem;\n  var moved = false;\n  var _list = _slicedToArray(list, 1),\n    listNode = _list[0];\n  var _listItem = _slicedToArray(listItem, 2),\n    listItemPath = _listItem[1];\n  var previousListItemPath = null;\n  try {\n    previousListItemPath = _slate.Path.previous(listItemPath);\n  } catch (e) {\n    return;\n  }\n  var previousSiblingItem = _slate.Editor.node(editor, previousListItemPath);\n  if (previousSiblingItem) {\n    var _previousSiblingItem = _slicedToArray(previousSiblingItem, 2),\n      previousNode = _previousSiblingItem[0],\n      previousPath = _previousSiblingItem[1];\n    var subList = previousNode.children.find(function (n) {\n      return _constant.LIST_TYPES.includes(n.type);\n    });\n    var newPath = previousPath.concat(subList ? [1, subList.children.length] : [1]);\n    _slate.Editor.withoutNormalizing(editor, function () {\n      if (!subList) {\n        // Insert a list child element\n        var _list2 = (0, _core.generateElement)(listNode.type, {\n          childrenOrText: []\n        });\n        _slate.Transforms.wrapNodes(editor, _list2, {\n          at: listItemPath\n        });\n      }\n      _slate.Transforms.moveNodes(editor, {\n        at: listItemPath,\n        to: newPath\n      });\n      moved = true;\n    });\n  }\n  return moved;\n};\nexports.movedListItemDown = movedListItemDown;","map":{"version":3,"names":["_slicedToArray","require","default","Object","defineProperty","exports","value","movedListItemDown","_slate","_core","_constant","editor","_ref","list","listItem","moved","_list","listNode","_listItem","listItemPath","previousListItemPath","Path","previous","e","previousSiblingItem","Editor","node","_previousSiblingItem","previousNode","previousPath","subList","children","find","n","LIST_TYPES","includes","type","newPath","concat","length","withoutNormalizing","generateElement","childrenOrText","Transforms","wrapNodes","at","moveNodes","to"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/list/transforms/move-list-item-down.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.movedListItemDown = void 0;\nvar _slate = require(\"slate\");\nvar _core = require(\"../../../core\");\nvar _constant = require(\"../constant\");\nconst movedListItemDown = (editor, _ref) => {\n  let {\n    list,\n    listItem\n  } = _ref;\n  let moved = false;\n  const [listNode] = list;\n  const [, listItemPath] = listItem;\n  let previousListItemPath = null;\n  try {\n    previousListItemPath = _slate.Path.previous(listItemPath);\n  } catch (e) {\n    return;\n  }\n  const previousSiblingItem = _slate.Editor.node(editor, previousListItemPath);\n  if (previousSiblingItem) {\n    const [previousNode, previousPath] = previousSiblingItem;\n    const subList = previousNode.children.find(n => {\n      return _constant.LIST_TYPES.includes(n.type);\n    });\n    const newPath = previousPath.concat(subList ? [1, subList.children.length] : [1]);\n    _slate.Editor.withoutNormalizing(editor, () => {\n      if (!subList) {\n        // Insert a list child element\n        const list = (0, _core.generateElement)(listNode.type, {\n          childrenOrText: []\n        });\n        _slate.Transforms.wrapNodes(editor, list, {\n          at: listItemPath\n        });\n      }\n      _slate.Transforms.moveNodes(editor, {\n        at: listItemPath,\n        to: newPath\n      });\n      moved = true;\n    });\n  }\n  return moved;\n};\nexports.movedListItemDown = movedListItemDown;"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,cAAA,GAAAC,OAAA,0HAAAC,OAAA;AAEbC,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,iBAAiB,GAAG,KAAK,CAAC;AAClC,IAAIC,MAAM,GAAGP,OAAO,CAAC,OAAO,CAAC;AAC7B,IAAIQ,KAAK,GAAGR,OAAO,CAAC,eAAe,CAAC;AACpC,IAAIS,SAAS,GAAGT,OAAO,CAAC,aAAa,CAAC;AACtC,IAAMM,iBAAiB,GAAG,SAApBA,iBAAiBA,CAAII,MAAM,EAAEC,IAAI,EAAK;EAC1C,IACEC,IAAI,GAEFD,IAAI,CAFNC,IAAI;IACJC,QAAQ,GACNF,IAAI,CADNE,QAAQ;EAEV,IAAIC,KAAK,GAAG,KAAK;EACjB,IAAAC,KAAA,GAAAhB,cAAA,CAAmBa,IAAI;IAAhBI,QAAQ,GAAAD,KAAA;EACf,IAAAE,SAAA,GAAAlB,cAAA,CAAyBc,QAAQ;IAAxBK,YAAY,GAAAD,SAAA;EACrB,IAAIE,oBAAoB,GAAG,IAAI;EAC/B,IAAI;IACFA,oBAAoB,GAAGZ,MAAM,CAACa,IAAI,CAACC,QAAQ,CAACH,YAAY,CAAC;EAC3D,CAAC,CAAC,OAAOI,CAAC,EAAE;IACV;EACF;EACA,IAAMC,mBAAmB,GAAGhB,MAAM,CAACiB,MAAM,CAACC,IAAI,CAACf,MAAM,EAAES,oBAAoB,CAAC;EAC5E,IAAII,mBAAmB,EAAE;IACvB,IAAAG,oBAAA,GAAA3B,cAAA,CAAqCwB,mBAAmB;MAAjDI,YAAY,GAAAD,oBAAA;MAAEE,YAAY,GAAAF,oBAAA;IACjC,IAAMG,OAAO,GAAGF,YAAY,CAACG,QAAQ,CAACC,IAAI,CAAC,UAAAC,CAAC,EAAI;MAC9C,OAAOvB,SAAS,CAACwB,UAAU,CAACC,QAAQ,CAACF,CAAC,CAACG,IAAI,CAAC;IAC9C,CAAC,CAAC;IACF,IAAMC,OAAO,GAAGR,YAAY,CAACS,MAAM,CAACR,OAAO,GAAG,CAAC,CAAC,EAAEA,OAAO,CAACC,QAAQ,CAACQ,MAAM,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;IACjF/B,MAAM,CAACiB,MAAM,CAACe,kBAAkB,CAAC7B,MAAM,EAAE,YAAM;MAC7C,IAAI,CAACmB,OAAO,EAAE;QACZ;QACA,IAAMjB,MAAI,GAAG,CAAC,CAAC,EAAEJ,KAAK,CAACgC,eAAe,EAAExB,QAAQ,CAACmB,IAAI,EAAE;UACrDM,cAAc,EAAE;QAClB,CAAC,CAAC;QACFlC,MAAM,CAACmC,UAAU,CAACC,SAAS,CAACjC,MAAM,EAAEE,MAAI,EAAE;UACxCgC,EAAE,EAAE1B;QACN,CAAC,CAAC;MACJ;MACAX,MAAM,CAACmC,UAAU,CAACG,SAAS,CAACnC,MAAM,EAAE;QAClCkC,EAAE,EAAE1B,YAAY;QAChB4B,EAAE,EAAEV;MACN,CAAC,CAAC;MACFtB,KAAK,GAAG,IAAI;IACd,CAAC,CAAC;EACJ;EACA,OAAOA,KAAK;AACd,CAAC;AACDV,OAAO,CAACE,iBAAiB,GAAGA,iBAAiB"},"metadata":{},"sourceType":"script","externalDependencies":[]}