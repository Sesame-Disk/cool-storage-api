{"ast":null,"code":"\"use strict\";\n\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactstrap = require(\"reactstrap\");\nvar _reactI18next = require(\"react-i18next\");\nvar _isUrl = _interopRequireDefault(require(\"is-url\"));\nvar _helper = require(\"../helper\");\nvar _constants = require(\"../../../../constants\");\nvar ImageMenuInsertInternetDialog = function ImageMenuInsertInternetDialog(_ref) {\n  var editor = _ref.editor,\n    onToggleImageDialog = _ref.onToggleImageDialog,\n    className = _ref.className;\n  var _ref2 = (0, _react.useState)(''),\n    _ref3 = _slicedToArray(_ref2, 2),\n    imageUrl = _ref3[0],\n    setSetImageUrl = _ref3[1];\n  var imgUrlInputRef = (0, _react.useRef)(null);\n  var _ref4 = (0, _reactI18next.useTranslation)(_constants.TRANSLATE_NAMESPACE),\n    t = _ref4.t;\n  var isCommitBtnDisabled = (0, _react.useMemo)(function () {\n    if (imageUrl.length === 0) return true;\n    if (!(0, _isUrl.default)(imageUrl)) return true;\n    return false;\n  }, [imageUrl]);\n  var onModalOpened = function onModalOpened() {\n    var _imgUrlInputRef$curre;\n    imgUrlInputRef === null || imgUrlInputRef === void 0 ? void 0 : (_imgUrlInputRef$curre = imgUrlInputRef.current) === null || _imgUrlInputRef$curre === void 0 ? void 0 : _imgUrlInputRef$curre.focus();\n  };\n  var handleSubmit = function handleSubmit(e) {\n    if (!(0, _isUrl.default)(imageUrl)) return false;\n    if (imageUrl.length === 0) return;\n    (0, _helper.insertImage)(editor, imageUrl);\n    onToggleImageDialog();\n  };\n  var handleInputKeyDown = function handleInputKeyDown(e) {\n    if (e.key === 'Enter') {\n      handleSubmit(e);\n    }\n  };\n  var onModalContainerMouseDown = function onModalContainerMouseDown(e) {\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n  };\n  return /*#__PURE__*/_react.default.createElement(_reactstrap.Modal, {\n    onMouseDown: onModalContainerMouseDown,\n    isOpen: true,\n    toggle: onToggleImageDialog,\n    className: className,\n    zIndex: 1071,\n    onOpened: onModalOpened,\n    onClosed: onToggleImageDialog\n  }, /*#__PURE__*/_react.default.createElement(_reactstrap.ModalHeader, {\n    toggle: onToggleImageDialog\n  }, t('Insert_image')), /*#__PURE__*/_react.default.createElement(_reactstrap.ModalBody, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Form, null, /*#__PURE__*/_react.default.createElement(_reactstrap.FormGroup, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Label, {\n    for: \"imageUrlInput\"\n  }, t('Image_address')), /*#__PURE__*/_react.default.createElement(_reactstrap.Input, {\n    invalid: !!imageUrl && isCommitBtnDisabled,\n    type: \"url\",\n    onKeyDown: handleInputKeyDown,\n    id: \"imageUrlInput\",\n    innerRef: imgUrlInputRef,\n    value: imageUrl,\n    onChange: function onChange(e) {\n      return setSetImageUrl(e.target.value.trim());\n    }\n  }), /*#__PURE__*/_react.default.createElement(_reactstrap.FormFeedback, null, t('Image_address_invalid'))))), /*#__PURE__*/_react.default.createElement(_reactstrap.ModalFooter, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Button, {\n    color: \"secondary\",\n    onClick: onToggleImageDialog\n  }, t('Cancel')), /*#__PURE__*/_react.default.createElement(_reactstrap.Button, {\n    color: \"primary\",\n    disabled: isCommitBtnDisabled,\n    onClick: handleSubmit\n  }, t('Submit'))));\n};\nImageMenuInsertInternetDialog.defaultProps = {\n  classname: ''\n};\nvar _default = exports.default = ImageMenuInsertInternetDialog;","map":{"version":3,"names":["_slicedToArray","require","default","_interopRequireDefault","_interopRequireWildcard","Object","defineProperty","exports","value","_react","_reactstrap","_reactI18next","_isUrl","_helper","_constants","ImageMenuInsertInternetDialog","_ref","editor","onToggleImageDialog","className","_ref2","useState","_ref3","imageUrl","setSetImageUrl","imgUrlInputRef","useRef","_ref4","useTranslation","TRANSLATE_NAMESPACE","t","isCommitBtnDisabled","useMemo","length","onModalOpened","_imgUrlInputRef$curre","current","focus","handleSubmit","e","insertImage","handleInputKeyDown","key","onModalContainerMouseDown","stopPropagation","nativeEvent","stopImmediatePropagation","createElement","Modal","onMouseDown","isOpen","toggle","zIndex","onOpened","onClosed","ModalHeader","ModalBody","Form","FormGroup","Label","for","Input","invalid","type","onKeyDown","id","innerRef","onChange","target","trim","FormFeedback","ModalFooter","Button","color","onClick","disabled","defaultProps","classname","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/image/menu/image-menu-dialog.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactstrap = require(\"reactstrap\");\nvar _reactI18next = require(\"react-i18next\");\nvar _isUrl = _interopRequireDefault(require(\"is-url\"));\nvar _helper = require(\"../helper\");\nvar _constants = require(\"../../../../constants\");\nconst ImageMenuInsertInternetDialog = _ref => {\n  let {\n    editor,\n    onToggleImageDialog,\n    className\n  } = _ref;\n  const [imageUrl, setSetImageUrl] = (0, _react.useState)('');\n  const imgUrlInputRef = (0, _react.useRef)(null);\n  const {\n    t\n  } = (0, _reactI18next.useTranslation)(_constants.TRANSLATE_NAMESPACE);\n  const isCommitBtnDisabled = (0, _react.useMemo)(() => {\n    if (imageUrl.length === 0) return true;\n    if (!(0, _isUrl.default)(imageUrl)) return true;\n    return false;\n  }, [imageUrl]);\n  const onModalOpened = () => {\n    var _imgUrlInputRef$curre;\n    imgUrlInputRef === null || imgUrlInputRef === void 0 ? void 0 : (_imgUrlInputRef$curre = imgUrlInputRef.current) === null || _imgUrlInputRef$curre === void 0 ? void 0 : _imgUrlInputRef$curre.focus();\n  };\n  const handleSubmit = e => {\n    if (!(0, _isUrl.default)(imageUrl)) return false;\n    if (imageUrl.length === 0) return;\n    (0, _helper.insertImage)(editor, imageUrl);\n    onToggleImageDialog();\n  };\n  const handleInputKeyDown = e => {\n    if (e.key === 'Enter') {\n      handleSubmit(e);\n    }\n  };\n  const onModalContainerMouseDown = e => {\n    e.stopPropagation();\n    e.nativeEvent.stopImmediatePropagation();\n  };\n  return /*#__PURE__*/_react.default.createElement(_reactstrap.Modal, {\n    onMouseDown: onModalContainerMouseDown,\n    isOpen: true,\n    toggle: onToggleImageDialog,\n    className: className,\n    zIndex: 1071,\n    onOpened: onModalOpened,\n    onClosed: onToggleImageDialog\n  }, /*#__PURE__*/_react.default.createElement(_reactstrap.ModalHeader, {\n    toggle: onToggleImageDialog\n  }, t('Insert_image')), /*#__PURE__*/_react.default.createElement(_reactstrap.ModalBody, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Form, null, /*#__PURE__*/_react.default.createElement(_reactstrap.FormGroup, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Label, {\n    for: \"imageUrlInput\"\n  }, t('Image_address')), /*#__PURE__*/_react.default.createElement(_reactstrap.Input, {\n    invalid: !!imageUrl && isCommitBtnDisabled,\n    type: \"url\",\n    onKeyDown: handleInputKeyDown,\n    id: \"imageUrlInput\",\n    innerRef: imgUrlInputRef,\n    value: imageUrl,\n    onChange: e => setSetImageUrl(e.target.value.trim())\n  }), /*#__PURE__*/_react.default.createElement(_reactstrap.FormFeedback, null, t('Image_address_invalid'))))), /*#__PURE__*/_react.default.createElement(_reactstrap.ModalFooter, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Button, {\n    color: \"secondary\",\n    onClick: onToggleImageDialog\n  }, t('Cancel')), /*#__PURE__*/_react.default.createElement(_reactstrap.Button, {\n    color: \"primary\",\n    disabled: isCommitBtnDisabled,\n    onClick: handleSubmit\n  }, t('Submit'))));\n};\nImageMenuInsertInternetDialog.defaultProps = {\n  classname: ''\n};\nvar _default = exports.default = ImageMenuInsertInternetDialog;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}