{"ast":null,"code":"import _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport ObjectUtils from '../../../../../utils/object-utils';\nimport { ElementPopover } from '../../../../commons';\nimport { ELEMENT_TYPE } from '../../../../constants';\nimport { getSelectedNodeByType } from '../../../../core';\nimport { TABLE_MAX_COLUMNS, TABLE_MAX_ROWS, TABLE_ELEMENT, TABLE_ELEMENT_POSITION, EMPTY_SELECTED_RANGE } from '../../constants';\nimport { insertTableElement, removeTableElement, combineCells, isTableWidthFitScreen, fitTableColumnToScreen } from '../../helpers';\nimport InsertTableElement from './insert-table-element';\nimport EventBus from '../../../../../utils/event-bus';\nimport { INTERNAL_EVENT } from '../../../../../constants';\nimport './index.css';\nvar TableContextMenu = /*#__PURE__*/function (_React$Component) {\n  _inherits(TableContextMenu, _React$Component);\n  var _super = _createSuper(TableContextMenu);\n  function TableContextMenu(props) {\n    var _this;\n    _classCallCheck(this, TableContextMenu);\n    _this = _super.call(this, props);\n    _defineProperty(_assertThisInitialized(_this), \"updateMenuPosition\", function () {\n      var menuHeight = _this.menu.offsetHeight;\n\n      // get height of context menu when the menu is drawing completed in this page\n      if (menuHeight === 0) {\n        requestAnimationFrame(_this.updateMenuPosition);\n        return;\n      }\n      var top = 0;\n      if (_this.position.top + menuHeight > document.body.clientHeight) {\n        top = document.body.clientHeight - menuHeight - 5;\n      } else {\n        top = _this.position.top;\n      }\n      var left = _this.position.left + 3;\n      _this.setState({\n        contextStyle: {\n          top: top,\n          left: left\n        }\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"insertTableElement\", function (type, position, count) {\n      var editor = _this.props.editor;\n      insertTableElement(editor, type, position, count);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"removeTableElement\", function (type) {\n      var editor = _this.props.editor;\n      removeTableElement(editor, type);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"renderRemoveBtn\", function (type, title) {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onMouseDown: _this.removeTableElement.bind(_assertThisInitialized(_this), type),\n        className: \"dropdown-item\"\n      }, _this.props.t(title));\n    });\n    _defineProperty(_assertThisInitialized(_this), \"combineCells\", function () {\n      var editor = _this.props.editor;\n      combineCells(editor);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"toggleSplitCellSettingDialog\", function () {\n      _this.eventBus.dispatch(INTERNAL_EVENT.INSERT_ELEMENT, {\n        type: ELEMENT_TYPE.TABLE_CELL\n      });\n    });\n    _this.state = {\n      contextStyle: {},\n      isDisableFitTableWidthToScreen: false\n    };\n    _this.position = null;\n    _this.eventBus = EventBus.getInstance();\n    return _this;\n  }\n  _createClass(TableContextMenu, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.position = this.props.contextMenuPosition;\n      this.updateMenuPosition();\n    }\n  }, {\n    key: \"UNSAFE_componentWillReceiveProps\",\n    value: function UNSAFE_componentWillReceiveProps(nextProps) {\n      var nextContextMenuPosition = nextProps.contextMenuPosition;\n      if (!ObjectUtils.isSameObject(nextContextMenuPosition, this.props.contextMenuPosition)) {\n        this.position = nextContextMenuPosition;\n        this.updateMenuPosition();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.menu = null;\n    }\n  }, {\n    key: \"isMergedCell\",\n    value: function isMergedCell() {\n      var editor = this.props.editor;\n      var _getSelectedNodeByTyp = getSelectedNodeByType(editor, ELEMENT_TYPE.TABLE_CELL),\n        colspan = _getSelectedNodeByTyp.colspan,\n        rowspan = _getSelectedNodeByTyp.rowspan;\n      return colspan > 1 || rowspan > 1;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      var _this$state = this.state,\n        contextStyle = _this$state.contextStyle,\n        isDisableFitTableWidthToScreen = _this$state.isDisableFitTableWidthToScreen;\n      var _this$props = this.props,\n        editor = _this$props.editor,\n        t = _this$props.t;\n      var currentTable = getSelectedNodeByType(editor, ELEMENT_TYPE.TABLE);\n      if (!currentTable) return null;\n      var currentRow = getSelectedNodeByType(editor, ELEMENT_TYPE.TABLE_ROW);\n      var currentRowsCount = currentTable.children.length;\n      var currentColumnsCount = currentRow.children.length;\n      var tableSelectedRange = editor.tableSelectedRange;\n      var selectedRows = tableSelectedRange.maxRowIndex - tableSelectedRange.minRowIndex + 1;\n      var selectedCols = tableSelectedRange.maxColIndex - tableSelectedRange.minColIndex + 1;\n      var canAddRowsCount = currentRowsCount + selectedRows > TABLE_MAX_ROWS ? TABLE_MAX_ROWS - currentRowsCount : selectedRows;\n      var canAddColsCount = currentColumnsCount + selectedCols > TABLE_MAX_COLUMNS ? TABLE_MAX_COLUMNS - currentColumnsCount : selectedCols;\n      var enableCombineCell = !ObjectUtils.isSameObject(tableSelectedRange, EMPTY_SELECTED_RANGE);\n      var enableSplitCell = !enableCombineCell;\n      var isMergedCell = this.isMergedCell();\n\n      // Check if the table width is fit to screen\n      // Use queueMicrotask to resolve the issue that the table cell combined or split, the table width is not updated immediately\n      queueMicrotask(function () {\n        var isDisable = isTableWidthFitScreen(editor);\n        if (isDisableFitTableWidthToScreen !== isDisable) {\n          _this2.setState({\n            isDisableFitTableWidthToScreen: isTableWidthFitScreen(editor)\n          });\n        }\n      });\n      return /*#__PURE__*/React.createElement(ElementPopover, {\n        className: \"sdoc-context-menu\"\n      }, /*#__PURE__*/React.createElement(\"div\", {\n        style: contextStyle,\n        ref: function ref(_ref) {\n          return _this2.menu = _ref;\n        },\n        className: \"sdoc-table-context-menu dropdown-menu\"\n      }, /*#__PURE__*/React.createElement(InsertTableElement, {\n        type: TABLE_ELEMENT.ROW,\n        count: canAddRowsCount,\n        currentCount: currentRowsCount,\n        position: TABLE_ELEMENT_POSITION.BEFORE,\n        insertTableElement: this.insertTableElement\n      }), /*#__PURE__*/React.createElement(InsertTableElement, {\n        type: TABLE_ELEMENT.ROW,\n        count: canAddRowsCount,\n        currentCount: currentRowsCount,\n        position: TABLE_ELEMENT_POSITION.AFTER,\n        insertTableElement: this.insertTableElement\n      }), /*#__PURE__*/React.createElement(InsertTableElement, {\n        type: TABLE_ELEMENT.COLUMN,\n        count: canAddColsCount,\n        currentCount: currentColumnsCount,\n        position: TABLE_ELEMENT_POSITION.BEFORE,\n        insertTableElement: this.insertTableElement\n      }), /*#__PURE__*/React.createElement(InsertTableElement, {\n        type: TABLE_ELEMENT.COLUMN,\n        count: canAddColsCount,\n        currentCount: currentColumnsCount,\n        position: TABLE_ELEMENT_POSITION.AFTER,\n        insertTableElement: this.insertTableElement\n      }), /*#__PURE__*/React.createElement(\"div\", {\n        className: 'seafile-divider dropdown-divider'\n      }), this.renderRemoveBtn(TABLE_ELEMENT.ROW, 'Delete_row'), this.renderRemoveBtn(TABLE_ELEMENT.COLUMN, 'Delete_column'), this.renderRemoveBtn(TABLE_ELEMENT.TABLE, 'Delete_table'), /*#__PURE__*/React.createElement(\"div\", {\n        className: 'seafile-divider dropdown-divider'\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"dropdown-item\",\n        disabled: !enableCombineCell,\n        onMouseDown: this.combineCells\n      }, t('Combine_cell')), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"dropdown-item\",\n        disabled: !isMergedCell || !enableSplitCell,\n        onMouseDown: this.toggleSplitCellSettingDialog\n      }, t('Split_cell')), /*#__PURE__*/React.createElement(\"div\", {\n        className: 'seafile-divider dropdown-divider'\n      }), /*#__PURE__*/React.createElement(\"button\", {\n        className: \"dropdown-item\",\n        disabled: isDisableFitTableWidthToScreen,\n        onMouseDown: function onMouseDown() {\n          return fitTableColumnToScreen(editor);\n        }\n      }, t('Fit_table_to_page_width'))));\n    }\n  }]);\n  return TableContextMenu;\n}(React.Component);\nexport default withTranslation('sdoc-editor')(TableContextMenu);","map":{"version":3,"names":["_defineProperty","React","withTranslation","ObjectUtils","ElementPopover","ELEMENT_TYPE","getSelectedNodeByType","TABLE_MAX_COLUMNS","TABLE_MAX_ROWS","TABLE_ELEMENT","TABLE_ELEMENT_POSITION","EMPTY_SELECTED_RANGE","insertTableElement","removeTableElement","combineCells","isTableWidthFitScreen","fitTableColumnToScreen","InsertTableElement","EventBus","INTERNAL_EVENT","TableContextMenu","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","_assertThisInitialized","menuHeight","menu","offsetHeight","requestAnimationFrame","updateMenuPosition","top","position","document","body","clientHeight","left","setState","contextStyle","type","count","editor","title","createElement","onMouseDown","bind","className","t","eventBus","dispatch","INSERT_ELEMENT","TABLE_CELL","state","isDisableFitTableWidthToScreen","getInstance","_createClass","key","value","componentDidMount","contextMenuPosition","UNSAFE_componentWillReceiveProps","nextProps","nextContextMenuPosition","isSameObject","componentWillUnmount","isMergedCell","_getSelectedNodeByTyp","colspan","rowspan","render","_this2","_this$state","_this$props","currentTable","TABLE","currentRow","TABLE_ROW","currentRowsCount","children","length","currentColumnsCount","tableSelectedRange","selectedRows","maxRowIndex","minRowIndex","selectedCols","maxColIndex","minColIndex","canAddRowsCount","canAddColsCount","enableCombineCell","enableSplitCell","queueMicrotask","isDisable","style","ref","ROW","currentCount","BEFORE","AFTER","COLUMN","renderRemoveBtn","disabled","toggleSplitCellSettingDialog","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/table/menu/table-context-menu/index.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { withTranslation } from 'react-i18next';\nimport ObjectUtils from '../../../../../utils/object-utils';\nimport { ElementPopover } from '../../../../commons';\nimport { ELEMENT_TYPE } from '../../../../constants';\nimport { getSelectedNodeByType } from '../../../../core';\nimport { TABLE_MAX_COLUMNS, TABLE_MAX_ROWS, TABLE_ELEMENT, TABLE_ELEMENT_POSITION, EMPTY_SELECTED_RANGE } from '../../constants';\nimport { insertTableElement, removeTableElement, combineCells, isTableWidthFitScreen, fitTableColumnToScreen } from '../../helpers';\nimport InsertTableElement from './insert-table-element';\nimport EventBus from '../../../../../utils/event-bus';\nimport { INTERNAL_EVENT } from '../../../../../constants';\nimport './index.css';\nclass TableContextMenu extends React.Component {\n  constructor(props) {\n    super(props);\n    _defineProperty(this, \"updateMenuPosition\", () => {\n      const menuHeight = this.menu.offsetHeight;\n\n      // get height of context menu when the menu is drawing completed in this page\n      if (menuHeight === 0) {\n        requestAnimationFrame(this.updateMenuPosition);\n        return;\n      }\n      let top = 0;\n      if (this.position.top + menuHeight > document.body.clientHeight) {\n        top = document.body.clientHeight - menuHeight - 5;\n      } else {\n        top = this.position.top;\n      }\n      const left = this.position.left + 3;\n      this.setState({\n        contextStyle: {\n          top,\n          left\n        }\n      });\n    });\n    _defineProperty(this, \"insertTableElement\", (type, position, count) => {\n      const {\n        editor\n      } = this.props;\n      insertTableElement(editor, type, position, count);\n    });\n    _defineProperty(this, \"removeTableElement\", type => {\n      const {\n        editor\n      } = this.props;\n      removeTableElement(editor, type);\n    });\n    _defineProperty(this, \"renderRemoveBtn\", (type, title) => {\n      return /*#__PURE__*/React.createElement(\"button\", {\n        onMouseDown: this.removeTableElement.bind(this, type),\n        className: \"dropdown-item\"\n      }, this.props.t(title));\n    });\n    _defineProperty(this, \"combineCells\", () => {\n      const {\n        editor\n      } = this.props;\n      combineCells(editor);\n    });\n    _defineProperty(this, \"toggleSplitCellSettingDialog\", () => {\n      this.eventBus.dispatch(INTERNAL_EVENT.INSERT_ELEMENT, {\n        type: ELEMENT_TYPE.TABLE_CELL\n      });\n    });\n    this.state = {\n      contextStyle: {},\n      isDisableFitTableWidthToScreen: false\n    };\n    this.position = null;\n    this.eventBus = EventBus.getInstance();\n  }\n  componentDidMount() {\n    this.position = this.props.contextMenuPosition;\n    this.updateMenuPosition();\n  }\n  UNSAFE_componentWillReceiveProps(nextProps) {\n    const nextContextMenuPosition = nextProps.contextMenuPosition;\n    if (!ObjectUtils.isSameObject(nextContextMenuPosition, this.props.contextMenuPosition)) {\n      this.position = nextContextMenuPosition;\n      this.updateMenuPosition();\n    }\n  }\n  componentWillUnmount() {\n    this.menu = null;\n  }\n  isMergedCell() {\n    const {\n      editor\n    } = this.props;\n    const {\n      colspan,\n      rowspan\n    } = getSelectedNodeByType(editor, ELEMENT_TYPE.TABLE_CELL);\n    return colspan > 1 || rowspan > 1;\n  }\n  render() {\n    const {\n      contextStyle,\n      isDisableFitTableWidthToScreen\n    } = this.state;\n    const {\n      editor,\n      t\n    } = this.props;\n    const currentTable = getSelectedNodeByType(editor, ELEMENT_TYPE.TABLE);\n    if (!currentTable) return null;\n    const currentRow = getSelectedNodeByType(editor, ELEMENT_TYPE.TABLE_ROW);\n    const currentRowsCount = currentTable.children.length;\n    const currentColumnsCount = currentRow.children.length;\n    const {\n      tableSelectedRange\n    } = editor;\n    const selectedRows = tableSelectedRange.maxRowIndex - tableSelectedRange.minRowIndex + 1;\n    const selectedCols = tableSelectedRange.maxColIndex - tableSelectedRange.minColIndex + 1;\n    const canAddRowsCount = currentRowsCount + selectedRows > TABLE_MAX_ROWS ? TABLE_MAX_ROWS - currentRowsCount : selectedRows;\n    const canAddColsCount = currentColumnsCount + selectedCols > TABLE_MAX_COLUMNS ? TABLE_MAX_COLUMNS - currentColumnsCount : selectedCols;\n    const enableCombineCell = !ObjectUtils.isSameObject(tableSelectedRange, EMPTY_SELECTED_RANGE);\n    const enableSplitCell = !enableCombineCell;\n    const isMergedCell = this.isMergedCell();\n\n    // Check if the table width is fit to screen\n    // Use queueMicrotask to resolve the issue that the table cell combined or split, the table width is not updated immediately\n    queueMicrotask(() => {\n      const isDisable = isTableWidthFitScreen(editor);\n      if (isDisableFitTableWidthToScreen !== isDisable) {\n        this.setState({\n          isDisableFitTableWidthToScreen: isTableWidthFitScreen(editor)\n        });\n      }\n    });\n    return /*#__PURE__*/React.createElement(ElementPopover, {\n      className: \"sdoc-context-menu\"\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      style: contextStyle,\n      ref: ref => this.menu = ref,\n      className: \"sdoc-table-context-menu dropdown-menu\"\n    }, /*#__PURE__*/React.createElement(InsertTableElement, {\n      type: TABLE_ELEMENT.ROW,\n      count: canAddRowsCount,\n      currentCount: currentRowsCount,\n      position: TABLE_ELEMENT_POSITION.BEFORE,\n      insertTableElement: this.insertTableElement\n    }), /*#__PURE__*/React.createElement(InsertTableElement, {\n      type: TABLE_ELEMENT.ROW,\n      count: canAddRowsCount,\n      currentCount: currentRowsCount,\n      position: TABLE_ELEMENT_POSITION.AFTER,\n      insertTableElement: this.insertTableElement\n    }), /*#__PURE__*/React.createElement(InsertTableElement, {\n      type: TABLE_ELEMENT.COLUMN,\n      count: canAddColsCount,\n      currentCount: currentColumnsCount,\n      position: TABLE_ELEMENT_POSITION.BEFORE,\n      insertTableElement: this.insertTableElement\n    }), /*#__PURE__*/React.createElement(InsertTableElement, {\n      type: TABLE_ELEMENT.COLUMN,\n      count: canAddColsCount,\n      currentCount: currentColumnsCount,\n      position: TABLE_ELEMENT_POSITION.AFTER,\n      insertTableElement: this.insertTableElement\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'seafile-divider dropdown-divider'\n    }), this.renderRemoveBtn(TABLE_ELEMENT.ROW, 'Delete_row'), this.renderRemoveBtn(TABLE_ELEMENT.COLUMN, 'Delete_column'), this.renderRemoveBtn(TABLE_ELEMENT.TABLE, 'Delete_table'), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'seafile-divider dropdown-divider'\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"dropdown-item\",\n      disabled: !enableCombineCell,\n      onMouseDown: this.combineCells\n    }, t('Combine_cell')), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"dropdown-item\",\n      disabled: !isMergedCell || !enableSplitCell,\n      onMouseDown: this.toggleSplitCellSettingDialog\n    }, t('Split_cell')), /*#__PURE__*/React.createElement(\"div\", {\n      className: 'seafile-divider dropdown-divider'\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"dropdown-item\",\n      disabled: isDisableFitTableWidthToScreen,\n      onMouseDown: () => fitTableColumnToScreen(editor)\n    }, t('Fit_table_to_page_width'))));\n  }\n}\nexport default withTranslation('sdoc-editor')(TableContextMenu);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}