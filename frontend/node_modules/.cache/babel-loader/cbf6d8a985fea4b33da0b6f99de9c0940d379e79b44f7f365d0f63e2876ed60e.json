{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Button}from'reactstrap';import{gettext}from'../../../utils/constants';import SettingItemBase from'./setting-item-base';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var WebSettingFile=/*#__PURE__*/function(_Component){_inherits(WebSettingFile,_Component);var _super=_createSuper(WebSettingFile);function WebSettingFile(props){var _this;_classCallCheck(this,WebSettingFile);_this=_super.call(this,props);_this.uploadFile=function(){if(!_this.fileInput.current.files.length){return;}var file=_this.fileInput.current.files[0];_this.props.postFile(file,_this.props.keyText);};_this.openFileInput=function(){_this.fileInput.current.click();};_this.fileInput=/*#__PURE__*/React.createRef();return _this;}_createClass(WebSettingFile,[{key:\"render\",value:function render(){var _this$props=this.props,helpTip=_this$props.helpTip,filePath=_this$props.filePath,fileWidth=_this$props.fileWidth,fileHeight=_this$props.fileHeight,displayName=_this$props.displayName;return/*#__PURE__*/_jsx(SettingItemBase,{displayName:displayName,helpTip:helpTip,mainContent:/*#__PURE__*/_jsx(\"img\",{src:filePath+'?t='+new Date().getTime(),alt:displayName,width:fileWidth,height:fileHeight,className:\"mb-1\"}),extraContent:/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(Button,{color:\"secondary\",onClick:this.openFileInput,children:gettext('Change')}),/*#__PURE__*/_jsx(\"input\",{className:\"d-none\",type:\"file\",onChange:this.uploadFile,ref:this.fileInput})]})});}}]);return WebSettingFile;}(Component);export default WebSettingFile;","map":{"version":3,"names":["React","Component","Fragment","Button","gettext","SettingItemBase","jsx","_jsx","jsxs","_jsxs","WebSettingFile","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","uploadFile","fileInput","current","files","length","file","postFile","keyText","openFileInput","click","createRef","_createClass","key","value","render","_this$props","helpTip","filePath","fileWidth","fileHeight","displayName","mainContent","src","Date","getTime","alt","width","height","className","extraContent","children","color","onClick","type","onChange","ref"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/org-admin/web-settings/file-item.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport { gettext } from '../../../utils/constants';\nimport SettingItemBase from './setting-item-base';\n\nconst propTypes = {\n  postFile: PropTypes.func.isRequired,\n  keyText: PropTypes.string.isRequired,\n  filePath: PropTypes.string.isRequired,\n  helpTip: PropTypes.string.isRequired,\n  fileWidth: PropTypes.number.isRequired,\n  fileHeight: PropTypes.number.isRequired,\n  displayName: PropTypes.string.isRequired\n};\n\nclass WebSettingFile extends Component {\n\n  constructor(props) {\n    super(props);\n    this.fileInput = React.createRef();\n  }\n\n  uploadFile = () => {\n    if (!this.fileInput.current.files.length) {\n      return;\n    }\n    const file = this.fileInput.current.files[0];\n    this.props.postFile(file, this.props.keyText);\n  };\n\n  openFileInput = () => {\n    this.fileInput.current.click();\n  };\n\n  render() {\n    const { helpTip, filePath, fileWidth, fileHeight, displayName } = this.props;\n    return (\n      <SettingItemBase\n        displayName={displayName}\n        helpTip={helpTip}\n        mainContent={\n          <img src={filePath + '?t=' + new Date().getTime()} alt={displayName} width={fileWidth} height={fileHeight} className=\"mb-1\" />\n        }\n        extraContent={\n          <Fragment>\n            <Button color=\"secondary\" onClick={this.openFileInput}>{gettext('Change')}</Button>\n            <input className=\"d-none\" type=\"file\" onChange={this.uploadFile} ref={this.fileInput} />\n          </Fragment>\n        }\n      />\n    );\n  }\n}\n\nWebSettingFile.propTypes = propTypes;\n\nexport default WebSettingFile;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,OAASC,MAAM,KAAQ,YAAY,CACnC,OAASC,OAAO,KAAQ,0BAA0B,CAClD,MAAO,CAAAC,eAAe,KAAM,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAY5C,CAAAC,cAAc,uBAAAC,UAAA,EAAAC,SAAA,CAAAF,cAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,cAAA,EAElB,SAAAA,eAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,cAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAIfG,UAAU,CAAG,UAAM,CACjB,GAAI,CAACH,KAAA,CAAKI,SAAS,CAACC,OAAO,CAACC,KAAK,CAACC,MAAM,CAAE,CACxC,OACF,CACA,GAAM,CAAAC,IAAI,CAAGR,KAAA,CAAKI,SAAS,CAACC,OAAO,CAACC,KAAK,CAAC,CAAC,CAAC,CAC5CN,KAAA,CAAKD,KAAK,CAACU,QAAQ,CAACD,IAAI,CAAER,KAAA,CAAKD,KAAK,CAACW,OAAO,CAAC,CAC/C,CAAC,CAAAV,KAAA,CAEDW,aAAa,CAAG,UAAM,CACpBX,KAAA,CAAKI,SAAS,CAACC,OAAO,CAACO,KAAK,CAAC,CAAC,CAChC,CAAC,CAbCZ,KAAA,CAAKI,SAAS,cAAGpB,KAAK,CAAC6B,SAAS,CAAC,CAAC,CAAC,OAAAb,KAAA,CACrC,CAACc,YAAA,CAAApB,cAAA,GAAAqB,GAAA,UAAAC,KAAA,CAcD,SAAAC,OAAA,CAAS,CACP,IAAAC,WAAA,CAAkE,IAAI,CAACnB,KAAK,CAApEoB,OAAO,CAAAD,WAAA,CAAPC,OAAO,CAAEC,QAAQ,CAAAF,WAAA,CAARE,QAAQ,CAAEC,SAAS,CAAAH,WAAA,CAATG,SAAS,CAAEC,UAAU,CAAAJ,WAAA,CAAVI,UAAU,CAAEC,WAAW,CAAAL,WAAA,CAAXK,WAAW,CAC7D,mBACEhC,IAAA,CAACF,eAAe,EACdkC,WAAW,CAAEA,WAAY,CACzBJ,OAAO,CAAEA,OAAQ,CACjBK,WAAW,cACTjC,IAAA,QAAKkC,GAAG,CAAEL,QAAQ,CAAG,KAAK,CAAG,GAAI,CAAAM,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAE,CAACC,GAAG,CAAEL,WAAY,CAACM,KAAK,CAAER,SAAU,CAACS,MAAM,CAAER,UAAW,CAACS,SAAS,CAAC,MAAM,CAAE,CAC9H,CACDC,YAAY,cACVvC,KAAA,CAACP,QAAQ,EAAA+C,QAAA,eACP1C,IAAA,CAACJ,MAAM,EAAC+C,KAAK,CAAC,WAAW,CAACC,OAAO,CAAE,IAAI,CAACxB,aAAc,CAAAsB,QAAA,CAAE7C,OAAO,CAAC,QAAQ,CAAC,CAAS,CAAC,cACnFG,IAAA,UAAOwC,SAAS,CAAC,QAAQ,CAACK,IAAI,CAAC,MAAM,CAACC,QAAQ,CAAE,IAAI,CAAClC,UAAW,CAACmC,GAAG,CAAE,IAAI,CAAClC,SAAU,CAAE,CAAC,EAChF,CACX,CACF,CAAC,CAEN,CAAC,WAAAV,cAAA,GApC0BT,SAAS,EAyCtC,cAAe,CAAAS,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}