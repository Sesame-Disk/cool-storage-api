{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Fragment}from'react';import{siteRoot,gettext}from'../../../utils/constants';import{Utils}from'../../../utils/utils';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var DirPath=/*#__PURE__*/function(_React$Component){_inherits(DirPath,_React$Component);var _super=_createSuper(DirPath);function DirPath(){var _this;_classCallCheck(this,DirPath);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.onPathClick=function(e){var path=Utils.getEventData(e,'path');_this.props.onPathClick(path);};_this.turnPathToLink=function(path){path=path[path.length-1]==='/'?path.slice(0,path.length-1):path;var pathList=path.split('/');var nodePath='';var pathElem=pathList.map(function(item,index){if(item===''){return null;}if(index===pathList.length-1){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"path-split\",children:\"/\"}),/*#__PURE__*/_jsx(\"span\",{className:\"path-file-name\",children:item})]},index);}else{nodePath+='/'+item;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(\"span\",{className:\"path-split\",children:\"/\"}),/*#__PURE__*/_jsx(\"a\",{className:\"path-link\",\"data-path\":nodePath,onClick:_this.onPathClick,children:item})]},index);}});return pathElem;};return _this;}_createClass(DirPath,[{key:\"render\",value:function render(){var _this$props=this.props,isSystemRepo=_this$props.isSystemRepo,currentPath=_this$props.currentPath,repoName=_this$props.repoName;var pathElem=this.turnPathToLink(currentPath);return/*#__PURE__*/_jsxs(\"div\",{className:\"path-container\",children:[isSystemRepo?/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"sys/system-library/\"),children:gettext('System')}):/*#__PURE__*/_jsx(\"a\",{href:\"\".concat(siteRoot,\"sys/all-libraries/\"),children:gettext('All')}),/*#__PURE__*/_jsx(\"span\",{className:\"path-split\",children:\"/\"}),currentPath==='/'||currentPath===''?/*#__PURE__*/_jsx(\"span\",{className:\"path-repo-name\",children:repoName}):/*#__PURE__*/_jsx(\"a\",{className:\"path-link\",\"data-path\":\"/\",onClick:this.onPathClick,children:repoName}),pathElem]});}}]);return DirPath;}(React.Component);export default DirPath;","map":{"version":3,"names":["React","Fragment","siteRoot","gettext","Utils","jsx","_jsx","jsxs","_jsxs","DirPath","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","onPathClick","e","path","getEventData","props","turnPathToLink","slice","pathList","split","nodePath","pathElem","map","item","index","children","className","onClick","_createClass","key","value","render","_this$props","isSystemRepo","currentPath","repoName","href","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/repos/dir-path-bar.js"],"sourcesContent":["import React, { Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { siteRoot, gettext } from '../../../utils/constants';\nimport { Utils } from '../../../utils/utils';\n\nconst propTypes = {\n  repoName: PropTypes.string.isRequired,\n  currentPath: PropTypes.string.isRequired,\n  onPathClick: PropTypes.func.isRequired,\n  isSystemRepo: PropTypes.bool.isRequired,\n  repoID: PropTypes.string.isRequired,\n};\n\nclass DirPath extends React.Component {\n\n  onPathClick = (e) => {\n    let path = Utils.getEventData(e, 'path');\n    this.props.onPathClick(path);\n  };\n\n  turnPathToLink = (path) => {\n    path = path[path.length - 1] === '/' ? path.slice(0, path.length - 1) : path;\n    let pathList = path.split('/');\n    let nodePath = '';\n    let pathElem = pathList.map((item, index) => {\n      if (item === '') {\n        return null;\n      }\n      if (index === (pathList.length - 1)) {\n        return (\n          <Fragment key={index}>\n            <span className=\"path-split\">/</span>\n            <span className=\"path-file-name\">{item}</span>\n          </Fragment>\n        );\n      } else {\n        nodePath += '/' + item;\n        return (\n          <Fragment key={index} >\n            <span className=\"path-split\">/</span>\n            <a className=\"path-link\" data-path={nodePath} onClick={this.onPathClick}>{item}</a>\n          </Fragment>\n        );\n      }\n    });\n    return pathElem;\n  };\n\n  render() {\n    let { isSystemRepo, currentPath, repoName } = this.props;\n    let pathElem = this.turnPathToLink(currentPath);\n\n    return (\n      <div className=\"path-container\">\n        {isSystemRepo ?\n          <a href={`${siteRoot}sys/system-library/`}>{gettext('System')}</a> :\n          <a href={`${siteRoot}sys/all-libraries/`}>{gettext('All')}</a>\n        }\n        <span className=\"path-split\">/</span>\n        {(currentPath === '/' || currentPath === '') ?\n          <span className=\"path-repo-name\">{repoName}</span>:\n          <a className=\"path-link\" data-path=\"/\" onClick={this.onPathClick}>{repoName}</a>\n        }\n        {pathElem}\n      </div>\n    );\n  }\n}\n\nDirPath.propTypes = propTypes;\n\nexport default DirPath;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAEvC,OAASC,QAAQ,CAAEC,OAAO,KAAQ,0BAA0B,CAC5D,OAASC,KAAK,KAAQ,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAUvC,CAAAC,OAAO,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,OAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,OAAA,WAAAA,QAAA,MAAAK,KAAA,CAAAC,eAAA,MAAAN,OAAA,UAAAO,IAAA,CAAAC,SAAA,CAAAC,MAAA,CAAAC,IAAA,KAAAC,KAAA,CAAAJ,IAAA,EAAAK,IAAA,GAAAA,IAAA,CAAAL,IAAA,CAAAK,IAAA,IAAAF,IAAA,CAAAE,IAAA,EAAAJ,SAAA,CAAAI,IAAA,GAAAP,KAAA,CAAAF,MAAA,CAAAU,IAAA,CAAAC,KAAA,CAAAX,MAAA,QAAAY,MAAA,CAAAL,IAAA,GAAAL,KAAA,CAEXW,WAAW,CAAG,SAACC,CAAC,CAAK,CACnB,GAAI,CAAAC,IAAI,CAAGvB,KAAK,CAACwB,YAAY,CAACF,CAAC,CAAE,MAAM,CAAC,CACxCZ,KAAA,CAAKe,KAAK,CAACJ,WAAW,CAACE,IAAI,CAAC,CAC9B,CAAC,CAAAb,KAAA,CAEDgB,cAAc,CAAG,SAACH,IAAI,CAAK,CACzBA,IAAI,CAAGA,IAAI,CAACA,IAAI,CAACT,MAAM,CAAG,CAAC,CAAC,GAAK,GAAG,CAAGS,IAAI,CAACI,KAAK,CAAC,CAAC,CAAEJ,IAAI,CAACT,MAAM,CAAG,CAAC,CAAC,CAAGS,IAAI,CAC5E,GAAI,CAAAK,QAAQ,CAAGL,IAAI,CAACM,KAAK,CAAC,GAAG,CAAC,CAC9B,GAAI,CAAAC,QAAQ,CAAG,EAAE,CACjB,GAAI,CAAAC,QAAQ,CAAGH,QAAQ,CAACI,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAK,CAC3C,GAAID,IAAI,GAAK,EAAE,CAAE,CACf,MAAO,KAAI,CACb,CACA,GAAIC,KAAK,GAAMN,QAAQ,CAACd,MAAM,CAAG,CAAE,CAAE,CACnC,mBACEV,KAAA,CAACP,QAAQ,EAAAsC,QAAA,eACPjC,IAAA,SAAMkC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,GAAC,CAAM,CAAC,cACrCjC,IAAA,SAAMkC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAEF,IAAI,CAAO,CAAC,GAFjCC,KAGL,CAAC,CAEf,CAAC,IAAM,CACLJ,QAAQ,EAAI,GAAG,CAAGG,IAAI,CACtB,mBACE7B,KAAA,CAACP,QAAQ,EAAAsC,QAAA,eACPjC,IAAA,SAAMkC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,GAAC,CAAM,CAAC,cACrCjC,IAAA,MAAGkC,SAAS,CAAC,WAAW,CAAC,YAAWN,QAAS,CAACO,OAAO,CAAE3B,KAAA,CAAKW,WAAY,CAAAc,QAAA,CAAEF,IAAI,CAAI,CAAC,GAFtEC,KAGL,CAAC,CAEf,CACF,CAAC,CAAC,CACF,MAAO,CAAAH,QAAQ,CACjB,CAAC,QAAArB,KAAA,EAAA4B,YAAA,CAAAjC,OAAA,GAAAkC,GAAA,UAAAC,KAAA,CAED,SAAAC,OAAA,CAAS,CACP,IAAAC,WAAA,CAA8C,IAAI,CAACjB,KAAK,CAAlDkB,YAAY,CAAAD,WAAA,CAAZC,YAAY,CAAEC,WAAW,CAAAF,WAAA,CAAXE,WAAW,CAAEC,QAAQ,CAAAH,WAAA,CAARG,QAAQ,CACzC,GAAI,CAAAd,QAAQ,CAAG,IAAI,CAACL,cAAc,CAACkB,WAAW,CAAC,CAE/C,mBACExC,KAAA,QAAKgC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,EAC5BQ,YAAY,cACXzC,IAAA,MAAG4C,IAAI,IAAA1B,MAAA,CAAKtB,QAAQ,uBAAsB,CAAAqC,QAAA,CAAEpC,OAAO,CAAC,QAAQ,CAAC,CAAI,CAAC,cAClEG,IAAA,MAAG4C,IAAI,IAAA1B,MAAA,CAAKtB,QAAQ,sBAAqB,CAAAqC,QAAA,CAAEpC,OAAO,CAAC,KAAK,CAAC,CAAI,CAAC,cAEhEG,IAAA,SAAMkC,SAAS,CAAC,YAAY,CAAAD,QAAA,CAAC,GAAC,CAAM,CAAC,CACnCS,WAAW,GAAK,GAAG,EAAIA,WAAW,GAAK,EAAE,cACzC1C,IAAA,SAAMkC,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAEU,QAAQ,CAAO,CAAC,cAClD3C,IAAA,MAAGkC,SAAS,CAAC,WAAW,CAAC,YAAU,GAAG,CAACC,OAAO,CAAE,IAAI,CAAChB,WAAY,CAAAc,QAAA,CAAEU,QAAQ,CAAI,CAAC,CAEjFd,QAAQ,EACN,CAAC,CAEV,CAAC,WAAA1B,OAAA,GArDmBT,KAAK,CAACmD,SAAS,EA0DrC,cAAe,CAAA1C,OAAO"},"metadata":{},"sourceType":"module","externalDependencies":[]}