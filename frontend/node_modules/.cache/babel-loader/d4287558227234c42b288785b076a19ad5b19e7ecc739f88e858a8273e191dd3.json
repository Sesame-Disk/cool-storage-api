{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React from 'react';\nimport { Node } from '@seafile/slate';\nimport { useSlateStatic } from '@seafile/slate-react';\nimport { Placeholder } from '../../core';\nimport { isEmptyNode } from './helper';\nimport { COMMENT_EDITOR } from '../../../constants';\nvar PLACEHOLDER = 'Please_enter_text';\nvar Paragraph = function Paragraph(_ref) {\n  var isComposing = _ref.isComposing,\n    element = _ref.element,\n    attributes = _ref.attributes,\n    children = _ref.children,\n    className = _ref.className,\n    _ref$placeholder = _ref.placeholder,\n    placeholder = _ref$placeholder === void 0 ? PLACEHOLDER : _ref$placeholder;\n  var indent = element.indent;\n  var editor = useSlateStatic();\n  var isCommentEditor = editor.editorType === COMMENT_EDITOR;\n  var isShowPlaceHolder = false;\n  if (editor.children.length === 1) {\n    var node = editor.children[0];\n    var isChildEmpty = isEmptyNode(node);\n    var isParagraphEmpty = Node.string(element) === '';\n    isShowPlaceHolder = isChildEmpty && isParagraphEmpty && !isComposing;\n  }\n  if (editor.children.length === 2 && editor.children[0].type.startsWith('header')) {\n    var _node = editor.children[1];\n    isShowPlaceHolder = Node.string(element) === '' && (_node === null || _node === void 0 ? void 0 : _node.id) === (element === null || element === void 0 ? void 0 : element.id) && !isComposing;\n  }\n  var style = {\n    textAlign: element.align,\n    paddingTop: '5px',\n    paddingBottom: '5px',\n    paddingLeft: indent ? '28px' : ''\n  };\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    \"data-id\": element.id\n  }, attributes, {\n    style: _objectSpread({\n      position: isShowPlaceHolder ? 'relative' : ''\n    }, style),\n    className: className\n  }), children, isShowPlaceHolder && /*#__PURE__*/React.createElement(Placeholder, {\n    title: placeholder,\n    top: isCommentEditor ? 0 : 5\n  }));\n};\nexport var renderParagraph = function renderParagraph(props) {\n  return /*#__PURE__*/React.createElement(Paragraph, props);\n};","map":{"version":3,"names":["_objectSpread","React","Node","useSlateStatic","Placeholder","isEmptyNode","COMMENT_EDITOR","PLACEHOLDER","Paragraph","_ref","isComposing","element","attributes","children","className","_ref$placeholder","placeholder","indent","editor","isCommentEditor","editorType","isShowPlaceHolder","length","node","isChildEmpty","isParagraphEmpty","string","type","startsWith","id","style","textAlign","align","paddingTop","paddingBottom","paddingLeft","createElement","Object","assign","position","title","top","renderParagraph","props"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/paragraph/render-elem.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React from 'react';\nimport { Node } from '@seafile/slate';\nimport { useSlateStatic } from '@seafile/slate-react';\nimport { Placeholder } from '../../core';\nimport { isEmptyNode } from './helper';\nimport { COMMENT_EDITOR } from '../../../constants';\nconst PLACEHOLDER = 'Please_enter_text';\nconst Paragraph = _ref => {\n  let {\n    isComposing,\n    element,\n    attributes,\n    children,\n    className,\n    placeholder = PLACEHOLDER\n  } = _ref;\n  const {\n    indent\n  } = element;\n  const editor = useSlateStatic();\n  const isCommentEditor = editor.editorType === COMMENT_EDITOR;\n  let isShowPlaceHolder = false;\n  if (editor.children.length === 1) {\n    const node = editor.children[0];\n    const isChildEmpty = isEmptyNode(node);\n    const isParagraphEmpty = Node.string(element) === '';\n    isShowPlaceHolder = isChildEmpty && isParagraphEmpty && !isComposing;\n  }\n  if (editor.children.length === 2 && editor.children[0].type.startsWith('header')) {\n    const node = editor.children[1];\n    isShowPlaceHolder = Node.string(element) === '' && (node === null || node === void 0 ? void 0 : node.id) === (element === null || element === void 0 ? void 0 : element.id) && !isComposing;\n  }\n  const style = {\n    textAlign: element.align,\n    paddingTop: '5px',\n    paddingBottom: '5px',\n    paddingLeft: indent ? '28px' : ''\n  };\n  return /*#__PURE__*/React.createElement(\"div\", Object.assign({\n    \"data-id\": element.id\n  }, attributes, {\n    style: _objectSpread({\n      position: isShowPlaceHolder ? 'relative' : ''\n    }, style),\n    className: className\n  }), children, isShowPlaceHolder && /*#__PURE__*/React.createElement(Placeholder, {\n    title: placeholder,\n    top: isCommentEditor ? 0 : 5\n  }));\n};\nexport const renderParagraph = props => {\n  return /*#__PURE__*/React.createElement(Paragraph, props);\n};"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}