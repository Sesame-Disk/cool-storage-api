{"ast":null,"code":"import React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport { Editor, Transforms } from '@seafile/slate';\nimport context from '../../../context';\nimport { useParticipantsContext } from '../hooks/use-participants';\nimport SdocCommentEditor from '../../editor/sdoc-comment-editor';\nimport { createCommentEditor } from '../../extension';\nimport withNodeId from '../../node-id';\nimport { generateEmptyElement } from '../../extension/core';\nimport { PARAGRAPH } from '../../extension/constants';\nimport slateToMdString from '../../../slate-convert/slate-to-md';\nimport mdStringToSlate from '../../../slate-convert/md-to-slate';\nimport { COMMENT_EDITOR, COMMENT_EDITOR_EDIT_AREA_WIDTH, INTERNAL_EVENT } from '../../constants';\nimport { KeyCodes } from '../../../constants';\nimport EventBus from '../../utils/event-bus';\nvar getSubmitTip = function getSubmitTip(type, content) {\n  if (content) return 'Save';\n  return type === 'comment' ? 'Comment' : 'Reply';\n};\nvar CommentEditor = function CommentEditor(_ref) {\n  var type = _ref.type,\n    className = _ref.className,\n    content = _ref.content,\n    placeholder = _ref.placeholder,\n    insertContent = _ref.insertContent,\n    updateContent = _ref.updateContent,\n    setIsEditing = _ref.setIsEditing,\n    hiddenComment = _ref.hiddenComment,\n    commentRef = _ref.commentRef,\n    globalComment = _ref.globalComment;\n  var commentWrapperRef = useRef();\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _useParticipantsConte = useParticipantsContext(),\n    addParticipants = _useParticipantsConte.addParticipants;\n  var submitTip = useMemo(function () {\n    return getSubmitTip(type, content);\n  }, [content, type]);\n  var userInfo = context.getUserInfo();\n  var document = useMemo(function () {\n    var cursor = {};\n    var children = null;\n    children = [generateEmptyElement(PARAGRAPH, {\n      placeholder: placeholder\n    })];\n    return {\n      children: children,\n      cursor: cursor\n    };\n  }, [placeholder]);\n  var editor = useMemo(function () {\n    var defaultEditor = createCommentEditor();\n    var newEditor = withNodeId(defaultEditor);\n    var cursors = document.cursors;\n    newEditor.cursors = cursors || {};\n    newEditor.width = COMMENT_EDITOR_EDIT_AREA_WIDTH; // default width\n    newEditor.editorType = COMMENT_EDITOR;\n    return newEditor;\n  }, [document]);\n\n  // onMount: set scrollLeft\n  useEffect(function () {\n    if (!commentWrapperRef.current) return;\n    (commentRef === null || commentRef === void 0 ? void 0 : commentRef.current) && commentRef.current.scrollIntoView({\n      behavior: 'smooth',\n      block: 'nearest'\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var updateValue = useCallback(function (value) {\n    if (!value || value.trim() === '') return;\n    if (!content) return insertContent(value);\n    updateContent(value);\n  }, [content, insertContent, updateContent]);\n  var onSubmit = useCallback(function (event) {\n    event && event.stopPropagation();\n    var mdString = slateToMdString(editor.children);\n    updateValue(mdString);\n    addParticipants(userInfo.username);\n    editor.children = [generateEmptyElement(PARAGRAPH, {\n      placeholder: placeholder\n    })];\n    Transforms.select(editor, Editor.start(editor, []));\n  }, [editor, updateValue, addParticipants, userInfo.username, placeholder]);\n  useEffect(function () {\n    var eventBus = EventBus.getInstance();\n    var unsubscribePostComment = eventBus.subscribe(INTERNAL_EVENT.COMMENT_EDITOR_POST_COMMENT, onSubmit);\n    return function () {\n      unsubscribePostComment();\n    };\n  }, [onSubmit]);\n  var onCancel = useCallback(function (event) {\n    event.stopPropagation();\n    var eventType = event.type,\n      keyCode = event.keyCode,\n      target = event.target;\n    if (eventType === 'keydown' && keyCode !== KeyCodes.Esc) return;\n    if (eventType === 'click') {\n      var isSdocContentWrapper = target.classList.contains('sdoc-content-wrapper');\n      var listContainer = window.document.querySelector('#global-comment-list-container');\n      var commentEditorContainer = window.document.querySelector('.sdoc-doc-comment-editor-container');\n      var resizeContainer = window.document.querySelector('.sdoc-comment-resize-handler');\n      var scrollContainer = window.document.querySelector('.sdoc-scroll-container');\n      var isClickOnListContainer = listContainer && listContainer.contains(target);\n      var isClickOnCommentEditorContainer = commentEditorContainer && commentEditorContainer.contains(target);\n      var isClickResizeContainer = resizeContainer && resizeContainer.contains(target);\n      var isClickScrollContainer = scrollContainer && scrollContainer.contains(target);\n      var isPreventCancel = isClickOnListContainer || isClickOnCommentEditorContainer || isClickResizeContainer || isClickScrollContainer || isSdocContentWrapper;\n      // Global comment could not be canceled by clicking outside\n      if (globalComment && !isClickScrollContainer) return;\n      if (isPreventCancel) return;\n    }\n    setIsEditing && setIsEditing(false);\n    hiddenComment && hiddenComment(false);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [setIsEditing]);\n  useEffect(function () {\n    var children = mdStringToSlate(content);\n    editor.children = children;\n    Transforms.select(editor, Editor.end(editor, []));\n  }, [editor, content]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames('comment-editor-wrapper', className),\n    ref: commentWrapperRef\n  }, type === 'comment' && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-editor-user-info\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-editor-user-img\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: userInfo.avatar_url,\n    alt: \"\",\n    height: \"100%\",\n    width: \"100%\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-editor-user-name\"\n  }, userInfo.name)), /*#__PURE__*/React.createElement(SdocCommentEditor, {\n    editor: editor,\n    type: type,\n    document: document,\n    onSubmit: onSubmit,\n    submitBtnText: t(submitTip),\n    onCancel: onCancel\n  }));\n};\nCommentEditor.defaultProps = {\n  placeholder: 'Enter_comment_Enter_for_new_line_shift_enter_to_send'\n};\nexport default CommentEditor;","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useTranslation","classNames","Editor","Transforms","context","useParticipantsContext","SdocCommentEditor","createCommentEditor","withNodeId","generateEmptyElement","PARAGRAPH","slateToMdString","mdStringToSlate","COMMENT_EDITOR","COMMENT_EDITOR_EDIT_AREA_WIDTH","INTERNAL_EVENT","KeyCodes","EventBus","getSubmitTip","type","content","CommentEditor","_ref","className","placeholder","insertContent","updateContent","setIsEditing","hiddenComment","commentRef","globalComment","commentWrapperRef","_useTranslation","t","_useParticipantsConte","addParticipants","submitTip","userInfo","getUserInfo","document","cursor","children","editor","defaultEditor","newEditor","cursors","width","editorType","current","scrollIntoView","behavior","block","updateValue","value","trim","onSubmit","event","stopPropagation","mdString","username","select","start","eventBus","getInstance","unsubscribePostComment","subscribe","COMMENT_EDITOR_POST_COMMENT","onCancel","eventType","keyCode","target","Esc","isSdocContentWrapper","classList","contains","listContainer","window","querySelector","commentEditorContainer","resizeContainer","scrollContainer","isClickOnListContainer","isClickOnCommentEditorContainer","isClickResizeContainer","isClickScrollContainer","isPreventCancel","end","createElement","ref","src","avatar_url","alt","height","name","submitBtnText","defaultProps"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/comment/components/comment-editor.js"],"sourcesContent":["import React, { useCallback, useEffect, useMemo, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport classNames from 'classnames';\nimport { Editor, Transforms } from '@seafile/slate';\nimport context from '../../../context';\nimport { useParticipantsContext } from '../hooks/use-participants';\nimport SdocCommentEditor from '../../editor/sdoc-comment-editor';\nimport { createCommentEditor } from '../../extension';\nimport withNodeId from '../../node-id';\nimport { generateEmptyElement } from '../../extension/core';\nimport { PARAGRAPH } from '../../extension/constants';\nimport slateToMdString from '../../../slate-convert/slate-to-md';\nimport mdStringToSlate from '../../../slate-convert/md-to-slate';\nimport { COMMENT_EDITOR, COMMENT_EDITOR_EDIT_AREA_WIDTH, INTERNAL_EVENT } from '../../constants';\nimport { KeyCodes } from '../../../constants';\nimport EventBus from '../../utils/event-bus';\nconst getSubmitTip = (type, content) => {\n  if (content) return 'Save';\n  return type === 'comment' ? 'Comment' : 'Reply';\n};\nconst CommentEditor = _ref => {\n  let {\n    type,\n    className,\n    content,\n    placeholder,\n    insertContent,\n    updateContent,\n    setIsEditing,\n    hiddenComment,\n    commentRef,\n    globalComment\n  } = _ref;\n  const commentWrapperRef = useRef();\n  const {\n    t\n  } = useTranslation();\n  const {\n    addParticipants\n  } = useParticipantsContext();\n  const submitTip = useMemo(() => getSubmitTip(type, content), [content, type]);\n  const userInfo = context.getUserInfo();\n  const document = useMemo(() => {\n    const cursor = {};\n    let children = null;\n    children = [generateEmptyElement(PARAGRAPH, {\n      placeholder\n    })];\n    return {\n      children,\n      cursor\n    };\n  }, [placeholder]);\n  const editor = useMemo(() => {\n    const defaultEditor = createCommentEditor();\n    const newEditor = withNodeId(defaultEditor);\n    const {\n      cursors\n    } = document;\n    newEditor.cursors = cursors || {};\n    newEditor.width = COMMENT_EDITOR_EDIT_AREA_WIDTH; // default width\n    newEditor.editorType = COMMENT_EDITOR;\n    return newEditor;\n  }, [document]);\n\n  // onMount: set scrollLeft\n  useEffect(() => {\n    if (!commentWrapperRef.current) return;\n    (commentRef === null || commentRef === void 0 ? void 0 : commentRef.current) && commentRef.current.scrollIntoView({\n      behavior: 'smooth',\n      block: 'nearest'\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const updateValue = useCallback(value => {\n    if (!value || value.trim() === '') return;\n    if (!content) return insertContent(value);\n    updateContent(value);\n  }, [content, insertContent, updateContent]);\n  const onSubmit = useCallback(event => {\n    event && event.stopPropagation();\n    const mdString = slateToMdString(editor.children);\n    updateValue(mdString);\n    addParticipants(userInfo.username);\n    editor.children = [generateEmptyElement(PARAGRAPH, {\n      placeholder\n    })];\n    Transforms.select(editor, Editor.start(editor, []));\n  }, [editor, updateValue, addParticipants, userInfo.username, placeholder]);\n  useEffect(() => {\n    const eventBus = EventBus.getInstance();\n    const unsubscribePostComment = eventBus.subscribe(INTERNAL_EVENT.COMMENT_EDITOR_POST_COMMENT, onSubmit);\n    return () => {\n      unsubscribePostComment();\n    };\n  }, [onSubmit]);\n  const onCancel = useCallback(event => {\n    event.stopPropagation();\n    const {\n      type: eventType,\n      keyCode,\n      target\n    } = event;\n    if (eventType === 'keydown' && keyCode !== KeyCodes.Esc) return;\n    if (eventType === 'click') {\n      const isSdocContentWrapper = target.classList.contains('sdoc-content-wrapper');\n      const listContainer = window.document.querySelector('#global-comment-list-container');\n      const commentEditorContainer = window.document.querySelector('.sdoc-doc-comment-editor-container');\n      const resizeContainer = window.document.querySelector('.sdoc-comment-resize-handler');\n      const scrollContainer = window.document.querySelector('.sdoc-scroll-container');\n      const isClickOnListContainer = listContainer && listContainer.contains(target);\n      const isClickOnCommentEditorContainer = commentEditorContainer && commentEditorContainer.contains(target);\n      const isClickResizeContainer = resizeContainer && resizeContainer.contains(target);\n      const isClickScrollContainer = scrollContainer && scrollContainer.contains(target);\n      const isPreventCancel = isClickOnListContainer || isClickOnCommentEditorContainer || isClickResizeContainer || isClickScrollContainer || isSdocContentWrapper;\n      // Global comment could not be canceled by clicking outside\n      if (globalComment && !isClickScrollContainer) return;\n      if (isPreventCancel) return;\n    }\n    setIsEditing && setIsEditing(false);\n    hiddenComment && hiddenComment(false);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [setIsEditing]);\n  useEffect(() => {\n    const children = mdStringToSlate(content);\n    editor.children = children;\n    Transforms.select(editor, Editor.end(editor, []));\n  }, [editor, content]);\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: classNames('comment-editor-wrapper', className),\n    ref: commentWrapperRef\n  }, type === 'comment' && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-editor-user-info\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-editor-user-img\"\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: userInfo.avatar_url,\n    alt: \"\",\n    height: \"100%\",\n    width: \"100%\"\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"comment-editor-user-name\"\n  }, userInfo.name)), /*#__PURE__*/React.createElement(SdocCommentEditor, {\n    editor: editor,\n    type: type,\n    document: document,\n    onSubmit: onSubmit,\n    submitBtnText: t(submitTip),\n    onCancel: onCancel\n  }));\n};\nCommentEditor.defaultProps = {\n  placeholder: 'Enter_comment_Enter_for_new_line_shift_enter_to_send'\n};\nexport default CommentEditor;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}