{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import ModalPortal from'./modal-portal';import ListTaggedFilesDialog from'./dialog/list-taggedfiles-dialog';import'../css/repo-info-bar.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var RepoInfoBar=/*#__PURE__*/function(_React$Component){_inherits(RepoInfoBar,_React$Component);var _super=_createSuper(RepoInfoBar);function RepoInfoBar(props){var _this;_classCallCheck(this,RepoInfoBar);_this=_super.call(this,props);_this.onListTaggedFiles=function(currentTag){_this.setState({currentTag:currentTag,isListTaggedFileShow:!_this.state.isListTaggedFileShow});};_this.onCloseDialog=function(){_this.setState({isListTaggedFileShow:false});};_this.state={currentTag:null,isListTaggedFileShow:false};return _this;}_createClass(RepoInfoBar,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,repoID=_this$props.repoID,usedRepoTags=_this$props.usedRepoTags,className=_this$props.className;return/*#__PURE__*/_jsxs(\"div\",{className:\"repo-info-bar \".concat(className?className:''),children:[usedRepoTags.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"used-tag-list\",children:usedRepoTags.map(function(usedRepoTag){return/*#__PURE__*/_jsxs(\"li\",{className:\"used-tag-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"used-tag\",style:{backgroundColor:usedRepoTag.color}}),/*#__PURE__*/_jsx(\"span\",{className:\"used-tag-name\",title:usedRepoTag.name,children:usedRepoTag.name}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"used-tag-files border-0 bg-transparent\",onClick:_this2.onListTaggedFiles.bind(_this2,usedRepoTag),children:usedRepoTag.fileCount>1?usedRepoTag.fileCount+' files':usedRepoTag.fileCount+' file'})]},usedRepoTag.id);})}),this.state.isListTaggedFileShow&&/*#__PURE__*/_jsx(ModalPortal,{children:/*#__PURE__*/_jsx(ListTaggedFilesDialog,{repoID:repoID,currentTag:this.state.currentTag,onClose:this.onCloseDialog,toggleCancel:this.onListTaggedFiles,updateUsedRepoTags:this.props.updateUsedRepoTags,onFileTagChanged:this.props.onFileTagChanged,shareLinkToken:this.props.shareLinkToken,enableFileDownload:this.props.enableFileDownload})})]});}}]);return RepoInfoBar;}(React.Component);export default RepoInfoBar;","map":{"version":3,"names":["React","ModalPortal","ListTaggedFilesDialog","jsx","_jsx","jsxs","_jsxs","RepoInfoBar","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onListTaggedFiles","currentTag","setState","isListTaggedFileShow","state","onCloseDialog","_createClass","key","value","render","_this2","_this$props","repoID","usedRepoTags","className","concat","children","length","map","usedRepoTag","style","backgroundColor","color","title","name","type","onClick","bind","fileCount","id","onClose","toggleCancel","updateUsedRepoTags","onFileTagChanged","shareLinkToken","enableFileDownload","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/repo-info-bar.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport ModalPortal from './modal-portal';\nimport ListTaggedFilesDialog from './dialog/list-taggedfiles-dialog';\n\nimport '../css/repo-info-bar.css';\n\nconst propTypes = {\n  repoID: PropTypes.string.isRequired,\n  usedRepoTags: PropTypes.array.isRequired,\n  updateUsedRepoTags: PropTypes.func,\n  onFileTagChanged: PropTypes.func,\n  className: PropTypes.string,\n  shareLinkToken: PropTypes.string,\n  enableFileDownload: PropTypes.bool\n};\n\nclass RepoInfoBar extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      currentTag: null,\n      isListTaggedFileShow: false,\n    };\n  }\n\n  onListTaggedFiles = (currentTag) => {\n    this.setState({\n      currentTag: currentTag,\n      isListTaggedFileShow: !this.state.isListTaggedFileShow\n    });\n  };\n\n  onCloseDialog = () => {\n    this.setState({\n      isListTaggedFileShow: false\n    });\n  };\n\n  render() {\n    let { repoID, usedRepoTags, className } = this.props;\n\n    return (\n      <div className={`repo-info-bar ${className ? className : ''}`}>\n        {usedRepoTags.length > 0 && (\n          <ul className=\"used-tag-list\">\n            {usedRepoTags.map((usedRepoTag) => {\n              return (\n                <li key={usedRepoTag.id} className=\"used-tag-item\">\n                  <span className=\"used-tag\" style={{backgroundColor:usedRepoTag.color}}></span>\n                  <span className=\"used-tag-name\" title={usedRepoTag.name}>{usedRepoTag.name}</span>\n                  <button type=\"button\" className=\"used-tag-files border-0 bg-transparent\" onClick={this.onListTaggedFiles.bind(this, usedRepoTag)}>\n                    {usedRepoTag.fileCount > 1 ? usedRepoTag.fileCount + ' files' : usedRepoTag.fileCount + ' file'}\n                  </button>\n                </li>\n              );\n            })}\n          </ul>\n        )}\n        {this.state.isListTaggedFileShow && (\n          <ModalPortal>\n            <ListTaggedFilesDialog\n              repoID={repoID}\n              currentTag={this.state.currentTag}\n              onClose={this.onCloseDialog}\n              toggleCancel={this.onListTaggedFiles}\n              updateUsedRepoTags={this.props.updateUsedRepoTags}\n              onFileTagChanged={this.props.onFileTagChanged}\n              shareLinkToken={this.props.shareLinkToken}\n              enableFileDownload={this.props.enableFileDownload}\n            />\n          </ModalPortal>\n        )}\n      </div>\n    );\n  }\n}\n\nRepoInfoBar.propTypes = propTypes;\n\nexport default RepoInfoBar;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}