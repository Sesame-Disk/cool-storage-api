{"ast":null,"code":"import React,{Suspense}from'react';import ReactDom from'react-dom';import{I18nextProvider}from'react-i18next';import{PublishedRevisionViewer}from'@seafile/sdoc-editor';import i18n from'../../../_i18n/i18n-sdoc-editor';import{Utils}from'../../../utils/utils';import Loading from'../../../components/loading';import{jsx as _jsx}from\"react/jsx-runtime\";var _window$app$config=window.app.config,serviceURL=_window$app$config.serviceURL,avatarURL=_window$app$config.avatarURL,siteRoot=_window$app$config.siteRoot,lang=_window$app$config.lang;var _ref=window.app.userInfo||{},username=_ref.username,name=_ref.name;var _window$app$pageOptio=window.app.pageOptions,repoID=_window$app$pageOptio.repoID,repoName=_window$app$pageOptio.repoName,parentDir=_window$app$pageOptio.parentDir,filePerm=_window$app$pageOptio.filePerm,docPath=_window$app$pageOptio.docPath,docName=_window$app$pageOptio.docName,docUuid=_window$app$pageOptio.docUuid,seadocAccessToken=_window$app$pageOptio.seadocAccessToken,seadocServerUrl=_window$app$pageOptio.seadocServerUrl,assetsUrl=_window$app$pageOptio.assetsUrl,isSdocRevision=_window$app$pageOptio.isSdocRevision,isPublished=_window$app$pageOptio.isPublished,originFilename=_window$app$pageOptio.originFilename,revisionCreatedAt=_window$app$pageOptio.revisionCreatedAt,originFileVersion=_window$app$pageOptio.originFileVersion,originFilePath=_window$app$pageOptio.originFilePath,originDocUuid=_window$app$pageOptio.originDocUuid,revisionId=_window$app$pageOptio.revisionId;window.seafile={repoID:repoID,docPath:docPath,docName:docName,docUuid:docUuid,isOpenSocket:true,serviceUrl:serviceURL,accessToken:seadocAccessToken,sdocServer:seadocServerUrl,name:name,username:username,avatarURL:avatarURL,siteRoot:siteRoot,docPerm:filePerm,historyURL:Utils.generateHistoryURL(siteRoot,repoID,docPath),parentFolderURL:\"\".concat(siteRoot,\"library/\").concat(repoID,\"/\").concat(Utils.encodePath(repoName+parentDir)),assetsUrl:assetsUrl,isShowInternalLink:true,isStarIconShown:true,// for star/unstar\nisSdocRevision:isSdocRevision,isPublished:isPublished,originFilename:originFilename,originFileVersion:originFileVersion,originFilePath:originFilePath,originDocUuid:originDocUuid,revisionCreatedAt:revisionCreatedAt,lang:lang,revisionId:revisionId};ReactDom.render(/*#__PURE__*/_jsx(I18nextProvider,{i18n:i18n,children:/*#__PURE__*/_jsx(Suspense,{fallback:/*#__PURE__*/_jsx(Loading,{}),children:/*#__PURE__*/_jsx(PublishedRevisionViewer,{})})}),document.getElementById('wrapper'));","map":{"version":3,"names":["React","Suspense","ReactDom","I18nextProvider","PublishedRevisionViewer","i18n","Utils","Loading","jsx","_jsx","_window$app$config","window","app","config","serviceURL","avatarURL","siteRoot","lang","_ref","userInfo","username","name","_window$app$pageOptio","pageOptions","repoID","repoName","parentDir","filePerm","docPath","docName","docUuid","seadocAccessToken","seadocServerUrl","assetsUrl","isSdocRevision","isPublished","originFilename","revisionCreatedAt","originFileVersion","originFilePath","originDocUuid","revisionId","seafile","isOpenSocket","serviceUrl","accessToken","sdocServer","docPerm","historyURL","generateHistoryURL","parentFolderURL","concat","encodePath","isShowInternalLink","isStarIconShown","render","children","fallback","document","getElementById"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sdoc/sdoc-published-revision/index.js"],"sourcesContent":["import React, { Suspense } from 'react';\nimport ReactDom from 'react-dom';\nimport { I18nextProvider } from 'react-i18next';\nimport { PublishedRevisionViewer } from '@seafile/sdoc-editor';\nimport i18n from '../../../_i18n/i18n-sdoc-editor';\nimport { Utils } from '../../../utils/utils';\nimport Loading from '../../../components/loading';\n\nconst { serviceURL, avatarURL, siteRoot, lang } = window.app.config;\nconst { username, name } = window.app.userInfo || {};\nconst {\n  repoID, repoName, parentDir, filePerm,\n  docPath, docName, docUuid, seadocAccessToken, seadocServerUrl, assetsUrl,\n  isSdocRevision, isPublished, originFilename, revisionCreatedAt, originFileVersion,\n  originFilePath, originDocUuid, revisionId,\n} = window.app.pageOptions;\n\nwindow.seafile = {\n  repoID,\n  docPath,\n  docName,\n  docUuid,\n  isOpenSocket: true,\n  serviceUrl: serviceURL,\n  accessToken: seadocAccessToken,\n  sdocServer: seadocServerUrl,\n  name,\n  username,\n  avatarURL,\n  siteRoot,\n  docPerm: filePerm,\n  historyURL: Utils.generateHistoryURL(siteRoot, repoID, docPath),\n  parentFolderURL: `${siteRoot}library/${repoID}/${Utils.encodePath(repoName + parentDir)}`,\n  assetsUrl,\n  isShowInternalLink: true,\n  isStarIconShown: true, // for star/unstar\n  isSdocRevision,\n  isPublished,\n  originFilename,\n  originFileVersion,\n  originFilePath,\n  originDocUuid,\n  revisionCreatedAt,\n  lang,\n  revisionId,\n};\n\nReactDom.render(\n  <I18nextProvider i18n={ i18n } >\n    <Suspense fallback={<Loading />}>\n      <PublishedRevisionViewer />\n    </Suspense>\n  </I18nextProvider>,\n  document.getElementById('wrapper')\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}