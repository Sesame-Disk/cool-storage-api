{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slate = require(\"slate\");\nvar TRANSFER_TYPES = {\n  fragment: 'application/x-slate-fragment',\n  html: 'text/html',\n  text: 'text/plain'\n};\n\n// transform slate fragment and write to clipboard\nfunction setEventTransfer(event, type, content) {\n  var mime = TRANSFER_TYPES[type];\n  var transfer = event.dataTransfer || event.clipboardData;\n  if (type === 'fragment') {\n    // use the same encoding as slate\n    var encodedContent = window.btoa(encodeURIComponent(JSON.stringify(content)));\n    transfer.setData(mime, encodedContent);\n    var texts = '';\n    var textItem = '';\n    content.forEach(function (element) {\n      textItem = _slate.Node.string(element).replace(/\\ufeff/, '');\n      texts += textItem + '\\r\\n';\n    });\n    transfer.setData('text', texts);\n  } else if (type === 'html') {\n    transfer.setData(mime, content);\n    transfer.setData('text', transfer.getData('text'));\n  } else {\n    transfer.setData('text', content);\n  }\n}\nvar _default = exports.default = setEventTransfer;","map":{"version":3,"names":["Object","defineProperty","exports","value","default","_slate","require","TRANSFER_TYPES","fragment","html","text","setEventTransfer","event","type","content","mime","transfer","dataTransfer","clipboardData","encodedContent","window","btoa","encodeURIComponent","JSON","stringify","setData","texts","textItem","forEach","element","Node","string","replace","getData","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/containers/custom/set-event-transfer.js"],"sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _slate = require(\"slate\");\nconst TRANSFER_TYPES = {\n  fragment: 'application/x-slate-fragment',\n  html: 'text/html',\n  text: 'text/plain'\n};\n\n// transform slate fragment and write to clipboard\nfunction setEventTransfer(event, type, content) {\n  const mime = TRANSFER_TYPES[type];\n  const transfer = event.dataTransfer || event.clipboardData;\n  if (type === 'fragment') {\n    // use the same encoding as slate\n    const encodedContent = window.btoa(encodeURIComponent(JSON.stringify(content)));\n    transfer.setData(mime, encodedContent);\n    let texts = '';\n    let textItem = '';\n    content.forEach(element => {\n      textItem = _slate.Node.string(element).replace(/\\ufeff/, '');\n      texts += textItem + '\\r\\n';\n    });\n    transfer.setData('text', texts);\n  } else if (type === 'html') {\n    transfer.setData(mime, content);\n    transfer.setData('text', transfer.getData('text'));\n  } else {\n    transfer.setData('text', content);\n  }\n}\nvar _default = exports.default = setEventTransfer;"],"mappings":"AAAA,YAAY;;AAEZA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,OAAO,GAAG,KAAK,CAAC;AACxB,IAAIC,MAAM,GAAGC,OAAO,CAAC,OAAO,CAAC;AAC7B,IAAMC,cAAc,GAAG;EACrBC,QAAQ,EAAE,8BAA8B;EACxCC,IAAI,EAAE,WAAW;EACjBC,IAAI,EAAE;AACR,CAAC;;AAED;AACA,SAASC,gBAAgBA,CAACC,KAAK,EAAEC,IAAI,EAAEC,OAAO,EAAE;EAC9C,IAAMC,IAAI,GAAGR,cAAc,CAACM,IAAI,CAAC;EACjC,IAAMG,QAAQ,GAAGJ,KAAK,CAACK,YAAY,IAAIL,KAAK,CAACM,aAAa;EAC1D,IAAIL,IAAI,KAAK,UAAU,EAAE;IACvB;IACA,IAAMM,cAAc,GAAGC,MAAM,CAACC,IAAI,CAACC,kBAAkB,CAACC,IAAI,CAACC,SAAS,CAACV,OAAO,CAAC,CAAC,CAAC;IAC/EE,QAAQ,CAACS,OAAO,CAACV,IAAI,EAAEI,cAAc,CAAC;IACtC,IAAIO,KAAK,GAAG,EAAE;IACd,IAAIC,QAAQ,GAAG,EAAE;IACjBb,OAAO,CAACc,OAAO,CAAC,UAAAC,OAAO,EAAI;MACzBF,QAAQ,GAAGtB,MAAM,CAACyB,IAAI,CAACC,MAAM,CAACF,OAAO,CAAC,CAACG,OAAO,CAAC,QAAQ,EAAE,EAAE,CAAC;MAC5DN,KAAK,IAAIC,QAAQ,GAAG,MAAM;IAC5B,CAAC,CAAC;IACFX,QAAQ,CAACS,OAAO,CAAC,MAAM,EAAEC,KAAK,CAAC;EACjC,CAAC,MAAM,IAAIb,IAAI,KAAK,MAAM,EAAE;IAC1BG,QAAQ,CAACS,OAAO,CAACV,IAAI,EAAED,OAAO,CAAC;IAC/BE,QAAQ,CAACS,OAAO,CAAC,MAAM,EAAET,QAAQ,CAACiB,OAAO,CAAC,MAAM,CAAC,CAAC;EACpD,CAAC,MAAM;IACLjB,QAAQ,CAACS,OAAO,CAAC,MAAM,EAAEX,OAAO,CAAC;EACnC;AACF;AACA,IAAIoB,QAAQ,GAAGhC,OAAO,CAACE,OAAO,GAAGO,gBAAgB"},"metadata":{},"sourceType":"script","externalDependencies":[]}