{"ast":null,"code":"import _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _class;\nvar ObjectUtils = /*#__PURE__*/function () {\n  function ObjectUtils() {\n    _classCallCheck(this, ObjectUtils);\n  }\n  _createClass(ObjectUtils, null, [{\n    key: \"getDataType\",\n    value: function getDataType(data) {\n      var type = typeof data;\n      if (type !== 'object') {\n        return type;\n      }\n      return Object.prototype.toString.call(data).replace(/^\\[object (\\S+)\\]$/, '$1');\n    }\n  }, {\n    key: \"iterable\",\n    value: function iterable(data) {\n      return ['Object', 'Array'].includes(this.getDataType(data));\n    }\n  }, {\n    key: \"isObjectChanged\",\n    value: function isObjectChanged(source, comparison, notIncludeKeys) {\n      var _this = this;\n      if (!this.iterable(source)) {\n        throw new Error(\"source should be a Object or Array , but got \".concat(this.getDataType(source)));\n      }\n      if (this.getDataType(source) !== this.getDataType(comparison)) {\n        return true;\n      }\n      var sourceKeys = Object.keys(source);\n      var comparisonKeys = Object.keys(_objectSpread(_objectSpread({}, source), comparison)).filter(function (key) {\n        return !notIncludeKeys.includes(key);\n      });\n      if (sourceKeys.length !== comparisonKeys.length) {\n        return true;\n      }\n      return comparisonKeys.some(function (key) {\n        if (_this.iterable(source[key])) {\n          return _this.isObjectChanged(source[key], comparison[key], notIncludeKeys);\n        } else {\n          return source[key] !== comparison[key];\n        }\n      });\n    }\n  }, {\n    key: \"isSameObject\",\n    value: function isSameObject(source, comparison) {\n      var notIncludeKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n      if (!source || !comparison) return false;\n      return !this.isObjectChanged(source, comparison, notIncludeKeys);\n    }\n  }]);\n  return ObjectUtils;\n}();\n_class = ObjectUtils;\n_defineProperty(ObjectUtils, \"isObject\", function (data) {\n  return _class.getDataType(data) === 'Object';\n});\n_defineProperty(ObjectUtils, \"hasProperty\", function (obj, prop) {\n  if (!obj) return false;\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n});\nexport default ObjectUtils;","map":{"version":3,"names":["_objectSpread","_defineProperty","_class","ObjectUtils","_classCallCheck","_createClass","key","value","getDataType","data","type","Object","prototype","toString","call","replace","iterable","includes","isObjectChanged","source","comparison","notIncludeKeys","_this","Error","concat","sourceKeys","keys","comparisonKeys","filter","length","some","isSameObject","arguments","undefined","obj","prop","hasOwnProperty"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/utils/object-utils.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nvar _class;\nclass ObjectUtils {\n  static getDataType(data) {\n    let type = typeof data;\n    if (type !== 'object') {\n      return type;\n    }\n    return Object.prototype.toString.call(data).replace(/^\\[object (\\S+)\\]$/, '$1');\n  }\n  static iterable(data) {\n    return ['Object', 'Array'].includes(this.getDataType(data));\n  }\n  static isObjectChanged(source, comparison, notIncludeKeys) {\n    if (!this.iterable(source)) {\n      throw new Error(\"source should be a Object or Array , but got \".concat(this.getDataType(source)));\n    }\n    if (this.getDataType(source) !== this.getDataType(comparison)) {\n      return true;\n    }\n    const sourceKeys = Object.keys(source);\n    const comparisonKeys = Object.keys(_objectSpread(_objectSpread({}, source), comparison)).filter(key => !notIncludeKeys.includes(key));\n    if (sourceKeys.length !== comparisonKeys.length) {\n      return true;\n    }\n    return comparisonKeys.some(key => {\n      if (this.iterable(source[key])) {\n        return this.isObjectChanged(source[key], comparison[key], notIncludeKeys);\n      } else {\n        return source[key] !== comparison[key];\n      }\n    });\n  }\n  static isSameObject(source, comparison) {\n    let notIncludeKeys = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    if (!source || !comparison) return false;\n    return !this.isObjectChanged(source, comparison, notIncludeKeys);\n  }\n}\n_class = ObjectUtils;\n_defineProperty(ObjectUtils, \"isObject\", data => {\n  return _class.getDataType(data) === 'Object';\n});\n_defineProperty(ObjectUtils, \"hasProperty\", (obj, prop) => {\n  if (!obj) return false;\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n});\nexport default ObjectUtils;"],"mappings":";;AAAA,OAAOA,aAAa,MAAM,0CAA0C;AACpE,OAAOC,eAAe,MAAM,2CAA2C;AACvE,IAAIC,MAAM;AAAC,IACLC,WAAW;EAAA,SAAAA,YAAA;IAAAC,eAAA,OAAAD,WAAA;EAAA;EAAAE,YAAA,CAAAF,WAAA;IAAAG,GAAA;IAAAC,KAAA,EACf,SAAAC,YAAmBC,IAAI,EAAE;MACvB,IAAIC,IAAI,GAAG,OAAOD,IAAI;MACtB,IAAIC,IAAI,KAAK,QAAQ,EAAE;QACrB,OAAOA,IAAI;MACb;MACA,OAAOC,MAAM,CAACC,SAAS,CAACC,QAAQ,CAACC,IAAI,CAACL,IAAI,CAAC,CAACM,OAAO,CAAC,oBAAoB,EAAE,IAAI,CAAC;IACjF;EAAC;IAAAT,GAAA;IAAAC,KAAA,EACD,SAAAS,SAAgBP,IAAI,EAAE;MACpB,OAAO,CAAC,QAAQ,EAAE,OAAO,CAAC,CAACQ,QAAQ,CAAC,IAAI,CAACT,WAAW,CAACC,IAAI,CAAC,CAAC;IAC7D;EAAC;IAAAH,GAAA;IAAAC,KAAA,EACD,SAAAW,gBAAuBC,MAAM,EAAEC,UAAU,EAAEC,cAAc,EAAE;MAAA,IAAAC,KAAA;MACzD,IAAI,CAAC,IAAI,CAACN,QAAQ,CAACG,MAAM,CAAC,EAAE;QAC1B,MAAM,IAAII,KAAK,CAAC,+CAA+C,CAACC,MAAM,CAAC,IAAI,CAAChB,WAAW,CAACW,MAAM,CAAC,CAAC,CAAC;MACnG;MACA,IAAI,IAAI,CAACX,WAAW,CAACW,MAAM,CAAC,KAAK,IAAI,CAACX,WAAW,CAACY,UAAU,CAAC,EAAE;QAC7D,OAAO,IAAI;MACb;MACA,IAAMK,UAAU,GAAGd,MAAM,CAACe,IAAI,CAACP,MAAM,CAAC;MACtC,IAAMQ,cAAc,GAAGhB,MAAM,CAACe,IAAI,CAAC1B,aAAa,CAACA,aAAa,CAAC,CAAC,CAAC,EAAEmB,MAAM,CAAC,EAAEC,UAAU,CAAC,CAAC,CAACQ,MAAM,CAAC,UAAAtB,GAAG;QAAA,OAAI,CAACe,cAAc,CAACJ,QAAQ,CAACX,GAAG,CAAC;MAAA,EAAC;MACrI,IAAImB,UAAU,CAACI,MAAM,KAAKF,cAAc,CAACE,MAAM,EAAE;QAC/C,OAAO,IAAI;MACb;MACA,OAAOF,cAAc,CAACG,IAAI,CAAC,UAAAxB,GAAG,EAAI;QAChC,IAAIgB,KAAI,CAACN,QAAQ,CAACG,MAAM,CAACb,GAAG,CAAC,CAAC,EAAE;UAC9B,OAAOgB,KAAI,CAACJ,eAAe,CAACC,MAAM,CAACb,GAAG,CAAC,EAAEc,UAAU,CAACd,GAAG,CAAC,EAAEe,cAAc,CAAC;QAC3E,CAAC,MAAM;UACL,OAAOF,MAAM,CAACb,GAAG,CAAC,KAAKc,UAAU,CAACd,GAAG,CAAC;QACxC;MACF,CAAC,CAAC;IACJ;EAAC;IAAAA,GAAA;IAAAC,KAAA,EACD,SAAAwB,aAAoBZ,MAAM,EAAEC,UAAU,EAAE;MACtC,IAAIC,cAAc,GAAGW,SAAS,CAACH,MAAM,GAAG,CAAC,IAAIG,SAAS,CAAC,CAAC,CAAC,KAAKC,SAAS,GAAGD,SAAS,CAAC,CAAC,CAAC,GAAG,EAAE;MAC3F,IAAI,CAACb,MAAM,IAAI,CAACC,UAAU,EAAE,OAAO,KAAK;MACxC,OAAO,CAAC,IAAI,CAACF,eAAe,CAACC,MAAM,EAAEC,UAAU,EAAEC,cAAc,CAAC;IAClE;EAAC;EAAA,OAAAlB,WAAA;AAAA;AAEHD,MAAM,GAAGC,WAAW;AACpBF,eAAe,CAACE,WAAW,EAAE,UAAU,EAAE,UAAAM,IAAI,EAAI;EAC/C,OAAOP,MAAM,CAACM,WAAW,CAACC,IAAI,CAAC,KAAK,QAAQ;AAC9C,CAAC,CAAC;AACFR,eAAe,CAACE,WAAW,EAAE,aAAa,EAAE,UAAC+B,GAAG,EAAEC,IAAI,EAAK;EACzD,IAAI,CAACD,GAAG,EAAE,OAAO,KAAK;EACtB,OAAOvB,MAAM,CAACC,SAAS,CAACwB,cAAc,CAACtB,IAAI,CAACoB,GAAG,EAAEC,IAAI,CAAC;AACxD,CAAC,CAAC;AACF,eAAehC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}