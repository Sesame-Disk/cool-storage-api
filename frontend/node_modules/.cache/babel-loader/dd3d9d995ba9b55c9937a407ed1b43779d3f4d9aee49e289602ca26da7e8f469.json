{"ast":null,"code":"import _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar EventBus = /*#__PURE__*/function () {\n  function EventBus() {\n    _classCallCheck(this, EventBus);\n    this.instance = null;\n    this.subscribers = {};\n  }\n  _createClass(EventBus, [{\n    key: \"subscribe\",\n    value: function subscribe(type, handler) {\n      if (!this.subscribers[type]) {\n        this.subscribers[type] = [];\n      }\n      var handlers = this.subscribers[type];\n      handlers.push(handler);\n      return function () {\n        var index = handlers.indexOf(handler);\n        if (index > -1) {\n          handlers.splice(index, 1);\n        }\n      };\n    }\n  }, {\n    key: \"dispatch\",\n    value: function dispatch(type) {\n      for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        data[_key - 1] = arguments[_key];\n      }\n      var handlers = this.subscribers[type];\n      if (Array.isArray(handlers)) {\n        handlers.forEach(function (handler) {\n          return handler.apply(void 0, data);\n        });\n      }\n    }\n  }], [{\n    key: \"getInstance\",\n    value: function getInstance() {\n      if (this.instance) return this.instance;\n      this.instance = new EventBus();\n      return this.instance;\n    }\n  }]);\n  return EventBus;\n}();\nexport default EventBus;","map":{"version":3,"names":["EventBus","_classCallCheck","instance","subscribers","_createClass","key","value","subscribe","type","handler","handlers","push","index","indexOf","splice","dispatch","_len","arguments","length","data","Array","_key","isArray","forEach","apply","getInstance"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/utils/event-bus.js"],"sourcesContent":["class EventBus {\n  constructor() {\n    this.instance = null;\n    this.subscribers = {};\n  }\n  static getInstance() {\n    if (this.instance) return this.instance;\n    this.instance = new EventBus();\n    return this.instance;\n  }\n  subscribe(type, handler) {\n    if (!this.subscribers[type]) {\n      this.subscribers[type] = [];\n    }\n    const handlers = this.subscribers[type];\n    handlers.push(handler);\n    return () => {\n      const index = handlers.indexOf(handler);\n      if (index > -1) {\n        handlers.splice(index, 1);\n      }\n    };\n  }\n  dispatch(type) {\n    for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      data[_key - 1] = arguments[_key];\n    }\n    const handlers = this.subscribers[type];\n    if (Array.isArray(handlers)) {\n      handlers.forEach(handler => handler(...data));\n    }\n  }\n}\nexport default EventBus;"],"mappings":";;IAAMA,QAAQ;EACZ,SAAAA,SAAA,EAAc;IAAAC,eAAA,OAAAD,QAAA;IACZ,IAAI,CAACE,QAAQ,GAAG,IAAI;IACpB,IAAI,CAACC,WAAW,GAAG,CAAC,CAAC;EACvB;EAACC,YAAA,CAAAJ,QAAA;IAAAK,GAAA;IAAAC,KAAA,EAMD,SAAAC,UAAUC,IAAI,EAAEC,OAAO,EAAE;MACvB,IAAI,CAAC,IAAI,CAACN,WAAW,CAACK,IAAI,CAAC,EAAE;QAC3B,IAAI,CAACL,WAAW,CAACK,IAAI,CAAC,GAAG,EAAE;MAC7B;MACA,IAAME,QAAQ,GAAG,IAAI,CAACP,WAAW,CAACK,IAAI,CAAC;MACvCE,QAAQ,CAACC,IAAI,CAACF,OAAO,CAAC;MACtB,OAAO,YAAM;QACX,IAAMG,KAAK,GAAGF,QAAQ,CAACG,OAAO,CAACJ,OAAO,CAAC;QACvC,IAAIG,KAAK,GAAG,CAAC,CAAC,EAAE;UACdF,QAAQ,CAACI,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;QAC3B;MACF,CAAC;IACH;EAAC;IAAAP,GAAA;IAAAC,KAAA,EACD,SAAAS,SAASP,IAAI,EAAE;MACb,KAAK,IAAIQ,IAAI,GAAGC,SAAS,CAACC,MAAM,EAAEC,IAAI,GAAG,IAAIC,KAAK,CAACJ,IAAI,GAAG,CAAC,GAAGA,IAAI,GAAG,CAAC,GAAG,CAAC,CAAC,EAAEK,IAAI,GAAG,CAAC,EAAEA,IAAI,GAAGL,IAAI,EAAEK,IAAI,EAAE,EAAE;QAC1GF,IAAI,CAACE,IAAI,GAAG,CAAC,CAAC,GAAGJ,SAAS,CAACI,IAAI,CAAC;MAClC;MACA,IAAMX,QAAQ,GAAG,IAAI,CAACP,WAAW,CAACK,IAAI,CAAC;MACvC,IAAIY,KAAK,CAACE,OAAO,CAACZ,QAAQ,CAAC,EAAE;QAC3BA,QAAQ,CAACa,OAAO,CAAC,UAAAd,OAAO;UAAA,OAAIA,OAAO,CAAAe,KAAA,SAAIL,IAAI,CAAC;QAAA,EAAC;MAC/C;IACF;EAAC;IAAAd,GAAA;IAAAC,KAAA,EA1BD,SAAAmB,YAAA,EAAqB;MACnB,IAAI,IAAI,CAACvB,QAAQ,EAAE,OAAO,IAAI,CAACA,QAAQ;MACvC,IAAI,CAACA,QAAQ,GAAG,IAAIF,QAAQ,CAAC,CAAC;MAC9B,OAAO,IAAI,CAACE,QAAQ;IACtB;EAAC;EAAA,OAAAF,QAAA;AAAA;AAwBH,eAAeA,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}