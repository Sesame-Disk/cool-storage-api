{"ast":null,"code":"import { Editor, Path, Transforms } from '@seafile/slate';\nimport { findDescendant, getLastChildPath, moveChildren } from '../../../core';\nimport { getListTypes } from '../queries';\nexport var moveListItemsToList = function moveListItemsToList(editor, _ref) {\n  var fromList = _ref.fromList,\n    fromListItem = _ref.fromListItem,\n    fromStartIndex = _ref.fromStartIndex,\n    _to = _ref.to,\n    toList = _ref.toList,\n    _ref$toListIndex = _ref.toListIndex,\n    toListIndex = _ref$toListIndex === void 0 ? null : _ref$toListIndex,\n    _ref$deleteFromList = _ref.deleteFromList,\n    deleteFromList = _ref$deleteFromList === void 0 ? true : _ref$deleteFromList;\n  var fromListPath = null;\n  var moved = false;\n  Editor.withoutNormalizing(editor, function () {\n    if (fromListItem) {\n      var fromListItemSubList = findDescendant(editor, {\n        at: fromListItem[1],\n        match: {\n          type: getListTypes()\n        }\n      });\n      if (!fromListItemSubList) return;\n      fromListPath = fromListItemSubList === null || fromListItemSubList === void 0 ? void 0 : fromListItemSubList[1];\n    } else if (fromList) {\n      fromListPath = fromList[1];\n    } else {\n      return;\n    }\n    var to = null;\n    if (_to) to = _to;\n    if (toList) {\n      if (toListIndex !== null) {\n        to = toList[1].concat([toListIndex]);\n      } else {\n        var lastChildPath = getLastChildPath(toList);\n        to = Path.next(lastChildPath);\n      }\n    }\n    if (!to) return;\n    moved = moveChildren(editor, {\n      at: fromListPath,\n      to: to,\n      fromStartIndex: fromStartIndex\n    });\n\n    // Remove the empty list\n    if (deleteFromList) {\n      Transforms.delete(editor, {\n        at: fromListPath\n      });\n    }\n  });\n  return moved;\n};","map":{"version":3,"names":["Editor","Path","Transforms","findDescendant","getLastChildPath","moveChildren","getListTypes","moveListItemsToList","editor","_ref","fromList","fromListItem","fromStartIndex","_to","to","toList","_ref$toListIndex","toListIndex","_ref$deleteFromList","deleteFromList","fromListPath","moved","withoutNormalizing","fromListItemSubList","at","match","type","concat","lastChildPath","next","delete"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/list/transforms/move-list-items-to-list.js"],"sourcesContent":["import { Editor, Path, Transforms } from '@seafile/slate';\nimport { findDescendant, getLastChildPath, moveChildren } from '../../../core';\nimport { getListTypes } from '../queries';\nexport const moveListItemsToList = (editor, _ref) => {\n  let {\n    fromList,\n    fromListItem,\n    fromStartIndex,\n    to: _to,\n    toList,\n    toListIndex = null,\n    deleteFromList = true\n  } = _ref;\n  let fromListPath = null;\n  let moved = false;\n  Editor.withoutNormalizing(editor, () => {\n    if (fromListItem) {\n      const fromListItemSubList = findDescendant(editor, {\n        at: fromListItem[1],\n        match: {\n          type: getListTypes()\n        }\n      });\n      if (!fromListItemSubList) return;\n      fromListPath = fromListItemSubList === null || fromListItemSubList === void 0 ? void 0 : fromListItemSubList[1];\n    } else if (fromList) {\n      fromListPath = fromList[1];\n    } else {\n      return;\n    }\n    let to = null;\n    if (_to) to = _to;\n    if (toList) {\n      if (toListIndex !== null) {\n        to = toList[1].concat([toListIndex]);\n      } else {\n        const lastChildPath = getLastChildPath(toList);\n        to = Path.next(lastChildPath);\n      }\n    }\n    if (!to) return;\n    moved = moveChildren(editor, {\n      at: fromListPath,\n      to,\n      fromStartIndex\n    });\n\n    // Remove the empty list\n    if (deleteFromList) {\n      Transforms.delete(editor, {\n        at: fromListPath\n      });\n    }\n  });\n  return moved;\n};"],"mappings":"AAAA,SAASA,MAAM,EAAEC,IAAI,EAAEC,UAAU,QAAQ,gBAAgB;AACzD,SAASC,cAAc,EAAEC,gBAAgB,EAAEC,YAAY,QAAQ,eAAe;AAC9E,SAASC,YAAY,QAAQ,YAAY;AACzC,OAAO,IAAMC,mBAAmB,GAAG,SAAtBA,mBAAmBA,CAAIC,MAAM,EAAEC,IAAI,EAAK;EACnD,IACEC,QAAQ,GAOND,IAAI,CAPNC,QAAQ;IACRC,YAAY,GAMVF,IAAI,CANNE,YAAY;IACZC,cAAc,GAKZH,IAAI,CALNG,cAAc;IACVC,GAAG,GAILJ,IAAI,CAJNK,EAAE;IACFC,MAAM,GAGJN,IAAI,CAHNM,MAAM;IAAAC,gBAAA,GAGJP,IAAI,CAFNQ,WAAW;IAAXA,WAAW,GAAAD,gBAAA,cAAG,IAAI,GAAAA,gBAAA;IAAAE,mBAAA,GAEhBT,IAAI,CADNU,cAAc;IAAdA,cAAc,GAAAD,mBAAA,cAAG,IAAI,GAAAA,mBAAA;EAEvB,IAAIE,YAAY,GAAG,IAAI;EACvB,IAAIC,KAAK,GAAG,KAAK;EACjBrB,MAAM,CAACsB,kBAAkB,CAACd,MAAM,EAAE,YAAM;IACtC,IAAIG,YAAY,EAAE;MAChB,IAAMY,mBAAmB,GAAGpB,cAAc,CAACK,MAAM,EAAE;QACjDgB,EAAE,EAAEb,YAAY,CAAC,CAAC,CAAC;QACnBc,KAAK,EAAE;UACLC,IAAI,EAAEpB,YAAY,CAAC;QACrB;MACF,CAAC,CAAC;MACF,IAAI,CAACiB,mBAAmB,EAAE;MAC1BH,YAAY,GAAGG,mBAAmB,KAAK,IAAI,IAAIA,mBAAmB,KAAK,KAAK,CAAC,GAAG,KAAK,CAAC,GAAGA,mBAAmB,CAAC,CAAC,CAAC;IACjH,CAAC,MAAM,IAAIb,QAAQ,EAAE;MACnBU,YAAY,GAAGV,QAAQ,CAAC,CAAC,CAAC;IAC5B,CAAC,MAAM;MACL;IACF;IACA,IAAII,EAAE,GAAG,IAAI;IACb,IAAID,GAAG,EAAEC,EAAE,GAAGD,GAAG;IACjB,IAAIE,MAAM,EAAE;MACV,IAAIE,WAAW,KAAK,IAAI,EAAE;QACxBH,EAAE,GAAGC,MAAM,CAAC,CAAC,CAAC,CAACY,MAAM,CAAC,CAACV,WAAW,CAAC,CAAC;MACtC,CAAC,MAAM;QACL,IAAMW,aAAa,GAAGxB,gBAAgB,CAACW,MAAM,CAAC;QAC9CD,EAAE,GAAGb,IAAI,CAAC4B,IAAI,CAACD,aAAa,CAAC;MAC/B;IACF;IACA,IAAI,CAACd,EAAE,EAAE;IACTO,KAAK,GAAGhB,YAAY,CAACG,MAAM,EAAE;MAC3BgB,EAAE,EAAEJ,YAAY;MAChBN,EAAE,EAAFA,EAAE;MACFF,cAAc,EAAdA;IACF,CAAC,CAAC;;IAEF;IACA,IAAIO,cAAc,EAAE;MAClBjB,UAAU,CAAC4B,MAAM,CAACtB,MAAM,EAAE;QACxBgB,EAAE,EAAEJ;MACN,CAAC,CAAC;IACJ;EACF,CAAC,CAAC;EACF,OAAOC,KAAK;AACd,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}