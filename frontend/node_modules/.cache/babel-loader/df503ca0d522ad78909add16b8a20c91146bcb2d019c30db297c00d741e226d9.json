{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useState, useRef, useCallback } from 'react';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { useTranslation } from 'react-i18next';\nimport classnames from 'classnames';\nimport { isMenuDisabled, getFontSize, setFontSize } from '../../helpers';\nimport { FONT_SIZE } from '../../../../constants';\nimport Tooltip from '../../../../../../components/tooltip';\nimport './index.css';\nvar FontSize = function FontSize(_ref) {\n  var isRichEditor = _ref.isRichEditor,\n    className = _ref.className,\n    editor = _ref.editor,\n    readonly = _ref.readonly;\n  var _useState = useState(false),\n    _useState2 = _slicedToArray(_useState, 2),\n    isShowMenu = _useState2[0],\n    setMenuShow = _useState2[1];\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var popoverRef = useRef(null);\n  var disabled = isMenuDisabled(editor, readonly);\n  var fontSizeButtonId = 'sdoc-button-font-size';\n  var selectedFontSize = getFontSize(editor);\n  var fontSizeRef = useRef(null);\n  var toggle = useCallback(function (event) {\n    popoverRef.current.toggle();\n    setMenuShow(!isShowMenu);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isShowMenu]);\n  var updateFontSize = useCallback(function (item) {\n    var fontSize = item.value;\n    toggle();\n    setFontSize(editor, fontSize);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, selectedFontSize, isShowMenu]);\n  var validClassName = classnames(className, 'sdoc-menu-with-dropdown sdoc-font-size-menu', {\n    'menu-show': isShowMenu,\n    'disabled': disabled,\n    'rich-icon-btn d-flex': isRichEditor,\n    'rich-icon-btn-disabled': isRichEditor && disabled,\n    'rich-icon-btn-hover': isRichEditor && !disabled,\n    'btn btn-icon btn-secondary btn-active d-flex': !isRichEditor\n  });\n  var caretIconClass = \"sdoc-menu-with-dropdown-triangle-icon sdocfont sdoc-\".concat(isShowMenu ? 'caret-up' : 'drop-down');\n  var _ref2 = fontSizeRef.current ? fontSizeRef.current.getBoundingClientRect() : {\n      bottom: 92.5\n    },\n    bottom = _ref2.bottom;\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: validClassName,\n    id: fontSizeButtonId,\n    disabled: disabled,\n    ref: fontSizeRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-menu-with-dropdown-icon\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-truncate\"\n  }, selectedFontSize)), !disabled && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-menu-with-dropdown-triangle\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: caretIconClass\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    target: fontSizeButtonId\n  }, t('Font_size')), !disabled && /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: fontSizeButtonId,\n    className: \"sdoc-menu-popover sdoc-dropdown-menu sdoc-font-size-menu-popover\",\n    trigger: \"legacy\",\n    placement: \"bottom-start\",\n    hideArrow: true,\n    toggle: toggle,\n    fade: false,\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-font-size-menu-container\",\n    style: {\n      maxHeight: window.innerHeight - bottom - 100\n    }\n  }, FONT_SIZE.map(function (item, index) {\n    var isSelected = selectedFontSize + '' === item.name;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: classnames('sdoc-dropdown-menu-item', {\n        'position-relative': isSelected\n      }),\n      onClick: function onClick() {\n        return updateFontSize(item);\n      }\n    }, isSelected && /*#__PURE__*/React.createElement(\"i\", {\n      className: \"sdocfont sdoc-check-mark\"\n    }), item.name);\n  }))));\n};\nFontSize.defaultProps = {\n  isRichEditor: true,\n  className: 'menu-group-item'\n};\nexport default FontSize;","map":{"version":3,"names":["React","useState","useRef","useCallback","UncontrolledPopover","useTranslation","classnames","isMenuDisabled","getFontSize","setFontSize","FONT_SIZE","Tooltip","FontSize","_ref","isRichEditor","className","editor","readonly","_useState","_useState2","_slicedToArray","isShowMenu","setMenuShow","_useTranslation","t","popoverRef","disabled","fontSizeButtonId","selectedFontSize","fontSizeRef","toggle","event","current","updateFontSize","item","fontSize","value","validClassName","caretIconClass","concat","_ref2","getBoundingClientRect","bottom","createElement","Fragment","type","id","ref","target","trigger","placement","hideArrow","fade","style","maxHeight","window","innerHeight","map","index","isSelected","name","key","onClick","defaultProps"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/font/menu/font-size/index.js"],"sourcesContent":["import React, { useState, useRef, useCallback } from 'react';\nimport { UncontrolledPopover } from 'reactstrap';\nimport { useTranslation } from 'react-i18next';\nimport classnames from 'classnames';\nimport { isMenuDisabled, getFontSize, setFontSize } from '../../helpers';\nimport { FONT_SIZE } from '../../../../constants';\nimport Tooltip from '../../../../../../components/tooltip';\nimport './index.css';\nconst FontSize = _ref => {\n  let {\n    isRichEditor,\n    className,\n    editor,\n    readonly\n  } = _ref;\n  const [isShowMenu, setMenuShow] = useState(false);\n  const {\n    t\n  } = useTranslation();\n  const popoverRef = useRef(null);\n  const disabled = isMenuDisabled(editor, readonly);\n  const fontSizeButtonId = 'sdoc-button-font-size';\n  let selectedFontSize = getFontSize(editor);\n  const fontSizeRef = useRef(null);\n  const toggle = useCallback(event => {\n    popoverRef.current.toggle();\n    setMenuShow(!isShowMenu);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isShowMenu]);\n  const updateFontSize = useCallback(item => {\n    const fontSize = item.value;\n    toggle();\n    setFontSize(editor, fontSize);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, selectedFontSize, isShowMenu]);\n  const validClassName = classnames(className, 'sdoc-menu-with-dropdown sdoc-font-size-menu', {\n    'menu-show': isShowMenu,\n    'disabled': disabled,\n    'rich-icon-btn d-flex': isRichEditor,\n    'rich-icon-btn-disabled': isRichEditor && disabled,\n    'rich-icon-btn-hover': isRichEditor && !disabled,\n    'btn btn-icon btn-secondary btn-active d-flex': !isRichEditor\n  });\n  const caretIconClass = \"sdoc-menu-with-dropdown-triangle-icon sdocfont sdoc-\".concat(isShowMenu ? 'caret-up' : 'drop-down');\n  const {\n    bottom\n  } = fontSizeRef.current ? fontSizeRef.current.getBoundingClientRect() : {\n    bottom: 92.5\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"button\", {\n    type: \"button\",\n    className: validClassName,\n    id: fontSizeButtonId,\n    disabled: disabled,\n    ref: fontSizeRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-menu-with-dropdown-icon\"\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"text-truncate\"\n  }, selectedFontSize)), !disabled && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-menu-with-dropdown-triangle\"\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    className: caretIconClass\n  }))), /*#__PURE__*/React.createElement(Tooltip, {\n    target: fontSizeButtonId\n  }, t('Font_size')), !disabled && /*#__PURE__*/React.createElement(UncontrolledPopover, {\n    target: fontSizeButtonId,\n    className: \"sdoc-menu-popover sdoc-dropdown-menu sdoc-font-size-menu-popover\",\n    trigger: \"legacy\",\n    placement: \"bottom-start\",\n    hideArrow: true,\n    toggle: toggle,\n    fade: false,\n    ref: popoverRef\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-font-size-menu-container\",\n    style: {\n      maxHeight: window.innerHeight - bottom - 100\n    }\n  }, FONT_SIZE.map((item, index) => {\n    const isSelected = selectedFontSize + '' === item.name;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      key: index,\n      className: classnames('sdoc-dropdown-menu-item', {\n        'position-relative': isSelected\n      }),\n      onClick: () => updateFontSize(item)\n    }, isSelected && /*#__PURE__*/React.createElement(\"i\", {\n      className: \"sdocfont sdoc-check-mark\"\n    }), item.name);\n  }))));\n};\nFontSize.defaultProps = {\n  isRichEditor: true,\n  className: 'menu-group-item'\n};\nexport default FontSize;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}