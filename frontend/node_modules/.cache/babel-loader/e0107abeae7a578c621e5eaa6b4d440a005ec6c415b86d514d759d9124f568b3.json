{"ast":null,"code":"\"use strict\";\n\nvar _objectSpread = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleTab = void 0;\nvar _slate = require(\"slate\");\nvar _isHotkey = _interopRequireDefault(require(\"is-hotkey\"));\nvar _core = require(\"../../../core\");\nvar _elementTypes = require(\"../../../constants/element-types\");\nvar _transforms = require(\"../transforms\");\nvar handleTab = function handleTab(editor, event) {\n  var selection = editor.selection;\n  if (!selection) return;\n  var selectedList = (0, _core.findNode)(editor, {\n    type: [_elementTypes.LIST_ITEM]\n  });\n  if (!selectedList) return;\n  var workRange = editor.selection;\n  if (!_slate.Range.isCollapsed(selection)) {\n    var anchor = selection.anchor,\n      focus = selection.focus;\n    if (_slate.Range.isBackward(selection)) {\n      var _anchor$focus = {\n        anchor: _objectSpread({}, selection.focus),\n        focus: _objectSpread({}, selection.anchor)\n      };\n      anchor = _anchor$focus.anchor;\n      focus = _anchor$focus.focus;\n    }\n    var unHungRange = _slate.Editor.unhangRange(editor, {\n      anchor: anchor,\n      focus: focus\n    });\n    if (unHungRange) {\n      workRange = unHungRange;\n      _slate.Transforms.select(editor, unHungRange);\n    }\n  }\n  var isIncrease = (0, _isHotkey.default)('shift+tab', event) ? false : true;\n  if (workRange && selectedList) {\n    event.preventDefault();\n    (0, _transforms.moveListItems)(editor, {\n      at: workRange,\n      increase: isIncrease,\n      enableResetOnShiftTab: true\n    });\n    return true;\n  }\n};\nexports.handleTab = handleTab;","map":{"version":3,"names":["_objectSpread","require","default","_interopRequireDefault","Object","defineProperty","exports","value","handleTab","_slate","_isHotkey","_core","_elementTypes","_transforms","editor","event","selection","selectedList","findNode","type","LIST_ITEM","workRange","Range","isCollapsed","anchor","focus","isBackward","_anchor$focus","unHungRange","Editor","unhangRange","Transforms","select","isIncrease","preventDefault","moveListItems","at","increase","enableResetOnShiftTab"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/list/plugin/on-tab-handle.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.handleTab = void 0;\nvar _slate = require(\"slate\");\nvar _isHotkey = _interopRequireDefault(require(\"is-hotkey\"));\nvar _core = require(\"../../../core\");\nvar _elementTypes = require(\"../../../constants/element-types\");\nvar _transforms = require(\"../transforms\");\nconst handleTab = (editor, event) => {\n  const {\n    selection\n  } = editor;\n  if (!selection) return;\n  const selectedList = (0, _core.findNode)(editor, {\n    type: [_elementTypes.LIST_ITEM]\n  });\n  if (!selectedList) return;\n  let workRange = editor.selection;\n  if (!_slate.Range.isCollapsed(selection)) {\n    let {\n      anchor,\n      focus\n    } = selection;\n    if (_slate.Range.isBackward(selection)) {\n      ({\n        anchor,\n        focus\n      } = {\n        anchor: {\n          ...selection.focus\n        },\n        focus: {\n          ...selection.anchor\n        }\n      });\n    }\n    const unHungRange = _slate.Editor.unhangRange(editor, {\n      anchor,\n      focus\n    });\n    if (unHungRange) {\n      workRange = unHungRange;\n      _slate.Transforms.select(editor, unHungRange);\n    }\n  }\n  const isIncrease = (0, _isHotkey.default)('shift+tab', event) ? false : true;\n  if (workRange && selectedList) {\n    event.preventDefault();\n    (0, _transforms.moveListItems)(editor, {\n      at: workRange,\n      increase: isIncrease,\n      enableResetOnShiftTab: true\n    });\n    return true;\n  }\n};\nexports.handleTab = handleTab;"],"mappings":"AAAA,YAAY;;AAAC,IAAAA,aAAA,GAAAC,OAAA,0HAAAC,OAAA;AAEb,IAAIC,sBAAsB,GAAGF,OAAO,CAAC,8CAA8C,CAAC,CAACC,OAAO;AAC5FE,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAC3CC,KAAK,EAAE;AACT,CAAC,CAAC;AACFD,OAAO,CAACE,SAAS,GAAG,KAAK,CAAC;AAC1B,IAAIC,MAAM,GAAGR,OAAO,CAAC,OAAO,CAAC;AAC7B,IAAIS,SAAS,GAAGP,sBAAsB,CAACF,OAAO,CAAC,WAAW,CAAC,CAAC;AAC5D,IAAIU,KAAK,GAAGV,OAAO,CAAC,eAAe,CAAC;AACpC,IAAIW,aAAa,GAAGX,OAAO,CAAC,kCAAkC,CAAC;AAC/D,IAAIY,WAAW,GAAGZ,OAAO,CAAC,eAAe,CAAC;AAC1C,IAAMO,SAAS,GAAG,SAAZA,SAASA,CAAIM,MAAM,EAAEC,KAAK,EAAK;EACnC,IACEC,SAAS,GACPF,MAAM,CADRE,SAAS;EAEX,IAAI,CAACA,SAAS,EAAE;EAChB,IAAMC,YAAY,GAAG,CAAC,CAAC,EAAEN,KAAK,CAACO,QAAQ,EAAEJ,MAAM,EAAE;IAC/CK,IAAI,EAAE,CAACP,aAAa,CAACQ,SAAS;EAChC,CAAC,CAAC;EACF,IAAI,CAACH,YAAY,EAAE;EACnB,IAAII,SAAS,GAAGP,MAAM,CAACE,SAAS;EAChC,IAAI,CAACP,MAAM,CAACa,KAAK,CAACC,WAAW,CAACP,SAAS,CAAC,EAAE;IACxC,IACEQ,MAAM,GAEJR,SAAS,CAFXQ,MAAM;MACNC,KAAK,GACHT,SAAS,CADXS,KAAK;IAEP,IAAIhB,MAAM,CAACa,KAAK,CAACI,UAAU,CAACV,SAAS,CAAC,EAAE;MAAA,IAAAW,aAAA,GAIlC;QACFH,MAAM,EAAAxB,aAAA,KACDgB,SAAS,CAACS,KAAK,CACnB;QACDA,KAAK,EAAAzB,aAAA,KACAgB,SAAS,CAACQ,MAAM;MAEvB,CAAC;MATCA,MAAM,GAAAG,aAAA,CAANH,MAAM;MACNC,KAAK,GAAAE,aAAA,CAALF,KAAK;IAST;IACA,IAAMG,WAAW,GAAGnB,MAAM,CAACoB,MAAM,CAACC,WAAW,CAAChB,MAAM,EAAE;MACpDU,MAAM,EAANA,MAAM;MACNC,KAAK,EAALA;IACF,CAAC,CAAC;IACF,IAAIG,WAAW,EAAE;MACfP,SAAS,GAAGO,WAAW;MACvBnB,MAAM,CAACsB,UAAU,CAACC,MAAM,CAAClB,MAAM,EAAEc,WAAW,CAAC;IAC/C;EACF;EACA,IAAMK,UAAU,GAAG,CAAC,CAAC,EAAEvB,SAAS,CAACR,OAAO,EAAE,WAAW,EAAEa,KAAK,CAAC,GAAG,KAAK,GAAG,IAAI;EAC5E,IAAIM,SAAS,IAAIJ,YAAY,EAAE;IAC7BF,KAAK,CAACmB,cAAc,CAAC,CAAC;IACtB,CAAC,CAAC,EAAErB,WAAW,CAACsB,aAAa,EAAErB,MAAM,EAAE;MACrCsB,EAAE,EAAEf,SAAS;MACbgB,QAAQ,EAAEJ,UAAU;MACpBK,qBAAqB,EAAE;IACzB,CAAC,CAAC;IACF,OAAO,IAAI;EACb;AACF,CAAC;AACDhC,OAAO,CAACE,SAAS,GAAGA,SAAS"},"metadata":{},"sourceType":"script","externalDependencies":[]}