{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import classnames from'classnames';import{DELETED_OPTION_BACKGROUND_COLOR,DELETED_OPTION_TIPS}from'../../../../../constants';import{gettext}from'../../../../../utils/constants';import SingleSelectEditor from'./single-select-editor';import{getSelectColumnOptions}from'../../../../../utils/extra-attributes';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SingleSelect=/*#__PURE__*/function(_Component){_inherits(SingleSelect,_Component);var _super=_createSuper(SingleSelect);function SingleSelect(props){var _this;_classCallCheck(this,SingleSelect);_this=_super.call(this,props);_this.updateState=function(){_this.setState({isShowSingleSelect:!_this.state.isShowSingleSelect});};_this.onCommit=function(value,column){_this.props.onCommit(value,column);};var _column=props.column;_this.options=getSelectColumnOptions(_column);_this.state={isShowSingleSelect:false};_this.editorKey=\"single-select-editor-\".concat(_column.key);return _this;}_createClass(SingleSelect,[{key:\"render\",value:function render(){var isShowSingleSelect=this.state.isShowSingleSelect;var _this$props=this.props,column=_this$props.column,row=_this$props.row;var currentOptionID=row[column.key];var option=this.options.find(function(option){return option.id===currentOptionID;});var optionStyle=option?{backgroundColor:option.color,color:option.textColor||null}:{backgroundColor:DELETED_OPTION_BACKGROUND_COLOR};var optionName=option?option.name:gettext(DELETED_OPTION_TIPS);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{id:this.editorKey,className:classnames('selected-single-select-container',{'disable':!column.editable,'focus':isShowSingleSelect}),children:/*#__PURE__*/_jsxs(\"div\",{className:\"single-select-inner w-100 h-100 d-flex align-items-center justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{children:currentOptionID&&/*#__PURE__*/_jsx(\"div\",{className:\"single-select-option\",style:optionStyle,title:optionName,children:optionName})}),column.editable&&/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-caret-down\"})]})}),column.editable&&/*#__PURE__*/_jsx(SingleSelectEditor,{column:column,row:this.props.row,columns:this.props.columns,onCommit:this.onCommit,onUpdateState:this.updateState})]});}}]);return SingleSelect;}(Component);export default SingleSelect;","map":{"version":3,"names":["React","Component","classnames","DELETED_OPTION_BACKGROUND_COLOR","DELETED_OPTION_TIPS","gettext","SingleSelectEditor","getSelectColumnOptions","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SingleSelect","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","updateState","setState","isShowSingleSelect","state","onCommit","value","column","options","editorKey","concat","key","_createClass","render","_this$props","row","currentOptionID","option","find","id","optionStyle","backgroundColor","color","textColor","optionName","name","children","className","editable","style","title","columns","onUpdateState"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/extra-attributes-dialog/editor/single-select/index.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport classnames from 'classnames';\nimport { DELETED_OPTION_BACKGROUND_COLOR, DELETED_OPTION_TIPS } from '../../../../../constants';\nimport { gettext } from '../../../../../utils/constants';\nimport SingleSelectEditor from './single-select-editor';\nimport { getSelectColumnOptions } from '../../../../../utils/extra-attributes';\n\nimport './index.css';\n\nclass SingleSelect extends Component {\n\n  constructor(props) {\n    super(props);\n    const { column } = props;\n    this.options = getSelectColumnOptions(column);\n    this.state = {\n      isShowSingleSelect: false,\n    };\n    this.editorKey = `single-select-editor-${column.key}`;\n  }\n\n  updateState = () => {\n    this.setState({ isShowSingleSelect: !this.state.isShowSingleSelect });\n  };\n\n  onCommit = (value, column) => {\n    this.props.onCommit(value, column);\n  };\n\n  render() {\n    const { isShowSingleSelect } = this.state;\n    const { column, row } = this.props;\n    const currentOptionID = row[column.key];\n    const option = this.options.find(option => option.id === currentOptionID);\n    const optionStyle = option ?\n      { backgroundColor: option.color, color: option.textColor || null } :\n      { backgroundColor: DELETED_OPTION_BACKGROUND_COLOR };\n    const optionName = option ? option.name : gettext(DELETED_OPTION_TIPS);\n\n    return (\n      <>\n        <div\n          id={this.editorKey}\n          className={classnames('selected-single-select-container', { 'disable': !column.editable, 'focus': isShowSingleSelect })}\n        >\n          <div className=\"single-select-inner w-100 h-100 d-flex align-items-center justify-content-between\">\n            <div>\n              {currentOptionID && (\n                <div\n                  className=\"single-select-option\"\n                  style={optionStyle}\n                  title={optionName}\n                >{optionName}</div>\n              )}\n            </div>\n            {column.editable && (\n              <i className=\"fas fa-caret-down\"></i>\n            )}\n          </div>\n        </div>\n        {column.editable && (\n          <SingleSelectEditor\n            column={column}\n            row={this.props.row}\n            columns={this.props.columns}\n            onCommit={this.onCommit}\n            onUpdateState={this.updateState}\n          />\n        )}\n      </>\n    );\n  }\n}\n\nSingleSelect.propTypes = {\n  column: PropTypes.object,\n  row: PropTypes.object,\n  columns: PropTypes.array,\n  onCommit: PropTypes.func,\n};\n\nexport default SingleSelect;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}