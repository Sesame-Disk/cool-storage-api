{"ast":null,"code":"import React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Transforms } from '@seafile/slate';\nimport { useSlateStatic } from '@seafile/slate-react';\nimport { ELEMENT_TYPE } from '../../../constants';\nimport { REBASE_MARKS } from '../../../../constants';\nimport { findPath, deleteNodeMark, updateRebaseParentNodeByPath } from '../../../core';\nvar RebaseModifyDeleteDecorate = function RebaseModifyDeleteDecorate(_ref) {\n  var element = _ref.element,\n    children = _ref.children;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var editor = useSlateStatic();\n  var deleteElement = useCallback(function () {\n    var path = findPath(editor, element);\n    Transforms.removeNodes(editor, {\n      at: path\n    });\n    if (element.type === ELEMENT_TYPE.LIST_ITEM) {\n      updateRebaseParentNodeByPath(editor, path);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, element]);\n  var deleteMark = useCallback(function () {\n    var path = findPath(editor, element);\n    deleteNodeMark(editor, path, element, REBASE_MARKS);\n    if (element.type === ELEMENT_TYPE.LIST_ITEM) {\n      updateRebaseParentNodeByPath(editor, path);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, element]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-btn-group\",\n    contentEditable: false\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-btn\",\n    onClick: deleteMark\n  }, t('Keep_other_modification')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2 ml-2\"\n  }, '|'), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-btn\",\n    onClick: deleteElement\n  }, t('Keep_my_modification')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2 ml-2\"\n  }, '|'), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-btn\",\n    onClick: deleteMark\n  }, t('Keep_both_modification'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-other-changes-title\",\n    contentEditable: false\n  }, t('Other_modification')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 sdoc-rebase-my-changes\",\n    contentEditable: false\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-my-changes-title\",\n    contentEditable: false\n  }, t('My_modification')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-my-changes empty\",\n    contentEditable: false\n  }));\n};\nexport default RebaseModifyDeleteDecorate;","map":{"version":3,"names":["React","useCallback","useTranslation","Transforms","useSlateStatic","ELEMENT_TYPE","REBASE_MARKS","findPath","deleteNodeMark","updateRebaseParentNodeByPath","RebaseModifyDeleteDecorate","_ref","element","children","_useTranslation","t","editor","deleteElement","path","removeNodes","at","type","LIST_ITEM","deleteMark","createElement","Fragment","className","contentEditable","onClick"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/render/element-decorate/rebase-decorate/rebase-modify-delete-decorate.js"],"sourcesContent":["import React, { useCallback } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { Transforms } from '@seafile/slate';\nimport { useSlateStatic } from '@seafile/slate-react';\nimport { ELEMENT_TYPE } from '../../../constants';\nimport { REBASE_MARKS } from '../../../../constants';\nimport { findPath, deleteNodeMark, updateRebaseParentNodeByPath } from '../../../core';\nconst RebaseModifyDeleteDecorate = _ref => {\n  let {\n    element,\n    children\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const editor = useSlateStatic();\n  const deleteElement = useCallback(() => {\n    const path = findPath(editor, element);\n    Transforms.removeNodes(editor, {\n      at: path\n    });\n    if (element.type === ELEMENT_TYPE.LIST_ITEM) {\n      updateRebaseParentNodeByPath(editor, path);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, element]);\n  const deleteMark = useCallback(() => {\n    const path = findPath(editor, element);\n    deleteNodeMark(editor, path, element, REBASE_MARKS);\n    if (element.type === ELEMENT_TYPE.LIST_ITEM) {\n      updateRebaseParentNodeByPath(editor, path);\n    }\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, element]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-btn-group\",\n    contentEditable: false\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-btn\",\n    onClick: deleteMark\n  }, t('Keep_other_modification')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2 ml-2\"\n  }, '|'), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-btn\",\n    onClick: deleteElement\n  }, t('Keep_my_modification')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"mr-2 ml-2\"\n  }, '|'), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-btn\",\n    onClick: deleteMark\n  }, t('Keep_both_modification'))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-other-changes-title\",\n    contentEditable: false\n  }, t('Other_modification')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-100 sdoc-rebase-my-changes\",\n    contentEditable: false\n  }, children), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-my-changes-title\",\n    contentEditable: false\n  }, t('My_modification')), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"sdoc-rebase-my-changes empty\",\n    contentEditable: false\n  }));\n};\nexport default RebaseModifyDeleteDecorate;"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,cAAc,QAAQ,sBAAsB;AACrD,SAASC,YAAY,QAAQ,oBAAoB;AACjD,SAASC,YAAY,QAAQ,uBAAuB;AACpD,SAASC,QAAQ,EAAEC,cAAc,EAAEC,4BAA4B,QAAQ,eAAe;AACtF,IAAMC,0BAA0B,GAAG,SAA7BA,0BAA0BA,CAAGC,IAAI,EAAI;EACzC,IACEC,OAAO,GAELD,IAAI,CAFNC,OAAO;IACPC,QAAQ,GACNF,IAAI,CADNE,QAAQ;EAEV,IAAAC,eAAA,GAEIZ,cAAc,CAAC,CAAC;IADlBa,CAAC,GAAAD,eAAA,CAADC,CAAC;EAEH,IAAMC,MAAM,GAAGZ,cAAc,CAAC,CAAC;EAC/B,IAAMa,aAAa,GAAGhB,WAAW,CAAC,YAAM;IACtC,IAAMiB,IAAI,GAAGX,QAAQ,CAACS,MAAM,EAAEJ,OAAO,CAAC;IACtCT,UAAU,CAACgB,WAAW,CAACH,MAAM,EAAE;MAC7BI,EAAE,EAAEF;IACN,CAAC,CAAC;IACF,IAAIN,OAAO,CAACS,IAAI,KAAKhB,YAAY,CAACiB,SAAS,EAAE;MAC3Cb,4BAA4B,CAACO,MAAM,EAAEE,IAAI,CAAC;IAC5C;;IAEA;EACF,CAAC,EAAE,CAACF,MAAM,EAAEJ,OAAO,CAAC,CAAC;EACrB,IAAMW,UAAU,GAAGtB,WAAW,CAAC,YAAM;IACnC,IAAMiB,IAAI,GAAGX,QAAQ,CAACS,MAAM,EAAEJ,OAAO,CAAC;IACtCJ,cAAc,CAACQ,MAAM,EAAEE,IAAI,EAAEN,OAAO,EAAEN,YAAY,CAAC;IACnD,IAAIM,OAAO,CAACS,IAAI,KAAKhB,YAAY,CAACiB,SAAS,EAAE;MAC3Cb,4BAA4B,CAACO,MAAM,EAAEE,IAAI,CAAC;IAC5C;;IAEA;EACF,CAAC,EAAE,CAACF,MAAM,EAAEJ,OAAO,CAAC,CAAC;EACrB,OAAO,aAAaZ,KAAK,CAACwB,aAAa,CAACxB,KAAK,CAACyB,QAAQ,EAAE,IAAI,EAAE,aAAazB,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IACpGE,SAAS,EAAE,uBAAuB;IAClCC,eAAe,EAAE;EACnB,CAAC,EAAE,aAAa3B,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IACzCE,SAAS,EAAE,iBAAiB;IAC5BE,OAAO,EAAEL;EACX,CAAC,EAAER,CAAC,CAAC,yBAAyB,CAAC,CAAC,EAAE,aAAaf,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IACxEE,SAAS,EAAE;EACb,CAAC,EAAE,GAAG,CAAC,EAAE,aAAa1B,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IAC/CE,SAAS,EAAE,iBAAiB;IAC5BE,OAAO,EAAEX;EACX,CAAC,EAAEF,CAAC,CAAC,sBAAsB,CAAC,CAAC,EAAE,aAAaf,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IACrEE,SAAS,EAAE;EACb,CAAC,EAAE,GAAG,CAAC,EAAE,aAAa1B,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IAC/CE,SAAS,EAAE,iBAAiB;IAC5BE,OAAO,EAAEL;EACX,CAAC,EAAER,CAAC,CAAC,wBAAwB,CAAC,CAAC,CAAC,EAAE,aAAaf,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IACxEE,SAAS,EAAE,iCAAiC;IAC5CC,eAAe,EAAE;EACnB,CAAC,EAAEZ,CAAC,CAAC,oBAAoB,CAAC,CAAC,EAAE,aAAaf,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IACnEE,SAAS,EAAE,8BAA8B;IACzCC,eAAe,EAAE;EACnB,CAAC,EAAEd,QAAQ,CAAC,EAAE,aAAab,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IACpDE,SAAS,EAAE,8BAA8B;IACzCC,eAAe,EAAE;EACnB,CAAC,EAAEZ,CAAC,CAAC,iBAAiB,CAAC,CAAC,EAAE,aAAaf,KAAK,CAACwB,aAAa,CAAC,KAAK,EAAE;IAChEE,SAAS,EAAE,8BAA8B;IACzCC,eAAe,EAAE;EACnB,CAAC,CAAC,CAAC;AACL,CAAC;AACD,eAAejB,0BAA0B"},"metadata":{},"sourceType":"module","externalDependencies":[]}