{"ast":null,"code":"import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useCallback } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { TEXT_STYLE, MENUS_CONFIG_MAP } from '../../../constants';\nimport { focusEditor } from '../../../core';\nimport { MenuItem } from '../../../commons';\nimport { getValue, isMenuDisabled, addMark, removeMark } from '../helpers';\nimport { BOLD, ITALIC } from '../../../constants/menus-config';\nvar filterFontTypes = function filterFontTypes(_ref) {\n  var id = _ref.id;\n  return [BOLD, ITALIC].includes(id);\n};\nvar CommentEditorTextStyleMenuList = function CommentEditorTextStyleMenuList(_ref2) {\n  var editor = _ref2.editor,\n    isRichEditor = _ref2.isRichEditor,\n    className = _ref2.className,\n    idPrefix = _ref2.idPrefix,\n    readonly = _ref2.readonly;\n  var isActive = useCallback(function (type) {\n    var isMark = getValue(editor, type);\n    return !!isMark;\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor]);\n  var isDisabled = useCallback(function () {\n    return isMenuDisabled(editor, readonly);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, readonly]);\n  var onMouseDown = useCallback(function (event, type) {\n    event.preventDefault();\n    event.stopPropagation();\n    if (isDisabled()) return;\n    var active = isActive(type);\n    if (active) {\n      removeMark(editor, type);\n    } else {\n      addMark(editor, type);\n    }\n    focusEditor(editor);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor]);\n  var getTextStyleList = useCallback(function (key) {\n    return MENUS_CONFIG_MAP[key].map(function (item) {\n      var itemProps = {\n        isRichEditor: isRichEditor,\n        className: className,\n        disabled: isDisabled(),\n        isActive: isActive(item.type),\n        onMouseDown: onMouseDown\n      };\n      return _objectSpread(_objectSpread(_objectSpread({}, itemProps), item), {}, {\n        id: idPrefix ? \"\".concat(idPrefix, \"_\").concat(item.id) : item.id\n      });\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, readonly]);\n  var list = getTextStyleList(TEXT_STYLE).filter(filterFontTypes);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, list.map(function (itemProps, index) {\n    return /*#__PURE__*/React.createElement(MenuItem, Object.assign({\n      key: index\n    }, itemProps));\n  }));\n};\nexport default withTranslation('sdoc-editor')(CommentEditorTextStyleMenuList);","map":{"version":3,"names":["_objectSpread","React","useCallback","withTranslation","TEXT_STYLE","MENUS_CONFIG_MAP","focusEditor","MenuItem","getValue","isMenuDisabled","addMark","removeMark","BOLD","ITALIC","filterFontTypes","_ref","id","includes","CommentEditorTextStyleMenuList","_ref2","editor","isRichEditor","className","idPrefix","readonly","isActive","type","isMark","isDisabled","onMouseDown","event","preventDefault","stopPropagation","active","getTextStyleList","key","map","item","itemProps","disabled","concat","list","filter","createElement","Fragment","index","Object","assign"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/text-style/menu/comemnt-editor-menu.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport React, { useCallback } from 'react';\nimport { withTranslation } from 'react-i18next';\nimport { TEXT_STYLE, MENUS_CONFIG_MAP } from '../../../constants';\nimport { focusEditor } from '../../../core';\nimport { MenuItem } from '../../../commons';\nimport { getValue, isMenuDisabled, addMark, removeMark } from '../helpers';\nimport { BOLD, ITALIC } from '../../../constants/menus-config';\nconst filterFontTypes = _ref => {\n  let {\n    id\n  } = _ref;\n  return [BOLD, ITALIC].includes(id);\n};\nconst CommentEditorTextStyleMenuList = _ref2 => {\n  let {\n    editor,\n    isRichEditor,\n    className,\n    idPrefix,\n    readonly\n  } = _ref2;\n  const isActive = useCallback(type => {\n    const isMark = getValue(editor, type);\n    return !!isMark;\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor]);\n  const isDisabled = useCallback(() => {\n    return isMenuDisabled(editor, readonly);\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, readonly]);\n  const onMouseDown = useCallback((event, type) => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (isDisabled()) return;\n    const active = isActive(type);\n    if (active) {\n      removeMark(editor, type);\n    } else {\n      addMark(editor, type);\n    }\n    focusEditor(editor);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor]);\n  const getTextStyleList = useCallback(key => {\n    return MENUS_CONFIG_MAP[key].map(item => {\n      let itemProps = {\n        isRichEditor,\n        className,\n        disabled: isDisabled(),\n        isActive: isActive(item.type),\n        onMouseDown: onMouseDown\n      };\n      return _objectSpread(_objectSpread(_objectSpread({}, itemProps), item), {}, {\n        id: idPrefix ? \"\".concat(idPrefix, \"_\").concat(item.id) : item.id\n      });\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [editor, readonly]);\n  const list = getTextStyleList(TEXT_STYLE).filter(filterFontTypes);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, list.map((itemProps, index) => /*#__PURE__*/React.createElement(MenuItem, Object.assign({\n    key: index\n  }, itemProps))));\n};\nexport default withTranslation('sdoc-editor')(CommentEditorTextStyleMenuList);"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}