{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useContext, useEffect, useState } from 'react';\nimport context from '../context';\nimport { User } from '../model';\nvar CollaboratorsContext = React.createContext(null);\nexport var CollaboratorsProvider = function CollaboratorsProvider(props) {\n  var isSdocRevision = context.getSetting('isSdocRevision');\n  var isPublished = context.getSetting('isPublished');\n  var _useState = useState([]),\n    _useState2 = _slicedToArray(_useState, 2),\n    collaborators = _useState2[0],\n    setCollaborators = _useState2[1];\n  useEffect(function () {\n    if (isSdocRevision && isPublished) return;\n    context.listRelatedUsers().then(function (res) {\n      var collaborators = [];\n      res.data.related_users.forEach(function (user) {\n        var collaborator = new User(user);\n        collaborators.push(collaborator);\n      });\n      setCollaborators(collaborators);\n    }).catch(function (error) {\n      // eslint-disable-next-line\n      console.log(error);\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/React.createElement(CollaboratorsContext.Provider, {\n    value: {\n      collaborators: collaborators\n    }\n  }, props.children);\n};\nexport var useCollaborators = function useCollaborators() {\n  var context = useContext(CollaboratorsContext);\n  if (!context) {\n    throw new Error('\\'CollaboratorsContext\\' is null');\n  }\n  var collaborators = context.collaborators;\n  return {\n    collaborators: collaborators\n  };\n};","map":{"version":3,"names":["React","useContext","useEffect","useState","context","User","CollaboratorsContext","createContext","CollaboratorsProvider","props","isSdocRevision","getSetting","isPublished","_useState","_useState2","_slicedToArray","collaborators","setCollaborators","listRelatedUsers","then","res","data","related_users","forEach","user","collaborator","push","catch","error","console","log","createElement","Provider","value","children","useCollaborators","Error"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/hooks/use-collaborators.js"],"sourcesContent":["import React, { useContext, useEffect, useState } from 'react';\nimport context from '../context';\nimport { User } from '../model';\nconst CollaboratorsContext = React.createContext(null);\nexport const CollaboratorsProvider = props => {\n  const isSdocRevision = context.getSetting('isSdocRevision');\n  const isPublished = context.getSetting('isPublished');\n  const [collaborators, setCollaborators] = useState([]);\n  useEffect(() => {\n    if (isSdocRevision && isPublished) return;\n    context.listRelatedUsers().then(res => {\n      const collaborators = [];\n      res.data.related_users.forEach(user => {\n        const collaborator = new User(user);\n        collaborators.push(collaborator);\n      });\n      setCollaborators(collaborators);\n    }).catch(error => {\n      // eslint-disable-next-line\n      console.log(error);\n    });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  return /*#__PURE__*/React.createElement(CollaboratorsContext.Provider, {\n    value: {\n      collaborators\n    }\n  }, props.children);\n};\nexport const useCollaborators = () => {\n  const context = useContext(CollaboratorsContext);\n  if (!context) {\n    throw new Error('\\'CollaboratorsContext\\' is null');\n  }\n  const {\n    collaborators\n  } = context;\n  return {\n    collaborators\n  };\n};"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,UAAU,EAAEC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC9D,OAAOC,OAAO,MAAM,YAAY;AAChC,SAASC,IAAI,QAAQ,UAAU;AAC/B,IAAMC,oBAAoB,GAAGN,KAAK,CAACO,aAAa,CAAC,IAAI,CAAC;AACtD,OAAO,IAAMC,qBAAqB,GAAG,SAAxBA,qBAAqBA,CAAGC,KAAK,EAAI;EAC5C,IAAMC,cAAc,GAAGN,OAAO,CAACO,UAAU,CAAC,gBAAgB,CAAC;EAC3D,IAAMC,WAAW,GAAGR,OAAO,CAACO,UAAU,CAAC,aAAa,CAAC;EACrD,IAAAE,SAAA,GAA0CV,QAAQ,CAAC,EAAE,CAAC;IAAAW,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAA/CG,aAAa,GAAAF,UAAA;IAAEG,gBAAgB,GAAAH,UAAA;EACtCZ,SAAS,CAAC,YAAM;IACd,IAAIQ,cAAc,IAAIE,WAAW,EAAE;IACnCR,OAAO,CAACc,gBAAgB,CAAC,CAAC,CAACC,IAAI,CAAC,UAAAC,GAAG,EAAI;MACrC,IAAMJ,aAAa,GAAG,EAAE;MACxBI,GAAG,CAACC,IAAI,CAACC,aAAa,CAACC,OAAO,CAAC,UAAAC,IAAI,EAAI;QACrC,IAAMC,YAAY,GAAG,IAAIpB,IAAI,CAACmB,IAAI,CAAC;QACnCR,aAAa,CAACU,IAAI,CAACD,YAAY,CAAC;MAClC,CAAC,CAAC;MACFR,gBAAgB,CAACD,aAAa,CAAC;IACjC,CAAC,CAAC,CAACW,KAAK,CAAC,UAAAC,KAAK,EAAI;MAChB;MACAC,OAAO,CAACC,GAAG,CAACF,KAAK,CAAC;IACpB,CAAC,CAAC;;IAEF;EACF,CAAC,EAAE,EAAE,CAAC;EACN,OAAO,aAAa5B,KAAK,CAAC+B,aAAa,CAACzB,oBAAoB,CAAC0B,QAAQ,EAAE;IACrEC,KAAK,EAAE;MACLjB,aAAa,EAAbA;IACF;EACF,CAAC,EAAEP,KAAK,CAACyB,QAAQ,CAAC;AACpB,CAAC;AACD,OAAO,IAAMC,gBAAgB,GAAG,SAAnBA,gBAAgBA,CAAA,EAAS;EACpC,IAAM/B,OAAO,GAAGH,UAAU,CAACK,oBAAoB,CAAC;EAChD,IAAI,CAACF,OAAO,EAAE;IACZ,MAAM,IAAIgC,KAAK,CAAC,kCAAkC,CAAC;EACrD;EACA,IACEpB,aAAa,GACXZ,OAAO,CADTY,aAAa;EAEf,OAAO;IACLA,aAAa,EAAbA;EACF,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}