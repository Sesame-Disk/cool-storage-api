{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{curNoteMsg,curNoteID,siteRoot,gettext}from'../utils/constants';import'../css/system-notification.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var SystemNotification=/*#__PURE__*/function(_React$Component){_inherits(SystemNotification,_React$Component);var _super=_createSuper(SystemNotification);function SystemNotification(props){var _this;_classCallCheck(this,SystemNotification);_this=_super.call(this,props);_this.close=function(){_this.setState({isClosed:true});if(navigator.cookieEnabled){var date=new Date(),cookies=document.cookie.split('; '),infoIDExist=false,newInfoID=curNoteID+'_';date.setTime(date.getTime()+14*24*60*60*1000);newInfoID+='; expires='+date.toGMTString()+'; path='+siteRoot;for(var i=0,len=cookies.length;i<len;i++){if(cookies[i].split('=')[0]=='info_id'){infoIDExist=true;document.cookie='info_id='+cookies[i].split('=')[1]+newInfoID;break;}}if(!infoIDExist){document.cookie='info_id='+newInfoID;}}};_this.state={isClosed:false};return _this;}_createClass(SystemNotification,[{key:\"render\",value:function render(){if(!curNoteMsg||this.state.isClosed){return null;}return/*#__PURE__*/_jsxs(\"div\",{id:\"info-bar\",className:\"d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"p\",{id:\"info-bar-info\",className:\"m-0\",dangerouslySetInnerHTML:{__html:curNoteMsg}}),/*#__PURE__*/_jsx(\"button\",{className:\"close sf2-icon-x1\",title:gettext('Close'),\"aria-label\":gettext('Close'),onClick:this.close})]});}}]);return SystemNotification;}(React.Component);export default SystemNotification;","map":{"version":3,"names":["React","curNoteMsg","curNoteID","siteRoot","gettext","jsx","_jsx","jsxs","_jsxs","SystemNotification","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","close","setState","isClosed","navigator","cookieEnabled","date","Date","cookies","document","cookie","split","infoIDExist","newInfoID","setTime","getTime","toGMTString","i","len","length","state","_createClass","key","value","render","id","className","children","dangerouslySetInnerHTML","__html","title","onClick","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/system-notification.js"],"sourcesContent":["import React from 'react';\nimport { curNoteMsg, curNoteID, siteRoot, gettext } from '../utils/constants';\n\nimport '../css/system-notification.css';\n\nclass SystemNotification extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isClosed: false\n    };\n  }\n\n  close = () => {\n    this.setState({isClosed: true});\n\n    if (navigator.cookieEnabled) {\n      let date = new Date(),\n        cookies = document.cookie.split('; '),\n        infoIDExist = false,\n        newInfoID = curNoteID + '_';\n      date.setTime(date.getTime() + 14*24*60*60*1000);\n      newInfoID += '; expires=' + date.toGMTString() + '; path=' + siteRoot;\n      for (var i = 0, len = cookies.length; i < len; i++) {\n        if (cookies[i].split('=')[0] == 'info_id') {\n          infoIDExist = true;\n          document.cookie = 'info_id=' + cookies[i].split('=')[1] + newInfoID;\n          break;\n        }\n      }\n      if (!infoIDExist) {\n        document.cookie = 'info_id=' + newInfoID;\n      }\n    }\n  };\n\n  render() {\n    if (!curNoteMsg || this.state.isClosed) {\n      return null;\n    }\n\n    return (\n      <div id=\"info-bar\" className=\"d-flex justify-content-between\">\n        <p id=\"info-bar-info\" className=\"m-0\" dangerouslySetInnerHTML={{__html: curNoteMsg}}></p>\n        <button className=\"close sf2-icon-x1\" title={gettext('Close')} aria-label={gettext('Close')} onClick={this.close}></button>\n      </div>\n    );\n  }\n}\n\nexport default SystemNotification;\n"],"mappings":"wkBAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,OAASC,UAAU,CAAEC,SAAS,CAAEC,QAAQ,CAAEC,OAAO,KAAQ,oBAAoB,CAE7E,MAAO,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAElC,CAAAC,kBAAkB,uBAAAC,gBAAA,EAAAC,SAAA,CAAAF,kBAAA,CAAAC,gBAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,kBAAA,EAEtB,SAAAA,mBAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,kBAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAMfG,KAAK,CAAG,UAAM,CACZH,KAAA,CAAKI,QAAQ,CAAC,CAACC,QAAQ,CAAE,IAAI,CAAC,CAAC,CAE/B,GAAIC,SAAS,CAACC,aAAa,CAAE,CAC3B,GAAI,CAAAC,IAAI,CAAG,GAAI,CAAAC,IAAI,CAAC,CAAC,CACnBC,OAAO,CAAGC,QAAQ,CAACC,MAAM,CAACC,KAAK,CAAC,IAAI,CAAC,CACrCC,WAAW,CAAG,KAAK,CACnBC,SAAS,CAAG5B,SAAS,CAAG,GAAG,CAC7BqB,IAAI,CAACQ,OAAO,CAACR,IAAI,CAACS,OAAO,CAAC,CAAC,CAAG,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,IAAI,CAAC,CAC/CF,SAAS,EAAI,YAAY,CAAGP,IAAI,CAACU,WAAW,CAAC,CAAC,CAAG,SAAS,CAAG9B,QAAQ,CACrE,IAAK,GAAI,CAAA+B,CAAC,CAAG,CAAC,CAAEC,GAAG,CAAGV,OAAO,CAACW,MAAM,CAAEF,CAAC,CAAGC,GAAG,CAAED,CAAC,EAAE,CAAE,CAClD,GAAIT,OAAO,CAACS,CAAC,CAAC,CAACN,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,EAAI,SAAS,CAAE,CACzCC,WAAW,CAAG,IAAI,CAClBH,QAAQ,CAACC,MAAM,CAAG,UAAU,CAAGF,OAAO,CAACS,CAAC,CAAC,CAACN,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAGE,SAAS,CACnE,MACF,CACF,CACA,GAAI,CAACD,WAAW,CAAE,CAChBH,QAAQ,CAACC,MAAM,CAAG,UAAU,CAAGG,SAAS,CAC1C,CACF,CACF,CAAC,CA1BCf,KAAA,CAAKsB,KAAK,CAAG,CACXjB,QAAQ,CAAE,KACZ,CAAC,CAAC,OAAAL,KAAA,CACJ,CAACuB,YAAA,CAAA7B,kBAAA,GAAA8B,GAAA,UAAAC,KAAA,CAyBD,SAAAC,OAAA,CAAS,CACP,GAAI,CAACxC,UAAU,EAAI,IAAI,CAACoC,KAAK,CAACjB,QAAQ,CAAE,CACtC,MAAO,KAAI,CACb,CAEA,mBACEZ,KAAA,QAAKkC,EAAE,CAAC,UAAU,CAACC,SAAS,CAAC,gCAAgC,CAAAC,QAAA,eAC3DtC,IAAA,MAAGoC,EAAE,CAAC,eAAe,CAACC,SAAS,CAAC,KAAK,CAACE,uBAAuB,CAAE,CAACC,MAAM,CAAE7C,UAAU,CAAE,CAAI,CAAC,cACzFK,IAAA,WAAQqC,SAAS,CAAC,mBAAmB,CAACI,KAAK,CAAE3C,OAAO,CAAC,OAAO,CAAE,CAAC,aAAYA,OAAO,CAAC,OAAO,CAAE,CAAC4C,OAAO,CAAE,IAAI,CAAC9B,KAAM,CAAS,CAAC,EACxH,CAAC,CAEV,CAAC,WAAAT,kBAAA,GA3C8BT,KAAK,CAACiD,SAAS,EA8ChD,cAAe,CAAAxC,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}