{"ast":null,"code":"import { unified } from 'unified';\nimport markdown from 'remark-parse';\nimport gfm from 'remark-gfm';\nimport remarkStringify from 'remark-stringify';\nimport remarkMath from 'remark-math';\nimport { formatSlateToMd } from './transform';\nvar isContentValid = function isContentValid(value) {\n  if (!value || !Array.isArray(value)) return false;\n  return true;\n};\n\n// slateNode -> mdast -> mdString\nvar slateToMdString = function slateToMdString(value) {\n  if (!isContentValid(value)) return '';\n  // slateNode -> mdast\n  // https://github.com/syntax-tree/mdast#phrasingcontent\n  var mdASTNodes = formatSlateToMd(value);\n  var root = {\n    type: 'root',\n    children: mdASTNodes\n  };\n\n  // convert slate value to md\n  var stringifyOptions = {\n    rule: '-',\n    ruleSpaces: false,\n    bullet: '*',\n    commonmarks: true,\n    fences: true\n  };\n  var res = unified().use(markdown).use(gfm).use(remarkStringify, stringifyOptions).use(remarkMath).stringify(root);\n  return res;\n};\n\n// transform rules: https://github.com/syntax-tree/mdast\n\nexport default slateToMdString;","map":{"version":3,"names":["unified","markdown","gfm","remarkStringify","remarkMath","formatSlateToMd","isContentValid","value","Array","isArray","slateToMdString","mdASTNodes","root","type","children","stringifyOptions","rule","ruleSpaces","bullet","commonmarks","fences","res","use","stringify"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/slate-convert/slate-to-md/index.js"],"sourcesContent":["import { unified } from 'unified';\nimport markdown from 'remark-parse';\nimport gfm from 'remark-gfm';\nimport remarkStringify from 'remark-stringify';\nimport remarkMath from 'remark-math';\nimport { formatSlateToMd } from './transform';\nconst isContentValid = value => {\n  if (!value || !Array.isArray(value)) return false;\n  return true;\n};\n\n// slateNode -> mdast -> mdString\nconst slateToMdString = value => {\n  if (!isContentValid(value)) return '';\n  // slateNode -> mdast\n  // https://github.com/syntax-tree/mdast#phrasingcontent\n  const mdASTNodes = formatSlateToMd(value);\n  const root = {\n    type: 'root',\n    children: mdASTNodes\n  };\n\n  // convert slate value to md\n  const stringifyOptions = {\n    rule: '-',\n    ruleSpaces: false,\n    bullet: '*',\n    commonmarks: true,\n    fences: true\n  };\n  const res = unified().use(markdown).use(gfm).use(remarkStringify, stringifyOptions).use(remarkMath).stringify(root);\n  return res;\n};\n\n// transform rules: https://github.com/syntax-tree/mdast\n\nexport default slateToMdString;"],"mappings":"AAAA,SAASA,OAAO,QAAQ,SAAS;AACjC,OAAOC,QAAQ,MAAM,cAAc;AACnC,OAAOC,GAAG,MAAM,YAAY;AAC5B,OAAOC,eAAe,MAAM,kBAAkB;AAC9C,OAAOC,UAAU,MAAM,aAAa;AACpC,SAASC,eAAe,QAAQ,aAAa;AAC7C,IAAMC,cAAc,GAAG,SAAjBA,cAAcA,CAAGC,KAAK,EAAI;EAC9B,IAAI,CAACA,KAAK,IAAI,CAACC,KAAK,CAACC,OAAO,CAACF,KAAK,CAAC,EAAE,OAAO,KAAK;EACjD,OAAO,IAAI;AACb,CAAC;;AAED;AACA,IAAMG,eAAe,GAAG,SAAlBA,eAAeA,CAAGH,KAAK,EAAI;EAC/B,IAAI,CAACD,cAAc,CAACC,KAAK,CAAC,EAAE,OAAO,EAAE;EACrC;EACA;EACA,IAAMI,UAAU,GAAGN,eAAe,CAACE,KAAK,CAAC;EACzC,IAAMK,IAAI,GAAG;IACXC,IAAI,EAAE,MAAM;IACZC,QAAQ,EAAEH;EACZ,CAAC;;EAED;EACA,IAAMI,gBAAgB,GAAG;IACvBC,IAAI,EAAE,GAAG;IACTC,UAAU,EAAE,KAAK;IACjBC,MAAM,EAAE,GAAG;IACXC,WAAW,EAAE,IAAI;IACjBC,MAAM,EAAE;EACV,CAAC;EACD,IAAMC,GAAG,GAAGrB,OAAO,CAAC,CAAC,CAACsB,GAAG,CAACrB,QAAQ,CAAC,CAACqB,GAAG,CAACpB,GAAG,CAAC,CAACoB,GAAG,CAACnB,eAAe,EAAEY,gBAAgB,CAAC,CAACO,GAAG,CAAClB,UAAU,CAAC,CAACmB,SAAS,CAACX,IAAI,CAAC;EACnH,OAAOS,GAAG;AACZ,CAAC;;AAED;;AAEA,eAAeX,eAAe"},"metadata":{},"sourceType":"module","externalDependencies":[]}