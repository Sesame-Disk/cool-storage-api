{"ast":null,"code":"import { Editor } from '@seafile/slate';\nimport { findPath } from '../core';\nimport { MOUSE_ENTER_EVENT_DISABLED_MAP, ROOT_ELEMENT_TYPES } from '../constants';\nimport { onMouseEnter } from '../toolbar/side-toolbar/event';\nvar isNeedAddMouseEnterEvent = function isNeedAddMouseEnterEvent(editor, element) {\n  var elementPath = findPath(editor, element);\n  // If the element is the root element, return true\n  if (elementPath.length <= 1) return true;\n  // If the element type is not in filter list, return true\n  if (!Reflect.ownKeys(MOUSE_ENTER_EVENT_DISABLED_MAP).includes(element.type)) return true;\n  var disableEventEntry = Editor.above(editor, {\n    match: function match(n) {\n      return MOUSE_ENTER_EVENT_DISABLED_MAP[element.type].includes(n.type);\n    },\n    mode: 'highest',\n    at: elementPath\n  });\n  return !disableEventEntry;\n};\nexport var setMouseEnter = function setMouseEnter(editor, element, attributes) {\n  if (!isNeedAddMouseEnterEvent(editor, element)) return;\n  attributes['onMouseEnter'] = function (e) {\n    return onMouseEnter(e, element);\n  };\n};\nexport var setDataRoot = function setDataRoot(element, attributes) {\n  if (!ROOT_ELEMENT_TYPES.includes(element.type)) return;\n  attributes['data-root'] = 'true';\n};","map":{"version":3,"names":["Editor","findPath","MOUSE_ENTER_EVENT_DISABLED_MAP","ROOT_ELEMENT_TYPES","onMouseEnter","isNeedAddMouseEnterEvent","editor","element","elementPath","length","Reflect","ownKeys","includes","type","disableEventEntry","above","match","n","mode","at","setMouseEnter","attributes","e","setDataRoot"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/render/helper.js"],"sourcesContent":["import { Editor } from '@seafile/slate';\nimport { findPath } from '../core';\nimport { MOUSE_ENTER_EVENT_DISABLED_MAP, ROOT_ELEMENT_TYPES } from '../constants';\nimport { onMouseEnter } from '../toolbar/side-toolbar/event';\nconst isNeedAddMouseEnterEvent = (editor, element) => {\n  const elementPath = findPath(editor, element);\n  // If the element is the root element, return true\n  if (elementPath.length <= 1) return true;\n  // If the element type is not in filter list, return true\n  if (!Reflect.ownKeys(MOUSE_ENTER_EVENT_DISABLED_MAP).includes(element.type)) return true;\n  const disableEventEntry = Editor.above(editor, {\n    match: n => MOUSE_ENTER_EVENT_DISABLED_MAP[element.type].includes(n.type),\n    mode: 'highest',\n    at: elementPath\n  });\n  return !disableEventEntry;\n};\nexport const setMouseEnter = (editor, element, attributes) => {\n  if (!isNeedAddMouseEnterEvent(editor, element)) return;\n  attributes['onMouseEnter'] = e => onMouseEnter(e, element);\n};\nexport const setDataRoot = (element, attributes) => {\n  if (!ROOT_ELEMENT_TYPES.includes(element.type)) return;\n  attributes['data-root'] = 'true';\n};"],"mappings":"AAAA,SAASA,MAAM,QAAQ,gBAAgB;AACvC,SAASC,QAAQ,QAAQ,SAAS;AAClC,SAASC,8BAA8B,EAAEC,kBAAkB,QAAQ,cAAc;AACjF,SAASC,YAAY,QAAQ,+BAA+B;AAC5D,IAAMC,wBAAwB,GAAG,SAA3BA,wBAAwBA,CAAIC,MAAM,EAAEC,OAAO,EAAK;EACpD,IAAMC,WAAW,GAAGP,QAAQ,CAACK,MAAM,EAAEC,OAAO,CAAC;EAC7C;EACA,IAAIC,WAAW,CAACC,MAAM,IAAI,CAAC,EAAE,OAAO,IAAI;EACxC;EACA,IAAI,CAACC,OAAO,CAACC,OAAO,CAACT,8BAA8B,CAAC,CAACU,QAAQ,CAACL,OAAO,CAACM,IAAI,CAAC,EAAE,OAAO,IAAI;EACxF,IAAMC,iBAAiB,GAAGd,MAAM,CAACe,KAAK,CAACT,MAAM,EAAE;IAC7CU,KAAK,EAAE,SAAAA,MAAAC,CAAC;MAAA,OAAIf,8BAA8B,CAACK,OAAO,CAACM,IAAI,CAAC,CAACD,QAAQ,CAACK,CAAC,CAACJ,IAAI,CAAC;IAAA;IACzEK,IAAI,EAAE,SAAS;IACfC,EAAE,EAAEX;EACN,CAAC,CAAC;EACF,OAAO,CAACM,iBAAiB;AAC3B,CAAC;AACD,OAAO,IAAMM,aAAa,GAAG,SAAhBA,aAAaA,CAAId,MAAM,EAAEC,OAAO,EAAEc,UAAU,EAAK;EAC5D,IAAI,CAAChB,wBAAwB,CAACC,MAAM,EAAEC,OAAO,CAAC,EAAE;EAChDc,UAAU,CAAC,cAAc,CAAC,GAAG,UAAAC,CAAC;IAAA,OAAIlB,YAAY,CAACkB,CAAC,EAAEf,OAAO,CAAC;EAAA;AAC5D,CAAC;AACD,OAAO,IAAMgB,WAAW,GAAG,SAAdA,WAAWA,CAAIhB,OAAO,EAAEc,UAAU,EAAK;EAClD,IAAI,CAAClB,kBAAkB,CAACS,QAAQ,CAACL,OAAO,CAACM,IAAI,CAAC,EAAE;EAChDQ,UAAU,CAAC,WAAW,CAAC,GAAG,MAAM;AAClC,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}