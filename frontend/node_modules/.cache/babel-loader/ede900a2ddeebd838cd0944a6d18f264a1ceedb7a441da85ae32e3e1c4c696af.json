{"ast":null,"code":"import React, { useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { MenuItem } from '../../../commons';\nimport { MENUS_CONFIG_MAP } from '../../../constants';\nimport { CALL_OUT } from '../../../constants/element-type';\nimport { isMenuActive, isMenuDisabled, unwrapCallout, wrapCallout } from '../helper';\nimport { INTERNAL_EVENT } from '../../../../constants';\nimport toaster from '../../../../../components/toast';\nimport EventBus from '../../../../utils/event-bus';\nvar menuConfig = MENUS_CONFIG_MAP[CALL_OUT];\nvar CalloutMenu = function CalloutMenu(_ref) {\n  var editor = _ref.editor,\n    isRichEditor = _ref.isRichEditor,\n    className = _ref.className,\n    readonly = _ref.readonly;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var handleDisplayAlert = useCallback(function (type) {\n    toaster.warning(\"\".concat(t('The_current_location_does_not_support_pasting')).concat(t(type && type.at(0).toUpperCase() + type.slice(1))));\n  }, [t]);\n  useEffect(function () {\n    var eventBus = EventBus.getInstance();\n    var unsubscribe = eventBus.subscribe(INTERNAL_EVENT.DISPLAY_CALLOUT_UNSUPPORT_ALERT, handleDisplayAlert);\n    return unsubscribe;\n  }, [handleDisplayAlert, t]);\n  var handleClick = useCallback(function (e) {\n    isMenuActive(editor) ? unwrapCallout(editor) : wrapCallout(editor);\n  }, [editor]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuItem, Object.assign({\n    isRichEditor: isRichEditor,\n    className: className,\n    disabled: isMenuDisabled(editor, readonly),\n    isActive: isMenuActive(editor),\n    onMouseDown: handleClick\n  }, menuConfig)));\n};\nexport default CalloutMenu;","map":{"version":3,"names":["React","useCallback","useEffect","useTranslation","MenuItem","MENUS_CONFIG_MAP","CALL_OUT","isMenuActive","isMenuDisabled","unwrapCallout","wrapCallout","INTERNAL_EVENT","toaster","EventBus","menuConfig","CalloutMenu","_ref","editor","isRichEditor","className","readonly","_useTranslation","t","handleDisplayAlert","type","warning","concat","at","toUpperCase","slice","eventBus","getInstance","unsubscribe","subscribe","DISPLAY_CALLOUT_UNSUPPORT_ALERT","handleClick","e","createElement","Fragment","Object","assign","disabled","isActive","onMouseDown"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/callout/menu/index.js"],"sourcesContent":["import React, { useCallback, useEffect } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport { MenuItem } from '../../../commons';\nimport { MENUS_CONFIG_MAP } from '../../../constants';\nimport { CALL_OUT } from '../../../constants/element-type';\nimport { isMenuActive, isMenuDisabled, unwrapCallout, wrapCallout } from '../helper';\nimport { INTERNAL_EVENT } from '../../../../constants';\nimport toaster from '../../../../../components/toast';\nimport EventBus from '../../../../utils/event-bus';\nconst menuConfig = MENUS_CONFIG_MAP[CALL_OUT];\nconst CalloutMenu = _ref => {\n  let {\n    editor,\n    isRichEditor,\n    className,\n    readonly\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const handleDisplayAlert = useCallback(type => {\n    toaster.warning(\"\".concat(t('The_current_location_does_not_support_pasting')).concat(t(type && type.at(0).toUpperCase() + type.slice(1))));\n  }, [t]);\n  useEffect(() => {\n    const eventBus = EventBus.getInstance();\n    const unsubscribe = eventBus.subscribe(INTERNAL_EVENT.DISPLAY_CALLOUT_UNSUPPORT_ALERT, handleDisplayAlert);\n    return unsubscribe;\n  }, [handleDisplayAlert, t]);\n  const handleClick = useCallback(e => {\n    isMenuActive(editor) ? unwrapCallout(editor) : wrapCallout(editor);\n  }, [editor]);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(MenuItem, Object.assign({\n    isRichEditor: isRichEditor,\n    className: className,\n    disabled: isMenuDisabled(editor, readonly),\n    isActive: isMenuActive(editor),\n    onMouseDown: handleClick\n  }, menuConfig)));\n};\nexport default CalloutMenu;"],"mappings":"AAAA,OAAOA,KAAK,IAAIC,WAAW,EAAEC,SAAS,QAAQ,OAAO;AACrD,SAASC,cAAc,QAAQ,eAAe;AAC9C,SAASC,QAAQ,QAAQ,kBAAkB;AAC3C,SAASC,gBAAgB,QAAQ,oBAAoB;AACrD,SAASC,QAAQ,QAAQ,iCAAiC;AAC1D,SAASC,YAAY,EAAEC,cAAc,EAAEC,aAAa,EAAEC,WAAW,QAAQ,WAAW;AACpF,SAASC,cAAc,QAAQ,uBAAuB;AACtD,OAAOC,OAAO,MAAM,iCAAiC;AACrD,OAAOC,QAAQ,MAAM,6BAA6B;AAClD,IAAMC,UAAU,GAAGT,gBAAgB,CAACC,QAAQ,CAAC;AAC7C,IAAMS,WAAW,GAAG,SAAdA,WAAWA,CAAGC,IAAI,EAAI;EAC1B,IACEC,MAAM,GAIJD,IAAI,CAJNC,MAAM;IACNC,YAAY,GAGVF,IAAI,CAHNE,YAAY;IACZC,SAAS,GAEPH,IAAI,CAFNG,SAAS;IACTC,QAAQ,GACNJ,IAAI,CADNI,QAAQ;EAEV,IAAAC,eAAA,GAEIlB,cAAc,CAAC,CAAC;IADlBmB,CAAC,GAAAD,eAAA,CAADC,CAAC;EAEH,IAAMC,kBAAkB,GAAGtB,WAAW,CAAC,UAAAuB,IAAI,EAAI;IAC7CZ,OAAO,CAACa,OAAO,CAAC,EAAE,CAACC,MAAM,CAACJ,CAAC,CAAC,+CAA+C,CAAC,CAAC,CAACI,MAAM,CAACJ,CAAC,CAACE,IAAI,IAAIA,IAAI,CAACG,EAAE,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGJ,IAAI,CAACK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC5I,CAAC,EAAE,CAACP,CAAC,CAAC,CAAC;EACPpB,SAAS,CAAC,YAAM;IACd,IAAM4B,QAAQ,GAAGjB,QAAQ,CAACkB,WAAW,CAAC,CAAC;IACvC,IAAMC,WAAW,GAAGF,QAAQ,CAACG,SAAS,CAACtB,cAAc,CAACuB,+BAA+B,EAAEX,kBAAkB,CAAC;IAC1G,OAAOS,WAAW;EACpB,CAAC,EAAE,CAACT,kBAAkB,EAAED,CAAC,CAAC,CAAC;EAC3B,IAAMa,WAAW,GAAGlC,WAAW,CAAC,UAAAmC,CAAC,EAAI;IACnC7B,YAAY,CAACU,MAAM,CAAC,GAAGR,aAAa,CAACQ,MAAM,CAAC,GAAGP,WAAW,CAACO,MAAM,CAAC;EACpE,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EACZ,OAAO,aAAajB,KAAK,CAACqC,aAAa,CAACrC,KAAK,CAACsC,QAAQ,EAAE,IAAI,EAAE,aAAatC,KAAK,CAACqC,aAAa,CAACjC,QAAQ,EAAEmC,MAAM,CAACC,MAAM,CAAC;IACrHtB,YAAY,EAAEA,YAAY;IAC1BC,SAAS,EAAEA,SAAS;IACpBsB,QAAQ,EAAEjC,cAAc,CAACS,MAAM,EAAEG,QAAQ,CAAC;IAC1CsB,QAAQ,EAAEnC,YAAY,CAACU,MAAM,CAAC;IAC9B0B,WAAW,EAAER;EACf,CAAC,EAAErB,UAAU,CAAC,CAAC,CAAC;AAClB,CAAC;AACD,eAAeC,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}