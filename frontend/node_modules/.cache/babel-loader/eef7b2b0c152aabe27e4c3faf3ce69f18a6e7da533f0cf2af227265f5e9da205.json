{"ast":null,"code":"\"use strict\";\n\nvar _defineProperty = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/defineProperty.js\").default;\nvar _objectSpread = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/objectSpread2.js\").default;\nvar _slicedToArray = require(\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/slicedToArray.js\").default;\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactstrap = require(\"reactstrap\");\nvar _reactI18next = require(\"react-i18next\");\nvar _helper = require(\"../helper\");\nvar _constants = require(\"../../../../constants\");\nvar LinkModal = function LinkModal(_ref) {\n  var editor = _ref.editor,\n    onCloseModal = _ref.onCloseModal,\n    linkTitle = _ref.linkTitle,\n    linkUrl = _ref.linkUrl;\n  var _ref3 = (0, _react.useState)({\n      linkUrl: linkUrl !== null && linkUrl !== void 0 ? linkUrl : '',\n      linkTitle: linkTitle !== null && linkTitle !== void 0 ? linkTitle : ''\n    }),\n    _ref4 = _slicedToArray(_ref3, 2),\n    formData = _ref4[0],\n    setFormData = _ref4[1];\n  var _ref5 = (0, _react.useState)({\n      linkUrl: '',\n      linkTitle: ''\n    }),\n    _ref6 = _slicedToArray(_ref5, 2),\n    validatorErrorMessage = _ref6[0],\n    setValidatorErrorMessage = _ref6[1];\n  var linkAddressRef = (0, _react.useRef)(null);\n  var _ref7 = (0, _reactI18next.useTranslation)(_constants.TRANSLATE_NAMESPACE),\n    t = _ref7.t;\n  var isSubmitDisabled = (0, _react.useMemo)(function () {\n    var isFormDataEmpty = Object.values(formData).some(function (value) {\n      return value.length === 0;\n    });\n    if (isFormDataEmpty) return true;\n    var isValidatorErrorMessage = Object.values(validatorErrorMessage).some(function (value) {\n      return value.length > 0;\n    });\n    if (isValidatorErrorMessage) return true;\n    return false;\n  }, [formData, validatorErrorMessage]);\n  var onOpened = (0, _react.useCallback)(function () {\n    var _linkAddressRef$curre;\n    (_linkAddressRef$curre = linkAddressRef.current) === null || _linkAddressRef$curre === void 0 ? void 0 : _linkAddressRef$curre.focus();\n  }, []);\n\n  /**\n   * @param {String} formItemName  form item name\n   * @param {String} formItemValue form item value\n   * @returns if validate passed, return Promise.resolve(); else return Promise.reject(error message);\n   */\n  var validateFormData = (0, _react.useCallback)(function (formItemName, formItemValue) {\n    if (formItemName === 'linkUrl') {\n      if (formItemValue.length === 0) return Promise.reject('Link_address_required');\n      // When entering a URL in the dialog box, the validity is not checked.\n      // if (!isUrl(formItemValue)) return Promise.reject('Link_address_invalid');\n    }\n\n    if (formItemName === 'linkTitle') {\n      if (!formItemValue.length) return Promise.reject('Link_title_required');\n      if (!formItemValue.trim().length) return Promise.reject('Blank_title_not_allowed');\n    }\n    return Promise.resolve();\n  }, []);\n  var preProcessBeforeOnchange = (0, _react.useCallback)(function (formItemName, formItemValue) {\n    if (formItemName === 'linkUrl') {\n      return formItemValue.trim();\n    }\n    return formItemValue;\n  }, []);\n  var onFormValueChange = (0, _react.useCallback)(function (e) {\n    var formItemName = e.target.name;\n    var formItemValue = e.target.value;\n    // pre-process form item value\n    formItemValue = preProcessBeforeOnchange(formItemName, formItemValue);\n    validateFormData(formItemName, formItemValue).then(function () {\n      return setValidatorErrorMessage(_objectSpread(_objectSpread({}, validatorErrorMessage), {}, _defineProperty({}, formItemName, '')));\n    }, function (errMsg) {\n      return setValidatorErrorMessage(_objectSpread(_objectSpread({}, validatorErrorMessage), {}, _defineProperty({}, formItemName, errMsg)));\n    });\n    setFormData(_objectSpread(_objectSpread({}, formData), {}, _defineProperty({}, formItemName, formItemValue)));\n  }, [formData, preProcessBeforeOnchange, validateFormData, validatorErrorMessage]);\n  var onSubmit = (0, _react.useCallback)(function (e) {\n    // re-validate form data before submit\n    Object.entries(formData).forEach(function (_ref2) {\n      var _ref8 = _slicedToArray(_ref2, 2),\n        key = _ref8[0],\n        value = _ref8[1];\n      return validateFormData(key, value).catch(function (errMsg) {\n        return setValidatorErrorMessage(function (prev) {\n          return _objectSpread(_objectSpread({}, prev), {}, _defineProperty({}, key, errMsg));\n        });\n      });\n    });\n    if (!isSubmitDisabled) {\n      var isLinkActive = (0, _helper.isLinkType)(editor);\n      isLinkActive ? (0, _helper.updateLink)(editor, formData.linkUrl, formData.linkTitle) : (0, _helper.insertLink)({\n        editor: editor,\n        url: formData.linkUrl,\n        title: formData.linkTitle\n      });\n      onCloseModal();\n    }\n    e.preventDefault();\n    e.stopPropagation();\n  }, [editor, formData, isSubmitDisabled, onCloseModal, validateFormData]);\n  var onKeydown = (0, _react.useCallback)(function (e) {\n    if (e.key === 'Enter') {\n      onSubmit(e);\n    }\n  }, [onSubmit]);\n  return /*#__PURE__*/_react.default.createElement(_reactstrap.Modal, {\n    isOpen: true,\n    toggle: onCloseModal,\n    onOpened: onOpened,\n    zIndex: 1100\n  }, /*#__PURE__*/_react.default.createElement(_reactstrap.ModalHeader, {\n    toggle: onCloseModal\n  }, t('Insert_link')), /*#__PURE__*/_react.default.createElement(_reactstrap.ModalBody, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Form, {\n    onChange: onFormValueChange\n  }, /*#__PURE__*/_react.default.createElement(_reactstrap.FormGroup, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Label, {\n    for: \"linkUrl\"\n  }, t('Link_address')), /*#__PURE__*/_react.default.createElement(_reactstrap.Input, {\n    onKeyDown: onKeydown\n    // `onChange={() => void 0}`  to fix reactstrap error which need `onChange` when `value` setteled, (`onChange` has been listened at `<Form>` )\n    ,\n\n    onChange: function onChange() {\n      return void 0;\n    },\n    value: formData.linkUrl,\n    invalid: !!validatorErrorMessage.linkUrl,\n    name: \"linkUrl\",\n    innerRef: linkAddressRef,\n    type: \"url\",\n    id: \"linkUrl\"\n  }), /*#__PURE__*/_react.default.createElement(_reactstrap.FormFeedback, null, t(validatorErrorMessage.linkUrl))), /*#__PURE__*/_react.default.createElement(_reactstrap.FormGroup, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Label, {\n    for: \"linkTitle\"\n  }, t('Link_title')), /*#__PURE__*/_react.default.createElement(_reactstrap.Input, {\n    onKeyDown: onKeydown\n    // `onChange={() => void 0}`  to fix reactstrap error which need `onChange` when `value` setteled, (`onChange` has been listened at `<Form>` )\n    ,\n\n    onChange: function onChange() {\n      return void 0;\n    },\n    value: formData.linkTitle,\n    invalid: !!validatorErrorMessage.linkTitle,\n    name: \"linkTitle\",\n    id: \"linkTitle\"\n  }), /*#__PURE__*/_react.default.createElement(_reactstrap.FormFeedback, null, t(validatorErrorMessage.linkTitle))))), /*#__PURE__*/_react.default.createElement(_reactstrap.ModalFooter, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Button, {\n    onClick: onCloseModal,\n    color: \"secondary\"\n  }, t('Cancel')), /*#__PURE__*/_react.default.createElement(_reactstrap.Button, {\n    onClick: onSubmit,\n    disabled: isSubmitDisabled,\n    color: \"primary\"\n  }, t('Add_link'))));\n};\nvar _default = exports.default = LinkModal;","map":{"version":3,"names":["_defineProperty","require","default","_objectSpread","_slicedToArray","_interopRequireWildcard","Object","defineProperty","exports","value","_react","_reactstrap","_reactI18next","_helper","_constants","LinkModal","_ref","editor","onCloseModal","linkTitle","linkUrl","_ref3","useState","_ref4","formData","setFormData","_ref5","_ref6","validatorErrorMessage","setValidatorErrorMessage","linkAddressRef","useRef","_ref7","useTranslation","TRANSLATE_NAMESPACE","t","isSubmitDisabled","useMemo","isFormDataEmpty","values","some","length","isValidatorErrorMessage","onOpened","useCallback","_linkAddressRef$curre","current","focus","validateFormData","formItemName","formItemValue","Promise","reject","trim","resolve","preProcessBeforeOnchange","onFormValueChange","e","target","name","then","errMsg","onSubmit","entries","forEach","_ref2","_ref8","key","catch","prev","isLinkActive","isLinkType","updateLink","insertLink","url","title","preventDefault","stopPropagation","onKeydown","createElement","Modal","isOpen","toggle","zIndex","ModalHeader","ModalBody","Form","onChange","FormGroup","Label","for","Input","onKeyDown","invalid","innerRef","type","id","FormFeedback","ModalFooter","Button","onClick","color","disabled","_default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/seafile-editor/dist/extension/plugins/link/menu/link-modal.js"],"sourcesContent":["\"use strict\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _react = _interopRequireWildcard(require(\"react\"));\nvar _reactstrap = require(\"reactstrap\");\nvar _reactI18next = require(\"react-i18next\");\nvar _helper = require(\"../helper\");\nvar _constants = require(\"../../../../constants\");\nconst LinkModal = _ref => {\n  let {\n    editor,\n    onCloseModal,\n    linkTitle,\n    linkUrl\n  } = _ref;\n  const [formData, setFormData] = (0, _react.useState)({\n    linkUrl: linkUrl !== null && linkUrl !== void 0 ? linkUrl : '',\n    linkTitle: linkTitle !== null && linkTitle !== void 0 ? linkTitle : ''\n  });\n  const [validatorErrorMessage, setValidatorErrorMessage] = (0, _react.useState)({\n    linkUrl: '',\n    linkTitle: ''\n  });\n  const linkAddressRef = (0, _react.useRef)(null);\n  const {\n    t\n  } = (0, _reactI18next.useTranslation)(_constants.TRANSLATE_NAMESPACE);\n  const isSubmitDisabled = (0, _react.useMemo)(() => {\n    const isFormDataEmpty = Object.values(formData).some(value => value.length === 0);\n    if (isFormDataEmpty) return true;\n    const isValidatorErrorMessage = Object.values(validatorErrorMessage).some(value => value.length > 0);\n    if (isValidatorErrorMessage) return true;\n    return false;\n  }, [formData, validatorErrorMessage]);\n  const onOpened = (0, _react.useCallback)(() => {\n    var _linkAddressRef$curre;\n    (_linkAddressRef$curre = linkAddressRef.current) === null || _linkAddressRef$curre === void 0 ? void 0 : _linkAddressRef$curre.focus();\n  }, []);\n\n  /**\n   * @param {String} formItemName  form item name\n   * @param {String} formItemValue form item value\n   * @returns if validate passed, return Promise.resolve(); else return Promise.reject(error message);\n   */\n  const validateFormData = (0, _react.useCallback)((formItemName, formItemValue) => {\n    if (formItemName === 'linkUrl') {\n      if (formItemValue.length === 0) return Promise.reject('Link_address_required');\n      // When entering a URL in the dialog box, the validity is not checked.\n      // if (!isUrl(formItemValue)) return Promise.reject('Link_address_invalid');\n    }\n    if (formItemName === 'linkTitle') {\n      if (!formItemValue.length) return Promise.reject('Link_title_required');\n      if (!formItemValue.trim().length) return Promise.reject('Blank_title_not_allowed');\n    }\n    return Promise.resolve();\n  }, []);\n  const preProcessBeforeOnchange = (0, _react.useCallback)((formItemName, formItemValue) => {\n    if (formItemName === 'linkUrl') {\n      return formItemValue.trim();\n    }\n    return formItemValue;\n  }, []);\n  const onFormValueChange = (0, _react.useCallback)(e => {\n    const formItemName = e.target.name;\n    let formItemValue = e.target.value;\n    // pre-process form item value\n    formItemValue = preProcessBeforeOnchange(formItemName, formItemValue);\n    validateFormData(formItemName, formItemValue).then(() => setValidatorErrorMessage({\n      ...validatorErrorMessage,\n      [formItemName]: ''\n    }), errMsg => setValidatorErrorMessage({\n      ...validatorErrorMessage,\n      [formItemName]: errMsg\n    }));\n    setFormData({\n      ...formData,\n      [formItemName]: formItemValue\n    });\n  }, [formData, preProcessBeforeOnchange, validateFormData, validatorErrorMessage]);\n  const onSubmit = (0, _react.useCallback)(e => {\n    // re-validate form data before submit\n    Object.entries(formData).forEach(_ref2 => {\n      let [key, value] = _ref2;\n      return validateFormData(key, value).catch(errMsg => setValidatorErrorMessage(prev => ({\n        ...prev,\n        [key]: errMsg\n      })));\n    });\n    if (!isSubmitDisabled) {\n      const isLinkActive = (0, _helper.isLinkType)(editor);\n      isLinkActive ? (0, _helper.updateLink)(editor, formData.linkUrl, formData.linkTitle) : (0, _helper.insertLink)({\n        editor,\n        url: formData.linkUrl,\n        title: formData.linkTitle\n      });\n      onCloseModal();\n    }\n    e.preventDefault();\n    e.stopPropagation();\n  }, [editor, formData, isSubmitDisabled, onCloseModal, validateFormData]);\n  const onKeydown = (0, _react.useCallback)(e => {\n    if (e.key === 'Enter') {\n      onSubmit(e);\n    }\n  }, [onSubmit]);\n  return /*#__PURE__*/_react.default.createElement(_reactstrap.Modal, {\n    isOpen: true,\n    toggle: onCloseModal,\n    onOpened: onOpened,\n    zIndex: 1100\n  }, /*#__PURE__*/_react.default.createElement(_reactstrap.ModalHeader, {\n    toggle: onCloseModal\n  }, t('Insert_link')), /*#__PURE__*/_react.default.createElement(_reactstrap.ModalBody, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Form, {\n    onChange: onFormValueChange\n  }, /*#__PURE__*/_react.default.createElement(_reactstrap.FormGroup, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Label, {\n    for: \"linkUrl\"\n  }, t('Link_address')), /*#__PURE__*/_react.default.createElement(_reactstrap.Input, {\n    onKeyDown: onKeydown\n    // `onChange={() => void 0}`  to fix reactstrap error which need `onChange` when `value` setteled, (`onChange` has been listened at `<Form>` )\n    ,\n    onChange: () => void 0,\n    value: formData.linkUrl,\n    invalid: !!validatorErrorMessage.linkUrl,\n    name: \"linkUrl\",\n    innerRef: linkAddressRef,\n    type: \"url\",\n    id: \"linkUrl\"\n  }), /*#__PURE__*/_react.default.createElement(_reactstrap.FormFeedback, null, t(validatorErrorMessage.linkUrl))), /*#__PURE__*/_react.default.createElement(_reactstrap.FormGroup, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Label, {\n    for: \"linkTitle\"\n  }, t('Link_title')), /*#__PURE__*/_react.default.createElement(_reactstrap.Input, {\n    onKeyDown: onKeydown\n    // `onChange={() => void 0}`  to fix reactstrap error which need `onChange` when `value` setteled, (`onChange` has been listened at `<Form>` )\n    ,\n    onChange: () => void 0,\n    value: formData.linkTitle,\n    invalid: !!validatorErrorMessage.linkTitle,\n    name: \"linkTitle\",\n    id: \"linkTitle\"\n  }), /*#__PURE__*/_react.default.createElement(_reactstrap.FormFeedback, null, t(validatorErrorMessage.linkTitle))))), /*#__PURE__*/_react.default.createElement(_reactstrap.ModalFooter, null, /*#__PURE__*/_react.default.createElement(_reactstrap.Button, {\n    onClick: onCloseModal,\n    color: \"secondary\"\n  }, t('Cancel')), /*#__PURE__*/_react.default.createElement(_reactstrap.Button, {\n    onClick: onSubmit,\n    disabled: isSubmitDisabled,\n    color: \"primary\"\n  }, t('Add_link'))));\n};\nvar _default = exports.default = LinkModal;"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}