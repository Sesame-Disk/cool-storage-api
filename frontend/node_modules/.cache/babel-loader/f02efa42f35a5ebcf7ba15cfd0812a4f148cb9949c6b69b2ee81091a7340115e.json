{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Modal,ModalHeader,ModalBody}from'reactstrap';import{SimpleEditor}from'@seafile/seafile-editor';import{gettext}from'../../utils/constants';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var TermsEditorDialog=/*#__PURE__*/function(_React$Component){_inherits(TermsEditorDialog,_React$Component);var _super=_createSuper(TermsEditorDialog);function TermsEditorDialog(props){var _this;_classCallCheck(this,TermsEditorDialog);_this=_super.call(this,props);_this.onKeyDown=function(event){event.stopPropagation();};_this.toggle=function(){var isValueChanged=_this.state.isValueChanged;if(isValueChanged){var currentContent=_this.getCurrentContent();_this.props.onCommit(currentContent);}_this.props.onCloseEditorDialog();};_this.onContentChanged=function(){return _this.setState({isValueChanged:true});};_this.getCurrentContent=function(){return _this.editorRef.current.getValue();};_this.setSimpleEditorRef=function(editor){_this.simpleEditor=editor;};_this.state={isValueChanged:false};_this.editorRef=/*#__PURE__*/React.createRef();return _this;}_createClass(TermsEditorDialog,[{key:\"render\",value:function render(){var _this$props=this.props,content=_this$props.content,title=_this$props.title;return/*#__PURE__*/_jsxs(Modal,{isOpen:true,toggle:this.toggle,onKeyDown:this.onKeyDown,wrapClassName:'conditions-editor-dialog-wrapper',className:'conditions-editor-dialog',contentClassName:'conditions-editor-dialog-content',size:'lg',style:{width:770},children:[/*#__PURE__*/_jsx(ModalHeader,{className:\"conditions-editor-dialog-title\",toggle:this.toggle,children:title}),/*#__PURE__*/_jsx(ModalBody,{className:'conditions-editor-dialog-main',children:/*#__PURE__*/_jsx(SimpleEditor,{ref:this.editorRef,value:content||'',onContentChanged:this.onContentChanged})})]});}}]);return TermsEditorDialog;}(React.Component);TermsEditorDialog.defaultProps={title:gettext('Terms')};export default TermsEditorDialog;","map":{"version":3,"names":["React","Modal","ModalHeader","ModalBody","SimpleEditor","gettext","jsx","_jsx","jsxs","_jsxs","TermsEditorDialog","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onKeyDown","event","stopPropagation","toggle","isValueChanged","state","currentContent","getCurrentContent","onCommit","onCloseEditorDialog","onContentChanged","setState","editorRef","current","getValue","setSimpleEditorRef","editor","simpleEditor","createRef","_createClass","key","value","render","_this$props","content","title","isOpen","wrapClassName","className","contentClassName","size","style","width","children","ref","Component","defaultProps"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/dialog/terms-editor-dialog.js"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Modal, ModalHeader, ModalBody } from 'reactstrap';\nimport { SimpleEditor } from '@seafile/seafile-editor';\nimport { gettext } from '../../utils/constants';\n\nconst propTypes = {\n  title: PropTypes.string,\n  content: PropTypes.string,\n  onCommit: PropTypes.func.isRequired,\n  onCloseEditorDialog: PropTypes.func.isRequired,\n};\n\nclass TermsEditorDialog extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isValueChanged: false,\n    };\n    this.editorRef = React.createRef();\n  }\n\n  static defaultProps = {\n    title: gettext('Terms'),\n  };\n\n  onKeyDown = (event) => {\n    event.stopPropagation();\n  };\n\n  toggle = () => {\n    const { isValueChanged } = this.state;\n    if (isValueChanged) {\n      let currentContent = this.getCurrentContent();\n      this.props.onCommit(currentContent);\n    }\n    this.props.onCloseEditorDialog();\n  };\n\n  onContentChanged = () => {\n    return this.setState({isValueChanged: true});\n  };\n\n  getCurrentContent = () => {\n    return this.editorRef.current.getValue();\n  };\n\n  setSimpleEditorRef = (editor) => {\n    this.simpleEditor = editor;\n  };\n\n  render() {\n    let { content, title } = this.props;\n    return (\n      <Modal\n        isOpen={true}\n        toggle={this.toggle}\n        onKeyDown={this.onKeyDown}\n        wrapClassName={'conditions-editor-dialog-wrapper'}\n        className={'conditions-editor-dialog'}\n        contentClassName={'conditions-editor-dialog-content'}\n        size={'lg'}\n        style={{width: 770}}\n      >\n        <ModalHeader className=\"conditions-editor-dialog-title\" toggle={this.toggle}>{title}</ModalHeader>\n        <ModalBody className={'conditions-editor-dialog-main'}>\n          <SimpleEditor\n            ref={this.editorRef}\n            value={content || ''}\n            onContentChanged={this.onContentChanged}\n          />\n        </ModalBody>\n      </Modal>\n    );\n  }\n}\n\nTermsEditorDialog.propTypes = propTypes;\n\nexport default TermsEditorDialog;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}