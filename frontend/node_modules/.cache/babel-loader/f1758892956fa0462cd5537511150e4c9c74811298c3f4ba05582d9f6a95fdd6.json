{"ast":null,"code":"import _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { css, keyframes } from 'goober';\nimport Transition from 'react-transition-group/Transition';\nimport Alert from './alert';\nvar animationEasing = {\n  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',\n  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)',\n  spring: 'cubic-bezier(0.175, 0.885, 0.320, 1.175)'\n};\nvar ANIMATION_DURATION = 240;\nvar openAnimation = keyframes('openAnimation', {\n  from: {\n    opacity: 0,\n    transform: 'translateY(-120%)'\n  },\n  to: {\n    transform: 'translateY(0)'\n  }\n});\nvar closeAnimation = keyframes('closeAnimation', {\n  from: {\n    transform: 'scale(1)',\n    opacity: 1\n  },\n  to: {\n    transform: 'scale(0.9)',\n    opacity: 0\n  }\n});\nvar animationStyles = css({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  height: 0,\n  transition: \"all \".concat(ANIMATION_DURATION, \"ms \").concat(animationEasing.deceleration),\n  '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n    animation: \"\".concat(openAnimation, \" \").concat(ANIMATION_DURATION, \"ms \").concat(animationEasing.spring, \" both\")\n  },\n  '&[data-state=\"exiting\"]': {\n    animation: \"\".concat(closeAnimation, \" 120ms \").concat(animationEasing.acceleration, \" both\")\n  }\n});\nvar Toast = /*#__PURE__*/function (_React$PureComponent) {\n  _inherits(Toast, _React$PureComponent);\n  var _super = _createSuper(Toast);\n  function Toast() {\n    var _this;\n    _classCallCheck(this, Toast);\n    _this = _super.apply(this, arguments);\n    _defineProperty(_assertThisInitialized(_this), \"state\", {\n      isShown: true,\n      height: 0\n    });\n    _defineProperty(_assertThisInitialized(_this), \"close\", function (event) {\n      if (event) {\n        event.nativeEvent.stopImmediatePropagation();\n        event.stopPropagation();\n      }\n      _this.clearCloseTimer();\n      _this.setState({\n        isShown: false\n      });\n    });\n    _defineProperty(_assertThisInitialized(_this), \"startCloseTimer\", function () {\n      if (_this.props.duration) {\n        _this.closeTimer = setTimeout(function () {\n          _this.close();\n        }, _this.props.duration * 1000);\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"clearCloseTimer\", function () {\n      if (_this.closeTimer) {\n        clearTimeout(_this.closeTimer);\n        _this.closeTimer = null;\n      }\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseEnter\", function () {\n      _this.clearCloseTimer();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"handleMouseLeave\", function () {\n      _this.startCloseTimer();\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onRef\", function (ref) {\n      if (ref === null) return;\n      var _ref$getBoundingClien = ref.getBoundingClientRect(),\n        height = _ref$getBoundingClien.height;\n      _this.setState({\n        height: height\n      });\n    });\n    return _this;\n  }\n  _createClass(Toast, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      if (prevProps.isShown !== this.props.isShown) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState({\n          isShown: this.props.isShown\n        });\n      }\n    }\n  }, {\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.startCloseTimer();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.clearCloseTimer();\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n      return /*#__PURE__*/React.createElement(Transition, {\n        appear: true,\n        unmountOnExit: true,\n        timeout: ANIMATION_DURATION,\n        in: this.state.isShown,\n        onExited: this.props.onRemove\n      }, function (state) {\n        return /*#__PURE__*/React.createElement(\"div\", {\n          \"data-state\": state,\n          className: animationStyles,\n          onMouseEnter: _this2.handleMouseEnter,\n          onMouseLeave: _this2.handleMouseLeave,\n          style: {\n            height: _this2.state.height,\n            zIndex: _this2.props.zIndex,\n            marginBottom: _this2.state.isShown ? 0 : -_this2.state.height\n          }\n        }, /*#__PURE__*/React.createElement(\"div\", {\n          ref: _this2.onRef,\n          style: {\n            padding: 8\n          }\n        }, /*#__PURE__*/React.createElement(Alert, {\n          intent: _this2.props.intent,\n          title: _this2.props.title,\n          \"aria-label\": _this2.props.title,\n          children: _this2.props.children || '',\n          isRemoveable: _this2.props.hasCloseButton,\n          onRemove: function onRemove(event) {\n            return _this2.close(event);\n          }\n        })));\n      });\n    }\n  }]);\n  return Toast;\n}(React.PureComponent);\nexport { Toast as default };\n_defineProperty(Toast, \"defaultProps\", {\n  intent: 'none'\n});","map":{"version":3,"names":["_defineProperty","React","css","keyframes","Transition","Alert","animationEasing","deceleration","acceleration","spring","ANIMATION_DURATION","openAnimation","from","opacity","transform","to","closeAnimation","animationStyles","display","flexDirection","alignItems","height","transition","concat","animation","Toast","_React$PureComponent","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","_assertThisInitialized","isShown","event","nativeEvent","stopImmediatePropagation","stopPropagation","clearCloseTimer","setState","props","duration","closeTimer","setTimeout","close","clearTimeout","startCloseTimer","ref","_ref$getBoundingClien","getBoundingClientRect","_createClass","key","value","componentDidUpdate","prevProps","componentDidMount","componentWillUnmount","render","_this2","createElement","appear","unmountOnExit","timeout","in","state","onExited","onRemove","className","onMouseEnter","handleMouseEnter","onMouseLeave","handleMouseLeave","style","zIndex","marginBottom","onRef","padding","intent","title","children","isRemoveable","hasCloseButton","PureComponent","default"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/components/toast/toast.js"],"sourcesContent":["import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { css, keyframes } from 'goober';\nimport Transition from 'react-transition-group/Transition';\nimport Alert from './alert';\nconst animationEasing = {\n  deceleration: 'cubic-bezier(0.0, 0.0, 0.2, 1)',\n  acceleration: 'cubic-bezier(0.4, 0.0, 1, 1)',\n  spring: 'cubic-bezier(0.175, 0.885, 0.320, 1.175)'\n};\nconst ANIMATION_DURATION = 240;\nconst openAnimation = keyframes('openAnimation', {\n  from: {\n    opacity: 0,\n    transform: 'translateY(-120%)'\n  },\n  to: {\n    transform: 'translateY(0)'\n  }\n});\nconst closeAnimation = keyframes('closeAnimation', {\n  from: {\n    transform: 'scale(1)',\n    opacity: 1\n  },\n  to: {\n    transform: 'scale(0.9)',\n    opacity: 0\n  }\n});\nconst animationStyles = css({\n  display: 'flex',\n  flexDirection: 'column',\n  alignItems: 'center',\n  height: 0,\n  transition: \"all \".concat(ANIMATION_DURATION, \"ms \").concat(animationEasing.deceleration),\n  '&[data-state=\"entering\"], &[data-state=\"entered\"]': {\n    animation: \"\".concat(openAnimation, \" \").concat(ANIMATION_DURATION, \"ms \").concat(animationEasing.spring, \" both\")\n  },\n  '&[data-state=\"exiting\"]': {\n    animation: \"\".concat(closeAnimation, \" 120ms \").concat(animationEasing.acceleration, \" both\")\n  }\n});\nexport default class Toast extends React.PureComponent {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"state\", {\n      isShown: true,\n      height: 0\n    });\n    _defineProperty(this, \"close\", event => {\n      if (event) {\n        event.nativeEvent.stopImmediatePropagation();\n        event.stopPropagation();\n      }\n      this.clearCloseTimer();\n      this.setState({\n        isShown: false\n      });\n    });\n    _defineProperty(this, \"startCloseTimer\", () => {\n      if (this.props.duration) {\n        this.closeTimer = setTimeout(() => {\n          this.close();\n        }, this.props.duration * 1000);\n      }\n    });\n    _defineProperty(this, \"clearCloseTimer\", () => {\n      if (this.closeTimer) {\n        clearTimeout(this.closeTimer);\n        this.closeTimer = null;\n      }\n    });\n    _defineProperty(this, \"handleMouseEnter\", () => {\n      this.clearCloseTimer();\n    });\n    _defineProperty(this, \"handleMouseLeave\", () => {\n      this.startCloseTimer();\n    });\n    _defineProperty(this, \"onRef\", ref => {\n      if (ref === null) return;\n      const {\n        height\n      } = ref.getBoundingClientRect();\n      this.setState({\n        height\n      });\n    });\n  }\n  componentDidUpdate(prevProps) {\n    if (prevProps.isShown !== this.props.isShown) {\n      // eslint-disable-next-line react/no-did-update-set-state\n      this.setState({\n        isShown: this.props.isShown\n      });\n    }\n  }\n  componentDidMount() {\n    this.startCloseTimer();\n  }\n  componentWillUnmount() {\n    this.clearCloseTimer();\n  }\n  render() {\n    return /*#__PURE__*/React.createElement(Transition, {\n      appear: true,\n      unmountOnExit: true,\n      timeout: ANIMATION_DURATION,\n      in: this.state.isShown,\n      onExited: this.props.onRemove\n    }, state => /*#__PURE__*/React.createElement(\"div\", {\n      \"data-state\": state,\n      className: animationStyles,\n      onMouseEnter: this.handleMouseEnter,\n      onMouseLeave: this.handleMouseLeave,\n      style: {\n        height: this.state.height,\n        zIndex: this.props.zIndex,\n        marginBottom: this.state.isShown ? 0 : -this.state.height\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      ref: this.onRef,\n      style: {\n        padding: 8\n      }\n    }, /*#__PURE__*/React.createElement(Alert, {\n      intent: this.props.intent,\n      title: this.props.title,\n      \"aria-label\": this.props.title,\n      children: this.props.children || '',\n      isRemoveable: this.props.hasCloseButton,\n      onRemove: event => this.close(event)\n    }))));\n  }\n}\n_defineProperty(Toast, \"defaultProps\", {\n  intent: 'none'\n});"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}