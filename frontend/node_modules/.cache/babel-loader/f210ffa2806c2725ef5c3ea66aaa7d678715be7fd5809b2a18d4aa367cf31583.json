{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{seafileAPI}from'../../../utils/seafile-api';import{gettext}from'../../../utils/constants';import toaster from'../../../components/toast';import{Utils}from'../../../utils/utils';import EmptyTip from'../../../components/empty-tip';import moment from'moment';import Loading from'../../../components/loading';import Paginator from'../../../components/paginator';import SysAdminUnlinkDevice from'../../../components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.getPreviousPageDevicesList=function(){_this.props.getDevicesListByPage(_this.props.pageInfo.current_page-1);};_this.getNextPageDevicesList=function(){_this.props.getDevicesListByPage(_this.props.pageInfo.current_page+1);};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,pageInfo=_this$props.pageInfo,curPerPage=_this$props.curPerPage;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsx(EmptyTip,{children:/*#__PURE__*/_jsx(\"h2\",{children:gettext('No connected devices')})});var table=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{className:\"table-hover\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"19%\",children:gettext('User')}),/*#__PURE__*/_jsxs(\"th\",{width:\"19%\",children:[gettext('Platform'),' / ',gettext('Version')]}),/*#__PURE__*/_jsx(\"th\",{width:\"19%\",children:gettext('Device Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"19%\",children:gettext('IP')}),/*#__PURE__*/_jsx(\"th\",{width:\"19%\",children:gettext('Last Access')}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{item:item},index);})})]}),/*#__PURE__*/_jsx(Paginator,{gotoPreviousPage:this.getPreviousPageDevicesList,gotoNextPage:this.getNextPageDevicesList,currentPage:pageInfo.current_page,hasNextPage:pageInfo.has_next_page,curPerPage:curPerPage,resetPerPage:this.props.resetPerPage})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this2;_classCallCheck(this,Item);_this2=_super2.call(this,props);_this2.handleMouseOver=function(){_this2.setState({isOpIconShown:true});};_this2.handleMouseOut=function(){_this2.setState({isOpIconShown:false});};_this2.handleUnlink=function(e){e.preventDefault();if(_this2.props.item.is_desktop_client){_this2.toggleUnlinkDeviceDialog();}else{_this2.unlinkDevice(true);}};_this2.toggleUnlinkDeviceDialog=function(){_this2.setState({isUnlinkDeviceDialogOpen:!_this2.state.isUnlinkDeviceDialogOpen});};_this2.unlinkDevice=function(deleteFiles){var _this2$props$item=_this2.props.item,platform=_this2$props$item.platform,device_id=_this2$props$item.device_id,user=_this2$props$item.user;seafileAPI.sysAdminUnlinkDevice(platform,device_id,user,deleteFiles).then(function(res){_this2.setState({unlinked:true});var message=gettext('Successfully unlinked the device.');toaster.success(message);}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this2.state={unlinked:false,isOpIconShown:false,isUnlinkDeviceDialogOpen:false};return _this2;}_createClass(Item,[{key:\"render\",value:function render(){var item=this.props.item;var _this$state=this.state,unlinked=_this$state.unlinked,isUnlinkDeviceDialogOpen=_this$state.isUnlinkDeviceDialogOpen,isOpIconShown=_this$state.isOpIconShown;if(unlinked){return null;}return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{onMouseEnter:this.handleMouseOver,onMouseLeave:this.handleMouseOut,children:[/*#__PURE__*/_jsx(\"td\",{children:item.user_name}),/*#__PURE__*/_jsxs(\"td\",{children:[item.platform,' / ',item.client_version]}),/*#__PURE__*/_jsx(\"td\",{children:item.device_name}),/*#__PURE__*/_jsx(\"td\",{children:item.last_login_ip}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"span\",{title:moment(item.last_accessed).format('llll'),children:moment(item.last_accessed).fromNow()})}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"a\",{href:\"#\",className:\"sf2-icon-delete action-icon \".concat(isOpIconShown?'':'invisible'),title:gettext('Unlink'),onClick:this.handleUnlink})})]}),isUnlinkDeviceDialogOpen&&/*#__PURE__*/_jsx(SysAdminUnlinkDevice,{unlinkDevice:this.unlinkDevice,toggleDialog:this.toggleUnlinkDeviceDialog})]});}}]);return Item;}(Component);var DevicesByPlatform=/*#__PURE__*/function(_Component3){_inherits(DevicesByPlatform,_Component3);var _super3=_createSuper(DevicesByPlatform);function DevicesByPlatform(props){var _this3;_classCallCheck(this,DevicesByPlatform);_this3=_super3.call(this,props);_this3.getDevicesListByPage=function(page){var platform=_this3.props.devicesPlatform;var per_page=_this3.state.perPage;seafileAPI.sysAdminListDevices(platform,page,per_page).then(function(res){_this3.setState({devicesData:res.data.devices,pageInfo:res.data.page_info,loading:false});}).catch(function(error){_this3.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this3.resetPerPage=function(perPage){_this3.setState({perPage:perPage},function(){_this3.getDevicesListByPage(1);});};_this3.state={loading:true,errorMsg:'',devicesData:[],pageInfo:{},perPage:25};return _this3;}_createClass(DevicesByPlatform,[{key:\"componentDidMount\",value:function componentDidMount(){var _this4=this;var urlParams=new URL(window.location).searchParams;var _this$state2=this.state,_this$state2$currentP=_this$state2.currentPage,currentPage=_this$state2$currentP===void 0?1:_this$state2$currentP,perPage=_this$state2.perPage;this.setState({perPage:parseInt(urlParams.get('per_page')||perPage),currentPage:parseInt(urlParams.get('page')||currentPage)},function(){_this4.getDevicesListByPage(_this4.state.currentPage);});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.devicesData,getDevicesListByPage:this.getDevicesListByPage,curPerPage:this.state.perPage,resetPerPage:this.resetPerPage,pageInfo:this.state.pageInfo})});}}]);return DevicesByPlatform;}(Component);export default DevicesByPlatform;","map":{"version":3,"names":["React","Component","Fragment","seafileAPI","gettext","toaster","Utils","EmptyTip","moment","Loading","Paginator","SysAdminUnlinkDevice","jsx","_jsx","jsxs","_jsxs","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","getPreviousPageDevicesList","getDevicesListByPage","pageInfo","current_page","getNextPageDevicesList","_createClass","key","value","render","_this$props","loading","errorMsg","items","curPerPage","className","children","emptyTip","table","width","map","item","index","Item","gotoPreviousPage","gotoNextPage","currentPage","hasNextPage","has_next_page","resetPerPage","length","_Component2","_super2","_this2","handleMouseOver","setState","isOpIconShown","handleMouseOut","handleUnlink","e","preventDefault","is_desktop_client","toggleUnlinkDeviceDialog","unlinkDevice","isUnlinkDeviceDialogOpen","state","deleteFiles","_this2$props$item","platform","device_id","user","sysAdminUnlinkDevice","then","res","unlinked","message","success","catch","error","errMessage","getErrorMsg","danger","_this$state","onMouseEnter","onMouseLeave","user_name","client_version","device_name","last_login_ip","title","last_accessed","format","fromNow","href","concat","onClick","toggleDialog","DevicesByPlatform","_Component3","_super3","_this3","page","devicesPlatform","per_page","perPage","sysAdminListDevices","devicesData","data","devices","page_info","componentDidMount","_this4","urlParams","URL","window","location","searchParams","_this$state2","_this$state2$currentP","parseInt","get"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/devices/devices-by-platform.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport { Utils } from '../../../utils/utils';\nimport EmptyTip from '../../../components/empty-tip';\nimport moment from 'moment';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport SysAdminUnlinkDevice from '../../../components/dialog/sysadmin-dialog/sysadmin-unlink-device-dialog';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n  }\n\n  getPreviousPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page - 1);\n  };\n\n  getNextPageDevicesList = () => {\n    this.props.getDevicesListByPage(this.props.pageInfo.current_page + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, pageInfo, curPerPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No connected devices')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table className=\"table-hover\">\n            <thead>\n              <tr>\n                <th width=\"19%\">{gettext('User')}</th>\n                <th width=\"19%\">{gettext('Platform')}{' / '}{gettext('Version')}</th>\n                <th width=\"19%\">{gettext('Device Name')}</th>\n                <th width=\"19%\">{gettext('IP')}</th>\n                <th width=\"19%\">{gettext('Last Access')}</th>\n                <th width=\"5%\">{/*Operations*/}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item key={index} item={item} />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPageDevicesList}\n            gotoNextPage={this.getNextPageDevicesList}\n            currentPage={pageInfo.current_page}\n            hasNextPage={pageInfo.has_next_page}\n            curPerPage={curPerPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getDevicesListByPage: PropTypes.func.isRequired,\n  curPerPage: PropTypes.number,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      unlinked: false,\n      isOpIconShown: false,\n      isUnlinkDeviceDialogOpen: false\n    };\n  }\n\n  handleMouseOver = () => {\n    this.setState({isOpIconShown: true});\n  };\n\n  handleMouseOut = () => {\n    this.setState({isOpIconShown: false});\n  };\n\n  handleUnlink = (e) => {\n    e.preventDefault();\n    if (this.props.item.is_desktop_client) {\n      this.toggleUnlinkDeviceDialog();\n    } else {\n      this.unlinkDevice(true);\n    }\n  };\n\n  toggleUnlinkDeviceDialog = () => {\n    this.setState({isUnlinkDeviceDialogOpen: !this.state.isUnlinkDeviceDialogOpen});\n  };\n\n  unlinkDevice = (deleteFiles) => {\n    const { platform, device_id, user } = this.props.item;\n    seafileAPI.sysAdminUnlinkDevice(platform, device_id, user, deleteFiles).then((res) => {\n      this.setState({unlinked: true});\n      let message = gettext('Successfully unlinked the device.');\n      toaster.success(message);\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const item = this.props.item;\n    const { unlinked, isUnlinkDeviceDialogOpen, isOpIconShown } = this.state;\n\n    if (unlinked) {\n      return null;\n    }\n\n    return (\n      <Fragment>\n        <tr onMouseEnter={this.handleMouseOver} onMouseLeave={this.handleMouseOut}>\n          <td>{item.user_name}</td>\n          <td>{item.platform}{' / '}{item.client_version}</td>\n          <td>{item.device_name}</td>\n          <td>{item.last_login_ip}</td>\n          <td>\n            <span title={moment(item.last_accessed).format('llll')}>{moment(item.last_accessed).fromNow()}</span>\n          </td>\n          <td>\n            <a href=\"#\" className={`sf2-icon-delete action-icon ${isOpIconShown ? '' : 'invisible'}`} title={gettext('Unlink')} onClick={this.handleUnlink}></a>\n          </td>\n        </tr>\n        {isUnlinkDeviceDialogOpen &&\n          <SysAdminUnlinkDevice\n            unlinkDevice={this.unlinkDevice}\n            toggleDialog={this.toggleUnlinkDeviceDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n};\n\nclass DevicesByPlatform extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      devicesData: [],\n      pageInfo: {},\n      perPage: 25\n    };\n  }\n\n  componentDidMount () {\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage = 1, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getDevicesListByPage(this.state.currentPage);\n    });\n  }\n\n  getDevicesListByPage = (page) => {\n    let platform = this.props.devicesPlatform;\n    let per_page = this.state.perPage;\n    seafileAPI.sysAdminListDevices(platform, page, per_page).then((res) => {\n      this.setState({\n        devicesData: res.data.devices,\n        pageInfo: res.data.page_info,\n        loading: false\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  resetPerPage = (perPage) => {\n    this.setState({\n      perPage: perPage\n    }, () => {\n      this.getDevicesListByPage(1);\n    });\n  };\n\n  render() {\n    return (\n      <div className=\"cur-view-content\">\n        <Content\n          loading={this.state.loading}\n          errorMsg={this.state.errorMsg}\n          items={this.state.devicesData}\n          getDevicesListByPage={this.getDevicesListByPage}\n          curPerPage={this.state.perPage}\n          resetPerPage={this.resetPerPage}\n          pageInfo={this.state.pageInfo}\n        />\n      </div>\n    );\n  }\n}\n\nDevicesByPlatform.propTypes = {\n  devicesPlatform: PropTypes.string.isRequired,\n};\n\nexport default DevicesByPlatform;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}