{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import ReactDOM from'react-dom';import{siteRoot,mediaUrl,logoPath,logoWidth,logoHeight,siteTitle}from'./utils/constants';import SideNav from'./components/user-settings/side-nav';import Account from'./components/common/account';import Notification from'./components/common/notification';import Subscription from'./components/subscription';import'./css/toolbar.css';import'./css/search.css';import'./css/user-settings.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var UserSubscription=/*#__PURE__*/function(_React$Component){_inherits(UserSubscription,_React$Component);var _super=_createSuper(UserSubscription);function UserSubscription(props){var _this;_classCallCheck(this,UserSubscription);_this=_super.call(this,props);_this.handleContentScroll=function(e){// Mobile does not display the sideNav, so when scrolling don't update curItemID\nvar scrollTop=e.target.scrollTop;var scrolled=_this.sideNavItems.filter(function(item,index){return item.show&&document.getElementById(item.href.substr(1)).offsetTop-45<scrollTop;});if(scrolled.length){_this.setState({curItemID:scrolled[scrolled.length-1].href.substr(1)});}};_this.sideNavItems=[{show:true,href:'#current-plan',text:'当前版本'},{show:true,href:'#asset-quota',text:'空间'},{show:true,href:'#current-subscription-period',text:'订阅有效期'},{show:true,href:'#product-price',text:'云服务付费方案'}];_this.state={curItemID:_this.sideNavItems[0].href.substr(1)};return _this;}_createClass(UserSubscription,[{key:\"render\",value:function render(){var logoUrl=logoPath.startsWith('http')?logoPath:mediaUrl+logoPath;return/*#__PURE__*/_jsxs(\"div\",{className:\"h-100 d-flex flex-column\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"top-header d-flex justify-content-between\",children:[/*#__PURE__*/_jsx(\"a\",{href:siteRoot,children:/*#__PURE__*/_jsx(\"img\",{src:logoUrl,height:logoHeight,width:logoWidth,title:siteTitle,alt:\"logo\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"common-toolbar\",children:[/*#__PURE__*/_jsx(Notification,{}),/*#__PURE__*/_jsx(Account,{})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-auto d-flex o-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"side-panel o-auto\",children:/*#__PURE__*/_jsx(SideNav,{data:this.sideNavItems,curItemID:this.state.curItemID})}),/*#__PURE__*/_jsxs(\"div\",{className:\"main-panel d-flex flex-column\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"heading\",children:'付费管理'}),/*#__PURE__*/_jsx(Subscription,{isOrgContext:false,handleContentScroll:this.handleContentScroll})]})]})]});}}]);return UserSubscription;}(React.Component);ReactDOM.render(/*#__PURE__*/_jsx(UserSubscription,{}),document.getElementById('wrapper'));","map":{"version":3,"names":["React","ReactDOM","siteRoot","mediaUrl","logoPath","logoWidth","logoHeight","siteTitle","SideNav","Account","Notification","Subscription","jsx","_jsx","jsxs","_jsxs","UserSubscription","_React$Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleContentScroll","e","scrollTop","target","scrolled","sideNavItems","filter","item","index","show","document","getElementById","href","substr","offsetTop","length","setState","curItemID","text","state","_createClass","key","value","render","logoUrl","startsWith","className","children","src","height","width","title","alt","data","isOrgContext","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/subscription.js"],"sourcesContent":["import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { siteRoot, mediaUrl, logoPath, logoWidth, logoHeight, siteTitle } from './utils/constants';\nimport SideNav from './components/user-settings/side-nav';\nimport Account from './components/common/account';\nimport Notification from './components/common/notification';\nimport Subscription from './components/subscription';\n\nimport './css/toolbar.css';\nimport './css/search.css';\nimport './css/user-settings.css';\n\n\nclass UserSubscription extends React.Component {\n\n  constructor(props) {\n    super(props);\n    this.sideNavItems = [\n      { show: true, href: '#current-plan', text: '当前版本' },\n      { show: true, href: '#asset-quota', text: '空间' },\n      { show: true, href: '#current-subscription-period', text: '订阅有效期' },\n      { show: true, href: '#product-price', text: '云服务付费方案' },\n    ];\n    this.state = {\n      curItemID: this.sideNavItems[0].href.substr(1),\n    };\n  }\n\n  handleContentScroll = (e) => {\n    // Mobile does not display the sideNav, so when scrolling don't update curItemID\n    const scrollTop = e.target.scrollTop;\n    const scrolled = this.sideNavItems.filter((item, index) => {\n      return item.show && document.getElementById(item.href.substr(1)).offsetTop - 45 < scrollTop;\n    });\n    if (scrolled.length) {\n      this.setState({\n        curItemID: scrolled[scrolled.length - 1].href.substr(1)\n      });\n    }\n  };\n\n  render() {\n    let logoUrl = logoPath.startsWith('http') ? logoPath : mediaUrl + logoPath;\n    return (\n      <div className=\"h-100 d-flex flex-column\">\n        <div className=\"top-header d-flex justify-content-between\">\n          <a href={siteRoot}>\n            <img src={logoUrl} height={logoHeight} width={logoWidth} title={siteTitle} alt=\"logo\" />\n          </a>\n          <div className=\"common-toolbar\">\n            <Notification />\n            <Account />\n          </div>\n        </div>\n        <div className=\"flex-auto d-flex o-hidden\">\n          <div className=\"side-panel o-auto\">\n            <SideNav data={this.sideNavItems} curItemID={this.state.curItemID} />\n          </div>\n          <div className=\"main-panel d-flex flex-column\">\n            <h2 className=\"heading\">{'付费管理'}</h2>\n            <Subscription isOrgContext={false} handleContentScroll={this.handleContentScroll}/>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nReactDOM.render(\n  <UserSubscription />,\n  document.getElementById('wrapper')\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}