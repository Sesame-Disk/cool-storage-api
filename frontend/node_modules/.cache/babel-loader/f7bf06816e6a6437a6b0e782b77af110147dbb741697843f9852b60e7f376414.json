{"ast":null,"code":"import _classCallCheck from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _assertThisInitialized from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { MENUS_CONFIG_MAP, ORDERED_LIST, UNORDERED_LIST } from '../../../constants';\nimport { focusEditor } from '../../../core';\nimport { MenuItem } from '../../../commons';\nimport { getListType, isMenuDisabled, setListType } from '../helpers';\nvar ListMenu = /*#__PURE__*/function (_React$Component) {\n  _inherits(ListMenu, _React$Component);\n  var _super = _createSuper(ListMenu);\n  function ListMenu() {\n    var _this;\n    _classCallCheck(this, ListMenu);\n    _this = _super.apply(this, arguments);\n    _defineProperty(_assertThisInitialized(_this), \"isActive\", function () {\n      var _this$props = _this.props,\n        editor = _this$props.editor,\n        type = _this$props.type;\n      return getListType(editor, type) === type;\n    });\n    _defineProperty(_assertThisInitialized(_this), \"isDisabled\", function () {\n      var _this$props2 = _this.props,\n        editor = _this$props2.editor,\n        readonly = _this$props2.readonly;\n      return isMenuDisabled(editor, readonly);\n    });\n    _defineProperty(_assertThisInitialized(_this), \"onMouseDown\", function (e) {\n      e.preventDefault();\n      e.stopPropagation();\n      if (_this.isDisabled()) return;\n      var _this$props3 = _this.props,\n        editor = _this$props3.editor,\n        type = _this$props3.type;\n\n      // 执行命令\n      setListType(editor, type);\n      focusEditor(editor);\n    });\n    return _this;\n  }\n  _createClass(ListMenu, [{\n    key: \"render\",\n    value: function render() {\n      var _this$props4 = this.props,\n        isRichEditor = _this$props4.isRichEditor,\n        className = _this$props4.className,\n        type = _this$props4.type;\n      var menuConfig = MENUS_CONFIG_MAP[type];\n      var props = _objectSpread(_objectSpread({\n        isRichEditor: isRichEditor,\n        className: className\n      }, menuConfig), {}, {\n        disabled: this.isDisabled(),\n        isActive: this.isActive(),\n        onMouseDown: this.onMouseDown\n      });\n      return /*#__PURE__*/React.createElement(MenuItem, props);\n    }\n  }]);\n  return ListMenu;\n}(React.Component);\n_defineProperty(ListMenu, \"defaultProps\", {\n  type: UNORDERED_LIST\n});\nexport default ListMenu;","map":{"version":3,"names":["_objectSpread","_defineProperty","React","MENUS_CONFIG_MAP","ORDERED_LIST","UNORDERED_LIST","focusEditor","MenuItem","getListType","isMenuDisabled","setListType","ListMenu","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","apply","arguments","_assertThisInitialized","_this$props","props","editor","type","_this$props2","readonly","e","preventDefault","stopPropagation","isDisabled","_this$props3","_createClass","key","value","render","_this$props4","isRichEditor","className","menuConfig","disabled","isActive","onMouseDown","createElement","Component"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/list/menu/index.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nimport _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport React from 'react';\nimport { MENUS_CONFIG_MAP, ORDERED_LIST, UNORDERED_LIST } from '../../../constants';\nimport { focusEditor } from '../../../core';\nimport { MenuItem } from '../../../commons';\nimport { getListType, isMenuDisabled, setListType } from '../helpers';\nclass ListMenu extends React.Component {\n  constructor() {\n    super(...arguments);\n    _defineProperty(this, \"isActive\", () => {\n      const {\n        editor,\n        type\n      } = this.props;\n      return getListType(editor, type) === type;\n    });\n    _defineProperty(this, \"isDisabled\", () => {\n      const {\n        editor,\n        readonly\n      } = this.props;\n      return isMenuDisabled(editor, readonly);\n    });\n    _defineProperty(this, \"onMouseDown\", e => {\n      e.preventDefault();\n      e.stopPropagation();\n      if (this.isDisabled()) return;\n      const {\n        editor,\n        type\n      } = this.props;\n\n      // 执行命令\n      setListType(editor, type);\n      focusEditor(editor);\n    });\n  }\n  render() {\n    const {\n      isRichEditor,\n      className,\n      type\n    } = this.props;\n    const menuConfig = MENUS_CONFIG_MAP[type];\n    const props = _objectSpread(_objectSpread({\n      isRichEditor,\n      className\n    }, menuConfig), {}, {\n      disabled: this.isDisabled(),\n      isActive: this.isActive(),\n      onMouseDown: this.onMouseDown\n    });\n    return /*#__PURE__*/React.createElement(MenuItem, props);\n  }\n}\n_defineProperty(ListMenu, \"defaultProps\", {\n  type: UNORDERED_LIST\n});\nexport default ListMenu;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}