{"ast":null,"code":"import _objectSpread from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React from'react';import{Popover}from'reactstrap';import{KeyCodes}from'../../constants';import{jsx as _jsx}from\"react/jsx-runtime\";var SeahubPopover=/*#__PURE__*/function(_React$Component){_inherits(SeahubPopover,_React$Component);var _super=_createSuper(SeahubPopover);function SeahubPopover(){var _this;_classCallCheck(this,SeahubPopover);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.SeahubPopoverRef=null;_this.isSelectOpen=false;_this.getEventClassName=function(e){// svg mouseEvent event.target.className is an object\nif(!e||!e.target)return'';return e.target.getAttribute('class')||'';};_this.onKeyDown=function(e){var _this$props=_this.props,canHideSeahubPopover=_this$props.canHideSeahubPopover,hideSeahubPopoverWithEsc=_this$props.hideSeahubPopoverWithEsc;if(e.keyCode===KeyCodes.Escape&&typeof hideSeahubPopoverWithEsc==='function'&&!_this.isSelectOpen){e.preventDefault();hideSeahubPopoverWithEsc();}else if(e.keyCode===KeyCodes.Enter){// Resolve the default behavior of the enter key when entering formulas is blocked\nif(canHideSeahubPopover)return;e.stopImmediatePropagation();}};_this.onMouseDown=function(e){if(!_this.props.canHideSeahubPopover)return;if(_this.SeahubPopoverRef&&e&&_this.getEventClassName(e).indexOf('popover')===-1&&!_this.SeahubPopoverRef.contains(e.target)){_this.props.hideSeahubPopover(e);}};_this.onPopoverInsideClick=function(e){e.stopPropagation();};return _this;}_createClass(SeahubPopover,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('mousedown',this.onMouseDown);document.addEventListener('keydown',this.onKeyDown);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('mousedown',this.onMouseDown);document.removeEventListener('keydown',this.onKeyDown);}},{key:\"render\",value:function render(){var _this2=this;var _this$props2=this.props,target=_this$props2.target,boundariesElement=_this$props2.boundariesElement,innerClassName=_this$props2.innerClassName,popoverClassName=_this$props2.popoverClassName,hideArrow=_this$props2.hideArrow,modifiers=_this$props2.modifiers,placement=_this$props2.placement;var additionalProps={};if(boundariesElement){additionalProps.boundariesElement=boundariesElement;}return/*#__PURE__*/_jsx(Popover,_objectSpread(_objectSpread({placement:placement,isOpen:true,target:target,fade:false,hideArrow:hideArrow,innerClassName:innerClassName,className:popoverClassName,modifiers:modifiers},additionalProps),{},{children:/*#__PURE__*/_jsx(\"div\",{ref:function ref(_ref){return _this2.SeahubPopoverRef=_ref;},onClick:this.onPopoverInsideClick,children:this.props.children})}));}}]);return SeahubPopover;}(React.Component);SeahubPopover.defaultProps={placement:'bottom-start',hideArrow:true,canHideSeahubPopover:true};export default SeahubPopover;","map":{"version":3,"names":["React","Popover","KeyCodes","jsx","_jsx","SeahubPopover","_React$Component","_inherits","_super","_createSuper","_this","_classCallCheck","_len","arguments","length","args","Array","_key","call","apply","concat","SeahubPopoverRef","isSelectOpen","getEventClassName","e","target","getAttribute","onKeyDown","_this$props","props","canHideSeahubPopover","hideSeahubPopoverWithEsc","keyCode","Escape","preventDefault","Enter","stopImmediatePropagation","onMouseDown","indexOf","contains","hideSeahubPopover","onPopoverInsideClick","stopPropagation","_createClass","key","value","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","_this2","_this$props2","boundariesElement","innerClassName","popoverClassName","hideArrow","modifiers","placement","additionalProps","_objectSpread","isOpen","fade","className","children","ref","onClick","Component","defaultProps"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/common/seahub-popover.js"],"sourcesContent":["import React from 'react';\nimport { Popover } from 'reactstrap';\nimport PropTypes from 'prop-types';\nimport { KeyCodes } from '../../constants';\n\nconst propTypes = {\n  target: PropTypes.oneOfType([PropTypes.string, PropTypes.object]).isRequired,\n  boundariesElement: PropTypes.object,\n  innerClassName: PropTypes.string,\n  popoverClassName: PropTypes.string,\n  children: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  hideSeahubPopover: PropTypes.func.isRequired,\n  hideSeahubPopoverWithEsc: PropTypes.func,\n  hideArrow: PropTypes.bool,\n  canHideSeahubPopover: PropTypes.bool,\n  placement: PropTypes.string,\n  modifiers: PropTypes.object\n};\n\nclass SeahubPopover extends React.Component {\n\n  SeahubPopoverRef = null;\n  isSelectOpen = false;\n\n  componentDidMount() {\n    document.addEventListener('mousedown', this.onMouseDown);\n    document.addEventListener('keydown', this.onKeyDown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('mousedown', this.onMouseDown);\n    document.removeEventListener('keydown', this.onKeyDown);\n  }\n\n  getEventClassName = (e) => {\n    // svg mouseEvent event.target.className is an object\n    if (!e || !e.target) return '';\n    return e.target.getAttribute('class') || '';\n  };\n\n  onKeyDown = (e) => {\n    const { canHideSeahubPopover, hideSeahubPopoverWithEsc } = this.props;\n    if (e.keyCode === KeyCodes.Escape && typeof hideSeahubPopoverWithEsc === 'function' && !this.isSelectOpen) {\n      e.preventDefault();\n      hideSeahubPopoverWithEsc();\n    } else if (e.keyCode === KeyCodes.Enter) {\n      // Resolve the default behavior of the enter key when entering formulas is blocked\n      if (canHideSeahubPopover) return;\n      e.stopImmediatePropagation();\n    }\n  };\n\n  onMouseDown = (e) => {\n    if (!this.props.canHideSeahubPopover) return;\n    if (this.SeahubPopoverRef && e && this.getEventClassName(e).indexOf('popover') === -1 && !this.SeahubPopoverRef.contains(e.target)) {\n      this.props.hideSeahubPopover(e);\n    }\n  };\n\n  onPopoverInsideClick = (e) => {\n    e.stopPropagation();\n  };\n\n  render() {\n    const {\n      target, boundariesElement, innerClassName, popoverClassName, hideArrow, modifiers,\n      placement,\n    } = this.props;\n    let additionalProps = {};\n    if (boundariesElement) {\n      additionalProps.boundariesElement = boundariesElement;\n    }\n    return (\n      <Popover\n        placement={placement}\n        isOpen={true}\n        target={target}\n        fade={false}\n        hideArrow={hideArrow}\n        innerClassName={innerClassName}\n        className={popoverClassName}\n        modifiers={modifiers}\n        {...additionalProps}\n      >\n        <div ref={ref => this.SeahubPopoverRef = ref} onClick={this.onPopoverInsideClick}>\n          {this.props.children}\n        </div>\n      </Popover>\n    );\n  }\n}\n\nSeahubPopover.defaultProps = {\n  placement: 'bottom-start',\n  hideArrow: true,\n  canHideSeahubPopover: true\n};\n\nSeahubPopover.propTypes = propTypes;\n\nexport default SeahubPopover;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}