{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{seafileAPI}from'../../utils/seafile-api';import{gettext,orgMemberQuotaEnabled}from'../../utils/constants';import{Utils}from'../../utils/utils';import MainPanelTopbar from'./main-panel-topbar';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var OrgInfo=/*#__PURE__*/function(_Component){_inherits(OrgInfo,_Component);var _super=_createSuper(OrgInfo);function OrgInfo(props){var _this;_classCallCheck(this,OrgInfo);_this=_super.call(this,props);_this.state={org_name:'',storage_quota:0,storage_usage:0,member_quota:0,member_usage:0,active_members:0};return _this;}_createClass(OrgInfo,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;seafileAPI.orgAdminGetOrgInfo().then(function(res){_this2.setState({org_name:res.data.org_name,storage_quota:res.data.storage_quota,storage_usage:res.data.storage_usage,member_quota:res.data.member_quota,member_usage:res.data.member_usage,active_members:res.data.active_members});});}},{key:\"render\",value:function render(){return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-path\",children:/*#__PURE__*/_jsx(\"h3\",{className:\"sf-heading\",children:gettext('Info')})}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsxs(\"dl\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:this.state.org_name}),/*#__PURE__*/_jsx(\"dt\",{children:gettext('Space Used')}),this.state.storage_quota>0?/*#__PURE__*/_jsxs(\"dd\",{children:[Utils.bytesToSize(this.state.storage_usage),\" / \",Utils.bytesToSize(this.state.storage_quota)]}):/*#__PURE__*/_jsx(\"dd\",{children:Utils.bytesToSize(this.state.storage_usage)}),orgMemberQuotaEnabled?/*#__PURE__*/_jsxs(\"dt\",{children:[gettext('Active Users'),\" / \",gettext('Total Users'),\" / \",gettext('Limits')]}):/*#__PURE__*/_jsxs(\"dt\",{children:[gettext('Active Users'),\" / \",gettext('Total Users')]}),orgMemberQuotaEnabled?/*#__PURE__*/_jsxs(\"dd\",{children:[this.state.active_members>0?this.state.active_members:'--',\" / \",this.state.member_usage>0?this.state.member_usage:'--',\" / \",this.state.member_quota>0?this.state.member_quota:'--']}):/*#__PURE__*/_jsxs(\"dd\",{children:[this.state.active_members>0?this.state.active_members:'--',\" / \",this.state.member_usage>0?this.state.member_usage:'--']})]})})]})})]});}}]);return OrgInfo;}(Component);export default OrgInfo;","map":{"version":3,"names":["React","Component","Fragment","seafileAPI","gettext","orgMemberQuotaEnabled","Utils","MainPanelTopbar","jsx","_jsx","jsxs","_jsxs","OrgInfo","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","state","org_name","storage_quota","storage_usage","member_quota","member_usage","active_members","_createClass","key","value","componentDidMount","_this2","orgAdminGetOrgInfo","then","res","setState","data","render","children","className","bytesToSize"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/org-admin/org-info.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport { seafileAPI } from '../../utils/seafile-api';\nimport { gettext, orgMemberQuotaEnabled} from '../../utils/constants';\nimport { Utils } from '../../utils/utils';\nimport MainPanelTopbar from './main-panel-topbar';\n\nclass OrgInfo extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      org_name: '',\n      storage_quota: 0,\n      storage_usage: 0,\n      member_quota: 0,\n      member_usage: 0,\n      active_members: 0\n    };\n  }\n\n  componentDidMount() {\n    seafileAPI.orgAdminGetOrgInfo().then(res => {\n      this.setState({\n        org_name: res.data.org_name,\n        storage_quota: res.data.storage_quota,\n        storage_usage: res.data.storage_usage,\n        member_quota: res.data.member_quota,\n        member_usage: res.data.member_usage,\n        active_members: res.data.active_members\n      });\n    });\n  }\n\n  render() {\n    return (\n      <Fragment>\n        <MainPanelTopbar/>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <div className=\"cur-view-path\">\n              <h3 className=\"sf-heading\">{gettext('Info')}</h3>\n            </div>\n            <div className=\"cur-view-content\">\n              <dl>\n                <strong>{this.state.org_name}</strong>\n                <dt>{gettext('Space Used')}</dt>\n\n                {(this.state.storage_quota > 0) ? <dd>{Utils.bytesToSize(this.state.storage_usage)} / {Utils.bytesToSize(this.state.storage_quota)}</dd> : <dd>{Utils.bytesToSize(this.state.storage_usage)}</dd>}\n\n                {orgMemberQuotaEnabled ? <dt>{gettext('Active Users')} / {gettext('Total Users')} / {gettext('Limits')}</dt> : <dt>{gettext('Active Users')} / {gettext('Total Users')}</dt>}\n\n                {orgMemberQuotaEnabled ? <dd>{(this.state.active_members > 0) ? this.state.active_members : '--'} / {(this.state.member_usage > 0) ? this.state.member_usage : '--'} / {(this.state.member_quota > 0) ? this.state.member_quota : '--'}</dd> : <dd>{this.state.active_members > 0 ? this.state.active_members : '--'} / {this.state.member_usage > 0 ? this.state.member_usage : '--'}</dd>}\n\n              </dl>\n            </div>\n          </div>\n        </div>\n      </Fragment>\n    );\n  }\n}\n\nexport default OrgInfo;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}