{"ast":null,"code":"import _slicedToArray from \"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport React, { useCallback, useState } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Alert, Row, Col, FormGroup, Label, Input } from 'reactstrap';\nimport { useTranslation } from 'react-i18next';\nimport { getSelectedInfo, splitCell } from '../helpers';\nvar SplitCellSettingDialog = function SplitCellSettingDialog(_ref) {\n  var editor = _ref.editor,\n    closeDialog = _ref.closeDialog;\n  var _useTranslation = useTranslation(),\n    t = _useTranslation.t;\n  var _getSelectedInfo = getSelectedInfo(editor),\n    cell = _getSelectedInfo.cell;\n  var _cell$rowspan = cell.rowspan,\n    rowspan = _cell$rowspan === void 0 ? 1 : _cell$rowspan,\n    _cell$colspan = cell.colspan,\n    colspan = _cell$colspan === void 0 ? 1 : _cell$colspan;\n  var _useState = useState(rowspan),\n    _useState2 = _slicedToArray(_useState, 2),\n    rowNumber = _useState2[0],\n    setRowNumber = _useState2[1];\n  var _useState3 = useState(colspan),\n    _useState4 = _slicedToArray(_useState3, 2),\n    columnNumber = _useState4[0],\n    setColumnNumber = _useState4[1];\n  var CELL_SPLIT_MAX_ROWS = rowspan;\n  var CELL_SPLIT_MAX_COLUMNS = colspan;\n  var _useState5 = useState(''),\n    _useState6 = _slicedToArray(_useState5, 2),\n    errorMessage = _useState6[0],\n    setErrorMessage = _useState6[1];\n  var onRowNumberChange = useCallback(function (e) {\n    setRowNumber(e.target.value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var onColumnNumberChange = useCallback(function (e) {\n    setColumnNumber(e.target.value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  var handleSubmit = useCallback(function () {\n    var parsedRowNumber = parseInt(rowNumber);\n    var parsedColumnNumber = parseInt(columnNumber);\n    if (!parsedRowNumber || !parsedColumnNumber || parsedRowNumber < 0 || parsedColumnNumber < 0) {\n      setErrorMessage(t('Please_enter_a_non-negative_integer'));\n      return false;\n    }\n    var targetRowNumber = parsedRowNumber;\n    var targetColumnNumber = parsedColumnNumber;\n    if (parsedRowNumber > CELL_SPLIT_MAX_ROWS) {\n      targetRowNumber = CELL_SPLIT_MAX_ROWS;\n      setRowNumber(targetRowNumber);\n      setErrorMessage(t('The_maximum_row_number_is_{number}').replace('{number}', CELL_SPLIT_MAX_ROWS));\n      return false;\n    }\n    if (parsedColumnNumber > CELL_SPLIT_MAX_COLUMNS) {\n      targetColumnNumber = CELL_SPLIT_MAX_COLUMNS;\n      setColumnNumber(targetColumnNumber);\n      setErrorMessage(t('The_maximum_column_number_is_{number}').replace('{number}', CELL_SPLIT_MAX_COLUMNS));\n      return false;\n    }\n    splitCell(editor, targetRowNumber, targetColumnNumber);\n    closeDialog();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [rowNumber, columnNumber]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: true,\n    autoFocus: false,\n    toggle: closeDialog,\n    zIndex: 1071,\n    returnFocusAfterClose: true\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: closeDialog\n  }, t('Split_cell')), /*#__PURE__*/React.createElement(ModalBody, null, /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Col, {\n    md: 6\n  }, /*#__PURE__*/React.createElement(FormGroup, null, /*#__PURE__*/React.createElement(Label, {\n    for: \"row-number\"\n  }, t('Row_number')), /*#__PURE__*/React.createElement(Input, {\n    id: \"row-number\",\n    name: \"row-number\",\n    type: \"number\",\n    min: 1,\n    value: rowNumber,\n    onChange: onRowNumberChange\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 6\n  }, /*#__PURE__*/React.createElement(FormGroup, null, /*#__PURE__*/React.createElement(Label, {\n    for: \"column-number\"\n  }, t('Column_number')), /*#__PURE__*/React.createElement(Input, {\n    id: \"column-number\",\n    name: \"column-number\",\n    type: \"number\",\n    min: 1,\n    value: columnNumber,\n    onChange: onColumnNumberChange\n  })))), errorMessage && /*#__PURE__*/React.createElement(Alert, {\n    className: \"mt-2 mb-0\",\n    color: \"danger\"\n  }, t(errorMessage))), /*#__PURE__*/React.createElement(ModalFooter, null, /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    onClick: closeDialog\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: handleSubmit\n  }, t('Submit'))));\n};\nexport default SplitCellSettingDialog;","map":{"version":3,"names":["React","useCallback","useState","Button","Modal","ModalHeader","ModalBody","ModalFooter","Alert","Row","Col","FormGroup","Label","Input","useTranslation","getSelectedInfo","splitCell","SplitCellSettingDialog","_ref","editor","closeDialog","_useTranslation","t","_getSelectedInfo","cell","_cell$rowspan","rowspan","_cell$colspan","colspan","_useState","_useState2","_slicedToArray","rowNumber","setRowNumber","_useState3","_useState4","columnNumber","setColumnNumber","CELL_SPLIT_MAX_ROWS","CELL_SPLIT_MAX_COLUMNS","_useState5","_useState6","errorMessage","setErrorMessage","onRowNumberChange","e","target","value","onColumnNumberChange","handleSubmit","parsedRowNumber","parseInt","parsedColumnNumber","targetRowNumber","targetColumnNumber","replace","createElement","isOpen","autoFocus","toggle","zIndex","returnFocusAfterClose","md","for","id","name","type","min","onChange","className","color","onClick"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@seafile/sdoc-editor/dist/basic-sdk/extension/plugins/table/dialogs/split-cell-setting-dialog.js"],"sourcesContent":["import React, { useCallback, useState } from 'react';\nimport { Button, Modal, ModalHeader, ModalBody, ModalFooter, Alert, Row, Col, FormGroup, Label, Input } from 'reactstrap';\nimport { useTranslation } from 'react-i18next';\nimport { getSelectedInfo, splitCell } from '../helpers';\nconst SplitCellSettingDialog = _ref => {\n  let {\n    editor,\n    closeDialog\n  } = _ref;\n  const {\n    t\n  } = useTranslation();\n  const {\n    cell\n  } = getSelectedInfo(editor);\n  const {\n    rowspan = 1,\n    colspan = 1\n  } = cell;\n  const [rowNumber, setRowNumber] = useState(rowspan);\n  const [columnNumber, setColumnNumber] = useState(colspan);\n  const CELL_SPLIT_MAX_ROWS = rowspan;\n  const CELL_SPLIT_MAX_COLUMNS = colspan;\n  const [errorMessage, setErrorMessage] = useState('');\n  const onRowNumberChange = useCallback(e => {\n    setRowNumber(e.target.value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const onColumnNumberChange = useCallback(e => {\n    setColumnNumber(e.target.value);\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  const handleSubmit = useCallback(() => {\n    const parsedRowNumber = parseInt(rowNumber);\n    const parsedColumnNumber = parseInt(columnNumber);\n    if (!parsedRowNumber || !parsedColumnNumber || parsedRowNumber < 0 || parsedColumnNumber < 0) {\n      setErrorMessage(t('Please_enter_a_non-negative_integer'));\n      return false;\n    }\n    let targetRowNumber = parsedRowNumber;\n    let targetColumnNumber = parsedColumnNumber;\n    if (parsedRowNumber > CELL_SPLIT_MAX_ROWS) {\n      targetRowNumber = CELL_SPLIT_MAX_ROWS;\n      setRowNumber(targetRowNumber);\n      setErrorMessage(t('The_maximum_row_number_is_{number}').replace('{number}', CELL_SPLIT_MAX_ROWS));\n      return false;\n    }\n    if (parsedColumnNumber > CELL_SPLIT_MAX_COLUMNS) {\n      targetColumnNumber = CELL_SPLIT_MAX_COLUMNS;\n      setColumnNumber(targetColumnNumber);\n      setErrorMessage(t('The_maximum_column_number_is_{number}').replace('{number}', CELL_SPLIT_MAX_COLUMNS));\n      return false;\n    }\n    splitCell(editor, targetRowNumber, targetColumnNumber);\n    closeDialog();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [rowNumber, columnNumber]);\n  return /*#__PURE__*/React.createElement(Modal, {\n    isOpen: true,\n    autoFocus: false,\n    toggle: closeDialog,\n    zIndex: 1071,\n    returnFocusAfterClose: true\n  }, /*#__PURE__*/React.createElement(ModalHeader, {\n    toggle: closeDialog\n  }, t('Split_cell')), /*#__PURE__*/React.createElement(ModalBody, null, /*#__PURE__*/React.createElement(Row, null, /*#__PURE__*/React.createElement(Col, {\n    md: 6\n  }, /*#__PURE__*/React.createElement(FormGroup, null, /*#__PURE__*/React.createElement(Label, {\n    for: \"row-number\"\n  }, t('Row_number')), /*#__PURE__*/React.createElement(Input, {\n    id: \"row-number\",\n    name: \"row-number\",\n    type: \"number\",\n    min: 1,\n    value: rowNumber,\n    onChange: onRowNumberChange\n  }))), /*#__PURE__*/React.createElement(Col, {\n    md: 6\n  }, /*#__PURE__*/React.createElement(FormGroup, null, /*#__PURE__*/React.createElement(Label, {\n    for: \"column-number\"\n  }, t('Column_number')), /*#__PURE__*/React.createElement(Input, {\n    id: \"column-number\",\n    name: \"column-number\",\n    type: \"number\",\n    min: 1,\n    value: columnNumber,\n    onChange: onColumnNumberChange\n  })))), errorMessage && /*#__PURE__*/React.createElement(Alert, {\n    className: \"mt-2 mb-0\",\n    color: \"danger\"\n  }, t(errorMessage))), /*#__PURE__*/React.createElement(ModalFooter, null, /*#__PURE__*/React.createElement(Button, {\n    color: \"secondary\",\n    onClick: closeDialog\n  }, t('Cancel')), /*#__PURE__*/React.createElement(Button, {\n    color: \"primary\",\n    onClick: handleSubmit\n  }, t('Submit'))));\n};\nexport default SplitCellSettingDialog;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}