{"ast":null,"code":"import _objectSpread from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component,Fragment}from'react';import{Button}from'reactstrap';import moment from'moment';import{Utils}from'../../../utils/utils';import{seafileAPI}from'../../../utils/seafile-api';import{gettext}from'../../../utils/constants';import toaster from'../../../components/toast';import EmptyTip from'../../../components/empty-tip';import Loading from'../../../components/loading';import Paginator from'../../../components/paginator';import OpMenu from'../../../components/dialog/op-menu';import AddMemberDialog from'../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog';import CommonOperationConfirmationDialog from'../../../components/dialog/common-operation-confirmation-dialog';import UserLink from'../user-link';import MainPanelTopbar from'../main-panel-topbar';import InstitutionNav from'./institution-nav';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Content=/*#__PURE__*/function(_Component){_inherits(Content,_Component);var _super=_createSuper(Content);function Content(props){var _this;_classCallCheck(this,Content);_this=_super.call(this,props);_this.onFreezedItem=function(){_this.setState({isItemFreezed:true});};_this.onUnfreezedItem=function(){_this.setState({isItemFreezed:false});};_this.getPreviousPage=function(){_this.props.getInstitutionUsersByPage(_this.props.currentPage-1);};_this.getNextPage=function(){_this.props.getInstitutionUsersByPage(_this.props.currentPage+1);};_this.state={isItemFreezed:false};return _this;}_createClass(Content,[{key:\"render\",value:function render(){var _this2=this;var _this$props=this.props,loading=_this$props.loading,errorMsg=_this$props.errorMsg,items=_this$props.items,perPage=_this$props.perPage,currentPage=_this$props.currentPage,hasNextPage=_this$props.hasNextPage;if(loading){return/*#__PURE__*/_jsx(Loading,{});}else if(errorMsg){return/*#__PURE__*/_jsx(\"p\",{className:\"error text-center mt-4\",children:errorMsg});}else{var emptyTip=/*#__PURE__*/_jsx(EmptyTip,{children:/*#__PURE__*/_jsx(\"h2\",{children:gettext('No members')})});var table=/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{width:\"25%\",children:gettext('Name')}),/*#__PURE__*/_jsx(\"th\",{width:\"10%\",children:gettext('Status')}),/*#__PURE__*/_jsx(\"th\",{width:\"20%\",children:gettext('Space Used')}),/*#__PURE__*/_jsxs(\"th\",{width:\"40%\",children:[gettext('Created At'),' / ',gettext('Last Login')]}),/*#__PURE__*/_jsx(\"th\",{width:\"5%\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:items.map(function(item,index){return/*#__PURE__*/_jsx(Item,{item:item,isItemFreezed:_this2.state.isItemFreezed,onFreezedItem:_this2.onFreezedItem,onUnfreezedItem:_this2.onUnfreezedItem,setAdmin:_this2.props.setAdmin,deleteUser:_this2.props.deleteUser},index);})})]}),/*#__PURE__*/_jsx(Paginator,{gotoPreviousPage:this.getPreviousPage,gotoNextPage:this.getNextPage,currentPage:currentPage,hasNextPage:hasNextPage,curPerPage:perPage,resetPerPage:this.props.resetPerPage})]});return items.length?table:emptyTip;}}}]);return Content;}(Component);var Item=/*#__PURE__*/function(_Component2){_inherits(Item,_Component2);var _super2=_createSuper(Item);function Item(props){var _this3;_classCallCheck(this,Item);_this3=_super2.call(this,props);_this3.handleMouseEnter=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:true,highlight:true});}};_this3.handleMouseLeave=function(){if(!_this3.props.isItemFreezed){_this3.setState({isOpIconShown:false,highlight:false});}};_this3.onUnfreezedItem=function(){_this3.setState({highlight:false,isOpIconShow:false});_this3.props.onUnfreezedItem();};_this3.toggleSetAdminDialog=function(e){if(e){e.preventDefault();}_this3.setState({isSetAdminDialogOpen:!_this3.state.isSetAdminDialogOpen});};_this3.setAdmin=function(){_this3.props.setAdmin(_this3.props.item.email);};_this3.onMenuItemClick=function(operation){switch(operation){case'Delete':_this3.props.deleteUser(_this3.props.item.email);break;case'Set Admin':_this3.toggleSetAdminDialog();break;}};_this3.getOperations=function(){var operations=[];if(!_this3.props.item.is_institution_admin){operations.push('Set Admin');}operations.push('Delete');return operations;};_this3.translateOperations=function(item){var translateResult='';switch(item){case'Delete':translateResult=gettext('Delete');break;case'Set Admin':translateResult=gettext('Set Admin');break;}return translateResult;};_this3.state={isOpIconShown:false,highlight:false,isSetAdminDialogOpen:false};return _this3;}_createClass(Item,[{key:\"render\",value:function render(){var item=this.props.item;var _this$state=this.state,isOpIconShown=_this$state.isOpIconShown,isSetAdminDialogOpen=_this$state.isSetAdminDialogOpen;var itemName='<span class=\"op-target\">'+Utils.HTMLescape(item.name)+'</span>';var dialogMsg=gettext('Are you sure you want to set {placeholder} as Admin?').replace('{placeholder}',itemName);return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"tr\",{className:this.state.highlight?'tr-highlight':'',onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,children:[/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(UserLink,{email:item.email,name:item.name})}),/*#__PURE__*/_jsx(\"td\",{children:item.is_active?gettext('Active'):gettext('Inactive')}),/*#__PURE__*/_jsx(\"td\",{children:\"\".concat(Utils.bytesToSize(item.quota_usage),\" / \").concat(item.quota_total>0?Utils.bytesToSize(item.quota_total):'--')}),/*#__PURE__*/_jsxs(\"td\",{children:[moment(item.create_time).format('YYYY-MM-DD HH:mm:ss'),' / ',item.last_login?moment(item.last_login).fromNow():'--']}),/*#__PURE__*/_jsx(\"td\",{children:isOpIconShown&&/*#__PURE__*/_jsx(OpMenu,{operations:this.getOperations(),translateOperations:this.translateOperations,onMenuItemClick:this.onMenuItemClick,onFreezedItem:this.props.onFreezedItem,onUnfreezedItem:this.onUnfreezedItem})})]}),isSetAdminDialogOpen&&/*#__PURE__*/_jsx(CommonOperationConfirmationDialog,{title:gettext('Set Admin'),message:dialogMsg,executeOperation:this.setAdmin,toggleDialog:this.toggleSetAdminDialog,confirmBtnText:gettext('Set Admin')})]});}}]);return Item;}(Component);var InstitutionUsers=/*#__PURE__*/function(_Component3){_inherits(InstitutionUsers,_Component3);var _super3=_createSuper(InstitutionUsers);function InstitutionUsers(props){var _this4;_classCallCheck(this,InstitutionUsers);_this4=_super3.call(this,props);_this4.getInstitutionUsersByPage=function(page){var perPage=_this4.state.perPage;seafileAPI.sysAdminListInstitutionUsers(_this4.props.institutionID,page,perPage).then(function(res){_this4.setState({loading:false,userList:res.data.user_list,currentPage:page,hasNextPage:Utils.hasNextPage(page,perPage,res.data.total_count)});}).catch(function(error){_this4.setState({loading:false,errorMsg:Utils.getErrorMsg(error,true)// true: show login tip if 403\n});});};_this4.setAdmin=function(email){seafileAPI.sysAdminUpdateInstitutionUser(_this4.props.institutionID,email,true).then(function(res){var userList=_this4.state.userList.map(function(user){if(user.email==email){user.is_institution_admin=true;}return user;});_this4.setState({userList:userList});toaster.success(gettext('Success'));}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.toggleAddUserDialog=function(){_this4.setState({isAddUserDialogOpen:!_this4.state.isAddUserDialogOpen});};_this4.resetPerPage=function(newPerPage){_this4.setState({perPage:newPerPage},function(){return _this4.getInstitutionUsersByPage(_this4.initPage);});};_this4.addUser=function(emails){seafileAPI.sysAdminAddInstitutionUserBatch(_this4.props.institutionID,emails).then(function(res){_this4.toggleAddUserDialog();var successArray=res.data.success;var failedArray=res.data.failed;if(successArray.length){var newUserList=_this4.state.userList.concat(successArray);_this4.setState({userList:newUserList});}failedArray.forEach(function(item){toaster.danger(item.error_msg);});}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.deleteUser=function(email){seafileAPI.sysAdminDeleteInstitutionUser(_this4.props.institutionID,email).then(function(res){var newUserList=_this4.state.userList.filter(function(user){return user.email!=email;});_this4.setState({userList:newUserList});toaster.success('success');}).catch(function(error){var errMessage=Utils.getErrorMsg(error);toaster.danger(errMessage);});};_this4.state={loading:true,errorMsg:'',institutionName:'',userList:[],perPage:25,currentPage:1,hasNextPage:false,isAddUserDialogOpen:false};_this4.initPage=1;return _this4;}_createClass(InstitutionUsers,[{key:\"componentDidMount\",value:function componentDidMount(){var _this5=this;seafileAPI.sysAdminGetInstitution(this.props.institutionID).then(function(res){_this5.setState({institutionName:res.data.name});});var urlParams=new URL(window.location).searchParams;var _this$state2=this.state,currentPage=_this$state2.currentPage,perPage=_this$state2.perPage;this.setState({perPage:parseInt(urlParams.get('per_page')||perPage),currentPage:parseInt(urlParams.get('page')||currentPage)},function(){_this5.getInstitutionUsersByPage(_this5.state.currentPage);});}},{key:\"render\",value:function render(){var _this$state3=this.state,isAddUserDialogOpen=_this$state3.isAddUserDialogOpen,institutionName=_this$state3.institutionName,hasNextPage=_this$state3.hasNextPage,currentPage=_this$state3.currentPage,perPage=_this$state3.perPage;return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsx(MainPanelTopbar,_objectSpread(_objectSpread({},this.props),{},{children:/*#__PURE__*/_jsx(Button,{className:\"btn btn-secondary operation-item\",onClick:this.toggleAddUserDialog,children:gettext('Add Member')})})),/*#__PURE__*/_jsx(\"div\",{className:\"main-panel-center flex-row\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"cur-view-container\",children:[/*#__PURE__*/_jsx(InstitutionNav,{currentItem:\"members\",institutionID:this.props.institutionID,institutionName:institutionName}),/*#__PURE__*/_jsx(\"div\",{className:\"cur-view-content\",children:/*#__PURE__*/_jsx(Content,{loading:this.state.loading,errorMsg:this.state.errorMsg,items:this.state.userList,setAdmin:this.setAdmin,deleteUser:this.deleteUser,currentPage:currentPage,perPage:perPage,hasNextPage:hasNextPage,getInstitutionUsersByPage:this.getInstitutionUsersByPage,resetPerPage:this.resetPerPage})})]})}),isAddUserDialogOpen&&/*#__PURE__*/_jsx(AddMemberDialog,{addUser:this.addUser,toggle:this.toggleAddUserDialog})]});}}]);return InstitutionUsers;}(Component);export default InstitutionUsers;","map":{"version":3,"names":["React","Component","Fragment","Button","moment","Utils","seafileAPI","gettext","toaster","EmptyTip","Loading","Paginator","OpMenu","AddMemberDialog","CommonOperationConfirmationDialog","UserLink","MainPanelTopbar","InstitutionNav","jsx","_jsx","jsxs","_jsxs","Content","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","onFreezedItem","setState","isItemFreezed","onUnfreezedItem","getPreviousPage","getInstitutionUsersByPage","currentPage","getNextPage","state","_createClass","key","value","render","_this2","_this$props","loading","errorMsg","items","perPage","hasNextPage","className","children","emptyTip","table","width","map","item","index","Item","setAdmin","deleteUser","gotoPreviousPage","gotoNextPage","curPerPage","resetPerPage","length","_Component2","_super2","_this3","handleMouseEnter","isOpIconShown","highlight","handleMouseLeave","isOpIconShow","toggleSetAdminDialog","e","preventDefault","isSetAdminDialogOpen","email","onMenuItemClick","operation","getOperations","operations","is_institution_admin","push","translateOperations","translateResult","_this$state","itemName","HTMLescape","name","dialogMsg","replace","onMouseEnter","onMouseLeave","is_active","concat","bytesToSize","quota_usage","quota_total","create_time","format","last_login","fromNow","title","message","executeOperation","toggleDialog","confirmBtnText","InstitutionUsers","_Component3","_super3","_this4","page","sysAdminListInstitutionUsers","institutionID","then","res","userList","data","user_list","total_count","catch","error","getErrorMsg","sysAdminUpdateInstitutionUser","user","success","errMessage","danger","toggleAddUserDialog","isAddUserDialogOpen","newPerPage","initPage","addUser","emails","sysAdminAddInstitutionUserBatch","successArray","failedArray","failed","newUserList","forEach","error_msg","sysAdminDeleteInstitutionUser","filter","institutionName","componentDidMount","_this5","sysAdminGetInstitution","urlParams","URL","window","location","searchParams","_this$state2","parseInt","get","_this$state3","_objectSpread","onClick","currentItem","toggle"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/pages/sys-admin/institutions/institution-users.js"],"sourcesContent":["import React, { Component, Fragment } from 'react';\nimport PropTypes from 'prop-types';\nimport { Button } from 'reactstrap';\nimport moment from 'moment';\nimport { Utils } from '../../../utils/utils';\nimport { seafileAPI } from '../../../utils/seafile-api';\nimport { gettext } from '../../../utils/constants';\nimport toaster from '../../../components/toast';\nimport EmptyTip from '../../../components/empty-tip';\nimport Loading from '../../../components/loading';\nimport Paginator from '../../../components/paginator';\nimport OpMenu from '../../../components/dialog/op-menu';\nimport AddMemberDialog from '../../../components/dialog/sysadmin-dialog/sysadmin-add-institution-member-dialog';\nimport CommonOperationConfirmationDialog from '../../../components/dialog/common-operation-confirmation-dialog';\nimport UserLink from '../user-link';\nimport MainPanelTopbar from '../main-panel-topbar';\nimport InstitutionNav from './institution-nav';\n\nclass Content extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isItemFreezed: false\n    };\n  }\n\n  onFreezedItem = () => {\n    this.setState({isItemFreezed: true});\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({isItemFreezed: false});\n  };\n\n  getPreviousPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage - 1);\n  };\n\n  getNextPage = () => {\n    this.props.getInstitutionUsersByPage(this.props.currentPage + 1);\n  };\n\n  render() {\n    const { loading, errorMsg, items, perPage, currentPage, hasNextPage } = this.props;\n    if (loading) {\n      return <Loading />;\n    } else if (errorMsg) {\n      return <p className=\"error text-center mt-4\">{errorMsg}</p>;\n    } else {\n      const emptyTip = (\n        <EmptyTip>\n          <h2>{gettext('No members')}</h2>\n        </EmptyTip>\n      );\n      const table = (\n        <Fragment>\n          <table>\n            <thead>\n              <tr>\n                <th width=\"25%\">{gettext('Name')}</th>\n                <th width=\"10%\">{gettext('Status')}</th>\n                <th width=\"20%\">{gettext('Space Used')}</th>\n                <th width=\"40%\">{gettext('Created At')}{' / '}{gettext('Last Login')}</th>\n                <th width=\"5%\">{/* Operations */}</th>\n              </tr>\n            </thead>\n            <tbody>\n              {items.map((item, index) => {\n                return (<Item\n                  key={index}\n                  item={item}\n                  isItemFreezed={this.state.isItemFreezed}\n                  onFreezedItem={this.onFreezedItem}\n                  onUnfreezedItem={this.onUnfreezedItem}\n                  setAdmin={this.props.setAdmin}\n                  deleteUser={this.props.deleteUser}\n                />);\n              })}\n            </tbody>\n          </table>\n          <Paginator\n            gotoPreviousPage={this.getPreviousPage}\n            gotoNextPage={this.getNextPage}\n            currentPage={currentPage}\n            hasNextPage={hasNextPage}\n            curPerPage={perPage}\n            resetPerPage={this.props.resetPerPage}\n          />\n        </Fragment>\n      );\n      return items.length ? table : emptyTip;\n    }\n  }\n}\n\nContent.propTypes = {\n  loading: PropTypes.bool.isRequired,\n  errorMsg: PropTypes.string.isRequired,\n  items: PropTypes.array.isRequired,\n  getLogsByPage: PropTypes.func,\n  resetPerPage: PropTypes.func,\n  currentPage: PropTypes.number,\n  perPage: PropTypes.number,\n  pageInfo: PropTypes.object,\n  hasNextPage: PropTypes.bool,\n  getInstitutionUsersByPage: PropTypes.func.isRequired,\n  setAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass Item extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isOpIconShown: false,\n      highlight: false,\n      isSetAdminDialogOpen: false,\n    };\n  }\n\n  handleMouseEnter = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: true,\n        highlight: true\n      });\n    }\n  };\n\n  handleMouseLeave = () => {\n    if (!this.props.isItemFreezed) {\n      this.setState({\n        isOpIconShown: false,\n        highlight: false\n      });\n    }\n  };\n\n  onUnfreezedItem = () => {\n    this.setState({\n      highlight: false,\n      isOpIconShow: false\n    });\n    this.props.onUnfreezedItem();\n  };\n\n  toggleSetAdminDialog = (e) => {\n    if (e) {\n      e.preventDefault();\n    }\n    this.setState({isSetAdminDialogOpen: !this.state.isSetAdminDialogOpen});\n  };\n\n  setAdmin = () => {\n    this.props.setAdmin(this.props.item.email);\n  };\n\n  onMenuItemClick = (operation) => {\n    switch (operation) {\n      case 'Delete':\n        this.props.deleteUser(this.props.item.email);\n        break;\n      case 'Set Admin':\n        this.toggleSetAdminDialog();\n        break;\n    }\n  };\n\n  getOperations = () => {\n    let operations = [];\n    if (!this.props.item.is_institution_admin) {\n      operations.push('Set Admin');\n    }\n    operations.push('Delete');\n    return operations;\n  };\n\n  translateOperations = (item) => {\n    let translateResult = '';\n    switch(item) {\n      case 'Delete':\n        translateResult = gettext('Delete');\n        break;\n      case 'Set Admin':\n        translateResult = gettext('Set Admin');\n        break;\n    }\n\n    return translateResult;\n  };\n\n  render() {\n    const { item } = this.props;\n    const { isOpIconShown, isSetAdminDialogOpen } = this.state;\n\n    const itemName = '<span class=\"op-target\">' + Utils.HTMLescape(item.name) + '</span>';\n    const dialogMsg = gettext('Are you sure you want to set {placeholder} as Admin?').replace('{placeholder}', itemName);\n\n    return (\n      <Fragment>\n        <tr className={this.state.highlight ? 'tr-highlight' : ''} onMouseEnter={this.handleMouseEnter} onMouseLeave={this.handleMouseLeave}>\n          <td>\n            <UserLink email={item.email} name={item.name} />\n          </td>\n          <td>\n            {item.is_active ? gettext('Active') : gettext('Inactive')}\n          </td>\n          <td>{`${Utils.bytesToSize(item.quota_usage)} / ${item.quota_total > 0 ? Utils.bytesToSize(item.quota_total) : '--'}`}</td>\n          <td>\n            {moment(item.create_time).format('YYYY-MM-DD HH:mm:ss')}{' / '}{item.last_login ? moment(item.last_login).fromNow() : '--'}\n          </td>\n          <td>\n            {isOpIconShown &&\n              <OpMenu\n                operations={this.getOperations()}\n                translateOperations={this.translateOperations}\n                onMenuItemClick={this.onMenuItemClick}\n                onFreezedItem={this.props.onFreezedItem}\n                onUnfreezedItem={this.onUnfreezedItem}\n              />\n            }\n          </td>\n        </tr>\n        {isSetAdminDialogOpen &&\n          <CommonOperationConfirmationDialog\n            title={gettext('Set Admin')}\n            message={dialogMsg}\n            executeOperation={this.setAdmin}\n            toggleDialog={this.toggleSetAdminDialog}\n            confirmBtnText={gettext('Set Admin')}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemFreezed: PropTypes.string.isRequired,\n  onUnfreezedItem: PropTypes.func.isRequired,\n  onFreezedItem: PropTypes.func.isRequired,\n  setAdmin: PropTypes.func.isRequired,\n  deleteUser: PropTypes.func.isRequired,\n};\n\nclass InstitutionUsers extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      loading: true,\n      errorMsg: '',\n      institutionName: '',\n      userList: [],\n      perPage: 25,\n      currentPage: 1,\n      hasNextPage: false,\n      isAddUserDialogOpen: false\n    };\n    this.initPage = 1;\n  }\n\n  componentDidMount () {\n    seafileAPI.sysAdminGetInstitution(this.props.institutionID).then((res) => {\n      this.setState({\n        institutionName: res.data.name\n      });\n    });\n\n    let urlParams = (new URL(window.location)).searchParams;\n    const { currentPage, perPage } = this.state;\n    this.setState({\n      perPage: parseInt(urlParams.get('per_page') || perPage),\n      currentPage: parseInt(urlParams.get('page') || currentPage)\n    }, () => {\n      this.getInstitutionUsersByPage(this.state.currentPage);\n    });\n  }\n\n  getInstitutionUsersByPage = (page) => {\n    let { perPage } = this.state;\n    seafileAPI.sysAdminListInstitutionUsers(this.props.institutionID, page, perPage).then((res) => {\n      this.setState({\n        loading: false,\n        userList: res.data.user_list,\n        currentPage: page,\n        hasNextPage: Utils.hasNextPage(page, perPage, res.data.total_count),\n      });\n    }).catch((error) => {\n      this.setState({\n        loading: false,\n        errorMsg: Utils.getErrorMsg(error, true) // true: show login tip if 403\n      });\n    });\n  };\n\n  setAdmin = (email) => {\n    seafileAPI.sysAdminUpdateInstitutionUser(this.props.institutionID, email, true).then(res => {\n      let userList = this.state.userList.map(user => {\n        if (user.email == email) {\n          user.is_institution_admin = true;\n        }\n        return user;\n      });\n      this.setState({userList: userList});\n      toaster.success(gettext('Success'));\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  toggleAddUserDialog = () => {\n    this.setState({isAddUserDialogOpen: !this.state.isAddUserDialogOpen});\n  };\n\n  resetPerPage = (newPerPage) => {\n    this.setState({\n      perPage: newPerPage,\n    }, () => this.getInstitutionUsersByPage(this.initPage));\n  };\n\n  addUser = (emails) => {\n    seafileAPI.sysAdminAddInstitutionUserBatch(this.props.institutionID, emails).then(res => {\n      this.toggleAddUserDialog();\n      let successArray = res.data.success;\n      let failedArray = res.data.failed;\n      if (successArray.length) {\n        let newUserList = this.state.userList.concat(successArray);\n        this.setState({userList: newUserList});\n      }\n      failedArray.forEach((item) => {\n        toaster.danger(item.error_msg);\n      });\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  deleteUser = (email) => {\n    seafileAPI.sysAdminDeleteInstitutionUser(this.props.institutionID, email).then(res => {\n      let newUserList = this.state.userList.filter(user => {\n        return user.email != email;\n      });\n      this.setState({userList: newUserList});\n      toaster.success('success');\n    }).catch((error) => {\n      let errMessage = Utils.getErrorMsg(error);\n      toaster.danger(errMessage);\n    });\n  };\n\n  render() {\n    const { isAddUserDialogOpen, institutionName, hasNextPage, currentPage, perPage } = this.state;\n    return (\n      <Fragment>\n        <MainPanelTopbar {...this.props}>\n          <Button className=\"btn btn-secondary operation-item\" onClick={this.toggleAddUserDialog}>{gettext('Add Member')}</Button>\n        </MainPanelTopbar>\n        <div className=\"main-panel-center flex-row\">\n          <div className=\"cur-view-container\">\n            <InstitutionNav\n              currentItem=\"members\"\n              institutionID={this.props.institutionID}\n              institutionName={institutionName}\n            />\n            <div className=\"cur-view-content\">\n              <Content\n                loading={this.state.loading}\n                errorMsg={this.state.errorMsg}\n                items={this.state.userList}\n                setAdmin={this.setAdmin}\n                deleteUser={this.deleteUser}\n                currentPage={currentPage}\n                perPage={perPage}\n                hasNextPage={hasNextPage}\n                getInstitutionUsersByPage={this.getInstitutionUsersByPage}\n                resetPerPage={this.resetPerPage}\n              />\n            </div>\n          </div>\n        </div>\n        {isAddUserDialogOpen &&\n          <AddMemberDialog\n            addUser={this.addUser}\n            toggle={this.toggleAddUserDialog}\n          />\n        }\n      </Fragment>\n    );\n  }\n}\n\nInstitutionUsers.propTypes = {\n  institutionID: PropTypes.string,\n};\n\nexport default InstitutionUsers;\n"],"mappings":"6tBAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAElD,OAASC,MAAM,KAAQ,YAAY,CACnC,MAAO,CAAAC,MAAM,KAAM,QAAQ,CAC3B,OAASC,KAAK,KAAQ,sBAAsB,CAC5C,OAASC,UAAU,KAAQ,4BAA4B,CACvD,OAASC,OAAO,KAAQ,0BAA0B,CAClD,MAAO,CAAAC,OAAO,KAAM,2BAA2B,CAC/C,MAAO,CAAAC,QAAQ,KAAM,+BAA+B,CACpD,MAAO,CAAAC,OAAO,KAAM,6BAA6B,CACjD,MAAO,CAAAC,SAAS,KAAM,+BAA+B,CACrD,MAAO,CAAAC,MAAM,KAAM,oCAAoC,CACvD,MAAO,CAAAC,eAAe,KAAM,mFAAmF,CAC/G,MAAO,CAAAC,iCAAiC,KAAM,iEAAiE,CAC/G,MAAO,CAAAC,QAAQ,KAAM,cAAc,CACnC,MAAO,CAAAC,eAAe,KAAM,sBAAsB,CAClD,MAAO,CAAAC,cAAc,KAAM,mBAAmB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,4BAEzC,CAAAC,OAAO,uBAAAC,UAAA,EAAAC,SAAA,CAAAF,OAAA,CAAAC,UAAA,MAAAE,MAAA,CAAAC,YAAA,CAAAJ,OAAA,EAEX,SAAAA,QAAYK,KAAK,CAAE,KAAAC,KAAA,CAAAC,eAAA,MAAAP,OAAA,EACjBM,KAAA,CAAAH,MAAA,CAAAK,IAAA,MAAMH,KAAK,EAAEC,KAAA,CAMfG,aAAa,CAAG,UAAM,CACpBH,KAAA,CAAKI,QAAQ,CAAC,CAACC,aAAa,CAAE,IAAI,CAAC,CAAC,CACtC,CAAC,CAAAL,KAAA,CAEDM,eAAe,CAAG,UAAM,CACtBN,KAAA,CAAKI,QAAQ,CAAC,CAACC,aAAa,CAAE,KAAK,CAAC,CAAC,CACvC,CAAC,CAAAL,KAAA,CAEDO,eAAe,CAAG,UAAM,CACtBP,KAAA,CAAKD,KAAK,CAACS,yBAAyB,CAACR,KAAA,CAAKD,KAAK,CAACU,WAAW,CAAG,CAAC,CAAC,CAClE,CAAC,CAAAT,KAAA,CAEDU,WAAW,CAAG,UAAM,CAClBV,KAAA,CAAKD,KAAK,CAACS,yBAAyB,CAACR,KAAA,CAAKD,KAAK,CAACU,WAAW,CAAG,CAAC,CAAC,CAClE,CAAC,CAnBCT,KAAA,CAAKW,KAAK,CAAG,CACXN,aAAa,CAAE,KACjB,CAAC,CAAC,OAAAL,KAAA,CACJ,CAACY,YAAA,CAAAlB,OAAA,GAAAmB,GAAA,UAAAC,KAAA,CAkBD,SAAAC,OAAA,CAAS,KAAAC,MAAA,MACP,IAAAC,WAAA,CAAwE,IAAI,CAAClB,KAAK,CAA1EmB,OAAO,CAAAD,WAAA,CAAPC,OAAO,CAAEC,QAAQ,CAAAF,WAAA,CAARE,QAAQ,CAAEC,KAAK,CAAAH,WAAA,CAALG,KAAK,CAAEC,OAAO,CAAAJ,WAAA,CAAPI,OAAO,CAAEZ,WAAW,CAAAQ,WAAA,CAAXR,WAAW,CAAEa,WAAW,CAAAL,WAAA,CAAXK,WAAW,CACnE,GAAIJ,OAAO,CAAE,CACX,mBAAO3B,IAAA,CAACT,OAAO,GAAE,CAAC,CACpB,CAAC,IAAM,IAAIqC,QAAQ,CAAE,CACnB,mBAAO5B,IAAA,MAAGgC,SAAS,CAAC,wBAAwB,CAAAC,QAAA,CAAEL,QAAQ,CAAI,CAAC,CAC7D,CAAC,IAAM,CACL,GAAM,CAAAM,QAAQ,cACZlC,IAAA,CAACV,QAAQ,EAAA2C,QAAA,cACPjC,IAAA,OAAAiC,QAAA,CAAK7C,OAAO,CAAC,YAAY,CAAC,CAAK,CAAC,CACxB,CACX,CACD,GAAM,CAAA+C,KAAK,cACTjC,KAAA,CAACnB,QAAQ,EAAAkD,QAAA,eACP/B,KAAA,UAAA+B,QAAA,eACEjC,IAAA,UAAAiC,QAAA,cACE/B,KAAA,OAAA+B,QAAA,eACEjC,IAAA,OAAIoC,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAE7C,OAAO,CAAC,MAAM,CAAC,CAAK,CAAC,cACtCY,IAAA,OAAIoC,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAE7C,OAAO,CAAC,QAAQ,CAAC,CAAK,CAAC,cACxCY,IAAA,OAAIoC,KAAK,CAAC,KAAK,CAAAH,QAAA,CAAE7C,OAAO,CAAC,YAAY,CAAC,CAAK,CAAC,cAC5Cc,KAAA,OAAIkC,KAAK,CAAC,KAAK,CAAAH,QAAA,EAAE7C,OAAO,CAAC,YAAY,CAAC,CAAE,KAAK,CAAEA,OAAO,CAAC,YAAY,CAAC,EAAK,CAAC,cAC1EY,IAAA,OAAIoC,KAAK,CAAC,IAAI,CAAuB,CAAC,EACpC,CAAC,CACA,CAAC,cACRpC,IAAA,UAAAiC,QAAA,CACGJ,KAAK,CAACQ,GAAG,CAAC,SAACC,IAAI,CAAEC,KAAK,CAAK,CAC1B,mBAAQvC,IAAA,CAACwC,IAAI,EAEXF,IAAI,CAAEA,IAAK,CACXxB,aAAa,CAAEW,MAAI,CAACL,KAAK,CAACN,aAAc,CACxCF,aAAa,CAAEa,MAAI,CAACb,aAAc,CAClCG,eAAe,CAAEU,MAAI,CAACV,eAAgB,CACtC0B,QAAQ,CAAEhB,MAAI,CAACjB,KAAK,CAACiC,QAAS,CAC9BC,UAAU,CAAEjB,MAAI,CAACjB,KAAK,CAACkC,UAAW,EAN7BH,KAON,CAAC,CACJ,CAAC,CAAC,CACG,CAAC,EACH,CAAC,cACRvC,IAAA,CAACR,SAAS,EACRmD,gBAAgB,CAAE,IAAI,CAAC3B,eAAgB,CACvC4B,YAAY,CAAE,IAAI,CAACzB,WAAY,CAC/BD,WAAW,CAAEA,WAAY,CACzBa,WAAW,CAAEA,WAAY,CACzBc,UAAU,CAAEf,OAAQ,CACpBgB,YAAY,CAAE,IAAI,CAACtC,KAAK,CAACsC,YAAa,CACvC,CAAC,EACM,CACX,CACD,MAAO,CAAAjB,KAAK,CAACkB,MAAM,CAAGZ,KAAK,CAAGD,QAAQ,CACxC,CACF,CAAC,WAAA/B,OAAA,GA3EmBrB,SAAS,KA6FzB,CAAA0D,IAAI,uBAAAQ,WAAA,EAAA3C,SAAA,CAAAmC,IAAA,CAAAQ,WAAA,MAAAC,OAAA,CAAA1C,YAAA,CAAAiC,IAAA,EAER,SAAAA,KAAYhC,KAAK,CAAE,KAAA0C,MAAA,CAAAxC,eAAA,MAAA8B,IAAA,EACjBU,MAAA,CAAAD,OAAA,CAAAtC,IAAA,MAAMH,KAAK,EAAE0C,MAAA,CAQfC,gBAAgB,CAAG,UAAM,CACvB,GAAI,CAACD,MAAA,CAAK1C,KAAK,CAACM,aAAa,CAAE,CAC7BoC,MAAA,CAAKrC,QAAQ,CAAC,CACZuC,aAAa,CAAE,IAAI,CACnBC,SAAS,CAAE,IACb,CAAC,CAAC,CACJ,CACF,CAAC,CAAAH,MAAA,CAEDI,gBAAgB,CAAG,UAAM,CACvB,GAAI,CAACJ,MAAA,CAAK1C,KAAK,CAACM,aAAa,CAAE,CAC7BoC,MAAA,CAAKrC,QAAQ,CAAC,CACZuC,aAAa,CAAE,KAAK,CACpBC,SAAS,CAAE,KACb,CAAC,CAAC,CACJ,CACF,CAAC,CAAAH,MAAA,CAEDnC,eAAe,CAAG,UAAM,CACtBmC,MAAA,CAAKrC,QAAQ,CAAC,CACZwC,SAAS,CAAE,KAAK,CAChBE,YAAY,CAAE,KAChB,CAAC,CAAC,CACFL,MAAA,CAAK1C,KAAK,CAACO,eAAe,CAAC,CAAC,CAC9B,CAAC,CAAAmC,MAAA,CAEDM,oBAAoB,CAAG,SAACC,CAAC,CAAK,CAC5B,GAAIA,CAAC,CAAE,CACLA,CAAC,CAACC,cAAc,CAAC,CAAC,CACpB,CACAR,MAAA,CAAKrC,QAAQ,CAAC,CAAC8C,oBAAoB,CAAE,CAACT,MAAA,CAAK9B,KAAK,CAACuC,oBAAoB,CAAC,CAAC,CACzE,CAAC,CAAAT,MAAA,CAEDT,QAAQ,CAAG,UAAM,CACfS,MAAA,CAAK1C,KAAK,CAACiC,QAAQ,CAACS,MAAA,CAAK1C,KAAK,CAAC8B,IAAI,CAACsB,KAAK,CAAC,CAC5C,CAAC,CAAAV,MAAA,CAEDW,eAAe,CAAG,SAACC,SAAS,CAAK,CAC/B,OAAQA,SAAS,EACf,IAAK,QAAQ,CACXZ,MAAA,CAAK1C,KAAK,CAACkC,UAAU,CAACQ,MAAA,CAAK1C,KAAK,CAAC8B,IAAI,CAACsB,KAAK,CAAC,CAC5C,MACF,IAAK,WAAW,CACdV,MAAA,CAAKM,oBAAoB,CAAC,CAAC,CAC3B,MACJ,CACF,CAAC,CAAAN,MAAA,CAEDa,aAAa,CAAG,UAAM,CACpB,GAAI,CAAAC,UAAU,CAAG,EAAE,CACnB,GAAI,CAACd,MAAA,CAAK1C,KAAK,CAAC8B,IAAI,CAAC2B,oBAAoB,CAAE,CACzCD,UAAU,CAACE,IAAI,CAAC,WAAW,CAAC,CAC9B,CACAF,UAAU,CAACE,IAAI,CAAC,QAAQ,CAAC,CACzB,MAAO,CAAAF,UAAU,CACnB,CAAC,CAAAd,MAAA,CAEDiB,mBAAmB,CAAG,SAAC7B,IAAI,CAAK,CAC9B,GAAI,CAAA8B,eAAe,CAAG,EAAE,CACxB,OAAO9B,IAAI,EACT,IAAK,QAAQ,CACX8B,eAAe,CAAGhF,OAAO,CAAC,QAAQ,CAAC,CACnC,MACF,IAAK,WAAW,CACdgF,eAAe,CAAGhF,OAAO,CAAC,WAAW,CAAC,CACtC,MACJ,CAEA,MAAO,CAAAgF,eAAe,CACxB,CAAC,CA5EClB,MAAA,CAAK9B,KAAK,CAAG,CACXgC,aAAa,CAAE,KAAK,CACpBC,SAAS,CAAE,KAAK,CAChBM,oBAAoB,CAAE,KACxB,CAAC,CAAC,OAAAT,MAAA,CACJ,CAAC7B,YAAA,CAAAmB,IAAA,GAAAlB,GAAA,UAAAC,KAAA,CAyED,SAAAC,OAAA,CAAS,CACP,GAAQ,CAAAc,IAAI,CAAK,IAAI,CAAC9B,KAAK,CAAnB8B,IAAI,CACZ,IAAA+B,WAAA,CAAgD,IAAI,CAACjD,KAAK,CAAlDgC,aAAa,CAAAiB,WAAA,CAAbjB,aAAa,CAAEO,oBAAoB,CAAAU,WAAA,CAApBV,oBAAoB,CAE3C,GAAM,CAAAW,QAAQ,CAAG,0BAA0B,CAAGpF,KAAK,CAACqF,UAAU,CAACjC,IAAI,CAACkC,IAAI,CAAC,CAAG,SAAS,CACrF,GAAM,CAAAC,SAAS,CAAGrF,OAAO,CAAC,sDAAsD,CAAC,CAACsF,OAAO,CAAC,eAAe,CAAEJ,QAAQ,CAAC,CAEpH,mBACEpE,KAAA,CAACnB,QAAQ,EAAAkD,QAAA,eACP/B,KAAA,OAAI8B,SAAS,CAAE,IAAI,CAACZ,KAAK,CAACiC,SAAS,CAAG,cAAc,CAAG,EAAG,CAACsB,YAAY,CAAE,IAAI,CAACxB,gBAAiB,CAACyB,YAAY,CAAE,IAAI,CAACtB,gBAAiB,CAAArB,QAAA,eAClIjC,IAAA,OAAAiC,QAAA,cACEjC,IAAA,CAACJ,QAAQ,EAACgE,KAAK,CAAEtB,IAAI,CAACsB,KAAM,CAACY,IAAI,CAAElC,IAAI,CAACkC,IAAK,CAAE,CAAC,CAC9C,CAAC,cACLxE,IAAA,OAAAiC,QAAA,CACGK,IAAI,CAACuC,SAAS,CAAGzF,OAAO,CAAC,QAAQ,CAAC,CAAGA,OAAO,CAAC,UAAU,CAAC,CACvD,CAAC,cACLY,IAAA,OAAAiC,QAAA,IAAA6C,MAAA,CAAQ5F,KAAK,CAAC6F,WAAW,CAACzC,IAAI,CAAC0C,WAAW,CAAC,QAAAF,MAAA,CAAMxC,IAAI,CAAC2C,WAAW,CAAG,CAAC,CAAG/F,KAAK,CAAC6F,WAAW,CAACzC,IAAI,CAAC2C,WAAW,CAAC,CAAG,IAAI,EAAO,CAAC,cAC1H/E,KAAA,OAAA+B,QAAA,EACGhD,MAAM,CAACqD,IAAI,CAAC4C,WAAW,CAAC,CAACC,MAAM,CAAC,qBAAqB,CAAC,CAAE,KAAK,CAAE7C,IAAI,CAAC8C,UAAU,CAAGnG,MAAM,CAACqD,IAAI,CAAC8C,UAAU,CAAC,CAACC,OAAO,CAAC,CAAC,CAAG,IAAI,EACxH,CAAC,cACLrF,IAAA,OAAAiC,QAAA,CACGmB,aAAa,eACZpD,IAAA,CAACP,MAAM,EACLuE,UAAU,CAAE,IAAI,CAACD,aAAa,CAAC,CAAE,CACjCI,mBAAmB,CAAE,IAAI,CAACA,mBAAoB,CAC9CN,eAAe,CAAE,IAAI,CAACA,eAAgB,CACtCjD,aAAa,CAAE,IAAI,CAACJ,KAAK,CAACI,aAAc,CACxCG,eAAe,CAAE,IAAI,CAACA,eAAgB,CACvC,CAAC,CAEF,CAAC,EACH,CAAC,CACJ4C,oBAAoB,eACnB3D,IAAA,CAACL,iCAAiC,EAChC2F,KAAK,CAAElG,OAAO,CAAC,WAAW,CAAE,CAC5BmG,OAAO,CAAEd,SAAU,CACnBe,gBAAgB,CAAE,IAAI,CAAC/C,QAAS,CAChCgD,YAAY,CAAE,IAAI,CAACjC,oBAAqB,CACxCkC,cAAc,CAAEtG,OAAO,CAAC,WAAW,CAAE,CACtC,CAAC,EAEI,CAAC,CAEf,CAAC,WAAAoD,IAAA,GA7HgB1D,SAAS,KAyItB,CAAA6G,gBAAgB,uBAAAC,WAAA,EAAAvF,SAAA,CAAAsF,gBAAA,CAAAC,WAAA,MAAAC,OAAA,CAAAtF,YAAA,CAAAoF,gBAAA,EAEpB,SAAAA,iBAAYnF,KAAK,CAAE,KAAAsF,MAAA,CAAApF,eAAA,MAAAiF,gBAAA,EACjBG,MAAA,CAAAD,OAAA,CAAAlF,IAAA,MAAMH,KAAK,EAAEsF,MAAA,CA+Bf7E,yBAAyB,CAAG,SAAC8E,IAAI,CAAK,CACpC,GAAM,CAAAjE,OAAO,CAAKgE,MAAA,CAAK1E,KAAK,CAAtBU,OAAO,CACb3C,UAAU,CAAC6G,4BAA4B,CAACF,MAAA,CAAKtF,KAAK,CAACyF,aAAa,CAAEF,IAAI,CAAEjE,OAAO,CAAC,CAACoE,IAAI,CAAC,SAACC,GAAG,CAAK,CAC7FL,MAAA,CAAKjF,QAAQ,CAAC,CACZc,OAAO,CAAE,KAAK,CACdyE,QAAQ,CAAED,GAAG,CAACE,IAAI,CAACC,SAAS,CAC5BpF,WAAW,CAAE6E,IAAI,CACjBhE,WAAW,CAAE7C,KAAK,CAAC6C,WAAW,CAACgE,IAAI,CAAEjE,OAAO,CAAEqE,GAAG,CAACE,IAAI,CAACE,WAAW,CACpE,CAAC,CAAC,CACJ,CAAC,CAAC,CAACC,KAAK,CAAC,SAACC,KAAK,CAAK,CAClBX,MAAA,CAAKjF,QAAQ,CAAC,CACZc,OAAO,CAAE,KAAK,CACdC,QAAQ,CAAE1C,KAAK,CAACwH,WAAW,CAACD,KAAK,CAAE,IAAI,CAAE;AAC3C,CAAC,CAAC,CACJ,CAAC,CAAC,CACJ,CAAC,CAAAX,MAAA,CAEDrD,QAAQ,CAAG,SAACmB,KAAK,CAAK,CACpBzE,UAAU,CAACwH,6BAA6B,CAACb,MAAA,CAAKtF,KAAK,CAACyF,aAAa,CAAErC,KAAK,CAAE,IAAI,CAAC,CAACsC,IAAI,CAAC,SAAAC,GAAG,CAAI,CAC1F,GAAI,CAAAC,QAAQ,CAAGN,MAAA,CAAK1E,KAAK,CAACgF,QAAQ,CAAC/D,GAAG,CAAC,SAAAuE,IAAI,CAAI,CAC7C,GAAIA,IAAI,CAAChD,KAAK,EAAIA,KAAK,CAAE,CACvBgD,IAAI,CAAC3C,oBAAoB,CAAG,IAAI,CAClC,CACA,MAAO,CAAA2C,IAAI,CACb,CAAC,CAAC,CACFd,MAAA,CAAKjF,QAAQ,CAAC,CAACuF,QAAQ,CAAEA,QAAQ,CAAC,CAAC,CACnC/G,OAAO,CAACwH,OAAO,CAACzH,OAAO,CAAC,SAAS,CAAC,CAAC,CACrC,CAAC,CAAC,CAACoH,KAAK,CAAC,SAACC,KAAK,CAAK,CAClB,GAAI,CAAAK,UAAU,CAAG5H,KAAK,CAACwH,WAAW,CAACD,KAAK,CAAC,CACzCpH,OAAO,CAAC0H,MAAM,CAACD,UAAU,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAAhB,MAAA,CAEDkB,mBAAmB,CAAG,UAAM,CAC1BlB,MAAA,CAAKjF,QAAQ,CAAC,CAACoG,mBAAmB,CAAE,CAACnB,MAAA,CAAK1E,KAAK,CAAC6F,mBAAmB,CAAC,CAAC,CACvE,CAAC,CAAAnB,MAAA,CAEDhD,YAAY,CAAG,SAACoE,UAAU,CAAK,CAC7BpB,MAAA,CAAKjF,QAAQ,CAAC,CACZiB,OAAO,CAAEoF,UACX,CAAC,CAAE,iBAAM,CAAApB,MAAA,CAAK7E,yBAAyB,CAAC6E,MAAA,CAAKqB,QAAQ,CAAC,GAAC,CACzD,CAAC,CAAArB,MAAA,CAEDsB,OAAO,CAAG,SAACC,MAAM,CAAK,CACpBlI,UAAU,CAACmI,+BAA+B,CAACxB,MAAA,CAAKtF,KAAK,CAACyF,aAAa,CAAEoB,MAAM,CAAC,CAACnB,IAAI,CAAC,SAAAC,GAAG,CAAI,CACvFL,MAAA,CAAKkB,mBAAmB,CAAC,CAAC,CAC1B,GAAI,CAAAO,YAAY,CAAGpB,GAAG,CAACE,IAAI,CAACQ,OAAO,CACnC,GAAI,CAAAW,WAAW,CAAGrB,GAAG,CAACE,IAAI,CAACoB,MAAM,CACjC,GAAIF,YAAY,CAACxE,MAAM,CAAE,CACvB,GAAI,CAAA2E,WAAW,CAAG5B,MAAA,CAAK1E,KAAK,CAACgF,QAAQ,CAACtB,MAAM,CAACyC,YAAY,CAAC,CAC1DzB,MAAA,CAAKjF,QAAQ,CAAC,CAACuF,QAAQ,CAAEsB,WAAW,CAAC,CAAC,CACxC,CACAF,WAAW,CAACG,OAAO,CAAC,SAACrF,IAAI,CAAK,CAC5BjD,OAAO,CAAC0H,MAAM,CAACzE,IAAI,CAACsF,SAAS,CAAC,CAChC,CAAC,CAAC,CACJ,CAAC,CAAC,CAACpB,KAAK,CAAC,SAACC,KAAK,CAAK,CAClB,GAAI,CAAAK,UAAU,CAAG5H,KAAK,CAACwH,WAAW,CAACD,KAAK,CAAC,CACzCpH,OAAO,CAAC0H,MAAM,CAACD,UAAU,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAAAhB,MAAA,CAEDpD,UAAU,CAAG,SAACkB,KAAK,CAAK,CACtBzE,UAAU,CAAC0I,6BAA6B,CAAC/B,MAAA,CAAKtF,KAAK,CAACyF,aAAa,CAAErC,KAAK,CAAC,CAACsC,IAAI,CAAC,SAAAC,GAAG,CAAI,CACpF,GAAI,CAAAuB,WAAW,CAAG5B,MAAA,CAAK1E,KAAK,CAACgF,QAAQ,CAAC0B,MAAM,CAAC,SAAAlB,IAAI,CAAI,CACnD,MAAO,CAAAA,IAAI,CAAChD,KAAK,EAAIA,KAAK,CAC5B,CAAC,CAAC,CACFkC,MAAA,CAAKjF,QAAQ,CAAC,CAACuF,QAAQ,CAAEsB,WAAW,CAAC,CAAC,CACtCrI,OAAO,CAACwH,OAAO,CAAC,SAAS,CAAC,CAC5B,CAAC,CAAC,CAACL,KAAK,CAAC,SAACC,KAAK,CAAK,CAClB,GAAI,CAAAK,UAAU,CAAG5H,KAAK,CAACwH,WAAW,CAACD,KAAK,CAAC,CACzCpH,OAAO,CAAC0H,MAAM,CAACD,UAAU,CAAC,CAC5B,CAAC,CAAC,CACJ,CAAC,CAtGChB,MAAA,CAAK1E,KAAK,CAAG,CACXO,OAAO,CAAE,IAAI,CACbC,QAAQ,CAAE,EAAE,CACZmG,eAAe,CAAE,EAAE,CACnB3B,QAAQ,CAAE,EAAE,CACZtE,OAAO,CAAE,EAAE,CACXZ,WAAW,CAAE,CAAC,CACda,WAAW,CAAE,KAAK,CAClBkF,mBAAmB,CAAE,KACvB,CAAC,CACDnB,MAAA,CAAKqB,QAAQ,CAAG,CAAC,CAAC,OAAArB,MAAA,CACpB,CAACzE,YAAA,CAAAsE,gBAAA,GAAArE,GAAA,qBAAAC,KAAA,CAED,SAAAyG,kBAAA,CAAqB,KAAAC,MAAA,MACnB9I,UAAU,CAAC+I,sBAAsB,CAAC,IAAI,CAAC1H,KAAK,CAACyF,aAAa,CAAC,CAACC,IAAI,CAAC,SAACC,GAAG,CAAK,CACxE8B,MAAI,CAACpH,QAAQ,CAAC,CACZkH,eAAe,CAAE5B,GAAG,CAACE,IAAI,CAAC7B,IAC5B,CAAC,CAAC,CACJ,CAAC,CAAC,CAEF,GAAI,CAAA2D,SAAS,CAAI,GAAI,CAAAC,GAAG,CAACC,MAAM,CAACC,QAAQ,CAAC,CAAEC,YAAY,CACvD,IAAAC,YAAA,CAAiC,IAAI,CAACpH,KAAK,CAAnCF,WAAW,CAAAsH,YAAA,CAAXtH,WAAW,CAAEY,OAAO,CAAA0G,YAAA,CAAP1G,OAAO,CAC5B,IAAI,CAACjB,QAAQ,CAAC,CACZiB,OAAO,CAAE2G,QAAQ,CAACN,SAAS,CAACO,GAAG,CAAC,UAAU,CAAC,EAAI5G,OAAO,CAAC,CACvDZ,WAAW,CAAEuH,QAAQ,CAACN,SAAS,CAACO,GAAG,CAAC,MAAM,CAAC,EAAIxH,WAAW,CAC5D,CAAC,CAAE,UAAM,CACP+G,MAAI,CAAChH,yBAAyB,CAACgH,MAAI,CAAC7G,KAAK,CAACF,WAAW,CAAC,CACxD,CAAC,CAAC,CACJ,CAAC,GAAAI,GAAA,UAAAC,KAAA,CA4ED,SAAAC,OAAA,CAAS,CACP,IAAAmH,YAAA,CAAoF,IAAI,CAACvH,KAAK,CAAtF6F,mBAAmB,CAAA0B,YAAA,CAAnB1B,mBAAmB,CAAEc,eAAe,CAAAY,YAAA,CAAfZ,eAAe,CAAEhG,WAAW,CAAA4G,YAAA,CAAX5G,WAAW,CAAEb,WAAW,CAAAyH,YAAA,CAAXzH,WAAW,CAAEY,OAAO,CAAA6G,YAAA,CAAP7G,OAAO,CAC/E,mBACE5B,KAAA,CAACnB,QAAQ,EAAAkD,QAAA,eACPjC,IAAA,CAACH,eAAe,CAAA+I,aAAA,CAAAA,aAAA,IAAK,IAAI,CAACpI,KAAK,MAAAyB,QAAA,cAC7BjC,IAAA,CAAChB,MAAM,EAACgD,SAAS,CAAC,kCAAkC,CAAC6G,OAAO,CAAE,IAAI,CAAC7B,mBAAoB,CAAA/E,QAAA,CAAE7C,OAAO,CAAC,YAAY,CAAC,CAAS,CAAC,EACzG,CAAC,cAClBY,IAAA,QAAKgC,SAAS,CAAC,4BAA4B,CAAAC,QAAA,cACzC/B,KAAA,QAAK8B,SAAS,CAAC,oBAAoB,CAAAC,QAAA,eACjCjC,IAAA,CAACF,cAAc,EACbgJ,WAAW,CAAC,SAAS,CACrB7C,aAAa,CAAE,IAAI,CAACzF,KAAK,CAACyF,aAAc,CACxC8B,eAAe,CAAEA,eAAgB,CAClC,CAAC,cACF/H,IAAA,QAAKgC,SAAS,CAAC,kBAAkB,CAAAC,QAAA,cAC/BjC,IAAA,CAACG,OAAO,EACNwB,OAAO,CAAE,IAAI,CAACP,KAAK,CAACO,OAAQ,CAC5BC,QAAQ,CAAE,IAAI,CAACR,KAAK,CAACQ,QAAS,CAC9BC,KAAK,CAAE,IAAI,CAACT,KAAK,CAACgF,QAAS,CAC3B3D,QAAQ,CAAE,IAAI,CAACA,QAAS,CACxBC,UAAU,CAAE,IAAI,CAACA,UAAW,CAC5BxB,WAAW,CAAEA,WAAY,CACzBY,OAAO,CAAEA,OAAQ,CACjBC,WAAW,CAAEA,WAAY,CACzBd,yBAAyB,CAAE,IAAI,CAACA,yBAA0B,CAC1D6B,YAAY,CAAE,IAAI,CAACA,YAAa,CACjC,CAAC,CACC,CAAC,EACH,CAAC,CACH,CAAC,CACLmE,mBAAmB,eAClBjH,IAAA,CAACN,eAAe,EACd0H,OAAO,CAAE,IAAI,CAACA,OAAQ,CACtB2B,MAAM,CAAE,IAAI,CAAC/B,mBAAoB,CAClC,CAAC,EAEI,CAAC,CAEf,CAAC,WAAArB,gBAAA,GAlJ4B7G,SAAS,EAyJxC,cAAe,CAAA6G,gBAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}