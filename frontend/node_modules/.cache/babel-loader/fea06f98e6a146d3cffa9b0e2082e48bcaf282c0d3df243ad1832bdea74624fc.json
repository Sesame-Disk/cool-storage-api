{"ast":null,"code":"import _classCallCheck from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";import _createClass from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createClass.js\";import _inherits from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/inherits.js\";import _createSuper from\"/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/node_modules/@babel/runtime/helpers/esm/createSuper.js\";import React,{Component}from'react';import'../css/single-selector.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Selector=/*#__PURE__*/function(_Component){_inherits(Selector,_Component);var _super=_createSuper(Selector);function Selector(props){var _this;_classCallCheck(this,Selector);_this=_super.call(this,props);_this.handleOutsideClick=function(e){var isPopoverOpen=_this.state.isPopoverOpen;if(isPopoverOpen&&!_this.selector.contains(e.target)){_this.togglePopover();}};_this.togglePopover=function(){_this.setState({isPopoverOpen:!_this.state.isPopoverOpen},function(){if(_this.props.toggleItemFreezed){_this.props.toggleItemFreezed(_this.state.isPopoverOpen);}});};_this.onToggleClick=function(e){e.stopPropagation();_this.togglePopover();};_this.selectItem=function(e,targetItem){e.stopPropagation();if(_this.props.operationBeforeSelect){_this.props.operationBeforeSelect();}else{_this.props.selectOption(targetItem);}_this.togglePopover();};_this.state={isPopoverOpen:false};return _this;}_createClass(Selector,[{key:\"componentDidMount\",value:function componentDidMount(){document.addEventListener('click',this.handleOutsideClick);}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){document.removeEventListener('click',this.handleOutsideClick);}},{key:\"render\",value:function render(){var _this2=this;var isPopoverOpen=this.state.isPopoverOpen;var _this$props=this.props,currentSelectedOption=_this$props.currentSelectedOption,options=_this$props.options,isDropdownToggleShown=_this$props.isDropdownToggleShown;return/*#__PURE__*/_jsxs(\"div\",{className:\"sf-single-selector position-relative\",children:[/*#__PURE__*/_jsxs(\"span\",{className:\"cur-option\",onClick:this.onToggleClick,children:[currentSelectedOption?currentSelectedOption.text:'',isDropdownToggleShown&&/*#__PURE__*/_jsx(\"i\",{className:\"fas fa-caret-down ml-2 toggle-icon\"})]}),isPopoverOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"options-container position-absolute rounded shadow mt-1\",ref:function ref(_ref){return _this2.selector=_ref;},children:/*#__PURE__*/_jsx(\"ul\",{className:\"option-list list-unstyled py-3 o-auto\",children:options.map(function(item,index){return/*#__PURE__*/_jsxs(\"li\",{className:\"option-item h-6 py-1 px-3 d-flex justify-content-between align-items-center\",onClick:function onClick(e){_this2.selectItem(e,item);},children:[/*#__PURE__*/_jsx(\"span\",{className:\"option-item-text flex-shrink-0 mr-3\",children:item.text}),/*#__PURE__*/_jsx(\"i\",{className:\"sf2-icon-tick text-gray font-weight-bold \".concat(item.isSelected?'':'invisible')})]},index);})})})]});}}]);return Selector;}(Component);export default Selector;","map":{"version":3,"names":["React","Component","jsx","_jsx","jsxs","_jsxs","Selector","_Component","_inherits","_super","_createSuper","props","_this","_classCallCheck","call","handleOutsideClick","e","isPopoverOpen","state","selector","contains","target","togglePopover","setState","toggleItemFreezed","onToggleClick","stopPropagation","selectItem","targetItem","operationBeforeSelect","selectOption","_createClass","key","value","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","render","_this2","_this$props","currentSelectedOption","options","isDropdownToggleShown","className","children","onClick","text","ref","map","item","index","concat","isSelected"],"sources":["/Users/abel/Documents/Code-Experiments/cool-storage-api/frontend/src/components/single-selector.js"],"sourcesContent":["import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport '../css/single-selector.css';\n\nconst propTypes = {\n  isDropdownToggleShown: PropTypes.bool.isRequired,\n  currentSelectedOption: PropTypes.object,\n  options: PropTypes.array.isRequired,\n  selectOption: PropTypes.func.isRequired,\n  operationBeforeSelect: PropTypes.func,\n  toggleItemFreezed: PropTypes.func\n};\n\nclass Selector extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      isPopoverOpen: false\n    };\n  }\n\n  componentDidMount() {\n    document.addEventListener('click', this.handleOutsideClick);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('click', this.handleOutsideClick);\n  }\n\n  handleOutsideClick = (e) => {\n    const { isPopoverOpen } = this.state;\n    if (isPopoverOpen && !this.selector.contains(e.target)) {\n      this.togglePopover();\n    }\n  };\n\n  togglePopover = () => {\n    this.setState({\n      isPopoverOpen: !this.state.isPopoverOpen\n    }, () => {\n      if (this.props.toggleItemFreezed) {\n        this.props.toggleItemFreezed(this.state.isPopoverOpen);\n      }\n    });\n  };\n\n  onToggleClick = (e) => {\n    e.stopPropagation();\n    this.togglePopover();\n  };\n\n  selectItem = (e, targetItem) => {\n    e.stopPropagation();\n    if (this.props.operationBeforeSelect) {\n      this.props.operationBeforeSelect();\n    } else {\n      this.props.selectOption(targetItem);\n    }\n    this.togglePopover();\n  };\n\n  render() {\n    const { isPopoverOpen } = this.state;\n    const { currentSelectedOption, options, isDropdownToggleShown } = this.props;\n    return (\n      <div className=\"sf-single-selector position-relative\">\n        <span className=\"cur-option\" onClick={this.onToggleClick}>\n          {currentSelectedOption ? currentSelectedOption.text : ''}\n          {isDropdownToggleShown && <i className=\"fas fa-caret-down ml-2 toggle-icon\"></i>}\n        </span>\n        {isPopoverOpen && (\n          <div className=\"options-container position-absolute rounded shadow mt-1\" ref={ref => this.selector = ref}>\n            <ul className=\"option-list list-unstyled py-3 o-auto\">\n              {options.map((item, index) => {\n                return (\n                  <li key={index} className=\"option-item h-6 py-1 px-3 d-flex justify-content-between align-items-center\" onClick={(e) => {this.selectItem(e, item);}}>\n                    <span className=\"option-item-text flex-shrink-0 mr-3\">{item.text}</span>\n                    <i className={`sf2-icon-tick text-gray font-weight-bold ${item.isSelected ? '' : 'invisible'}`}></i>\n                  </li>\n                );\n              })}\n            </ul>\n          </div>\n        )}\n      </div>\n    );\n  }\n}\n\nSelector.propTypes = propTypes;\n\nexport default Selector;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}